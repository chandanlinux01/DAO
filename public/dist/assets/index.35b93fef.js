function _mergeNamespaces(et,_e){for(var tt=0;tt<_e.length;tt++){const rt=_e[tt];if(typeof rt!="string"&&!Array.isArray(rt)){for(const nt in rt)if(nt!=="default"&&!(nt in et)){const it=Object.getOwnPropertyDescriptor(rt,nt);it&&Object.defineProperty(et,nt,it.get?it:{enumerable:!0,get:()=>rt[nt]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))rt(nt);new MutationObserver(nt=>{for(const it of nt)if(it.type==="childList")for(const at of it.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&rt(at)}).observe(document,{childList:!0,subtree:!0});function tt(nt){const it={};return nt.integrity&&(it.integrity=nt.integrity),nt.referrerpolicy&&(it.referrerPolicy=nt.referrerpolicy),nt.crossorigin==="use-credentials"?it.credentials="include":nt.crossorigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function rt(nt){if(nt.ep)return;nt.ep=!0;const it=tt(nt);fetch(nt.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}function getAugmentedNamespace(et){var _e=et.default;if(typeof _e=="function"){var tt=function(){return _e.apply(this,arguments)};tt.prototype=_e.prototype}else tt={};return Object.defineProperty(tt,"__esModule",{value:!0}),Object.keys(et).forEach(function(rt){var nt=Object.getOwnPropertyDescriptor(et,rt);Object.defineProperty(tt,rt,nt.get?nt:{enumerable:!0,get:function(){return et[rt]}})}),tt}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$7=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$9=Symbol.for("react.fragment"),q$7=Symbol.for("react.strict_mode"),r$9=Symbol.for("react.profiler"),t$7=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$6=Symbol.for("react.suspense"),x$6=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$6=Symbol.iterator;function A$7(et){return et===null||typeof et!="object"?null:(et=z$6&&et[z$6]||et["@@iterator"],typeof et=="function"?et:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$4=Object.assign,D$4={};function E$4(et,_e,tt){this.props=et,this.context=_e,this.refs=D$4,this.updater=tt||B$3}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(et,_e){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,_e,"setState")};E$4.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$3(){}F$3.prototype=E$4.prototype;function G$2(et,_e,tt){this.props=et,this.context=_e,this.refs=D$4,this.updater=tt||B$3}var H$4=G$2.prototype=new F$3;H$4.constructor=G$2;C$4(H$4,E$4.prototype);H$4.isPureReactComponent=!0;var I$4=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$3={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$4(et,_e,tt){var rt,nt={},it=null,at=null;if(_e!=null)for(rt in _e.ref!==void 0&&(at=_e.ref),_e.key!==void 0&&(it=""+_e.key),_e)J$1.call(_e,rt)&&!L$4.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);var ot=arguments.length-2;if(ot===1)nt.children=tt;else if(1<ot){for(var ct=Array(ot),ut=0;ut<ot;ut++)ct[ut]=arguments[ut+2];nt.children=ct}if(et&&et.defaultProps)for(rt in ot=et.defaultProps,ot)nt[rt]===void 0&&(nt[rt]=ot[rt]);return{$$typeof:l$7,type:et,key:it,ref:at,props:nt,_owner:K$3.current}}function N$5(et,_e){return{$$typeof:l$7,type:et.type,key:_e,ref:et.ref,props:et.props,_owner:et._owner}}function O$3(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$7}function escape$1(et){var _e={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(tt){return _e[tt]})}var P$4=/\/+/g;function Q$2(et,_e){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):_e.toString(36)}function R$4(et,_e,tt,rt,nt){var it=typeof et;(it==="undefined"||it==="boolean")&&(et=null);var at=!1;if(et===null)at=!0;else switch(it){case"string":case"number":at=!0;break;case"object":switch(et.$$typeof){case l$7:case n$6:at=!0}}if(at)return at=et,nt=nt(at),et=rt===""?"."+Q$2(at,0):rt,I$4(nt)?(tt="",et!=null&&(tt=et.replace(P$4,"$&/")+"/"),R$4(nt,_e,tt,"",function(ut){return ut})):nt!=null&&(O$3(nt)&&(nt=N$5(nt,tt+(!nt.key||at&&at.key===nt.key?"":(""+nt.key).replace(P$4,"$&/")+"/")+et)),_e.push(nt)),1;if(at=0,rt=rt===""?".":rt+":",I$4(et))for(var ot=0;ot<et.length;ot++){it=et[ot];var ct=rt+Q$2(it,ot);at+=R$4(it,_e,tt,ct,nt)}else if(ct=A$7(et),typeof ct=="function")for(et=ct.call(et),ot=0;!(it=et.next()).done;)it=it.value,ct=rt+Q$2(it,ot++),at+=R$4(it,_e,tt,ct,nt);else if(it==="object")throw _e=String(et),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return at}function S$3(et,_e,tt){if(et==null)return et;var rt=[],nt=0;return R$4(et,rt,"","",function(it){return _e.call(tt,it,nt++)}),rt}function T$6(et){if(et._status===-1){var _e=et._result;_e=_e(),_e.then(function(tt){(et._status===0||et._status===-1)&&(et._status=1,et._result=tt)},function(tt){(et._status===0||et._status===-1)&&(et._status=2,et._result=tt)}),et._status===-1&&(et._status=0,et._result=_e)}if(et._status===1)return et._result.default;throw et._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(et,_e,tt){S$3(et,function(){_e.apply(this,arguments)},tt)},count:function(et){var _e=0;return S$3(et,function(){_e++}),_e},toArray:function(et){return S$3(et,function(_e){return _e})||[]},only:function(et){if(!O$3(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$4;react_production_min.Fragment=p$9;react_production_min.Profiler=r$9;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$7;react_production_min.Suspense=w$6;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(et,_e,tt){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var rt=C$4({},et.props),nt=et.key,it=et.ref,at=et._owner;if(_e!=null){if(_e.ref!==void 0&&(it=_e.ref,at=K$3.current),_e.key!==void 0&&(nt=""+_e.key),et.type&&et.type.defaultProps)var ot=et.type.defaultProps;for(ct in _e)J$1.call(_e,ct)&&!L$4.hasOwnProperty(ct)&&(rt[ct]=_e[ct]===void 0&&ot!==void 0?ot[ct]:_e[ct])}var ct=arguments.length-2;if(ct===1)rt.children=tt;else if(1<ct){ot=Array(ct);for(var ut=0;ut<ct;ut++)ot[ut]=arguments[ut+2];rt.children=ot}return{$$typeof:l$7,type:et.type,key:nt,ref:it,props:rt,_owner:at}};react_production_min.createContext=function(et){return et={$$typeof:u$6,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$7,_context:et},et.Consumer=et};react_production_min.createElement=M$4;react_production_min.createFactory=function(et){var _e=M$4.bind(null,et);return _e.type=et,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$6,render:et}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(et){return{$$typeof:y$5,_payload:{_status:-1,_result:et},_init:T$6}};react_production_min.memo=function(et,_e){return{$$typeof:x$6,type:et,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(et){var _e=V$2.transition;V$2.transition={};try{et()}finally{V$2.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(et,_e){return U$2.current.useCallback(et,_e)};react_production_min.useContext=function(et){return U$2.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$2.current.useDeferredValue(et)};react_production_min.useEffect=function(et,_e){return U$2.current.useEffect(et,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(et,_e,tt){return U$2.current.useImperativeHandle(et,_e,tt)};react_production_min.useInsertionEffect=function(et,_e){return U$2.current.useInsertionEffect(et,_e)};react_production_min.useLayoutEffect=function(et,_e){return U$2.current.useLayoutEffect(et,_e)};react_production_min.useMemo=function(et,_e){return U$2.current.useMemo(et,_e)};react_production_min.useReducer=function(et,_e,tt){return U$2.current.useReducer(et,_e,tt)};react_production_min.useRef=function(et){return U$2.current.useRef(et)};react_production_min.useState=function(et){return U$2.current.useState(et)};react_production_min.useSyncExternalStore=function(et,_e,tt){return U$2.current.useSyncExternalStore(et,_e,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(et){et.exports=react_production_min})(react);const React$1=getDefaultExportFromCjs(react.exports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[react.exports]);var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function _e(xt,vt){var Mt=xt.length;xt.push(vt);e:for(;0<Mt;){var gt=Mt-1>>>1,lt=xt[gt];if(0<nt(lt,vt))xt[gt]=vt,xt[Mt]=lt,Mt=gt;else break e}}function tt(xt){return xt.length===0?null:xt[0]}function rt(xt){if(xt.length===0)return null;var vt=xt[0],Mt=xt.pop();if(Mt!==vt){xt[0]=Mt;e:for(var gt=0,lt=xt.length,wt=lt>>>1;gt<wt;){var jt=2*(gt+1)-1,It=xt[jt],Wt=jt+1,Qt=xt[Wt];if(0>nt(It,Mt))Wt<lt&&0>nt(Qt,It)?(xt[gt]=Qt,xt[Wt]=Mt,gt=Wt):(xt[gt]=It,xt[jt]=Mt,gt=jt);else if(Wt<lt&&0>nt(Qt,Mt))xt[gt]=Qt,xt[Wt]=Mt,gt=Wt;else break e}}return vt}function nt(xt,vt){var Mt=xt.sortIndex-vt.sortIndex;return Mt!==0?Mt:xt.id-vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;et.unstable_now=function(){return it.now()}}else{var at=Date,ot=at.now();et.unstable_now=function(){return at.now()-ot}}var ct=[],ut=[],ft=1,yt=null,bt=3,Et=!1,Ct=!1,At=!1,St=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function kt(xt){for(var vt=tt(ut);vt!==null;){if(vt.callback===null)rt(ut);else if(vt.startTime<=xt)rt(ut),vt.sortIndex=vt.expirationTime,_e(ct,vt);else break;vt=tt(ut)}}function Pt(xt){if(At=!1,kt(xt),!Ct)if(tt(ct)!==null)Ct=!0,mt(Ot);else{var vt=tt(ut);vt!==null&&_t(Pt,vt.startTime-xt)}}function Ot(xt,vt){Ct=!1,At&&(At=!1,Tt(Zt),Zt=-1),Et=!0;var Mt=bt;try{for(kt(vt),yt=tt(ct);yt!==null&&(!(yt.expirationTime>vt)||xt&&!Rt());){var gt=yt.callback;if(typeof gt=="function"){yt.callback=null,bt=yt.priorityLevel;var lt=gt(yt.expirationTime<=vt);vt=et.unstable_now(),typeof lt=="function"?yt.callback=lt:yt===tt(ct)&&rt(ct),kt(vt)}else rt(ct);yt=tt(ct)}if(yt!==null)var wt=!0;else{var jt=tt(ut);jt!==null&&_t(Pt,jt.startTime-vt),wt=!1}return wt}finally{yt=null,bt=Mt,Et=!1}}var Ht=!1,qt=null,Zt=-1,tr=5,Dt=-1;function Rt(){return!(et.unstable_now()-Dt<tr)}function Nt(){if(qt!==null){var xt=et.unstable_now();Dt=xt;var vt=!0;try{vt=qt(!0,xt)}finally{vt?ht():(Ht=!1,qt=null)}}else Ht=!1}var ht;if(typeof $t=="function")ht=function(){$t(Nt)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,dt=st.port2;st.port1.onmessage=Nt,ht=function(){dt.postMessage(null)}}else ht=function(){St(Nt,0)};function mt(xt){qt=xt,Ht||(Ht=!0,ht())}function _t(xt,vt){Zt=St(function(){xt(et.unstable_now())},vt)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(xt){xt.callback=null},et.unstable_continueExecution=function(){Ct||Et||(Ct=!0,mt(Ot))},et.unstable_forceFrameRate=function(xt){0>xt||125<xt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tr=0<xt?Math.floor(1e3/xt):5},et.unstable_getCurrentPriorityLevel=function(){return bt},et.unstable_getFirstCallbackNode=function(){return tt(ct)},et.unstable_next=function(xt){switch(bt){case 1:case 2:case 3:var vt=3;break;default:vt=bt}var Mt=bt;bt=vt;try{return xt()}finally{bt=Mt}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(xt,vt){switch(xt){case 1:case 2:case 3:case 4:case 5:break;default:xt=3}var Mt=bt;bt=xt;try{return vt()}finally{bt=Mt}},et.unstable_scheduleCallback=function(xt,vt,Mt){var gt=et.unstable_now();switch(typeof Mt=="object"&&Mt!==null?(Mt=Mt.delay,Mt=typeof Mt=="number"&&0<Mt?gt+Mt:gt):Mt=gt,xt){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=Mt+lt,xt={id:ft++,callback:vt,priorityLevel:xt,startTime:Mt,expirationTime:lt,sortIndex:-1},Mt>gt?(xt.sortIndex=Mt,_e(ut,xt),tt(ct)===null&&xt===tt(ut)&&(At?(Tt(Zt),Zt=-1):At=!0,_t(Pt,Mt-gt))):(xt.sortIndex=lt,_e(ct,xt),Ct||Et||(Ct=!0,mt(Ot))),xt},et.unstable_shouldYield=Rt,et.unstable_wrapCallback=function(xt){var vt=bt;return function(){var Mt=bt;bt=vt;try{return xt.apply(this,arguments)}finally{bt=Mt}}}})(scheduler_production_min);(function(et){et.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$8(et){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+et,tt=1;tt<arguments.length;tt++)_e+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+et+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa$1(et,_e){ha(et,_e),ha(et+"Capture",_e)}function ha(et,_e){for(ea[et]=_e,et=0;et<_e.length;et++)da.add(_e[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,_e,tt,rt){if(tt!==null&&tt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return rt?!1:tt!==null?!tt.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,_e,tt,rt){if(_e===null||typeof _e>"u"||pa(et,_e,tt,rt))return!0;if(rt)return!1;if(tt!==null)switch(tt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$5(et,_e,tt,rt,nt,it,at){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=rt,this.attributeNamespace=nt,this.mustUseProperty=tt,this.propertyName=et,this.type=_e,this.sanitizeURL=it,this.removeEmptyString=at}var z$5={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$5[et]=new v$5(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var _e=et[0];z$5[_e]=new v$5(_e,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$5[et]=new v$5(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$5[et]=new v$5(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$5[et]=new v$5(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$5[et]=new v$5(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$5[et]=new v$5(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$5[et]=new v$5(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$5[et]=new v$5(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$5[_e]=new v$5(_e,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var _e=et.replace(ra,sa);z$5[_e]=new v$5(_e,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var _e=et.replace(ra,sa);z$5[_e]=new v$5(_e,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$5[et]=new v$5(et,1,!1,et.toLowerCase(),null,!1,!1)});z$5.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$5[et]=new v$5(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,_e,tt,rt){var nt=z$5.hasOwnProperty(_e)?z$5[_e]:null;(nt!==null?nt.type!==0:rt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,tt,nt,rt)&&(tt=null),rt||nt===null?oa(_e)&&(tt===null?et.removeAttribute(_e):et.setAttribute(_e,""+tt)):nt.mustUseProperty?et[nt.propertyName]=tt===null?nt.type===3?!1:"":tt:(_e=nt.attributeName,rt=nt.attributeNamespace,tt===null?et.removeAttribute(_e):(nt=nt.type,tt=nt===3||nt===4&&tt===!0?"":""+tt,rt?et.setAttributeNS(rt,_e,tt):et.setAttribute(_e,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$6=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(tt){var _e=tt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+et}var Na=!1;function Oa(et,_e){if(!et||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ut){var rt=ut}Reflect.construct(et,[],_e)}else{try{_e.call()}catch(ut){rt=ut}et.call(_e.prototype)}else{try{throw Error()}catch(ut){rt=ut}et()}}catch(ut){if(ut&&rt&&typeof ut.stack=="string"){for(var nt=ut.stack.split(`
`),it=rt.stack.split(`
`),at=nt.length-1,ot=it.length-1;1<=at&&0<=ot&&nt[at]!==it[ot];)ot--;for(;1<=at&&0<=ot;at--,ot--)if(nt[at]!==it[ot]){if(at!==1||ot!==1)do if(at--,ot--,0>ot||nt[at]!==it[ot]){var ct=`
`+nt[at].replace(" at new "," at ");return et.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",et.displayName)),ct}while(1<=at&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var _e=et.render;return et=et.displayName,et||(et=_e.displayName||_e.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return _e=et.displayName||null,_e!==null?_e:Qa(et.type)||"Memo";case Ha:_e=et._payload,et=et._init;try{return Qa(et(_e))}catch{}}return null}function Ra(et){var _e=et.type;switch(et.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=_e.render,et=et.displayName||et.name||"",_e.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var _e=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(et){var _e=Ta(et)?"checked":"value",tt=Object.getOwnPropertyDescriptor(et.constructor.prototype,_e),rt=""+et[_e];if(!et.hasOwnProperty(_e)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var nt=tt.get,it=tt.set;return Object.defineProperty(et,_e,{configurable:!0,get:function(){return nt.call(this)},set:function(at){rt=""+at,it.call(this,at)}}),Object.defineProperty(et,_e,{enumerable:tt.enumerable}),{getValue:function(){return rt},setValue:function(at){rt=""+at},stopTracking:function(){et._valueTracker=null,delete et[_e]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var _e=et._valueTracker;if(!_e)return!0;var tt=_e.getValue(),rt="";return et&&(rt=Ta(et)?et.checked?"true":"false":et.value),et=rt,et!==tt?(_e.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,_e){var tt=_e.checked;return A$6({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt!=null?tt:et._wrapperState.initialChecked})}function Za(et,_e){var tt=_e.defaultValue==null?"":_e.defaultValue,rt=_e.checked!=null?_e.checked:_e.defaultChecked;tt=Sa(_e.value!=null?_e.value:tt),et._wrapperState={initialChecked:rt,initialValue:tt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(et,_e){_e=_e.checked,_e!=null&&ta(et,"checked",_e,!1)}function bb(et,_e){ab(et,_e);var tt=Sa(_e.value),rt=_e.type;if(tt!=null)rt==="number"?(tt===0&&et.value===""||et.value!=tt)&&(et.value=""+tt):et.value!==""+tt&&(et.value=""+tt);else if(rt==="submit"||rt==="reset"){et.removeAttribute("value");return}_e.hasOwnProperty("value")?cb(et,_e.type,tt):_e.hasOwnProperty("defaultValue")&&cb(et,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(et.defaultChecked=!!_e.defaultChecked)}function db(et,_e,tt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var rt=_e.type;if(!(rt!=="submit"&&rt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+et._wrapperState.initialValue,tt||_e===et.value||(et.value=_e),et.defaultValue=_e}tt=et.name,tt!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,tt!==""&&(et.name=tt)}function cb(et,_e,tt){(_e!=="number"||Xa(et.ownerDocument)!==et)&&(tt==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+tt&&(et.defaultValue=""+tt))}var eb=Array.isArray;function fb(et,_e,tt,rt){if(et=et.options,_e){_e={};for(var nt=0;nt<tt.length;nt++)_e["$"+tt[nt]]=!0;for(tt=0;tt<et.length;tt++)nt=_e.hasOwnProperty("$"+et[tt].value),et[tt].selected!==nt&&(et[tt].selected=nt),nt&&rt&&(et[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),_e=null,nt=0;nt<et.length;nt++){if(et[nt].value===tt){et[nt].selected=!0,rt&&(et[nt].defaultSelected=!0);return}_e!==null||et[nt].disabled||(_e=et[nt])}_e!==null&&(_e.selected=!0)}}function gb(et,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$8(91));return A$6({},_e,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,_e){var tt=_e.value;if(tt==null){if(tt=_e.children,_e=_e.defaultValue,tt!=null){if(_e!=null)throw Error(p$8(92));if(eb(tt)){if(1<tt.length)throw Error(p$8(93));tt=tt[0]}_e=tt}_e==null&&(_e=""),tt=_e}et._wrapperState={initialValue:Sa(tt)}}function ib(et,_e){var tt=Sa(_e.value),rt=Sa(_e.defaultValue);tt!=null&&(tt=""+tt,tt!==et.value&&(et.value=tt),_e.defaultValue==null&&et.defaultValue!==tt&&(et.defaultValue=tt)),rt!=null&&(et.defaultValue=""+rt)}function jb(et){var _e=et.textContent;_e===et._wrapperState.initialValue&&_e!==""&&_e!==null&&(et.value=_e)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,_e){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(_e):et==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,tt,rt,nt){MSApp.execUnsafeLocalFunction(function(){return et(_e,tt,rt,nt)})}:et}(function(et,_e){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;_e.firstChild;)et.appendChild(_e.firstChild)}});function ob(et,_e){if(_e){var tt=et.firstChild;if(tt&&tt===et.lastChild&&tt.nodeType===3){tt.nodeValue=_e;return}}et.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(_e){_e=_e+et.charAt(0).toUpperCase()+et.substring(1),pb[_e]=pb[et]})});function rb(et,_e,tt){return _e==null||typeof _e=="boolean"||_e===""?"":tt||typeof _e!="number"||_e===0||pb.hasOwnProperty(et)&&pb[et]?(""+_e).trim():_e+"px"}function sb(et,_e){et=et.style;for(var tt in _e)if(_e.hasOwnProperty(tt)){var rt=tt.indexOf("--")===0,nt=rb(tt,_e[tt],rt);tt==="float"&&(tt="cssFloat"),rt?et.setProperty(tt,nt):et[tt]=nt}}var tb=A$6({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,_e){if(_e){if(tb[et]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$8(137,et));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$8(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$8(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$8(62))}}function vb(et,_e){if(et.indexOf("-")===-1)return typeof _e.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$8(280));var _e=et.stateNode;_e&&(_e=Db(_e),yb(et.stateNode,et.type,_e))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,_e=Ab;if(Ab=zb=null,Bb(et),_e)for(et=0;et<_e.length;et++)Bb(_e[et])}}function Gb(et,_e){return et(_e)}function Hb(){}var Ib=!1;function Jb(et,_e,tt){if(Ib)return et(_e,tt);Ib=!0;try{return Gb(et,_e,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,_e){var tt=et.stateNode;if(tt===null)return null;var rt=Db(tt);if(rt===null)return null;tt=rt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(et=et.type,rt=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!rt;break e;default:et=!1}if(et)return null;if(tt&&typeof tt!="function")throw Error(p$8(231,_e,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,_e,tt,rt,nt,it,at,ot,ct){var ut=Array.prototype.slice.call(arguments,3);try{_e.apply(tt,ut)}catch(ft){this.onError(ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,_e,tt,rt,nt,it,at,ot,ct){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,_e,tt,rt,nt,it,at,ot,ct){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$8(198));Qb||(Qb=!0,Rb=ut)}}function Vb(et){var _e=et,tt=et;if(et.alternate)for(;_e.return;)_e=_e.return;else{et=_e;do _e=et,(_e.flags&4098)!==0&&(tt=_e.return),et=_e.return;while(et)}return _e.tag===3?tt:null}function Wb(et){if(et.tag===13){var _e=et.memoizedState;if(_e===null&&(et=et.alternate,et!==null&&(_e=et.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$8(188))}function Yb(et){var _e=et.alternate;if(!_e){if(_e=Vb(et),_e===null)throw Error(p$8(188));return _e!==et?null:et}for(var tt=et,rt=_e;;){var nt=tt.return;if(nt===null)break;var it=nt.alternate;if(it===null){if(rt=nt.return,rt!==null){tt=rt;continue}break}if(nt.child===it.child){for(it=nt.child;it;){if(it===tt)return Xb(nt),et;if(it===rt)return Xb(nt),_e;it=it.sibling}throw Error(p$8(188))}if(tt.return!==rt.return)tt=nt,rt=it;else{for(var at=!1,ot=nt.child;ot;){if(ot===tt){at=!0,tt=nt,rt=it;break}if(ot===rt){at=!0,rt=nt,tt=it;break}ot=ot.sibling}if(!at){for(ot=it.child;ot;){if(ot===tt){at=!0,tt=it,rt=nt;break}if(ot===rt){at=!0,rt=it,tt=nt;break}ot=ot.sibling}if(!at)throw Error(p$8(189))}}if(tt.alternate!==rt)throw Error(p$8(190))}if(tt.tag!==3)throw Error(p$8(188));return tt.stateNode.current===tt?et:_e}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var _e=$b(et);if(_e!==null)return _e;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,_e){var tt=et.pendingLanes;if(tt===0)return 0;var rt=0,nt=et.suspendedLanes,it=et.pingedLanes,at=tt&268435455;if(at!==0){var ot=at&~nt;ot!==0?rt=tc(ot):(it&=at,it!==0&&(rt=tc(it)))}else at=tt&~nt,at!==0?rt=tc(at):it!==0&&(rt=tc(it));if(rt===0)return 0;if(_e!==0&&_e!==rt&&(_e&nt)===0&&(nt=rt&-rt,it=_e&-_e,nt>=it||nt===16&&(it&4194240)!==0))return _e;if((rt&4)!==0&&(rt|=tt&16),_e=et.entangledLanes,_e!==0)for(et=et.entanglements,_e&=rt;0<_e;)tt=31-oc(_e),nt=1<<tt,rt|=et[tt],_e&=~nt;return rt}function vc(et,_e){switch(et){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,_e){for(var tt=et.suspendedLanes,rt=et.pingedLanes,nt=et.expirationTimes,it=et.pendingLanes;0<it;){var at=31-oc(it),ot=1<<at,ct=nt[at];ct===-1?((ot&tt)===0||(ot&rt)!==0)&&(nt[at]=vc(ot,_e)):ct<=_e&&(et.expiredLanes|=ot),it&=~ot}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),et}function zc(et){for(var _e=[],tt=0;31>tt;tt++)_e.push(et);return _e}function Ac(et,_e,tt){et.pendingLanes|=_e,_e!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,_e=31-oc(_e),et[_e]=tt}function Bc(et,_e){var tt=et.pendingLanes&~_e;et.pendingLanes=_e,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=_e,et.mutableReadLanes&=_e,et.entangledLanes&=_e,_e=et.entanglements;var rt=et.eventTimes;for(et=et.expirationTimes;0<tt;){var nt=31-oc(tt),it=1<<nt;_e[nt]=0,rt[nt]=-1,et[nt]=-1,tt&=~it}}function Cc(et,_e){var tt=et.entangledLanes|=_e;for(et=et.entanglements;tt;){var rt=31-oc(tt),nt=1<<rt;nt&_e|et[rt]&_e&&(et[rt]|=_e),tt&=~nt}}var C$3=0;function Dc(et){return et&=-et,1<et?4<et?(et&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,_e){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(et,_e,tt,rt,nt,it){return et===null||et.nativeEvent!==it?(et={blockedOn:_e,domEventName:tt,eventSystemFlags:rt,nativeEvent:it,targetContainers:[nt]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),et):(et.eventSystemFlags|=rt,_e=et.targetContainers,nt!==null&&_e.indexOf(nt)===-1&&_e.push(nt),et)}function Uc(et,_e,tt,rt,nt){switch(_e){case"focusin":return Lc=Tc(Lc,et,_e,tt,rt,nt),!0;case"dragenter":return Mc=Tc(Mc,et,_e,tt,rt,nt),!0;case"mouseover":return Nc=Tc(Nc,et,_e,tt,rt,nt),!0;case"pointerover":var it=nt.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,et,_e,tt,rt,nt)),!0;case"gotpointercapture":return it=nt.pointerId,Pc.set(it,Tc(Pc.get(it)||null,et,_e,tt,rt,nt)),!0}return!1}function Vc(et){var _e=Wc(et.target);if(_e!==null){var tt=Vb(_e);if(tt!==null){if(_e=tt.tag,_e===13){if(_e=Wb(tt),_e!==null){et.blockedOn=_e,Ic(et.priority,function(){Gc(tt)});return}}else if(_e===3&&tt.stateNode.current.memoizedState.isDehydrated){et.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var _e=et.targetContainers;0<_e.length;){var tt=Yc(et.domEventName,et.eventSystemFlags,_e[0],et.nativeEvent);if(tt===null){tt=et.nativeEvent;var rt=new tt.constructor(tt.type,tt);wb=rt,tt.target.dispatchEvent(rt),wb=null}else return _e=Cb(tt),_e!==null&&Fc(_e),et.blockedOn=tt,!1;_e.shift()}return!0}function Zc(et,_e,tt){Xc(et)&&tt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,_e){et.blockedOn===_e&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function _e(nt){return ad(nt,et)}if(0<Kc.length){ad(Kc[0],et);for(var tt=1;tt<Kc.length;tt++){var rt=Kc[tt];rt.blockedOn===et&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(_e),Pc.forEach(_e),tt=0;tt<Qc.length;tt++)rt=Qc[tt],rt.blockedOn===et&&(rt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,_e,tt,rt){var nt=C$3,it=cd.transition;cd.transition=null;try{C$3=1,fd(et,_e,tt,rt)}finally{C$3=nt,cd.transition=it}}function gd(et,_e,tt,rt){var nt=C$3,it=cd.transition;cd.transition=null;try{C$3=4,fd(et,_e,tt,rt)}finally{C$3=nt,cd.transition=it}}function fd(et,_e,tt,rt){if(dd){var nt=Yc(et,_e,tt,rt);if(nt===null)hd(et,_e,rt,id$1,tt),Sc(et,rt);else if(Uc(nt,et,_e,tt,rt))rt.stopPropagation();else if(Sc(et,rt),_e&4&&-1<Rc.indexOf(et)){for(;nt!==null;){var it=Cb(nt);if(it!==null&&Ec(it),it=Yc(et,_e,tt,rt),it===null&&hd(et,_e,rt,id$1,tt),it===nt)break;nt=it}nt!==null&&rt.stopPropagation()}else hd(et,_e,rt,null,tt)}}var id$1=null;function Yc(et,_e,tt,rt){if(id$1=null,et=xb(rt),et=Wc(et),et!==null)if(_e=Vb(et),_e===null)et=null;else if(tt=_e.tag,tt===13){if(et=Wb(_e),et!==null)return et;et=null}else if(tt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;et=null}else _e!==et&&(et=null);return id$1=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,_e=ld,tt=_e.length,rt,nt="value"in kd?kd.value:kd.textContent,it=nt.length;for(et=0;et<tt&&_e[et]===nt[et];et++);var at=tt-et;for(rt=1;rt<=at&&_e[tt-rt]===nt[it-rt];rt++);return md=nt.slice(et,1<rt?1-rt:void 0)}function od(et){var _e=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&_e===13&&(et=13)):et=_e,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function _e(tt,rt,nt,it,at){this._reactName=tt,this._targetInst=nt,this.type=rt,this.nativeEvent=it,this.target=at,this.currentTarget=null;for(var ot in et)et.hasOwnProperty(ot)&&(tt=et[ot],this[ot]=tt?tt(it):it[ot]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$6(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$6({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$6({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$6({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$6({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$6({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$6({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$6({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(et):(et=Od[et])?!!_e[et]:!1}function zd(){return Pd}var Qd=A$6({},ud,{key:function(et){if(et.key){var _e=Md[et.key]||et.key;if(_e!=="Unidentified")return _e}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$6({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$6({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$6({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$6({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de$1=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(et,_e){switch(et){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie=!1;function je(et,_e){switch(et){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return et=_e.data,et===ee&&fe?null:et;default:return null}}function ke(et,_e){if(ie)return et==="compositionend"||!ae&&ge(et,_e)?(et=nd(),md=ld=kd=null,ie=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de$1&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e==="input"?!!le[et.type]:_e==="textarea"}function ne(et,_e,tt,rt){Eb(rt),_e=oe(_e,"onChange"),0<_e.length&&(tt=new td("onChange","change",null,tt,rt),et.push({event:tt,listeners:_e}))}var pe=null,qe=null;function re(et){se(et,0)}function te(et){var _e=ue(et);if(Wa(_e))return et}function ve(et,_e){if(et==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(et){if(et.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,et,xb(et)),Jb(re,_e)}}function Ce(et,_e,tt){et==="focusin"?(Ae(),pe=_e,qe=tt,pe.attachEvent("onpropertychange",Be)):et==="focusout"&&Ae()}function De(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te(qe)}function Ee(et,_e){if(et==="click")return te(_e)}function Fe(et,_e){if(et==="input"||et==="change")return te(_e)}function Ge(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(et,_e){if(He(et,_e))return!0;if(typeof et!="object"||et===null||typeof _e!="object"||_e===null)return!1;var tt=Object.keys(et),rt=Object.keys(_e);if(tt.length!==rt.length)return!1;for(rt=0;rt<tt.length;rt++){var nt=tt[rt];if(!ja.call(_e,nt)||!He(et[nt],_e[nt]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,_e){var tt=Je(et);et=0;for(var rt;tt;){if(tt.nodeType===3){if(rt=et+tt.textContent.length,et<=_e&&rt>=_e)return{node:tt,offset:_e-et};et=rt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(et,_e){return et&&_e?et===_e?!0:et&&et.nodeType===3?!1:_e&&_e.nodeType===3?Le(et,_e.parentNode):"contains"in et?et.contains(_e):et.compareDocumentPosition?!!(et.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var et=window,_e=Xa();_e instanceof et.HTMLIFrameElement;){try{var tt=typeof _e.contentWindow.location.href=="string"}catch{tt=!1}if(tt)et=_e.contentWindow;else break;_e=Xa(et.document)}return _e}function Ne(et){var _e=et&&et.nodeName&&et.nodeName.toLowerCase();return _e&&(_e==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||_e==="textarea"||et.contentEditable==="true")}function Oe(et){var _e=Me(),tt=et.focusedElem,rt=et.selectionRange;if(_e!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(rt!==null&&Ne(tt)){if(_e=rt.start,et=rt.end,et===void 0&&(et=_e),"selectionStart"in tt)tt.selectionStart=_e,tt.selectionEnd=Math.min(et,tt.value.length);else if(et=(_e=tt.ownerDocument||document)&&_e.defaultView||window,et.getSelection){et=et.getSelection();var nt=tt.textContent.length,it=Math.min(rt.start,nt);rt=rt.end===void 0?it:Math.min(rt.end,nt),!et.extend&&it>rt&&(nt=rt,rt=it,it=nt),nt=Ke(tt,it);var at=Ke(tt,rt);nt&&at&&(et.rangeCount!==1||et.anchorNode!==nt.node||et.anchorOffset!==nt.offset||et.focusNode!==at.node||et.focusOffset!==at.offset)&&(_e=_e.createRange(),_e.setStart(nt.node,nt.offset),et.removeAllRanges(),it>rt?(et.addRange(_e),et.extend(at.node,at.offset)):(_e.setEnd(at.node,at.offset),et.addRange(_e)))}}for(_e=[],et=tt;et=et.parentNode;)et.nodeType===1&&_e.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<_e.length;tt++)et=_e[tt],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(et,_e,tt){var rt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se&&Ie(Se,rt)||(Se=rt,rt=oe(Re,"onSelect"),0<rt.length&&(_e=new td("onSelect","select",null,_e,tt),et.push({event:_e,listeners:rt}),_e.target=Qe)))}function Ve(et,_e){var tt={};return tt[et.toLowerCase()]=_e.toLowerCase(),tt["Webkit"+et]="webkit"+_e,tt["Moz"+et]="moz"+_e,tt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We[et])return et;var _e=We[et],tt;for(tt in _e)if(_e.hasOwnProperty(tt)&&tt in Ye)return Xe[et]=_e[tt];return et}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,_e){df.set(et,_e),fa$1(_e,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,_e,tt){var rt=et.type||"unknown-event";et.currentTarget=tt,Ub(rt,_e,void 0,et),et.currentTarget=null}function se(et,_e){_e=(_e&4)!==0;for(var tt=0;tt<et.length;tt++){var rt=et[tt],nt=rt.event;rt=rt.listeners;e:{var it=void 0;if(_e)for(var at=rt.length-1;0<=at;at--){var ot=rt[at],ct=ot.instance,ut=ot.currentTarget;if(ot=ot.listener,ct!==it&&nt.isPropagationStopped())break e;nf(nt,ot,ut),it=ct}else for(at=0;at<rt.length;at++){if(ot=rt[at],ct=ot.instance,ut=ot.currentTarget,ot=ot.listener,ct!==it&&nt.isPropagationStopped())break e;nf(nt,ot,ut),it=ct}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$3(et,_e){var tt=_e[of$1];tt===void 0&&(tt=_e[of$1]=new Set);var rt=et+"__bubble";tt.has(rt)||(pf(_e,et,2,!1),tt.add(rt))}function qf(et,_e,tt){var rt=0;_e&&(rt|=4),pf(tt,et,rt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,et),qf(tt,!0,et))});var _e=et.nodeType===9?et:et.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(et,_e,tt,rt){switch(jd(_e)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}tt=nt.bind(null,_e,tt,et),nt=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(nt=!0),rt?nt!==void 0?et.addEventListener(_e,tt,{capture:!0,passive:nt}):et.addEventListener(_e,tt,!0):nt!==void 0?et.addEventListener(_e,tt,{passive:nt}):et.addEventListener(_e,tt,!1)}function hd(et,_e,tt,rt,nt){var it=rt;if((_e&1)===0&&(_e&2)===0&&rt!==null)e:for(;;){if(rt===null)return;var at=rt.tag;if(at===3||at===4){var ot=rt.stateNode.containerInfo;if(ot===nt||ot.nodeType===8&&ot.parentNode===nt)break;if(at===4)for(at=rt.return;at!==null;){var ct=at.tag;if((ct===3||ct===4)&&(ct=at.stateNode.containerInfo,ct===nt||ct.nodeType===8&&ct.parentNode===nt))return;at=at.return}for(;ot!==null;){if(at=Wc(ot),at===null)return;if(ct=at.tag,ct===5||ct===6){rt=it=at;continue e}ot=ot.parentNode}}rt=rt.return}Jb(function(){var ut=it,ft=xb(tt),yt=[];e:{var bt=df.get(et);if(bt!==void 0){var Et=td,Ct=et;switch(et){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":Et=Rd;break;case"focusin":Ct="focus",Et=Fd;break;case"focusout":Ct="blur",Et=Fd;break;case"beforeblur":case"afterblur":Et=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=Vd;break;case $e:case af:case bf:Et=Hd;break;case cf:Et=Xd;break;case"scroll":Et=vd;break;case"wheel":Et=Zd;break;case"copy":case"cut":case"paste":Et=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=Td}var At=(_e&4)!==0,St=!At&&et==="scroll",Tt=At?bt!==null?bt+"Capture":null:bt;At=[];for(var $t=ut,kt;$t!==null;){kt=$t;var Pt=kt.stateNode;if(kt.tag===5&&Pt!==null&&(kt=Pt,Tt!==null&&(Pt=Kb($t,Tt),Pt!=null&&At.push(tf($t,Pt,kt)))),St)break;$t=$t.return}0<At.length&&(bt=new Et(bt,Ct,null,tt,ft),yt.push({event:bt,listeners:At}))}}if((_e&7)===0){e:{if(bt=et==="mouseover"||et==="pointerover",Et=et==="mouseout"||et==="pointerout",bt&&tt!==wb&&(Ct=tt.relatedTarget||tt.fromElement)&&(Wc(Ct)||Ct[uf]))break e;if((Et||bt)&&(bt=ft.window===ft?ft:(bt=ft.ownerDocument)?bt.defaultView||bt.parentWindow:window,Et?(Ct=tt.relatedTarget||tt.toElement,Et=ut,Ct=Ct?Wc(Ct):null,Ct!==null&&(St=Vb(Ct),Ct!==St||Ct.tag!==5&&Ct.tag!==6)&&(Ct=null)):(Et=null,Ct=ut),Et!==Ct)){if(At=Bd,Pt="onMouseLeave",Tt="onMouseEnter",$t="mouse",(et==="pointerout"||et==="pointerover")&&(At=Td,Pt="onPointerLeave",Tt="onPointerEnter",$t="pointer"),St=Et==null?bt:ue(Et),kt=Ct==null?bt:ue(Ct),bt=new At(Pt,$t+"leave",Et,tt,ft),bt.target=St,bt.relatedTarget=kt,Pt=null,Wc(ft)===ut&&(At=new At(Tt,$t+"enter",Ct,tt,ft),At.target=kt,At.relatedTarget=St,Pt=At),St=Pt,Et&&Ct)t:{for(At=Et,Tt=Ct,$t=0,kt=At;kt;kt=vf(kt))$t++;for(kt=0,Pt=Tt;Pt;Pt=vf(Pt))kt++;for(;0<$t-kt;)At=vf(At),$t--;for(;0<kt-$t;)Tt=vf(Tt),kt--;for(;$t--;){if(At===Tt||Tt!==null&&At===Tt.alternate)break t;At=vf(At),Tt=vf(Tt)}At=null}else At=null;Et!==null&&wf(yt,bt,Et,At,!1),Ct!==null&&St!==null&&wf(yt,St,Ct,At,!0)}}e:{if(bt=ut?ue(ut):window,Et=bt.nodeName&&bt.nodeName.toLowerCase(),Et==="select"||Et==="input"&&bt.type==="file")var Ot=ve;else if(me(bt))if(we)Ot=Fe;else{Ot=De;var Ht=Ce}else(Et=bt.nodeName)&&Et.toLowerCase()==="input"&&(bt.type==="checkbox"||bt.type==="radio")&&(Ot=Ee);if(Ot&&(Ot=Ot(et,ut))){ne(yt,Ot,tt,ft);break e}Ht&&Ht(et,bt,ut),et==="focusout"&&(Ht=bt._wrapperState)&&Ht.controlled&&bt.type==="number"&&cb(bt,"number",bt.value)}switch(Ht=ut?ue(ut):window,et){case"focusin":(me(Ht)||Ht.contentEditable==="true")&&(Qe=Ht,Re=ut,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(yt,tt,ft);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(yt,tt,ft)}var qt;if(ae)e:{switch(et){case"compositionstart":var Zt="onCompositionStart";break e;case"compositionend":Zt="onCompositionEnd";break e;case"compositionupdate":Zt="onCompositionUpdate";break e}Zt=void 0}else ie?ge(et,tt)&&(Zt="onCompositionEnd"):et==="keydown"&&tt.keyCode===229&&(Zt="onCompositionStart");Zt&&(de$1&&tt.locale!=="ko"&&(ie||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&ie&&(qt=nd()):(kd=ft,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ht=oe(ut,Zt),0<Ht.length&&(Zt=new Ld(Zt,et,null,tt,ft),yt.push({event:Zt,listeners:Ht}),qt?Zt.data=qt:(qt=he(tt),qt!==null&&(Zt.data=qt)))),(qt=ce?je(et,tt):ke(et,tt))&&(ut=oe(ut,"onBeforeInput"),0<ut.length&&(ft=new Ld("onBeforeInput","beforeinput",null,tt,ft),yt.push({event:ft,listeners:ut}),ft.data=qt))}se(yt,_e)})}function tf(et,_e,tt){return{instance:et,listener:_e,currentTarget:tt}}function oe(et,_e){for(var tt=_e+"Capture",rt=[];et!==null;){var nt=et,it=nt.stateNode;nt.tag===5&&it!==null&&(nt=it,it=Kb(et,tt),it!=null&&rt.unshift(tf(et,it,nt)),it=Kb(et,_e),it!=null&&rt.push(tf(et,it,nt))),et=et.return}return rt}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,_e,tt,rt,nt){for(var it=_e._reactName,at=[];tt!==null&&tt!==rt;){var ot=tt,ct=ot.alternate,ut=ot.stateNode;if(ct!==null&&ct===rt)break;ot.tag===5&&ut!==null&&(ot=ut,nt?(ct=Kb(tt,it),ct!=null&&at.unshift(tf(tt,ct,ot))):nt||(ct=Kb(tt,it),ct!=null&&at.push(tf(tt,ct,ot)))),tt=tt.return}at.length!==0&&et.push({event:_e,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,_e,tt){if(_e=zf(_e),zf(et)!==_e&&tt)throw Error(p$8(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,_e){return et==="textarea"||et==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,_e){var tt=_e,rt=0;do{var nt=tt.nextSibling;if(et.removeChild(tt),nt&&nt.nodeType===8)if(tt=nt.data,tt==="/$"){if(rt===0){et.removeChild(nt),bd(_e);return}rt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||rt++;tt=nt}while(tt);bd(_e)}function Lf(et){for(;et!=null;et=et.nextSibling){var _e=et.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=et.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var _e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(_e===0)return et;_e--}else tt==="/$"&&_e++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of$1="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var _e=et[Of];if(_e)return _e;for(var tt=et.parentNode;tt;){if(_e=tt[uf]||tt[Of]){if(tt=_e.alternate,_e.child!==null||tt!==null&&tt.child!==null)for(et=Mf(et);et!==null;){if(tt=et[Of])return tt;et=Mf(et)}return _e}et=tt,tt=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$8(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$3(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,_e){Tf++,Sf[Tf]=et.current,et.current=_e}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,_e){var tt=et.type.contextTypes;if(!tt)return Vf;var rt=et.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===_e)return rt.__reactInternalMemoizedMaskedChildContext;var nt={},it;for(it in tt)nt[it]=_e[it];return rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=_e,et.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$3(Wf),E$3(H$3)}function ag(et,_e,tt){if(H$3.current!==Vf)throw Error(p$8(168));G$1(H$3,_e),G$1(Wf,tt)}function bg(et,_e,tt){var rt=et.stateNode;if(_e=_e.childContextTypes,typeof rt.getChildContext!="function")return tt;rt=rt.getChildContext();for(var nt in rt)if(!(nt in _e))throw Error(p$8(108,Ra(et)||"Unknown",nt));return A$6({},tt,rt)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$1(H$3,et),G$1(Wf,Wf.current),!0}function dg(et,_e,tt){var rt=et.stateNode;if(!rt)throw Error(p$8(169));tt?(et=bg(et,_e,Xf),rt.__reactInternalMemoizedMergedChildContext=et,E$3(Wf),E$3(H$3),G$1(H$3,et)):E$3(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,_e=C$3;try{var tt=eg;for(C$3=1;et<tt.length;et++){var rt=tt[et];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),nt}finally{C$3=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,_e){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=_e}function ug(et,_e,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var rt=rg;et=sg;var nt=32-oc(rt)-1;rt&=~(1<<nt),tt+=1;var it=32-oc(_e)+nt;if(30<it){var at=nt-nt%5;it=(rt&(1<<at)-1).toString(32),rt>>=at,nt-=at,rg=1<<32-oc(_e)+nt|tt<<nt|rt,sg=it+et}else rg=1<<it|tt<<nt|rt,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(et,_e){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=_e,tt.return=et,_e=et.deletions,_e===null?(et.deletions=[tt],et.flags|=16):_e.push(tt)}function Cg(et,_e){switch(et.tag){case 5:var tt=et.type;return _e=_e.nodeType!==1||tt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=et.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(et.stateNode=_e,xg=et,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:_e,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=_e,tt.return=et,et.child=tt,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$3){var _e=yg;if(_e){var tt=_e;if(!Cg(et,_e)){if(Dg(et))throw Error(p$8(418));_e=Lf(tt.nextSibling);var rt=xg;_e&&Cg(et,_e)?Ag(rt,tt):(et.flags=et.flags&-4097|2,I$3=!1,xg=et)}}else{if(Dg(et))throw Error(p$8(418));et.flags=et.flags&-4097|2,I$3=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$3)return Fg(et),I$3=!0,!1;var _e;if((_e=et.tag!==3)&&!(_e=et.tag!==5)&&(_e=et.type,_e=_e!=="head"&&_e!=="body"&&!Ef(et.type,et.memoizedProps)),_e&&(_e=yg)){if(Dg(et))throw Hg(),Error(p$8(418));for(;_e;)Ag(et,_e),_e=Lf(_e.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$8(317));e:{for(et=et.nextSibling,_e=0;et;){if(et.nodeType===8){var tt=et.data;if(tt==="/$"){if(_e===0){yg=Lf(et.nextSibling);break e}_e--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||_e++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,_e){if(et&&et.defaultProps){_e=A$6({},_e),et=et.defaultProps;for(var tt in et)_e[tt]===void 0&&(_e[tt]=et[tt]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(et){var _e=Mg.current;E$3(Mg),et._currentValue=_e}function Sg(et,_e,tt){for(;et!==null;){var rt=et.alternate;if((et.childLanes&_e)!==_e?(et.childLanes|=_e,rt!==null&&(rt.childLanes|=_e)):rt!==null&&(rt.childLanes&_e)!==_e&&(rt.childLanes|=_e),et===tt)break;et=et.return}}function Tg(et,_e){Ng=et,Pg=Og=null,et=et.dependencies,et!==null&&et.firstContext!==null&&((et.lanes&_e)!==0&&(Ug=!0),et.firstContext=null)}function Vg(et){var _e=et._currentValue;if(Pg!==et)if(et={context:et,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$8(308));Og=et,Ng.dependencies={lanes:0,firstContext:et}}else Og=Og.next=et;return _e}var Wg=null;function Xg(et){Wg===null?Wg=[et]:Wg.push(et)}function Yg(et,_e,tt,rt){var nt=_e.interleaved;return nt===null?(tt.next=tt,Xg(_e)):(tt.next=nt.next,nt.next=tt),_e.interleaved=tt,Zg(et,rt)}function Zg(et,_e){et.lanes|=_e;var tt=et.alternate;for(tt!==null&&(tt.lanes|=_e),tt=et,et=et.return;et!==null;)et.childLanes|=_e,tt=et.alternate,tt!==null&&(tt.childLanes|=_e),tt=et,et=et.return;return tt.tag===3?tt.stateNode:null}var $g=!1;function ah(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(et,_e){et=et.updateQueue,_e.updateQueue===et&&(_e.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function ch(et,_e){return{eventTime:et,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh(et,_e,tt){var rt=et.updateQueue;if(rt===null)return null;if(rt=rt.shared,(K$2&2)!==0){var nt=rt.pending;return nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),rt.pending=_e,Zg(et,tt)}return nt=rt.interleaved,nt===null?(_e.next=_e,Xg(rt)):(_e.next=nt.next,nt.next=_e),rt.interleaved=_e,Zg(et,tt)}function eh(et,_e,tt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(tt&4194240)!==0)){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}function fh(et,_e){var tt=et.updateQueue,rt=et.alternate;if(rt!==null&&(rt=rt.updateQueue,tt===rt)){var nt=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var at={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?nt=it=at:it=it.next=at,tt=tt.next}while(tt!==null);it===null?nt=it=_e:it=it.next=_e}else nt=it=_e;tt={baseState:rt.baseState,firstBaseUpdate:nt,lastBaseUpdate:it,shared:rt.shared,effects:rt.effects},et.updateQueue=tt;return}et=tt.lastBaseUpdate,et===null?tt.firstBaseUpdate=_e:et.next=_e,tt.lastBaseUpdate=_e}function gh(et,_e,tt,rt){var nt=et.updateQueue;$g=!1;var it=nt.firstBaseUpdate,at=nt.lastBaseUpdate,ot=nt.shared.pending;if(ot!==null){nt.shared.pending=null;var ct=ot,ut=ct.next;ct.next=null,at===null?it=ut:at.next=ut,at=ct;var ft=et.alternate;ft!==null&&(ft=ft.updateQueue,ot=ft.lastBaseUpdate,ot!==at&&(ot===null?ft.firstBaseUpdate=ut:ot.next=ut,ft.lastBaseUpdate=ct))}if(it!==null){var yt=nt.baseState;at=0,ft=ut=ct=null,ot=it;do{var bt=ot.lane,Et=ot.eventTime;if((rt&bt)===bt){ft!==null&&(ft=ft.next={eventTime:Et,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var Ct=et,At=ot;switch(bt=_e,Et=tt,At.tag){case 1:if(Ct=At.payload,typeof Ct=="function"){yt=Ct.call(Et,yt,bt);break e}yt=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=At.payload,bt=typeof Ct=="function"?Ct.call(Et,yt,bt):Ct,bt==null)break e;yt=A$6({},yt,bt);break e;case 2:$g=!0}}ot.callback!==null&&ot.lane!==0&&(et.flags|=64,bt=nt.effects,bt===null?nt.effects=[ot]:bt.push(ot))}else Et={eventTime:Et,lane:bt,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},ft===null?(ut=ft=Et,ct=yt):ft=ft.next=Et,at|=bt;if(ot=ot.next,ot===null){if(ot=nt.shared.pending,ot===null)break;bt=ot,ot=bt.next,bt.next=null,nt.lastBaseUpdate=bt,nt.shared.pending=null}}while(1);if(ft===null&&(ct=yt),nt.baseState=ct,nt.firstBaseUpdate=ut,nt.lastBaseUpdate=ft,_e=nt.shared.interleaved,_e!==null){nt=_e;do at|=nt.lane,nt=nt.next;while(nt!==_e)}else it===null&&(nt.shared.lanes=0);hh|=at,et.lanes=at,et.memoizedState=yt}}function ih(et,_e,tt){if(et=_e.effects,_e.effects=null,et!==null)for(_e=0;_e<et.length;_e++){var rt=et[_e],nt=rt.callback;if(nt!==null){if(rt.callback=null,rt=tt,typeof nt!="function")throw Error(p$8(191,nt));nt.call(rt)}}}var jh=new aa.Component().refs;function kh(et,_e,tt,rt){_e=et.memoizedState,tt=tt(rt,_e),tt=tt==null?_e:A$6({},_e,tt),et.memoizedState=tt,et.lanes===0&&(et.updateQueue.baseState=tt)}var nh={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,_e,tt){et=et._reactInternals;var rt=L$3(),nt=lh(et),it=ch(rt,nt);it.payload=_e,tt!=null&&(it.callback=tt),_e=dh(et,it,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueReplaceState:function(et,_e,tt){et=et._reactInternals;var rt=L$3(),nt=lh(et),it=ch(rt,nt);it.tag=1,it.payload=_e,tt!=null&&(it.callback=tt),_e=dh(et,it,nt),_e!==null&&(mh(_e,et,nt,rt),eh(_e,et,nt))},enqueueForceUpdate:function(et,_e){et=et._reactInternals;var tt=L$3(),rt=lh(et),nt=ch(tt,rt);nt.tag=2,_e!=null&&(nt.callback=_e),_e=dh(et,nt,rt),_e!==null&&(mh(_e,et,rt,tt),eh(_e,et,rt))}};function oh(et,_e,tt,rt,nt,it,at){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(rt,it,at):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(tt,rt)||!Ie(nt,it):!0}function ph(et,_e,tt){var rt=!1,nt=Vf,it=_e.contextType;return typeof it=="object"&&it!==null?it=Vg(it):(nt=Zf(_e)?Xf:H$3.current,rt=_e.contextTypes,it=(rt=rt!=null)?Yf(et,nt):Vf),_e=new _e(tt,it),et.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,et.stateNode=_e,_e._reactInternals=et,rt&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=nt,et.__reactInternalMemoizedMaskedChildContext=it),_e}function qh(et,_e,tt,rt){et=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(tt,rt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(tt,rt),_e.state!==et&&nh.enqueueReplaceState(_e,_e.state,null)}function rh$1(et,_e,tt,rt){var nt=et.stateNode;nt.props=tt,nt.state=et.memoizedState,nt.refs=jh,ah(et);var it=_e.contextType;typeof it=="object"&&it!==null?nt.context=Vg(it):(it=Zf(_e)?Xf:H$3.current,nt.context=Yf(et,it)),nt.state=et.memoizedState,it=_e.getDerivedStateFromProps,typeof it=="function"&&(kh(et,_e,it,tt),nt.state=et.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||(_e=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),_e!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(et,tt,nt,rt),nt.state=et.memoizedState),typeof nt.componentDidMount=="function"&&(et.flags|=4194308)}function sh$1(et,_e,tt){if(et=tt.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$8(309));var rt=tt.stateNode}if(!rt)throw Error(p$8(147,et));var nt=rt,it=""+et;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===it?_e.ref:(_e=function(at){var ot=nt.refs;ot===jh&&(ot=nt.refs={}),at===null?delete ot[it]:ot[it]=at},_e._stringRef=it,_e)}if(typeof et!="string")throw Error(p$8(284));if(!tt._owner)throw Error(p$8(290,et))}return et}function th(et,_e){throw et=Object.prototype.toString.call(_e),Error(p$8(31,et==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":et))}function uh(et){var _e=et._init;return _e(et._payload)}function vh(et){function _e(Tt,$t){if(et){var kt=Tt.deletions;kt===null?(Tt.deletions=[$t],Tt.flags|=16):kt.push($t)}}function tt(Tt,$t){if(!et)return null;for(;$t!==null;)_e(Tt,$t),$t=$t.sibling;return null}function rt(Tt,$t){for(Tt=new Map;$t!==null;)$t.key!==null?Tt.set($t.key,$t):Tt.set($t.index,$t),$t=$t.sibling;return Tt}function nt(Tt,$t){return Tt=wh(Tt,$t),Tt.index=0,Tt.sibling=null,Tt}function it(Tt,$t,kt){return Tt.index=kt,et?(kt=Tt.alternate,kt!==null?(kt=kt.index,kt<$t?(Tt.flags|=2,$t):kt):(Tt.flags|=2,$t)):(Tt.flags|=1048576,$t)}function at(Tt){return et&&Tt.alternate===null&&(Tt.flags|=2),Tt}function ot(Tt,$t,kt,Pt){return $t===null||$t.tag!==6?($t=xh(kt,Tt.mode,Pt),$t.return=Tt,$t):($t=nt($t,kt),$t.return=Tt,$t)}function ct(Tt,$t,kt,Pt){var Ot=kt.type;return Ot===ya?ft(Tt,$t,kt.props.children,Pt,kt.key):$t!==null&&($t.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ha&&uh(Ot)===$t.type)?(Pt=nt($t,kt.props),Pt.ref=sh$1(Tt,$t,kt),Pt.return=Tt,Pt):(Pt=yh(kt.type,kt.key,kt.props,null,Tt.mode,Pt),Pt.ref=sh$1(Tt,$t,kt),Pt.return=Tt,Pt)}function ut(Tt,$t,kt,Pt){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==kt.containerInfo||$t.stateNode.implementation!==kt.implementation?($t=zh$1(kt,Tt.mode,Pt),$t.return=Tt,$t):($t=nt($t,kt.children||[]),$t.return=Tt,$t)}function ft(Tt,$t,kt,Pt,Ot){return $t===null||$t.tag!==7?($t=Ah(kt,Tt.mode,Pt,Ot),$t.return=Tt,$t):($t=nt($t,kt),$t.return=Tt,$t)}function yt(Tt,$t,kt){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=xh(""+$t,Tt.mode,kt),$t.return=Tt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return kt=yh($t.type,$t.key,$t.props,null,Tt.mode,kt),kt.ref=sh$1(Tt,null,$t),kt.return=Tt,kt;case wa:return $t=zh$1($t,Tt.mode,kt),$t.return=Tt,$t;case Ha:var Pt=$t._init;return yt(Tt,Pt($t._payload),kt)}if(eb($t)||Ka($t))return $t=Ah($t,Tt.mode,kt,null),$t.return=Tt,$t;th(Tt,$t)}return null}function bt(Tt,$t,kt,Pt){var Ot=$t!==null?$t.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number")return Ot!==null?null:ot(Tt,$t,""+kt,Pt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return kt.key===Ot?ct(Tt,$t,kt,Pt):null;case wa:return kt.key===Ot?ut(Tt,$t,kt,Pt):null;case Ha:return Ot=kt._init,bt(Tt,$t,Ot(kt._payload),Pt)}if(eb(kt)||Ka(kt))return Ot!==null?null:ft(Tt,$t,kt,Pt,null);th(Tt,kt)}return null}function Et(Tt,$t,kt,Pt,Ot){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Tt=Tt.get(kt)||null,ot($t,Tt,""+Pt,Ot);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case va:return Tt=Tt.get(Pt.key===null?kt:Pt.key)||null,ct($t,Tt,Pt,Ot);case wa:return Tt=Tt.get(Pt.key===null?kt:Pt.key)||null,ut($t,Tt,Pt,Ot);case Ha:var Ht=Pt._init;return Et(Tt,$t,kt,Ht(Pt._payload),Ot)}if(eb(Pt)||Ka(Pt))return Tt=Tt.get(kt)||null,ft($t,Tt,Pt,Ot,null);th($t,Pt)}return null}function Ct(Tt,$t,kt,Pt){for(var Ot=null,Ht=null,qt=$t,Zt=$t=0,tr=null;qt!==null&&Zt<kt.length;Zt++){qt.index>Zt?(tr=qt,qt=null):tr=qt.sibling;var Dt=bt(Tt,qt,kt[Zt],Pt);if(Dt===null){qt===null&&(qt=tr);break}et&&qt&&Dt.alternate===null&&_e(Tt,qt),$t=it(Dt,$t,Zt),Ht===null?Ot=Dt:Ht.sibling=Dt,Ht=Dt,qt=tr}if(Zt===kt.length)return tt(Tt,qt),I$3&&tg(Tt,Zt),Ot;if(qt===null){for(;Zt<kt.length;Zt++)qt=yt(Tt,kt[Zt],Pt),qt!==null&&($t=it(qt,$t,Zt),Ht===null?Ot=qt:Ht.sibling=qt,Ht=qt);return I$3&&tg(Tt,Zt),Ot}for(qt=rt(Tt,qt);Zt<kt.length;Zt++)tr=Et(qt,Tt,Zt,kt[Zt],Pt),tr!==null&&(et&&tr.alternate!==null&&qt.delete(tr.key===null?Zt:tr.key),$t=it(tr,$t,Zt),Ht===null?Ot=tr:Ht.sibling=tr,Ht=tr);return et&&qt.forEach(function(Rt){return _e(Tt,Rt)}),I$3&&tg(Tt,Zt),Ot}function At(Tt,$t,kt,Pt){var Ot=Ka(kt);if(typeof Ot!="function")throw Error(p$8(150));if(kt=Ot.call(kt),kt==null)throw Error(p$8(151));for(var Ht=Ot=null,qt=$t,Zt=$t=0,tr=null,Dt=kt.next();qt!==null&&!Dt.done;Zt++,Dt=kt.next()){qt.index>Zt?(tr=qt,qt=null):tr=qt.sibling;var Rt=bt(Tt,qt,Dt.value,Pt);if(Rt===null){qt===null&&(qt=tr);break}et&&qt&&Rt.alternate===null&&_e(Tt,qt),$t=it(Rt,$t,Zt),Ht===null?Ot=Rt:Ht.sibling=Rt,Ht=Rt,qt=tr}if(Dt.done)return tt(Tt,qt),I$3&&tg(Tt,Zt),Ot;if(qt===null){for(;!Dt.done;Zt++,Dt=kt.next())Dt=yt(Tt,Dt.value,Pt),Dt!==null&&($t=it(Dt,$t,Zt),Ht===null?Ot=Dt:Ht.sibling=Dt,Ht=Dt);return I$3&&tg(Tt,Zt),Ot}for(qt=rt(Tt,qt);!Dt.done;Zt++,Dt=kt.next())Dt=Et(qt,Tt,Zt,Dt.value,Pt),Dt!==null&&(et&&Dt.alternate!==null&&qt.delete(Dt.key===null?Zt:Dt.key),$t=it(Dt,$t,Zt),Ht===null?Ot=Dt:Ht.sibling=Dt,Ht=Dt);return et&&qt.forEach(function(Nt){return _e(Tt,Nt)}),I$3&&tg(Tt,Zt),Ot}function St(Tt,$t,kt,Pt){if(typeof kt=="object"&&kt!==null&&kt.type===ya&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:e:{for(var Ot=kt.key,Ht=$t;Ht!==null;){if(Ht.key===Ot){if(Ot=kt.type,Ot===ya){if(Ht.tag===7){tt(Tt,Ht.sibling),$t=nt(Ht,kt.props.children),$t.return=Tt,Tt=$t;break e}}else if(Ht.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ha&&uh(Ot)===Ht.type){tt(Tt,Ht.sibling),$t=nt(Ht,kt.props),$t.ref=sh$1(Tt,Ht,kt),$t.return=Tt,Tt=$t;break e}tt(Tt,Ht);break}else _e(Tt,Ht);Ht=Ht.sibling}kt.type===ya?($t=Ah(kt.props.children,Tt.mode,Pt,kt.key),$t.return=Tt,Tt=$t):(Pt=yh(kt.type,kt.key,kt.props,null,Tt.mode,Pt),Pt.ref=sh$1(Tt,$t,kt),Pt.return=Tt,Tt=Pt)}return at(Tt);case wa:e:{for(Ht=kt.key;$t!==null;){if($t.key===Ht)if($t.tag===4&&$t.stateNode.containerInfo===kt.containerInfo&&$t.stateNode.implementation===kt.implementation){tt(Tt,$t.sibling),$t=nt($t,kt.children||[]),$t.return=Tt,Tt=$t;break e}else{tt(Tt,$t);break}else _e(Tt,$t);$t=$t.sibling}$t=zh$1(kt,Tt.mode,Pt),$t.return=Tt,Tt=$t}return at(Tt);case Ha:return Ht=kt._init,St(Tt,$t,Ht(kt._payload),Pt)}if(eb(kt))return Ct(Tt,$t,kt,Pt);if(Ka(kt))return At(Tt,$t,kt,Pt);th(Tt,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"?(kt=""+kt,$t!==null&&$t.tag===6?(tt(Tt,$t.sibling),$t=nt($t,kt),$t.return=Tt,Tt=$t):(tt(Tt,$t),$t=xh(kt,Tt.mode,Pt),$t.return=Tt,Tt=$t),at(Tt)):tt(Tt,$t)}return St}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(et){if(et===Dh)throw Error(p$8(174));return et}function Ih(et,_e){switch(G$1(Gh,_e),G$1(Fh,et),G$1(Eh,Dh),et=_e.nodeType,et){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:et=et===8?_e.parentNode:_e,_e=et.namespaceURI||null,et=et.tagName,_e=lb(_e,et)}E$3(Eh),G$1(Eh,_e)}function Jh(){E$3(Eh),E$3(Fh),E$3(Gh)}function Kh$1(et){Hh(Gh.current);var _e=Hh(Eh.current),tt=lb(_e,et.type);_e!==tt&&(G$1(Fh,et),G$1(Eh,tt))}function Lh(et){Fh.current===et&&(E$3(Eh),E$3(Fh))}var M$3=Uf(0);function Mh(et){for(var _e=et;_e!==null;){if(_e.tag===13){var tt=_e.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if((_e.flags&128)!==0)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var et=0;et<Nh.length;et++)Nh[et]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$4=null,O$2=null,P$3=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$8(321))}function Wh(et,_e){if(_e===null)return!1;for(var tt=0;tt<_e.length&&tt<et.length;tt++)if(!He(et[tt],_e[tt]))return!1;return!0}function Xh(et,_e,tt,rt,nt,it){if(Rh=it,N$4=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=et===null||et.memoizedState===null?Yh:Zh,et=tt(rt,nt),Th){it=0;do{if(Th=!1,Uh=0,25<=it)throw Error(p$8(301));it+=1,P$3=O$2=null,_e.updateQueue=null,Ph.current=$h,et=tt(rt,nt)}while(Th)}if(Ph.current=ai,_e=O$2!==null&&O$2.next!==null,Rh=0,P$3=O$2=N$4=null,Sh=!1,_e)throw Error(p$8(300));return et}function bi(){var et=Uh!==0;return Uh=0,et}function ci(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$4.memoizedState=P$3=et:P$3=P$3.next=et,P$3}function di(){if(O$2===null){var et=N$4.alternate;et=et!==null?et.memoizedState:null}else et=O$2.next;var _e=P$3===null?N$4.memoizedState:P$3.next;if(_e!==null)P$3=_e,O$2=et;else{if(et===null)throw Error(p$8(310));O$2=et,et={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$3===null?N$4.memoizedState=P$3=et:P$3=P$3.next=et}return P$3}function ei(et,_e){return typeof _e=="function"?_e(et):_e}function fi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$8(311));tt.lastRenderedReducer=et;var rt=O$2,nt=rt.baseQueue,it=tt.pending;if(it!==null){if(nt!==null){var at=nt.next;nt.next=it.next,it.next=at}rt.baseQueue=nt=it,tt.pending=null}if(nt!==null){it=nt.next,rt=rt.baseState;var ot=at=null,ct=null,ut=it;do{var ft=ut.lane;if((Rh&ft)===ft)ct!==null&&(ct=ct.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),rt=ut.hasEagerState?ut.eagerState:et(rt,ut.action);else{var yt={lane:ft,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};ct===null?(ot=ct=yt,at=rt):ct=ct.next=yt,N$4.lanes|=ft,hh|=ft}ut=ut.next}while(ut!==null&&ut!==it);ct===null?at=rt:ct.next=ot,He(rt,_e.memoizedState)||(Ug=!0),_e.memoizedState=rt,_e.baseState=at,_e.baseQueue=ct,tt.lastRenderedState=rt}if(et=tt.interleaved,et!==null){nt=et;do it=nt.lane,N$4.lanes|=it,hh|=it,nt=nt.next;while(nt!==et)}else nt===null&&(tt.lanes=0);return[_e.memoizedState,tt.dispatch]}function gi(et){var _e=di(),tt=_e.queue;if(tt===null)throw Error(p$8(311));tt.lastRenderedReducer=et;var rt=tt.dispatch,nt=tt.pending,it=_e.memoizedState;if(nt!==null){tt.pending=null;var at=nt=nt.next;do it=et(it,at.action),at=at.next;while(at!==nt);He(it,_e.memoizedState)||(Ug=!0),_e.memoizedState=it,_e.baseQueue===null&&(_e.baseState=it),tt.lastRenderedState=it}return[it,rt]}function hi(){}function ii(et,_e){var tt=N$4,rt=di(),nt=_e(),it=!He(rt.memoizedState,nt);if(it&&(rt.memoizedState=nt,Ug=!0),rt=rt.queue,ji(ki.bind(null,tt,rt,et),[et]),rt.getSnapshot!==_e||it||P$3!==null&&P$3.memoizedState.tag&1){if(tt.flags|=2048,li(9,mi.bind(null,tt,rt,nt,_e),void 0,null),R$3===null)throw Error(p$8(349));(Rh&30)!==0||ni(tt,_e,nt)}return nt}function ni(et,_e,tt){et.flags|=16384,et={getSnapshot:_e,value:tt},_e=N$4.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$4.updateQueue=_e,_e.stores=[et]):(tt=_e.stores,tt===null?_e.stores=[et]:tt.push(et))}function mi(et,_e,tt,rt){_e.value=tt,_e.getSnapshot=rt,oi(_e)&&pi(et)}function ki(et,_e,tt){return tt(function(){oi(_e)&&pi(et)})}function oi(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!He(et,tt)}catch{return!0}}function pi(et){var _e=Zg(et,1);_e!==null&&mh(_e,et,1,-1)}function qi(et){var _e=ci();return typeof et=="function"&&(et=et()),_e.memoizedState=_e.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:et},_e.queue=et,et=et.dispatch=ri.bind(null,N$4,et),[_e.memoizedState,et]}function li(et,_e,tt,rt){return et={tag:et,create:_e,destroy:tt,deps:rt,next:null},_e=N$4.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$4.updateQueue=_e,_e.lastEffect=et.next=et):(tt=_e.lastEffect,tt===null?_e.lastEffect=et.next=et:(rt=tt.next,tt.next=et,et.next=rt,_e.lastEffect=et)),et}function si(){return di().memoizedState}function ti(et,_e,tt,rt){var nt=ci();N$4.flags|=et,nt.memoizedState=li(1|_e,tt,void 0,rt===void 0?null:rt)}function ui(et,_e,tt,rt){var nt=di();rt=rt===void 0?null:rt;var it=void 0;if(O$2!==null){var at=O$2.memoizedState;if(it=at.destroy,rt!==null&&Wh(rt,at.deps)){nt.memoizedState=li(_e,tt,it,rt);return}}N$4.flags|=et,nt.memoizedState=li(1|_e,tt,it,rt)}function vi(et,_e){return ti(8390656,8,et,_e)}function ji(et,_e){return ui(2048,8,et,_e)}function wi(et,_e){return ui(4,2,et,_e)}function xi(et,_e){return ui(4,4,et,_e)}function yi(et,_e){if(typeof _e=="function")return et=et(),_e(et),function(){_e(null)};if(_e!=null)return et=et(),_e.current=et,function(){_e.current=null}}function zi(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ui(4,4,yi.bind(null,_e,et),tt)}function Ai(){}function Bi(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(tt.memoizedState=[et,_e],et)}function Ci(et,_e){var tt=di();_e=_e===void 0?null:_e;var rt=tt.memoizedState;return rt!==null&&_e!==null&&Wh(_e,rt[1])?rt[0]:(et=et(),tt.memoizedState=[et,_e],et)}function Di(et,_e,tt){return(Rh&21)===0?(et.baseState&&(et.baseState=!1,Ug=!0),et.memoizedState=tt):(He(tt,_e)||(tt=yc(),N$4.lanes|=tt,hh|=tt,et.baseState=!0),_e)}function Ei(et,_e){var tt=C$3;C$3=tt!==0&&4>tt?tt:4,et(!0);var rt=Qh.transition;Qh.transition={};try{et(!1),_e()}finally{C$3=tt,Qh.transition=rt}}function Fi(){return di().memoizedState}function Gi(et,_e,tt){var rt=lh(et);if(tt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null},Hi(et))Ii(_e,tt);else if(tt=Yg(et,_e,tt,rt),tt!==null){var nt=L$3();mh(tt,et,rt,nt),Ji(tt,_e,rt)}}function ri(et,_e,tt){var rt=lh(et),nt={lane:rt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(Hi(et))Ii(_e,nt);else{var it=et.alternate;if(et.lanes===0&&(it===null||it.lanes===0)&&(it=_e.lastRenderedReducer,it!==null))try{var at=_e.lastRenderedState,ot=it(at,tt);if(nt.hasEagerState=!0,nt.eagerState=ot,He(ot,at)){var ct=_e.interleaved;ct===null?(nt.next=nt,Xg(_e)):(nt.next=ct.next,ct.next=nt),_e.interleaved=nt;return}}catch{}finally{}tt=Yg(et,_e,nt,rt),tt!==null&&(nt=L$3(),mh(tt,et,rt,nt),Ji(tt,_e,rt))}}function Hi(et){var _e=et.alternate;return et===N$4||_e!==null&&_e===N$4}function Ii(et,_e){Th=Sh=!0;var tt=et.pending;tt===null?_e.next=_e:(_e.next=tt.next,tt.next=_e),et.pending=_e}function Ji(et,_e,tt){if((tt&4194240)!==0){var rt=_e.lanes;rt&=et.pendingLanes,tt|=rt,_e.lanes=tt,Cc(et,tt)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(et,_e){return ci().memoizedState=[et,_e===void 0?null:_e],et},useContext:Vg,useEffect:vi,useImperativeHandle:function(et,_e,tt){return tt=tt!=null?tt.concat([et]):null,ti(4194308,4,yi.bind(null,_e,et),tt)},useLayoutEffect:function(et,_e){return ti(4194308,4,et,_e)},useInsertionEffect:function(et,_e){return ti(4,2,et,_e)},useMemo:function(et,_e){var tt=ci();return _e=_e===void 0?null:_e,et=et(),tt.memoizedState=[et,_e],et},useReducer:function(et,_e,tt){var rt=ci();return _e=tt!==void 0?tt(_e):_e,rt.memoizedState=rt.baseState=_e,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:_e},rt.queue=et,et=et.dispatch=Gi.bind(null,N$4,et),[rt.memoizedState,et]},useRef:function(et){var _e=ci();return et={current:et},_e.memoizedState=et},useState:qi,useDebugValue:Ai,useDeferredValue:function(et){return ci().memoizedState=et},useTransition:function(){var et=qi(!1),_e=et[0];return et=Ei.bind(null,et[1]),ci().memoizedState=et,[_e,et]},useMutableSource:function(){},useSyncExternalStore:function(et,_e,tt){var rt=N$4,nt=ci();if(I$3){if(tt===void 0)throw Error(p$8(407));tt=tt()}else{if(tt=_e(),R$3===null)throw Error(p$8(349));(Rh&30)!==0||ni(rt,_e,tt)}nt.memoizedState=tt;var it={value:tt,getSnapshot:_e};return nt.queue=it,vi(ki.bind(null,rt,it,et),[et]),rt.flags|=2048,li(9,mi.bind(null,rt,it,tt,_e),void 0,null),tt},useId:function(){var et=ci(),_e=R$3.identifierPrefix;if(I$3){var tt=sg,rt=rg;tt=(rt&~(1<<32-oc(rt)-1)).toString(32)+tt,_e=":"+_e+"R"+tt,tt=Uh++,0<tt&&(_e+="H"+tt.toString(32)),_e+=":"}else tt=Vh++,_e=":"+_e+"r"+tt.toString(32)+":";return et.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return Di(_e,O$2.memoizedState,et)},useTransition:function(){var et=fi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(et){var _e=di();return O$2===null?_e.memoizedState=et:Di(_e,O$2.memoizedState,et)},useTransition:function(){var et=gi(ei)[0],_e=di().memoizedState;return[et,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(et,_e){try{var tt="",rt=_e;do tt+=Pa(rt),rt=rt.return;while(rt);var nt=tt}catch(it){nt=`
Error generating stack: `+it.message+`
`+it.stack}return{value:et,source:_e,stack:nt,digest:null}}function Li(et,_e,tt){return{value:et,source:null,stack:tt!=null?tt:null,digest:_e!=null?_e:null}}function Mi(et,_e){try{console.error(_e.value)}catch(tt){setTimeout(function(){throw tt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(et,_e,tt){tt=ch(-1,tt),tt.tag=3,tt.payload={element:null};var rt=_e.value;return tt.callback=function(){Pi||(Pi=!0,Qi=rt),Mi(et,_e)},tt}function Ri(et,_e,tt){tt=ch(-1,tt),tt.tag=3;var rt=et.type.getDerivedStateFromError;if(typeof rt=="function"){var nt=_e.value;tt.payload=function(){return rt(nt)},tt.callback=function(){Mi(et,_e)}}var it=et.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Mi(et,_e),typeof rt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var at=_e.stack;this.componentDidCatch(_e.value,{componentStack:at!==null?at:""})}),tt}function Ti(et,_e,tt){var rt=et.pingCache;if(rt===null){rt=et.pingCache=new Ni;var nt=new Set;rt.set(_e,nt)}else nt=rt.get(_e),nt===void 0&&(nt=new Set,rt.set(_e,nt));nt.has(tt)||(nt.add(tt),et=Ui.bind(null,et,_e,tt),_e.then(et,et))}function Vi(et){do{var _e;if((_e=et.tag===13)&&(_e=et.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return et;et=et.return}while(et!==null);return null}function Wi(et,_e,tt,rt,nt){return(et.mode&1)===0?(et===_e?et.flags|=65536:(et.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(_e=ch(-1,1),_e.tag=2,dh(tt,_e,1))),tt.lanes|=1),et):(et.flags|=65536,et.lanes=nt,et)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(et,_e,tt,rt){_e.child=et===null?Ch(_e,null,tt,rt):Bh(_e,et.child,tt,rt)}function Zi(et,_e,tt,rt,nt){tt=tt.render;var it=_e.ref;return Tg(_e,nt),rt=Xh(et,_e,tt,rt,it,nt),tt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$3&&tt&&vg(_e),_e.flags|=1,Yi(et,_e,rt,nt),_e.child)}function aj(et,_e,tt,rt,nt){if(et===null){var it=tt.type;return typeof it=="function"&&!bj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(_e.tag=15,_e.type=it,cj(et,_e,it,rt,nt)):(et=yh(tt.type,null,rt,_e,_e.mode,nt),et.ref=_e.ref,et.return=_e,_e.child=et)}if(it=et.child,(et.lanes&nt)===0){var at=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(at,rt)&&et.ref===_e.ref)return $i(et,_e,nt)}return _e.flags|=1,et=wh(it,rt),et.ref=_e.ref,et.return=_e,_e.child=et}function cj(et,_e,tt,rt,nt){if(et!==null){var it=et.memoizedProps;if(Ie(it,rt)&&et.ref===_e.ref)if(Ug=!1,_e.pendingProps=rt=it,(et.lanes&nt)!==0)(et.flags&131072)!==0&&(Ug=!0);else return _e.lanes=et.lanes,$i(et,_e,nt)}return dj(et,_e,tt,rt,nt)}function ej(et,_e,tt){var rt=_e.pendingProps,nt=rt.children,it=et!==null?et.memoizedState:null;if(rt.mode==="hidden")if((_e.mode&1)===0)_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=tt;else{if((tt&1073741824)===0)return et=it!==null?it.baseLanes|tt:tt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:et,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=et,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=it!==null?it.baseLanes:tt,G$1(fj,gj),gj|=rt}else it!==null?(rt=it.baseLanes|tt,_e.memoizedState=null):rt=tt,G$1(fj,gj),gj|=rt;return Yi(et,_e,nt,tt),_e.child}function hj(et,_e){var tt=_e.ref;(et===null&&tt!==null||et!==null&&et.ref!==tt)&&(_e.flags|=512,_e.flags|=2097152)}function dj(et,_e,tt,rt,nt){var it=Zf(tt)?Xf:H$3.current;return it=Yf(_e,it),Tg(_e,nt),tt=Xh(et,_e,tt,rt,it,nt),rt=bi(),et!==null&&!Ug?(_e.updateQueue=et.updateQueue,_e.flags&=-2053,et.lanes&=~nt,$i(et,_e,nt)):(I$3&&rt&&vg(_e),_e.flags|=1,Yi(et,_e,tt,nt),_e.child)}function ij(et,_e,tt,rt,nt){if(Zf(tt)){var it=!0;cg(_e)}else it=!1;if(Tg(_e,nt),_e.stateNode===null)jj(et,_e),ph(_e,tt,rt),rh$1(_e,tt,rt,nt),rt=!0;else if(et===null){var at=_e.stateNode,ot=_e.memoizedProps;at.props=ot;var ct=at.context,ut=tt.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(tt)?Xf:H$3.current,ut=Yf(_e,ut));var ft=tt.getDerivedStateFromProps,yt=typeof ft=="function"||typeof at.getSnapshotBeforeUpdate=="function";yt||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==rt||ct!==ut)&&qh(_e,at,rt,ut),$g=!1;var bt=_e.memoizedState;at.state=bt,gh(_e,rt,at,nt),ct=_e.memoizedState,ot!==rt||bt!==ct||Wf.current||$g?(typeof ft=="function"&&(kh(_e,tt,ft,rt),ct=_e.memoizedState),(ot=$g||oh(_e,tt,ot,rt,bt,ct,ut))?(yt||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof at.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=rt,_e.memoizedState=ct),at.props=rt,at.state=ct,at.context=ut,rt=ot):(typeof at.componentDidMount=="function"&&(_e.flags|=4194308),rt=!1)}else{at=_e.stateNode,bh(et,_e),ot=_e.memoizedProps,ut=_e.type===_e.elementType?ot:Lg(_e.type,ot),at.props=ut,yt=_e.pendingProps,bt=at.context,ct=tt.contextType,typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(tt)?Xf:H$3.current,ct=Yf(_e,ct));var Et=tt.getDerivedStateFromProps;(ft=typeof Et=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==yt||bt!==ct)&&qh(_e,at,rt,ct),$g=!1,bt=_e.memoizedState,at.state=bt,gh(_e,rt,at,nt);var Ct=_e.memoizedState;ot!==yt||bt!==Ct||Wf.current||$g?(typeof Et=="function"&&(kh(_e,tt,Et,rt),Ct=_e.memoizedState),(ut=$g||oh(_e,tt,ut,rt,bt,Ct,ct)||!1)?(ft||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(rt,Ct,ct),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(rt,Ct,ct)),typeof at.componentDidUpdate=="function"&&(_e.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof at.componentDidUpdate!="function"||ot===et.memoizedProps&&bt===et.memoizedState||(_e.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===et.memoizedProps&&bt===et.memoizedState||(_e.flags|=1024),_e.memoizedProps=rt,_e.memoizedState=Ct),at.props=rt,at.state=Ct,at.context=ct,rt=ut):(typeof at.componentDidUpdate!="function"||ot===et.memoizedProps&&bt===et.memoizedState||(_e.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===et.memoizedProps&&bt===et.memoizedState||(_e.flags|=1024),rt=!1)}return kj(et,_e,tt,rt,it,nt)}function kj(et,_e,tt,rt,nt,it){hj(et,_e);var at=(_e.flags&128)!==0;if(!rt&&!at)return nt&&dg(_e,tt,!1),$i(et,_e,it);rt=_e.stateNode,Xi.current=_e;var ot=at&&typeof tt.getDerivedStateFromError!="function"?null:rt.render();return _e.flags|=1,et!==null&&at?(_e.child=Bh(_e,et.child,null,it),_e.child=Bh(_e,null,ot,it)):Yi(et,_e,ot,it),_e.memoizedState=rt.state,nt&&dg(_e,tt,!0),_e.child}function lj(et){var _e=et.stateNode;_e.pendingContext?ag(et,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(et,_e.context,!1),Ih(et,_e.containerInfo)}function mj(et,_e,tt,rt,nt){return Ig(),Jg(nt),_e.flags|=256,Yi(et,_e,tt,rt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(et){return{baseLanes:et,cachePool:null,transitions:null}}function pj(et,_e,tt){var rt=_e.pendingProps,nt=M$3.current,it=!1,at=(_e.flags&128)!==0,ot;if((ot=at)||(ot=et!==null&&et.memoizedState===null?!1:(nt&2)!==0),ot?(it=!0,_e.flags&=-129):(et===null||et.memoizedState!==null)&&(nt|=1),G$1(M$3,nt&1),et===null)return Eg(_e),et=_e.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?((_e.mode&1)===0?_e.lanes=1:et.data==="$!"?_e.lanes=8:_e.lanes=1073741824,null):(at=rt.children,et=rt.fallback,it?(rt=_e.mode,it=_e.child,at={mode:"hidden",children:at},(rt&1)===0&&it!==null?(it.childLanes=0,it.pendingProps=at):it=qj(at,rt,0,null),et=Ah(et,rt,tt,null),it.return=_e,et.return=_e,it.sibling=et,_e.child=it,_e.child.memoizedState=oj(tt),_e.memoizedState=nj,et):rj(_e,at));if(nt=et.memoizedState,nt!==null&&(ot=nt.dehydrated,ot!==null))return sj(et,_e,at,rt,ot,nt,tt);if(it){it=rt.fallback,at=_e.mode,nt=et.child,ot=nt.sibling;var ct={mode:"hidden",children:rt.children};return(at&1)===0&&_e.child!==nt?(rt=_e.child,rt.childLanes=0,rt.pendingProps=ct,_e.deletions=null):(rt=wh(nt,ct),rt.subtreeFlags=nt.subtreeFlags&14680064),ot!==null?it=wh(ot,it):(it=Ah(it,at,tt,null),it.flags|=2),it.return=_e,rt.return=_e,rt.sibling=it,_e.child=rt,rt=it,it=_e.child,at=et.child.memoizedState,at=at===null?oj(tt):{baseLanes:at.baseLanes|tt,cachePool:null,transitions:at.transitions},it.memoizedState=at,it.childLanes=et.childLanes&~tt,_e.memoizedState=nj,rt}return it=et.child,et=it.sibling,rt=wh(it,{mode:"visible",children:rt.children}),(_e.mode&1)===0&&(rt.lanes=tt),rt.return=_e,rt.sibling=null,et!==null&&(tt=_e.deletions,tt===null?(_e.deletions=[et],_e.flags|=16):tt.push(et)),_e.child=rt,_e.memoizedState=null,rt}function rj(et,_e){return _e=qj({mode:"visible",children:_e},et.mode,0,null),_e.return=et,et.child=_e}function tj(et,_e,tt,rt){return rt!==null&&Jg(rt),Bh(_e,et.child,null,tt),et=rj(_e,_e.pendingProps.children),et.flags|=2,_e.memoizedState=null,et}function sj(et,_e,tt,rt,nt,it,at){if(tt)return _e.flags&256?(_e.flags&=-257,rt=Li(Error(p$8(422))),tj(et,_e,at,rt)):_e.memoizedState!==null?(_e.child=et.child,_e.flags|=128,null):(it=rt.fallback,nt=_e.mode,rt=qj({mode:"visible",children:rt.children},nt,0,null),it=Ah(it,nt,at,null),it.flags|=2,rt.return=_e,it.return=_e,rt.sibling=it,_e.child=rt,(_e.mode&1)!==0&&Bh(_e,et.child,null,at),_e.child.memoizedState=oj(at),_e.memoizedState=nj,it);if((_e.mode&1)===0)return tj(et,_e,at,null);if(nt.data==="$!"){if(rt=nt.nextSibling&&nt.nextSibling.dataset,rt)var ot=rt.dgst;return rt=ot,it=Error(p$8(419)),rt=Li(it,rt,void 0),tj(et,_e,at,rt)}if(ot=(at&et.childLanes)!==0,Ug||ot){if(rt=R$3,rt!==null){switch(at&-at){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=(nt&(rt.suspendedLanes|at))!==0?0:nt,nt!==0&&nt!==it.retryLane&&(it.retryLane=nt,Zg(et,nt),mh(rt,et,nt,-1))}return uj(),rt=Li(Error(p$8(421))),tj(et,_e,at,rt)}return nt.data==="$?"?(_e.flags|=128,_e.child=et.child,_e=vj.bind(null,et),nt._reactRetry=_e,null):(et=it.treeContext,yg=Lf(nt.nextSibling),xg=_e,I$3=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=_e),_e=rj(_e,rt.children),_e.flags|=4096,_e)}function wj(et,_e,tt){et.lanes|=_e;var rt=et.alternate;rt!==null&&(rt.lanes|=_e),Sg(et.return,_e,tt)}function xj(et,_e,tt,rt,nt){var it=et.memoizedState;it===null?et.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:rt,tail:tt,tailMode:nt}:(it.isBackwards=_e,it.rendering=null,it.renderingStartTime=0,it.last=rt,it.tail=tt,it.tailMode=nt)}function yj(et,_e,tt){var rt=_e.pendingProps,nt=rt.revealOrder,it=rt.tail;if(Yi(et,_e,rt.children,tt),rt=M$3.current,(rt&2)!==0)rt=rt&1|2,_e.flags|=128;else{if(et!==null&&(et.flags&128)!==0)e:for(et=_e.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&wj(et,tt,_e);else if(et.tag===19)wj(et,tt,_e);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break e;for(;et.sibling===null;){if(et.return===null||et.return===_e)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}rt&=1}if(G$1(M$3,rt),(_e.mode&1)===0)_e.memoizedState=null;else switch(nt){case"forwards":for(tt=_e.child,nt=null;tt!==null;)et=tt.alternate,et!==null&&Mh(et)===null&&(nt=tt),tt=tt.sibling;tt=nt,tt===null?(nt=_e.child,_e.child=null):(nt=tt.sibling,tt.sibling=null),xj(_e,!1,nt,tt,it);break;case"backwards":for(tt=null,nt=_e.child,_e.child=null;nt!==null;){if(et=nt.alternate,et!==null&&Mh(et)===null){_e.child=nt;break}et=nt.sibling,nt.sibling=tt,tt=nt,nt=et}xj(_e,!0,tt,null,it);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj(et,_e){(_e.mode&1)===0&&et!==null&&(et.alternate=null,_e.alternate=null,_e.flags|=2)}function $i(et,_e,tt){if(et!==null&&(_e.dependencies=et.dependencies),hh|=_e.lanes,(tt&_e.childLanes)===0)return null;if(et!==null&&_e.child!==et.child)throw Error(p$8(153));if(_e.child!==null){for(et=_e.child,tt=wh(et,et.pendingProps),_e.child=tt,tt.return=_e;et.sibling!==null;)et=et.sibling,tt=tt.sibling=wh(et,et.pendingProps),tt.return=_e;tt.sibling=null}return _e.child}function zj(et,_e,tt){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh$1(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var rt=_e.type._context,nt=_e.memoizedProps.value;G$1(Mg,rt._currentValue),rt._currentValue=nt;break;case 13:if(rt=_e.memoizedState,rt!==null)return rt.dehydrated!==null?(G$1(M$3,M$3.current&1),_e.flags|=128,null):(tt&_e.child.childLanes)!==0?pj(et,_e,tt):(G$1(M$3,M$3.current&1),et=$i(et,_e,tt),et!==null?et.sibling:null);G$1(M$3,M$3.current&1);break;case 19:if(rt=(tt&_e.childLanes)!==0,(et.flags&128)!==0){if(rt)return yj(et,_e,tt);_e.flags|=128}if(nt=_e.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$3,M$3.current),rt)break;return null;case 22:case 23:return _e.lanes=0,ej(et,_e,tt)}return $i(et,_e,tt)}var Aj,Bj,Cj,Dj;Aj=function(et,_e){for(var tt=_e.child;tt!==null;){if(tt.tag===5||tt.tag===6)et.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Bj=function(){};Cj=function(et,_e,tt,rt){var nt=et.memoizedProps;if(nt!==rt){et=_e.stateNode,Hh(Eh.current);var it=null;switch(tt){case"input":nt=Ya(et,nt),rt=Ya(et,rt),it=[];break;case"select":nt=A$6({},nt,{value:void 0}),rt=A$6({},rt,{value:void 0}),it=[];break;case"textarea":nt=gb(et,nt),rt=gb(et,rt),it=[];break;default:typeof nt.onClick!="function"&&typeof rt.onClick=="function"&&(et.onclick=Bf)}ub(tt,rt);var at;tt=null;for(ut in nt)if(!rt.hasOwnProperty(ut)&&nt.hasOwnProperty(ut)&&nt[ut]!=null)if(ut==="style"){var ot=nt[ut];for(at in ot)ot.hasOwnProperty(at)&&(tt||(tt={}),tt[at]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?it||(it=[]):(it=it||[]).push(ut,null));for(ut in rt){var ct=rt[ut];if(ot=nt!=null?nt[ut]:void 0,rt.hasOwnProperty(ut)&&ct!==ot&&(ct!=null||ot!=null))if(ut==="style")if(ot){for(at in ot)!ot.hasOwnProperty(at)||ct&&ct.hasOwnProperty(at)||(tt||(tt={}),tt[at]="");for(at in ct)ct.hasOwnProperty(at)&&ot[at]!==ct[at]&&(tt||(tt={}),tt[at]=ct[at])}else tt||(it||(it=[]),it.push(ut,tt)),tt=ct;else ut==="dangerouslySetInnerHTML"?(ct=ct?ct.__html:void 0,ot=ot?ot.__html:void 0,ct!=null&&ot!==ct&&(it=it||[]).push(ut,ct)):ut==="children"?typeof ct!="string"&&typeof ct!="number"||(it=it||[]).push(ut,""+ct):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(ct!=null&&ut==="onScroll"&&D$3("scroll",et),it||ot===ct||(it=[])):(it=it||[]).push(ut,ct))}tt&&(it=it||[]).push("style",tt);var ut=it;(_e.updateQueue=ut)&&(_e.flags|=4)}};Dj=function(et,_e,tt,rt){tt!==rt&&(_e.flags|=4)};function Ej(et,_e){if(!I$3)switch(et.tailMode){case"hidden":_e=et.tail;for(var tt=null;_e!==null;)_e.alternate!==null&&(tt=_e),_e=_e.sibling;tt===null?et.tail=null:tt.sibling=null;break;case"collapsed":tt=et.tail;for(var rt=null;tt!==null;)tt.alternate!==null&&(rt=tt),tt=tt.sibling;rt===null?_e||et.tail===null?et.tail=null:et.tail.sibling=null:rt.sibling=null}}function S$2(et){var _e=et.alternate!==null&&et.alternate.child===et.child,tt=0,rt=0;if(_e)for(var nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags&14680064,rt|=nt.flags&14680064,nt.return=et,nt=nt.sibling;else for(nt=et.child;nt!==null;)tt|=nt.lanes|nt.childLanes,rt|=nt.subtreeFlags,rt|=nt.flags,nt.return=et,nt=nt.sibling;return et.subtreeFlags|=rt,et.childLanes=tt,_e}function Fj(et,_e,tt){var rt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(_e),null;case 1:return Zf(_e.type)&&$f(),S$2(_e),null;case 3:return rt=_e.stateNode,Jh(),E$3(Wf),E$3(H$3),Oh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(et===null||et.child===null)&&(Gg(_e)?_e.flags|=4:et===null||et.memoizedState.isDehydrated&&(_e.flags&256)===0||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(et,_e),S$2(_e),null;case 5:Lh(_e);var nt=Hh(Gh.current);if(tt=_e.type,et!==null&&_e.stateNode!=null)Cj(et,_e,tt,rt,nt),et.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!rt){if(_e.stateNode===null)throw Error(p$8(166));return S$2(_e),null}if(et=Hh(Eh.current),Gg(_e)){rt=_e.stateNode,tt=_e.type;var it=_e.memoizedProps;switch(rt[Of]=_e,rt[Pf]=it,et=(_e.mode&1)!==0,tt){case"dialog":D$3("cancel",rt),D$3("close",rt);break;case"iframe":case"object":case"embed":D$3("load",rt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$3(lf[nt],rt);break;case"source":D$3("error",rt);break;case"img":case"image":case"link":D$3("error",rt),D$3("load",rt);break;case"details":D$3("toggle",rt);break;case"input":Za(rt,it),D$3("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!it.multiple},D$3("invalid",rt);break;case"textarea":hb(rt,it),D$3("invalid",rt)}ub(tt,it),nt=null;for(var at in it)if(it.hasOwnProperty(at)){var ot=it[at];at==="children"?typeof ot=="string"?rt.textContent!==ot&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,ot,et),nt=["children",ot]):typeof ot=="number"&&rt.textContent!==""+ot&&(it.suppressHydrationWarning!==!0&&Af(rt.textContent,ot,et),nt=["children",""+ot]):ea.hasOwnProperty(at)&&ot!=null&&at==="onScroll"&&D$3("scroll",rt)}switch(tt){case"input":Va(rt),db(rt,it,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(rt.onclick=Bf)}rt=nt,_e.updateQueue=rt,rt!==null&&(_e.flags|=4)}else{at=nt.nodeType===9?nt:nt.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(tt)),et==="http://www.w3.org/1999/xhtml"?tt==="script"?(et=at.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof rt.is=="string"?et=at.createElement(tt,{is:rt.is}):(et=at.createElement(tt),tt==="select"&&(at=et,rt.multiple?at.multiple=!0:rt.size&&(at.size=rt.size))):et=at.createElementNS(et,tt),et[Of]=_e,et[Pf]=rt,Aj(et,_e,!1,!1),_e.stateNode=et;e:{switch(at=vb(tt,rt),tt){case"dialog":D$3("cancel",et),D$3("close",et),nt=rt;break;case"iframe":case"object":case"embed":D$3("load",et),nt=rt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$3(lf[nt],et);nt=rt;break;case"source":D$3("error",et),nt=rt;break;case"img":case"image":case"link":D$3("error",et),D$3("load",et),nt=rt;break;case"details":D$3("toggle",et),nt=rt;break;case"input":Za(et,rt),nt=Ya(et,rt),D$3("invalid",et);break;case"option":nt=rt;break;case"select":et._wrapperState={wasMultiple:!!rt.multiple},nt=A$6({},rt,{value:void 0}),D$3("invalid",et);break;case"textarea":hb(et,rt),nt=gb(et,rt),D$3("invalid",et);break;default:nt=rt}ub(tt,nt),ot=nt;for(it in ot)if(ot.hasOwnProperty(it)){var ct=ot[it];it==="style"?sb(et,ct):it==="dangerouslySetInnerHTML"?(ct=ct?ct.__html:void 0,ct!=null&&nb(et,ct)):it==="children"?typeof ct=="string"?(tt!=="textarea"||ct!=="")&&ob(et,ct):typeof ct=="number"&&ob(et,""+ct):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?ct!=null&&it==="onScroll"&&D$3("scroll",et):ct!=null&&ta(et,it,ct,at))}switch(tt){case"input":Va(et),db(et,rt,!1);break;case"textarea":Va(et),jb(et);break;case"option":rt.value!=null&&et.setAttribute("value",""+Sa(rt.value));break;case"select":et.multiple=!!rt.multiple,it=rt.value,it!=null?fb(et,!!rt.multiple,it,!1):rt.defaultValue!=null&&fb(et,!!rt.multiple,rt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$2(_e),null;case 6:if(et&&_e.stateNode!=null)Dj(et,_e,et.memoizedProps,rt);else{if(typeof rt!="string"&&_e.stateNode===null)throw Error(p$8(166));if(tt=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(rt=_e.stateNode,tt=_e.memoizedProps,rt[Of]=_e,(it=rt.nodeValue!==tt)&&(et=xg,et!==null))switch(et.tag){case 3:Af(rt.nodeValue,tt,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,tt,(et.mode&1)!==0)}it&&(_e.flags|=4)}else rt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(rt),rt[Of]=_e,_e.stateNode=rt}return S$2(_e),null;case 13:if(E$3(M$3),rt=_e.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&(_e.mode&1)!==0&&(_e.flags&128)===0)Hg(),Ig(),_e.flags|=98560,it=!1;else if(it=Gg(_e),rt!==null&&rt.dehydrated!==null){if(et===null){if(!it)throw Error(p$8(318));if(it=_e.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$8(317));it[Of]=_e}else Ig(),(_e.flags&128)===0&&(_e.memoizedState=null),_e.flags|=4;S$2(_e),it=!1}else zg!==null&&(Gj(zg),zg=null),it=!0;if(!it)return _e.flags&65536?_e:null}return(_e.flags&128)!==0?(_e.lanes=tt,_e):(rt=rt!==null,rt!==(et!==null&&et.memoizedState!==null)&&rt&&(_e.child.flags|=8192,(_e.mode&1)!==0&&(et===null||(M$3.current&1)!==0?T$5===0&&(T$5=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$2(_e),null);case 4:return Jh(),Bj(et,_e),et===null&&sf(_e.stateNode.containerInfo),S$2(_e),null;case 10:return Rg(_e.type._context),S$2(_e),null;case 17:return Zf(_e.type)&&$f(),S$2(_e),null;case 19:if(E$3(M$3),it=_e.memoizedState,it===null)return S$2(_e),null;if(rt=(_e.flags&128)!==0,at=it.rendering,at===null)if(rt)Ej(it,!1);else{if(T$5!==0||et!==null&&(et.flags&128)!==0)for(et=_e.child;et!==null;){if(at=Mh(et),at!==null){for(_e.flags|=128,Ej(it,!1),rt=at.updateQueue,rt!==null&&(_e.updateQueue=rt,_e.flags|=4),_e.subtreeFlags=0,rt=tt,tt=_e.child;tt!==null;)it=tt,et=rt,it.flags&=14680066,at=it.alternate,at===null?(it.childLanes=0,it.lanes=et,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=at.childLanes,it.lanes=at.lanes,it.child=at.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=at.memoizedProps,it.memoizedState=at.memoizedState,it.updateQueue=at.updateQueue,it.type=at.type,et=at.dependencies,it.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),tt=tt.sibling;return G$1(M$3,M$3.current&1|2),_e.child}et=et.sibling}it.tail!==null&&B$2()>Hj&&(_e.flags|=128,rt=!0,Ej(it,!1),_e.lanes=4194304)}else{if(!rt)if(et=Mh(at),et!==null){if(_e.flags|=128,rt=!0,tt=et.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),Ej(it,!0),it.tail===null&&it.tailMode==="hidden"&&!at.alternate&&!I$3)return S$2(_e),null}else 2*B$2()-it.renderingStartTime>Hj&&tt!==1073741824&&(_e.flags|=128,rt=!0,Ej(it,!1),_e.lanes=4194304);it.isBackwards?(at.sibling=_e.child,_e.child=at):(tt=it.last,tt!==null?tt.sibling=at:_e.child=at,it.last=at)}return it.tail!==null?(_e=it.tail,it.rendering=_e,it.tail=_e.sibling,it.renderingStartTime=B$2(),_e.sibling=null,tt=M$3.current,G$1(M$3,rt?tt&1|2:tt&1),_e):(S$2(_e),null);case 22:case 23:return Ij(),rt=_e.memoizedState!==null,et!==null&&et.memoizedState!==null!==rt&&(_e.flags|=8192),rt&&(_e.mode&1)!==0?(gj&1073741824)!==0&&(S$2(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$2(_e),null;case 24:return null;case 25:return null}throw Error(p$8(156,_e.tag))}function Jj(et,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 3:return Jh(),E$3(Wf),E$3(H$3),Oh(),et=_e.flags,(et&65536)!==0&&(et&128)===0?(_e.flags=et&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$3(M$3),et=_e.memoizedState,et!==null&&et.dehydrated!==null){if(_e.alternate===null)throw Error(p$8(340));Ig()}return et=_e.flags,et&65536?(_e.flags=et&-65537|128,_e):null;case 19:return E$3(M$3),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(et,_e){var tt=et.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(rt){W$1(et,_e,rt)}else tt.current=null}function Nj(et,_e,tt){try{tt()}catch(rt){W$1(et,_e,rt)}}var Oj=!1;function Pj(et,_e){if(Cf=dd,et=Me(),Ne(et)){if("selectionStart"in et)var tt={start:et.selectionStart,end:et.selectionEnd};else e:{tt=(tt=et.ownerDocument)&&tt.defaultView||window;var rt=tt.getSelection&&tt.getSelection();if(rt&&rt.rangeCount!==0){tt=rt.anchorNode;var nt=rt.anchorOffset,it=rt.focusNode;rt=rt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var at=0,ot=-1,ct=-1,ut=0,ft=0,yt=et,bt=null;t:for(;;){for(var Et;yt!==tt||nt!==0&&yt.nodeType!==3||(ot=at+nt),yt!==it||rt!==0&&yt.nodeType!==3||(ct=at+rt),yt.nodeType===3&&(at+=yt.nodeValue.length),(Et=yt.firstChild)!==null;)bt=yt,yt=Et;for(;;){if(yt===et)break t;if(bt===tt&&++ut===nt&&(ot=at),bt===it&&++ft===rt&&(ct=at),(Et=yt.nextSibling)!==null)break;yt=bt,bt=yt.parentNode}yt=Et}tt=ot===-1||ct===-1?null:{start:ot,end:ct}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:et,selectionRange:tt},dd=!1,V$1=_e;V$1!==null;)if(_e=V$1,et=_e.child,(_e.subtreeFlags&1028)!==0&&et!==null)et.return=_e,V$1=et;else for(;V$1!==null;){_e=V$1;try{var Ct=_e.alternate;if((_e.flags&1024)!==0)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(Ct!==null){var At=Ct.memoizedProps,St=Ct.memoizedState,Tt=_e.stateNode,$t=Tt.getSnapshotBeforeUpdate(_e.elementType===_e.type?At:Lg(_e.type,At),St);Tt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var kt=_e.stateNode.containerInfo;kt.nodeType===1?kt.textContent="":kt.nodeType===9&&kt.documentElement&&kt.removeChild(kt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$8(163))}}catch(Pt){W$1(_e,_e.return,Pt)}if(et=_e.sibling,et!==null){et.return=_e.return,V$1=et;break}V$1=_e.return}return Ct=Oj,Oj=!1,Ct}function Qj(et,_e,tt){var rt=_e.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var nt=rt=rt.next;do{if((nt.tag&et)===et){var it=nt.destroy;nt.destroy=void 0,it!==void 0&&Nj(_e,tt,it)}nt=nt.next}while(nt!==rt)}}function Rj(et,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var tt=_e=_e.next;do{if((tt.tag&et)===et){var rt=tt.create;tt.destroy=rt()}tt=tt.next}while(tt!==_e)}}function Sj(et){var _e=et.ref;if(_e!==null){var tt=et.stateNode;switch(et.tag){case 5:et=tt;break;default:et=tt}typeof _e=="function"?_e(et):_e.current=et}}function Tj(et){var _e=et.alternate;_e!==null&&(et.alternate=null,Tj(_e)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(_e=et.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of$1],delete _e[Qf],delete _e[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Uj(et){return et.tag===5||et.tag===3||et.tag===4}function Vj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Uj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Wj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.nodeType===8?tt.parentNode.insertBefore(et,_e):tt.insertBefore(et,_e):(tt.nodeType===8?(_e=tt.parentNode,_e.insertBefore(et,tt)):(_e=tt,_e.appendChild(et)),tt=tt._reactRootContainer,tt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(rt!==4&&(et=et.child,et!==null))for(Wj(et,_e,tt),et=et.sibling;et!==null;)Wj(et,_e,tt),et=et.sibling}function Xj(et,_e,tt){var rt=et.tag;if(rt===5||rt===6)et=et.stateNode,_e?tt.insertBefore(et,_e):tt.appendChild(et);else if(rt!==4&&(et=et.child,et!==null))for(Xj(et,_e,tt),et=et.sibling;et!==null;)Xj(et,_e,tt),et=et.sibling}var X$1=null,Yj=!1;function Zj(et,_e,tt){for(tt=tt.child;tt!==null;)ak(et,_e,tt),tt=tt.sibling}function ak(et,_e,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Mj(tt,_e);case 6:var rt=X$1,nt=Yj;X$1=null,Zj(et,_e,tt),X$1=rt,Yj=nt,X$1!==null&&(Yj?(et=X$1,tt=tt.stateNode,et.nodeType===8?et.parentNode.removeChild(tt):et.removeChild(tt)):X$1.removeChild(tt.stateNode));break;case 18:X$1!==null&&(Yj?(et=X$1,tt=tt.stateNode,et.nodeType===8?Kf(et.parentNode,tt):et.nodeType===1&&Kf(et,tt),bd(et)):Kf(X$1,tt.stateNode));break;case 4:rt=X$1,nt=Yj,X$1=tt.stateNode.containerInfo,Yj=!0,Zj(et,_e,tt),X$1=rt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(rt=tt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){nt=rt=rt.next;do{var it=nt,at=it.destroy;it=it.tag,at!==void 0&&((it&2)!==0||(it&4)!==0)&&Nj(tt,_e,at),nt=nt.next}while(nt!==rt)}Zj(et,_e,tt);break;case 1:if(!U$1&&(Mj(tt,_e),rt=tt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=tt.memoizedProps,rt.state=tt.memoizedState,rt.componentWillUnmount()}catch(ot){W$1(tt,_e,ot)}Zj(et,_e,tt);break;case 21:Zj(et,_e,tt);break;case 22:tt.mode&1?(U$1=(rt=U$1)||tt.memoizedState!==null,Zj(et,_e,tt),U$1=rt):Zj(et,_e,tt);break;default:Zj(et,_e,tt)}}function bk(et){var _e=et.updateQueue;if(_e!==null){et.updateQueue=null;var tt=et.stateNode;tt===null&&(tt=et.stateNode=new Lj),_e.forEach(function(rt){var nt=ck.bind(null,et,rt);tt.has(rt)||(tt.add(rt),rt.then(nt,nt))})}}function dk(et,_e){var tt=_e.deletions;if(tt!==null)for(var rt=0;rt<tt.length;rt++){var nt=tt[rt];try{var it=et,at=_e,ot=at;e:for(;ot!==null;){switch(ot.tag){case 5:X$1=ot.stateNode,Yj=!1;break e;case 3:X$1=ot.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ot.stateNode.containerInfo,Yj=!0;break e}ot=ot.return}if(X$1===null)throw Error(p$8(160));ak(it,at,nt),X$1=null,Yj=!1;var ct=nt.alternate;ct!==null&&(ct.return=null),nt.return=null}catch(ut){W$1(nt,_e,ut)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,et),_e=_e.sibling}function ek(et,_e){var tt=et.alternate,rt=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(dk(_e,et),fk(et),rt&4){try{Qj(3,et,et.return),Rj(3,et)}catch(At){W$1(et,et.return,At)}try{Qj(5,et,et.return)}catch(At){W$1(et,et.return,At)}}break;case 1:dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return);break;case 5:if(dk(_e,et),fk(et),rt&512&&tt!==null&&Mj(tt,tt.return),et.flags&32){var nt=et.stateNode;try{ob(nt,"")}catch(At){W$1(et,et.return,At)}}if(rt&4&&(nt=et.stateNode,nt!=null)){var it=et.memoizedProps,at=tt!==null?tt.memoizedProps:it,ot=et.type,ct=et.updateQueue;if(et.updateQueue=null,ct!==null)try{ot==="input"&&it.type==="radio"&&it.name!=null&&ab(nt,it),vb(ot,at);var ut=vb(ot,it);for(at=0;at<ct.length;at+=2){var ft=ct[at],yt=ct[at+1];ft==="style"?sb(nt,yt):ft==="dangerouslySetInnerHTML"?nb(nt,yt):ft==="children"?ob(nt,yt):ta(nt,ft,yt,ut)}switch(ot){case"input":bb(nt,it);break;case"textarea":ib(nt,it);break;case"select":var bt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!it.multiple;var Et=it.value;Et!=null?fb(nt,!!it.multiple,Et,!1):bt!==!!it.multiple&&(it.defaultValue!=null?fb(nt,!!it.multiple,it.defaultValue,!0):fb(nt,!!it.multiple,it.multiple?[]:"",!1))}nt[Pf]=it}catch(At){W$1(et,et.return,At)}}break;case 6:if(dk(_e,et),fk(et),rt&4){if(et.stateNode===null)throw Error(p$8(162));nt=et.stateNode,it=et.memoizedProps;try{nt.nodeValue=it}catch(At){W$1(et,et.return,At)}}break;case 3:if(dk(_e,et),fk(et),rt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(At){W$1(et,et.return,At)}break;case 4:dk(_e,et),fk(et);break;case 13:dk(_e,et),fk(et),nt=et.child,nt.flags&8192&&(it=nt.memoizedState!==null,nt.stateNode.isHidden=it,!it||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$2())),rt&4&&bk(et);break;case 22:if(ft=tt!==null&&tt.memoizedState!==null,et.mode&1?(U$1=(ut=U$1)||ft,dk(_e,et),U$1=ut):dk(_e,et),fk(et),rt&8192){if(ut=et.memoizedState!==null,(et.stateNode.isHidden=ut)&&!ft&&(et.mode&1)!==0)for(V$1=et,ft=et.child;ft!==null;){for(yt=V$1=ft;V$1!==null;){switch(bt=V$1,Et=bt.child,bt.tag){case 0:case 11:case 14:case 15:Qj(4,bt,bt.return);break;case 1:Mj(bt,bt.return);var Ct=bt.stateNode;if(typeof Ct.componentWillUnmount=="function"){rt=bt,tt=bt.return;try{_e=rt,Ct.props=_e.memoizedProps,Ct.state=_e.memoizedState,Ct.componentWillUnmount()}catch(At){W$1(rt,tt,At)}}break;case 5:Mj(bt,bt.return);break;case 22:if(bt.memoizedState!==null){hk(yt);continue}}Et!==null?(Et.return=bt,V$1=Et):hk(yt)}ft=ft.sibling}e:for(ft=null,yt=et;;){if(yt.tag===5){if(ft===null){ft=yt;try{nt=yt.stateNode,ut?(it=nt.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(ot=yt.stateNode,ct=yt.memoizedProps.style,at=ct!=null&&ct.hasOwnProperty("display")?ct.display:null,ot.style.display=rb("display",at))}catch(At){W$1(et,et.return,At)}}}else if(yt.tag===6){if(ft===null)try{yt.stateNode.nodeValue=ut?"":yt.memoizedProps}catch(At){W$1(et,et.return,At)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===et)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===et)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===et)break e;ft===yt&&(ft=null),yt=yt.return}ft===yt&&(ft=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:dk(_e,et),fk(et),rt&4&&bk(et);break;case 21:break;default:dk(_e,et),fk(et)}}function fk(et){var _e=et.flags;if(_e&2){try{e:{for(var tt=et.return;tt!==null;){if(Uj(tt)){var rt=tt;break e}tt=tt.return}throw Error(p$8(160))}switch(rt.tag){case 5:var nt=rt.stateNode;rt.flags&32&&(ob(nt,""),rt.flags&=-33);var it=Vj(et);Xj(et,it,nt);break;case 3:case 4:var at=rt.stateNode.containerInfo,ot=Vj(et);Wj(et,ot,at);break;default:throw Error(p$8(161))}}catch(ct){W$1(et,et.return,ct)}et.flags&=-3}_e&4096&&(et.flags&=-4097)}function ik(et,_e,tt){V$1=et,jk(et)}function jk(et,_e,tt){for(var rt=(et.mode&1)!==0;V$1!==null;){var nt=V$1,it=nt.child;if(nt.tag===22&&rt){var at=nt.memoizedState!==null||Kj;if(!at){var ot=nt.alternate,ct=ot!==null&&ot.memoizedState!==null||U$1;ot=Kj;var ut=U$1;if(Kj=at,(U$1=ct)&&!ut)for(V$1=nt;V$1!==null;)at=V$1,ct=at.child,at.tag===22&&at.memoizedState!==null?kk(nt):ct!==null?(ct.return=at,V$1=ct):kk(nt);for(;it!==null;)V$1=it,jk(it),it=it.sibling;V$1=nt,Kj=ot,U$1=ut}lk(et)}else(nt.subtreeFlags&8772)!==0&&it!==null?(it.return=nt,V$1=it):lk(et)}}function lk(et){for(;V$1!==null;){var _e=V$1;if((_e.flags&8772)!==0){var tt=_e.alternate;try{if((_e.flags&8772)!==0)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var rt=_e.stateNode;if(_e.flags&4&&!U$1)if(tt===null)rt.componentDidMount();else{var nt=_e.elementType===_e.type?tt.memoizedProps:Lg(_e.type,tt.memoizedProps);rt.componentDidUpdate(nt,tt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var it=_e.updateQueue;it!==null&&ih(_e,it,rt);break;case 3:var at=_e.updateQueue;if(at!==null){if(tt=null,_e.child!==null)switch(_e.child.tag){case 5:tt=_e.child.stateNode;break;case 1:tt=_e.child.stateNode}ih(_e,at,tt)}break;case 5:var ot=_e.stateNode;if(tt===null&&_e.flags&4){tt=ot;var ct=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":ct.autoFocus&&tt.focus();break;case"img":ct.src&&(tt.src=ct.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var ut=_e.alternate;if(ut!==null){var ft=ut.memoizedState;if(ft!==null){var yt=ft.dehydrated;yt!==null&&bd(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$8(163))}U$1||_e.flags&512&&Sj(_e)}catch(bt){W$1(_e,_e.return,bt)}}if(_e===et){V$1=null;break}if(tt=_e.sibling,tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}}function hk(et){for(;V$1!==null;){var _e=V$1;if(_e===et){V$1=null;break}var tt=_e.sibling;if(tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}}function kk(et){for(;V$1!==null;){var _e=V$1;try{switch(_e.tag){case 0:case 11:case 15:var tt=_e.return;try{Rj(4,_e)}catch(ct){W$1(_e,tt,ct)}break;case 1:var rt=_e.stateNode;if(typeof rt.componentDidMount=="function"){var nt=_e.return;try{rt.componentDidMount()}catch(ct){W$1(_e,nt,ct)}}var it=_e.return;try{Sj(_e)}catch(ct){W$1(_e,it,ct)}break;case 5:var at=_e.return;try{Sj(_e)}catch(ct){W$1(_e,at,ct)}}}catch(ct){W$1(_e,_e.return,ct)}if(_e===et){V$1=null;break}var ot=_e.sibling;if(ot!==null){ot.return=_e.return,V$1=ot;break}V$1=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$2=0,R$3=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$5=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$3(){return(K$2&6)!==0?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(et){return(et.mode&1)===0?1:(K$2&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(et=C$3,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et)}function mh(et,_e,tt,rt){if(50<zk)throw zk=0,Ak=null,Error(p$8(185));Ac(et,tt,rt),((K$2&2)===0||et!==R$3)&&(et===R$3&&((K$2&2)===0&&(rk|=tt),T$5===4&&Dk(et,Z$1)),Ek(et,rt),tt===1&&K$2===0&&(_e.mode&1)===0&&(Hj=B$2()+500,fg&&jg()))}function Ek(et,_e){var tt=et.callbackNode;wc(et,_e);var rt=uc(et,et===R$3?Z$1:0);if(rt===0)tt!==null&&bc(tt),et.callbackNode=null,et.callbackPriority=0;else if(_e=rt&-rt,et.callbackPriority!==_e){if(tt!=null&&bc(tt),_e===1)et.tag===0?ig(Fk.bind(null,et)):hg(Fk.bind(null,et)),Jf(function(){(K$2&6)===0&&jg()}),tt=null;else{switch(Dc(rt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Gk(tt,Hk.bind(null,et))}et.callbackPriority=_e,et.callbackNode=tt}}function Hk(et,_e){if(Bk=-1,Ck=0,(K$2&6)!==0)throw Error(p$8(327));var tt=et.callbackNode;if(Ik()&&et.callbackNode!==tt)return null;var rt=uc(et,et===R$3?Z$1:0);if(rt===0)return null;if((rt&30)!==0||(rt&et.expiredLanes)!==0||_e)_e=Jk(et,rt);else{_e=rt;var nt=K$2;K$2|=2;var it=Kk();(R$3!==et||Z$1!==_e)&&(vk=null,Hj=B$2()+500,Lk(et,_e));do try{Mk();break}catch(ot){Nk(et,ot)}while(1);Qg(),nk.current=it,K$2=nt,Y$1!==null?_e=0:(R$3=null,Z$1=0,_e=T$5)}if(_e!==0){if(_e===2&&(nt=xc(et),nt!==0&&(rt=nt,_e=Ok(et,nt))),_e===1)throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B$2()),tt;if(_e===6)Dk(et,rt);else{if(nt=et.current.alternate,(rt&30)===0&&!Pk(nt)&&(_e=Jk(et,rt),_e===2&&(it=xc(et),it!==0&&(rt=it,_e=Ok(et,it))),_e===1))throw tt=qk,Lk(et,0),Dk(et,rt),Ek(et,B$2()),tt;switch(et.finishedWork=nt,et.finishedLanes=rt,_e){case 0:case 1:throw Error(p$8(345));case 2:Qk(et,uk,vk);break;case 3:if(Dk(et,rt),(rt&130023424)===rt&&(_e=gk+500-B$2(),10<_e)){if(uc(et,0)!==0)break;if(nt=et.suspendedLanes,(nt&rt)!==rt){L$3(),et.pingedLanes|=et.suspendedLanes&nt;break}et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),_e);break}Qk(et,uk,vk);break;case 4:if(Dk(et,rt),(rt&4194240)===rt)break;for(_e=et.eventTimes,nt=-1;0<rt;){var at=31-oc(rt);it=1<<at,at=_e[at],at>nt&&(nt=at),rt&=~it}if(rt=nt,rt=B$2()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*mk(rt/1960))-rt,10<rt){et.timeoutHandle=Ff(Qk.bind(null,et,uk,vk),rt);break}Qk(et,uk,vk);break;case 5:Qk(et,uk,vk);break;default:throw Error(p$8(329))}}}return Ek(et,B$2()),et.callbackNode===tt?Hk.bind(null,et):null}function Ok(et,_e){var tt=tk;return et.current.memoizedState.isDehydrated&&(Lk(et,_e).flags|=256),et=Jk(et,_e),et!==2&&(_e=uk,uk=tt,_e!==null&&Gj(_e)),et}function Gj(et){uk===null?uk=et:uk.push.apply(uk,et)}function Pk(et){for(var _e=et;;){if(_e.flags&16384){var tt=_e.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],it=nt.getSnapshot;nt=nt.value;try{if(!He(it(),nt))return!1}catch{return!1}}}if(tt=_e.child,_e.subtreeFlags&16384&&tt!==null)tt.return=_e,_e=tt;else{if(_e===et)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===et)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk(et,_e){for(_e&=~sk,_e&=~rk,et.suspendedLanes|=_e,et.pingedLanes&=~_e,et=et.expirationTimes;0<_e;){var tt=31-oc(_e),rt=1<<tt;et[tt]=-1,_e&=~rt}}function Fk(et){if((K$2&6)!==0)throw Error(p$8(327));Ik();var _e=uc(et,0);if((_e&1)===0)return Ek(et,B$2()),null;var tt=Jk(et,_e);if(et.tag!==0&&tt===2){var rt=xc(et);rt!==0&&(_e=rt,tt=Ok(et,rt))}if(tt===1)throw tt=qk,Lk(et,0),Dk(et,_e),Ek(et,B$2()),tt;if(tt===6)throw Error(p$8(345));return et.finishedWork=et.current.alternate,et.finishedLanes=_e,Qk(et,uk,vk),Ek(et,B$2()),null}function Rk(et,_e){var tt=K$2;K$2|=1;try{return et(_e)}finally{K$2=tt,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(et){xk!==null&&xk.tag===0&&(K$2&6)===0&&Ik();var _e=K$2;K$2|=1;var tt=pk.transition,rt=C$3;try{if(pk.transition=null,C$3=1,et)return et()}finally{C$3=rt,pk.transition=tt,K$2=_e,(K$2&6)===0&&jg()}}function Ij(){gj=fj.current,E$3(fj)}function Lk(et,_e){et.finishedWork=null,et.finishedLanes=0;var tt=et.timeoutHandle;if(tt!==-1&&(et.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var rt=tt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:Jh(),E$3(Wf),E$3(H$3),Oh();break;case 5:Lh(rt);break;case 4:Jh();break;case 13:E$3(M$3);break;case 19:E$3(M$3);break;case 10:Rg(rt.type._context);break;case 22:case 23:Ij()}tt=tt.return}if(R$3=et,Y$1=et=wh(et.current,null),Z$1=gj=_e,T$5=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(tt=Wg[_e],rt=tt.interleaved,rt!==null){tt.interleaved=null;var nt=rt.next,it=tt.pending;if(it!==null){var at=it.next;it.next=nt,rt.next=at}tt.pending=rt}Wg=null}return et}function Nk(et,_e){do{var tt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var rt=N$4.memoizedState;rt!==null;){var nt=rt.queue;nt!==null&&(nt.pending=null),rt=rt.next}Sh=!1}if(Rh=0,P$3=O$2=N$4=null,Th=!1,Uh=0,ok.current=null,tt===null||tt.return===null){T$5=1,qk=_e,Y$1=null;break}e:{var it=et,at=tt.return,ot=tt,ct=_e;if(_e=Z$1,ot.flags|=32768,ct!==null&&typeof ct=="object"&&typeof ct.then=="function"){var ut=ct,ft=ot,yt=ft.tag;if((ft.mode&1)===0&&(yt===0||yt===11||yt===15)){var bt=ft.alternate;bt?(ft.updateQueue=bt.updateQueue,ft.memoizedState=bt.memoizedState,ft.lanes=bt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Et=Vi(at);if(Et!==null){Et.flags&=-257,Wi(Et,at,ot,it,_e),Et.mode&1&&Ti(it,ut,_e),_e=Et,ct=ut;var Ct=_e.updateQueue;if(Ct===null){var At=new Set;At.add(ct),_e.updateQueue=At}else Ct.add(ct);break e}else{if((_e&1)===0){Ti(it,ut,_e),uj();break e}ct=Error(p$8(426))}}else if(I$3&&ot.mode&1){var St=Vi(at);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),Wi(St,at,ot,it,_e),Jg(Ki(ct,ot));break e}}it=ct=Ki(ct,ot),T$5!==4&&(T$5=2),tk===null?tk=[it]:tk.push(it),it=at;do{switch(it.tag){case 3:it.flags|=65536,_e&=-_e,it.lanes|=_e;var Tt=Oi(it,ct,_e);fh(it,Tt);break e;case 1:ot=ct;var $t=it.type,kt=it.stateNode;if((it.flags&128)===0&&(typeof $t.getDerivedStateFromError=="function"||kt!==null&&typeof kt.componentDidCatch=="function"&&(Si===null||!Si.has(kt)))){it.flags|=65536,_e&=-_e,it.lanes|=_e;var Pt=Ri(it,ot,_e);fh(it,Pt);break e}}it=it.return}while(it!==null)}Tk(tt)}catch(Ot){_e=Ot,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(1)}function Kk(){var et=nk.current;return nk.current=ai,et===null?ai:et}function uj(){(T$5===0||T$5===3||T$5===2)&&(T$5=4),R$3===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$3,Z$1)}function Jk(et,_e){var tt=K$2;K$2|=2;var rt=Kk();(R$3!==et||Z$1!==_e)&&(vk=null,Lk(et,_e));do try{Uk();break}catch(nt){Nk(et,nt)}while(1);if(Qg(),K$2=tt,nk.current=rt,Y$1!==null)throw Error(p$8(261));return R$3=null,Z$1=0,T$5}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(et){var _e=Wk(et.alternate,et,gj);et.memoizedProps=et.pendingProps,_e===null?Tk(et):Y$1=_e,ok.current=null}function Tk(et){var _e=et;do{var tt=_e.alternate;if(et=_e.return,(_e.flags&32768)===0){if(tt=Fj(tt,_e,gj),tt!==null){Y$1=tt;return}}else{if(tt=Jj(tt,_e),tt!==null){tt.flags&=32767,Y$1=tt;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$5=6,Y$1=null;return}}if(_e=_e.sibling,_e!==null){Y$1=_e;return}Y$1=_e=et}while(_e!==null);T$5===0&&(T$5=5)}function Qk(et,_e,tt){var rt=C$3,nt=pk.transition;try{pk.transition=null,C$3=1,Xk(et,_e,tt,rt)}finally{pk.transition=nt,C$3=rt}return null}function Xk(et,_e,tt,rt){do Ik();while(xk!==null);if((K$2&6)!==0)throw Error(p$8(327));tt=et.finishedWork;var nt=et.finishedLanes;if(tt===null)return null;if(et.finishedWork=null,et.finishedLanes=0,tt===et.current)throw Error(p$8(177));et.callbackNode=null,et.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(et,it),et===R$3&&(Y$1=R$3=null,Z$1=0),(tt.subtreeFlags&2064)===0&&(tt.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),it=(tt.flags&15990)!==0,(tt.subtreeFlags&15990)!==0||it){it=pk.transition,pk.transition=null;var at=C$3;C$3=1;var ot=K$2;K$2|=4,ok.current=null,Pj(et,tt),ek(tt,et),Oe(Df),dd=!!Cf,Df=Cf=null,et.current=tt,ik(tt),dc(),K$2=ot,C$3=at,pk.transition=it}else et.current=tt;if(wk&&(wk=!1,xk=et,yk=nt),it=et.pendingLanes,it===0&&(Si=null),mc(tt.stateNode),Ek(et,B$2()),_e!==null)for(rt=et.onRecoverableError,tt=0;tt<_e.length;tt++)nt=_e[tt],rt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,et=Qi,Qi=null,et;return(yk&1)!==0&&et.tag!==0&&Ik(),it=et.pendingLanes,(it&1)!==0?et===Ak?zk++:(zk=0,Ak=et):zk=0,jg(),null}function Ik(){if(xk!==null){var et=Dc(yk),_e=pk.transition,tt=C$3;try{if(pk.transition=null,C$3=16>et?16:et,xk===null)var rt=!1;else{if(et=xk,xk=null,yk=0,(K$2&6)!==0)throw Error(p$8(331));var nt=K$2;for(K$2|=4,V$1=et.current;V$1!==null;){var it=V$1,at=it.child;if((V$1.flags&16)!==0){var ot=it.deletions;if(ot!==null){for(var ct=0;ct<ot.length;ct++){var ut=ot[ct];for(V$1=ut;V$1!==null;){var ft=V$1;switch(ft.tag){case 0:case 11:case 15:Qj(8,ft,it)}var yt=ft.child;if(yt!==null)yt.return=ft,V$1=yt;else for(;V$1!==null;){ft=V$1;var bt=ft.sibling,Et=ft.return;if(Tj(ft),ft===ut){V$1=null;break}if(bt!==null){bt.return=Et,V$1=bt;break}V$1=Et}}}var Ct=it.alternate;if(Ct!==null){var At=Ct.child;if(At!==null){Ct.child=null;do{var St=At.sibling;At.sibling=null,At=St}while(At!==null)}}V$1=it}}if((it.subtreeFlags&2064)!==0&&at!==null)at.return=it,V$1=at;else e:for(;V$1!==null;){if(it=V$1,(it.flags&2048)!==0)switch(it.tag){case 0:case 11:case 15:Qj(9,it,it.return)}var Tt=it.sibling;if(Tt!==null){Tt.return=it.return,V$1=Tt;break e}V$1=it.return}}var $t=et.current;for(V$1=$t;V$1!==null;){at=V$1;var kt=at.child;if((at.subtreeFlags&2064)!==0&&kt!==null)kt.return=at,V$1=kt;else e:for(at=$t;V$1!==null;){if(ot=V$1,(ot.flags&2048)!==0)try{switch(ot.tag){case 0:case 11:case 15:Rj(9,ot)}}catch(Ot){W$1(ot,ot.return,Ot)}if(ot===at){V$1=null;break e}var Pt=ot.sibling;if(Pt!==null){Pt.return=ot.return,V$1=Pt;break e}V$1=ot.return}}if(K$2=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}rt=!0}return rt}finally{C$3=tt,pk.transition=_e}}return!1}function Yk(et,_e,tt){_e=Ki(tt,_e),_e=Oi(et,_e,1),et=dh(et,_e,1),_e=L$3(),et!==null&&(Ac(et,1,_e),Ek(et,_e))}function W$1(et,_e,tt){if(et.tag===3)Yk(et,et,tt);else for(;_e!==null;){if(_e.tag===3){Yk(_e,et,tt);break}else if(_e.tag===1){var rt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Si===null||!Si.has(rt))){et=Ki(tt,et),et=Ri(_e,et,1),_e=dh(_e,et,1),et=L$3(),_e!==null&&(Ac(_e,1,et),Ek(_e,et));break}}_e=_e.return}}function Ui(et,_e,tt){var rt=et.pingCache;rt!==null&&rt.delete(_e),_e=L$3(),et.pingedLanes|=et.suspendedLanes&tt,R$3===et&&(Z$1&tt)===tt&&(T$5===4||T$5===3&&(Z$1&130023424)===Z$1&&500>B$2()-gk?Lk(et,0):sk|=tt),Ek(et,_e)}function Zk(et,_e){_e===0&&((et.mode&1)===0?_e=1:(_e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var tt=L$3();et=Zg(et,_e),et!==null&&(Ac(et,_e,tt),Ek(et,tt))}function vj(et){var _e=et.memoizedState,tt=0;_e!==null&&(tt=_e.retryLane),Zk(et,tt)}function ck(et,_e){var tt=0;switch(et.tag){case 13:var rt=et.stateNode,nt=et.memoizedState;nt!==null&&(tt=nt.retryLane);break;case 19:rt=et.stateNode;break;default:throw Error(p$8(314))}rt!==null&&rt.delete(_e),Zk(et,tt)}var Wk;Wk=function(et,_e,tt){if(et!==null)if(et.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if((et.lanes&tt)===0&&(_e.flags&128)===0)return Ug=!1,zj(et,_e,tt);Ug=(et.flags&131072)!==0}else Ug=!1,I$3&&(_e.flags&1048576)!==0&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var rt=_e.type;jj(et,_e),et=_e.pendingProps;var nt=Yf(_e,H$3.current);Tg(_e,tt),nt=Xh(null,_e,rt,et,nt,tt);var it=bi();return _e.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(rt)?(it=!0,cg(_e)):it=!1,_e.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah(_e),nt.updater=nh,_e.stateNode=nt,nt._reactInternals=_e,rh$1(_e,rt,et,tt),_e=kj(null,_e,rt,!0,it,tt)):(_e.tag=0,I$3&&it&&vg(_e),Yi(null,_e,nt,tt),_e=_e.child),_e;case 16:rt=_e.elementType;e:{switch(jj(et,_e),et=_e.pendingProps,nt=rt._init,rt=nt(rt._payload),_e.type=rt,nt=_e.tag=$k(rt),et=Lg(rt,et),nt){case 0:_e=dj(null,_e,rt,et,tt);break e;case 1:_e=ij(null,_e,rt,et,tt);break e;case 11:_e=Zi(null,_e,rt,et,tt);break e;case 14:_e=aj(null,_e,rt,Lg(rt.type,et),tt);break e}throw Error(p$8(306,rt,""))}return _e;case 0:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),dj(et,_e,rt,nt,tt);case 1:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),ij(et,_e,rt,nt,tt);case 3:e:{if(lj(_e),et===null)throw Error(p$8(387));rt=_e.pendingProps,it=_e.memoizedState,nt=it.element,bh(et,_e),gh(_e,rt,null,tt);var at=_e.memoizedState;if(rt=at.element,it.isDehydrated)if(it={element:rt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},_e.updateQueue.baseState=it,_e.memoizedState=it,_e.flags&256){nt=Ki(Error(p$8(423)),_e),_e=mj(et,_e,rt,tt,nt);break e}else if(rt!==nt){nt=Ki(Error(p$8(424)),_e),_e=mj(et,_e,rt,tt,nt);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$3=!0,zg=null,tt=Ch(_e,null,rt,tt),_e.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),rt===nt){_e=$i(et,_e,tt);break e}Yi(et,_e,rt,tt)}_e=_e.child}return _e;case 5:return Kh$1(_e),et===null&&Eg(_e),rt=_e.type,nt=_e.pendingProps,it=et!==null?et.memoizedProps:null,at=nt.children,Ef(rt,nt)?at=null:it!==null&&Ef(rt,it)&&(_e.flags|=32),hj(et,_e),Yi(et,_e,at,tt),_e.child;case 6:return et===null&&Eg(_e),null;case 13:return pj(et,_e,tt);case 4:return Ih(_e,_e.stateNode.containerInfo),rt=_e.pendingProps,et===null?_e.child=Bh(_e,null,rt,tt):Yi(et,_e,rt,tt),_e.child;case 11:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),Zi(et,_e,rt,nt,tt);case 7:return Yi(et,_e,_e.pendingProps,tt),_e.child;case 8:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 12:return Yi(et,_e,_e.pendingProps.children,tt),_e.child;case 10:e:{if(rt=_e.type._context,nt=_e.pendingProps,it=_e.memoizedProps,at=nt.value,G$1(Mg,rt._currentValue),rt._currentValue=at,it!==null)if(He(it.value,at)){if(it.children===nt.children&&!Wf.current){_e=$i(et,_e,tt);break e}}else for(it=_e.child,it!==null&&(it.return=_e);it!==null;){var ot=it.dependencies;if(ot!==null){at=it.child;for(var ct=ot.firstContext;ct!==null;){if(ct.context===rt){if(it.tag===1){ct=ch(-1,tt&-tt),ct.tag=2;var ut=it.updateQueue;if(ut!==null){ut=ut.shared;var ft=ut.pending;ft===null?ct.next=ct:(ct.next=ft.next,ft.next=ct),ut.pending=ct}}it.lanes|=tt,ct=it.alternate,ct!==null&&(ct.lanes|=tt),Sg(it.return,tt,_e),ot.lanes|=tt;break}ct=ct.next}}else if(it.tag===10)at=it.type===_e.type?null:it.child;else if(it.tag===18){if(at=it.return,at===null)throw Error(p$8(341));at.lanes|=tt,ot=at.alternate,ot!==null&&(ot.lanes|=tt),Sg(at,tt,_e),at=it.sibling}else at=it.child;if(at!==null)at.return=it;else for(at=it;at!==null;){if(at===_e){at=null;break}if(it=at.sibling,it!==null){it.return=at.return,at=it;break}at=at.return}it=at}Yi(et,_e,nt.children,tt),_e=_e.child}return _e;case 9:return nt=_e.type,rt=_e.pendingProps.children,Tg(_e,tt),nt=Vg(nt),rt=rt(nt),_e.flags|=1,Yi(et,_e,rt,tt),_e.child;case 14:return rt=_e.type,nt=Lg(rt,_e.pendingProps),nt=Lg(rt.type,nt),aj(et,_e,rt,nt,tt);case 15:return cj(et,_e,_e.type,_e.pendingProps,tt);case 17:return rt=_e.type,nt=_e.pendingProps,nt=_e.elementType===rt?nt:Lg(rt,nt),jj(et,_e),_e.tag=1,Zf(rt)?(et=!0,cg(_e)):et=!1,Tg(_e,tt),ph(_e,rt,nt),rh$1(_e,rt,nt,tt),kj(null,_e,rt,!0,et,tt);case 19:return yj(et,_e,tt);case 22:return ej(et,_e,tt)}throw Error(p$8(156,_e.tag))};function Gk(et,_e){return ac(et,_e)}function al(et,_e,tt,rt){this.tag=et,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,_e,tt,rt){return new al(et,_e,tt,rt)}function bj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function $k(et){if(typeof et=="function")return bj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function wh(et,_e){var tt=et.alternate;return tt===null?(tt=Bg(et.tag,_e,et.key,et.mode),tt.elementType=et.elementType,tt.type=et.type,tt.stateNode=et.stateNode,tt.alternate=et,et.alternate=tt):(tt.pendingProps=_e,tt.type=et.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=et.flags&14680064,tt.childLanes=et.childLanes,tt.lanes=et.lanes,tt.child=et.child,tt.memoizedProps=et.memoizedProps,tt.memoizedState=et.memoizedState,tt.updateQueue=et.updateQueue,_e=et.dependencies,tt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},tt.sibling=et.sibling,tt.index=et.index,tt.ref=et.ref,tt}function yh(et,_e,tt,rt,nt,it){var at=2;if(rt=et,typeof et=="function")bj(et)&&(at=1);else if(typeof et=="string")at=5;else e:switch(et){case ya:return Ah(tt.children,nt,it,_e);case za:at=8,nt|=8;break;case Aa:return et=Bg(12,tt,_e,nt|2),et.elementType=Aa,et.lanes=it,et;case Ea:return et=Bg(13,tt,_e,nt),et.elementType=Ea,et.lanes=it,et;case Fa:return et=Bg(19,tt,_e,nt),et.elementType=Fa,et.lanes=it,et;case Ia:return qj(tt,nt,it,_e);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,rt=null;break e}throw Error(p$8(130,et==null?et:typeof et,""))}return _e=Bg(at,tt,_e,nt),_e.elementType=et,_e.type=rt,_e.lanes=it,_e}function Ah(et,_e,tt,rt){return et=Bg(7,et,rt,_e),et.lanes=tt,et}function qj(et,_e,tt,rt){return et=Bg(22,et,rt,_e),et.elementType=Ia,et.lanes=tt,et.stateNode={isHidden:!1},et}function xh(et,_e,tt){return et=Bg(6,et,null,_e),et.lanes=tt,et}function zh$1(et,_e,tt){return _e=Bg(4,et.children!==null?et.children:[],et.key,_e),_e.lanes=tt,_e.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},_e}function bl(et,_e,tt,rt,nt){this.tag=_e,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(et,_e,tt,rt,nt,it,at,ot,ct){return et=new bl(et,_e,tt,ot,ct),_e===1?(_e=1,it===!0&&(_e|=8)):_e=0,it=Bg(3,null,null,_e),et.current=it,it.stateNode=et,it.memoizedState={element:rt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(it),et}function dl(et,_e,tt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:et,containerInfo:_e,implementation:tt}}function el(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$8(170));var _e=et;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$8(171))}if(et.tag===1){var tt=et.type;if(Zf(tt))return bg(et,tt,_e)}return _e}function fl(et,_e,tt,rt,nt,it,at,ot,ct){return et=cl(tt,rt,!0,et,nt,it,at,ot,ct),et.context=el(null),tt=et.current,rt=L$3(),nt=lh(tt),it=ch(rt,nt),it.callback=_e!=null?_e:null,dh(tt,it,nt),et.current.lanes=nt,Ac(et,nt,rt),Ek(et,rt),et}function gl(et,_e,tt,rt){var nt=_e.current,it=L$3(),at=lh(nt);return tt=el(tt),_e.context===null?_e.context=tt:_e.pendingContext=tt,_e=ch(it,at),_e.payload={element:et},rt=rt===void 0?null:rt,rt!==null&&(_e.callback=rt),et=dh(nt,_e,at),et!==null&&(mh(et,nt,at,it),eh(et,nt,at)),at}function hl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function il(et,_e){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var tt=et.retryLane;et.retryLane=tt!==0&&tt<_e?tt:_e}}function jl(et,_e){il(et,_e),(et=et.alternate)&&il(et,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(et){console.error(et)};function ml(et){this._internalRoot=et}nl.prototype.render=ml.prototype.render=function(et){var _e=this._internalRoot;if(_e===null)throw Error(p$8(409));gl(et,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var _e=et.containerInfo;Sk(function(){gl(null,et,null,null)}),_e[uf]=null}};function nl(et){this._internalRoot=et}nl.prototype.unstable_scheduleHydration=function(et){if(et){var _e=Hc();et={blockedOn:null,target:et,priority:_e};for(var tt=0;tt<Qc.length&&_e!==0&&_e<Qc[tt].priority;tt++);Qc.splice(tt,0,et),tt===0&&Vc(et)}};function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function pl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(et,_e,tt,rt,nt){if(nt){if(typeof rt=="function"){var it=rt;rt=function(){var ut=hl(at);it.call(ut)}}var at=fl(_e,rt,et,0,null,!1,!1,"",ql);return et._reactRootContainer=at,et[uf]=at.current,sf(et.nodeType===8?et.parentNode:et),Sk(),at}for(;nt=et.lastChild;)et.removeChild(nt);if(typeof rt=="function"){var ot=rt;rt=function(){var ut=hl(ct);ot.call(ut)}}var ct=cl(et,0,!1,null,null,!1,!1,"",ql);return et._reactRootContainer=ct,et[uf]=ct.current,sf(et.nodeType===8?et.parentNode:et),Sk(function(){gl(_e,ct,tt,rt)}),ct}function sl(et,_e,tt,rt,nt){var it=tt._reactRootContainer;if(it){var at=it;if(typeof nt=="function"){var ot=nt;nt=function(){var ct=hl(at);ot.call(ct)}}gl(_e,at,et,nt)}else at=rl(tt,_e,et,nt,rt);return hl(at)}Ec=function(et){switch(et.tag){case 3:var _e=et.stateNode;if(_e.current.memoizedState.isDehydrated){var tt=tc(_e.pendingLanes);tt!==0&&(Cc(_e,tt|1),Ek(_e,B$2()),(K$2&6)===0&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var rt=Zg(et,1);if(rt!==null){var nt=L$3();mh(rt,et,1,nt)}}),jl(et,1)}};Fc=function(et){if(et.tag===13){var _e=Zg(et,134217728);if(_e!==null){var tt=L$3();mh(_e,et,134217728,tt)}jl(et,134217728)}};Gc=function(et){if(et.tag===13){var _e=lh(et),tt=Zg(et,_e);if(tt!==null){var rt=L$3();mh(tt,et,_e,rt)}jl(et,_e)}};Hc=function(){return C$3};Ic=function(et,_e){var tt=C$3;try{return C$3=et,_e()}finally{C$3=tt}};yb=function(et,_e,tt){switch(_e){case"input":if(bb(et,tt),_e=tt.name,tt.type==="radio"&&_e!=null){for(tt=et;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<tt.length;_e++){var rt=tt[_e];if(rt!==et&&rt.form===et.form){var nt=Db(rt);if(!nt)throw Error(p$8(90));Wa(rt),bb(rt,nt)}}}break;case"textarea":ib(et,tt);break;case"select":_e=tt.value,_e!=null&&fb(et,!!tt.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(et,_e){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$8(200));return dl(et,_e,null,tt)};reactDom_production_min.createRoot=function(et,_e){if(!ol(et))throw Error(p$8(299));var tt=!1,rt="",nt=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(rt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(nt=_e.onRecoverableError)),_e=cl(et,1,!1,null,null,tt,!1,rt,nt),et[uf]=_e.current,sf(et.nodeType===8?et.parentNode:et),new ml(_e)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var _e=et._reactInternals;if(_e===void 0)throw typeof et.render=="function"?Error(p$8(188)):(et=Object.keys(et).join(","),Error(p$8(268,et)));return et=Zb(_e),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Sk(et)};reactDom_production_min.hydrate=function(et,_e,tt){if(!pl(_e))throw Error(p$8(200));return sl(null,et,_e,!0,tt)};reactDom_production_min.hydrateRoot=function(et,_e,tt){if(!ol(et))throw Error(p$8(405));var rt=tt!=null&&tt.hydratedSources||null,nt=!1,it="",at=ll;if(tt!=null&&(tt.unstable_strictMode===!0&&(nt=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(at=tt.onRecoverableError)),_e=fl(_e,null,et,1,tt!=null?tt:null,nt,!1,it,at),et[uf]=_e.current,sf(et),rt)for(et=0;et<rt.length;et++)tt=rt[et],nt=tt._getVersion,nt=nt(tt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[tt,nt]:_e.mutableSourceEagerHydrationData.push(tt,nt);return new nl(_e)};reactDom_production_min.render=function(et,_e,tt){if(!pl(_e))throw Error(p$8(200));return sl(null,et,_e,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(et){if(!pl(et))throw Error(p$8(40));return et._reactRootContainer?(Sk(function(){sl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,_e,tt,rt){if(!pl(tt))throw Error(p$8(200));if(et==null||et._reactInternals===void 0)throw Error(p$8(38));return sl(et,_e,tt,!1,rt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(et){function _e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_e)}catch(tt){console.error(tt)}}_e(),et.exports=reactDom_production_min})(reactDom);var createRoot,m$7=reactDom.exports;createRoot=m$7.createRoot,m$7.hydrateRoot;const index$1="",scriptRel="modulepreload",assetsURL=function(et){return"/"+et},seen={},__vitePreload=function(_e,tt,rt){if(!tt||tt.length===0)return _e();const nt=document.getElementsByTagName("link");return Promise.all(tt.map(it=>{if(it=assetsURL(it),it in seen)return;seen[it]=!0;const at=it.endsWith(".css"),ot=at?'[rel="stylesheet"]':"";if(!!rt)for(let ft=nt.length-1;ft>=0;ft--){const yt=nt[ft];if(yt.href===it&&(!at||yt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${it}"]${ot}`))return;const ut=document.createElement("link");if(ut.rel=at?"stylesheet":scriptRel,at||(ut.as="script",ut.crossOrigin=""),ut.href=it,document.head.appendChild(ut),at)return new Promise((ft,yt)=>{ut.addEventListener("load",ft),ut.addEventListener("error",()=>yt(new Error(`Unable to preload CSS for ${it}`)))})})).then(()=>_e())};class Subscribable{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(_e){return this.listeners.push(_e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(tt=>tt!==_e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$6(){}function functionalUpdate(et,_e){return typeof et=="function"?et(_e):et}function isValidTimeout(et){return typeof et=="number"&&et>=0&&et!==1/0}function timeUntilStale(et,_e){return Math.max(et+(_e||0)-Date.now(),0)}function parseQueryArgs(et,_e,tt){return isQueryKey(et)?typeof _e=="function"?{...tt,queryKey:et,queryFn:_e}:{..._e,queryKey:et}:et}function parseMutationArgs(et,_e,tt){return isQueryKey(et)?typeof _e=="function"?{...tt,mutationKey:et,mutationFn:_e}:{..._e,mutationKey:et}:typeof et=="function"?{..._e,mutationFn:et}:{...et}}function parseFilterArgs(et,_e,tt){return isQueryKey(et)?[{..._e,queryKey:et},tt]:[et||{},_e]}function matchQuery(et,_e){const{type:tt="all",exact:rt,fetchStatus:nt,predicate:it,queryKey:at,stale:ot}=et;if(isQueryKey(at)){if(rt){if(_e.queryHash!==hashQueryKeyByOptions(at,_e.options))return!1}else if(!partialMatchKey(_e.queryKey,at))return!1}if(tt!=="all"){const ct=_e.isActive();if(tt==="active"&&!ct||tt==="inactive"&&ct)return!1}return!(typeof ot=="boolean"&&_e.isStale()!==ot||typeof nt<"u"&&nt!==_e.state.fetchStatus||it&&!it(_e))}function matchMutation(et,_e){const{exact:tt,fetching:rt,predicate:nt,mutationKey:it}=et;if(isQueryKey(it)){if(!_e.options.mutationKey)return!1;if(tt){if(hashQueryKey(_e.options.mutationKey)!==hashQueryKey(it))return!1}else if(!partialMatchKey(_e.options.mutationKey,it))return!1}return!(typeof rt=="boolean"&&_e.state.status==="loading"!==rt||nt&&!nt(_e))}function hashQueryKeyByOptions(et,_e){return((_e==null?void 0:_e.queryKeyHashFn)||hashQueryKey)(et)}function hashQueryKey(et){return JSON.stringify(et,(_e,tt)=>isPlainObject(tt)?Object.keys(tt).sort().reduce((rt,nt)=>(rt[nt]=tt[nt],rt),{}):tt)}function partialMatchKey(et,_e){return partialDeepEqual(et,_e)}function partialDeepEqual(et,_e){return et===_e?!0:typeof et!=typeof _e?!1:et&&_e&&typeof et=="object"&&typeof _e=="object"?!Object.keys(_e).some(tt=>!partialDeepEqual(et[tt],_e[tt])):!1}function replaceEqualDeep(et,_e){if(et===_e)return et;const tt=isPlainArray(et)&&isPlainArray(_e);if(tt||isPlainObject(et)&&isPlainObject(_e)){const rt=tt?et.length:Object.keys(et).length,nt=tt?_e:Object.keys(_e),it=nt.length,at=tt?[]:{};let ot=0;for(let ct=0;ct<it;ct++){const ut=tt?ct:nt[ct];at[ut]=replaceEqualDeep(et[ut],_e[ut]),at[ut]===et[ut]&&ot++}return rt===it&&ot===rt?et:at}return _e}function shallowEqualObjects(et,_e){if(et&&!_e||_e&&!et)return!1;for(const tt in et)if(et[tt]!==_e[tt])return!1;return!0}function isPlainArray(et){return Array.isArray(et)&&et.length===Object.keys(et).length}function isPlainObject(et){if(!hasObjectPrototype(et))return!1;const _e=et.constructor;if(typeof _e>"u")return!0;const tt=_e.prototype;return!(!hasObjectPrototype(tt)||!tt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(et){return Object.prototype.toString.call(et)==="[object Object]"}function isQueryKey(et){return Array.isArray(et)}function sleep(et){return new Promise(_e=>{setTimeout(_e,et)})}function scheduleMicrotask(et){sleep(0).then(et)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(et,_e,tt){return tt.isDataEqual!=null&&tt.isDataEqual(et,_e)?et:typeof tt.structuralSharing=="function"?tt.structuralSharing(et,_e):tt.structuralSharing!==!1?replaceEqualDeep(et,_e):_e}class FocusManager extends Subscribable{constructor(){super(),this.setup=_e=>{if(!isServer&&window.addEventListener){const tt=()=>_e();return window.addEventListener("visibilitychange",tt,!1),window.addEventListener("focus",tt,!1),()=>{window.removeEventListener("visibilitychange",tt),window.removeEventListener("focus",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var _e;(_e=this.cleanup)==null||_e.call(this),this.cleanup=void 0}}setEventListener(_e){var tt;this.setup=_e,(tt=this.cleanup)==null||tt.call(this),this.cleanup=_e(rt=>{typeof rt=="boolean"?this.setFocused(rt):this.onFocus()})}setFocused(_e){this.focused=_e,_e&&this.onFocus()}onFocus(){this.listeners.forEach(_e=>{_e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager;class OnlineManager extends Subscribable{constructor(){super(),this.setup=_e=>{if(!isServer&&window.addEventListener){const tt=()=>_e();return window.addEventListener("online",tt,!1),window.addEventListener("offline",tt,!1),()=>{window.removeEventListener("online",tt),window.removeEventListener("offline",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var _e;(_e=this.cleanup)==null||_e.call(this),this.cleanup=void 0}}setEventListener(_e){var tt;this.setup=_e,(tt=this.cleanup)==null||tt.call(this),this.cleanup=_e(rt=>{typeof rt=="boolean"?this.setOnline(rt):this.onOnline()})}setOnline(_e){this.online=_e,_e&&this.onOnline()}onOnline(){this.listeners.forEach(_e=>{_e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(et){return Math.min(1e3*2**et,3e4)}function canFetch(et){return(et!=null?et:"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(_e){this.revert=_e==null?void 0:_e.revert,this.silent=_e==null?void 0:_e.silent}}function isCancelledError(et){return et instanceof CancelledError}function createRetryer(et){let _e=!1,tt=0,rt=!1,nt,it,at;const ot=new Promise((St,Tt)=>{it=St,at=Tt}),ct=St=>{rt||(Et(new CancelledError(St)),et.abort==null||et.abort())},ut=()=>{_e=!0},ft=()=>{_e=!1},yt=()=>!focusManager.isFocused()||et.networkMode!=="always"&&!onlineManager.isOnline(),bt=St=>{rt||(rt=!0,et.onSuccess==null||et.onSuccess(St),nt==null||nt(),it(St))},Et=St=>{rt||(rt=!0,et.onError==null||et.onError(St),nt==null||nt(),at(St))},Ct=()=>new Promise(St=>{nt=Tt=>{if(rt||!yt())return St(Tt)},et.onPause==null||et.onPause()}).then(()=>{nt=void 0,rt||et.onContinue==null||et.onContinue()}),At=()=>{if(rt)return;let St;try{St=et.fn()}catch(Tt){St=Promise.reject(Tt)}Promise.resolve(St).then(bt).catch(Tt=>{var $t,kt;if(rt)return;const Pt=($t=et.retry)!=null?$t:3,Ot=(kt=et.retryDelay)!=null?kt:defaultRetryDelay,Ht=typeof Ot=="function"?Ot(tt,Tt):Ot,qt=Pt===!0||typeof Pt=="number"&&tt<Pt||typeof Pt=="function"&&Pt(tt,Tt);if(_e||!qt){Et(Tt);return}tt++,et.onFail==null||et.onFail(tt,Tt),sleep(Ht).then(()=>{if(yt())return Ct()}).then(()=>{_e?Et(Tt):At()})})};return canFetch(et.networkMode)?At():Ct().then(At),{promise:ot,cancel:ct,continue:()=>{nt==null||nt()},cancelRetry:ut,continueRetry:ft}}const defaultLogger=console;function createNotifyManager(){let et=[],_e=0,tt=ft=>{ft()},rt=ft=>{ft()};const nt=ft=>{let yt;_e++;try{yt=ft()}finally{_e--,_e||ot()}return yt},it=ft=>{_e?et.push(ft):scheduleMicrotask(()=>{tt(ft)})},at=ft=>(...yt)=>{it(()=>{ft(...yt)})},ot=()=>{const ft=et;et=[],ft.length&&scheduleMicrotask(()=>{rt(()=>{ft.forEach(yt=>{tt(yt)})})})};return{batch:nt,batchCalls:at,schedule:it,setNotifyFunction:ft=>{tt=ft},setBatchNotifyFunction:ft=>{rt=ft}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(_e){this.cacheTime=Math.max(this.cacheTime||0,_e!=null?_e:isServer?1/0:5*60*1e3)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(_e){super(),this.abortSignalConsumed=!1,this.defaultOptions=_e.defaultOptions,this.setOptions(_e.options),this.observers=[],this.cache=_e.cache,this.logger=_e.logger||defaultLogger,this.queryKey=_e.queryKey,this.queryHash=_e.queryHash,this.initialState=_e.state||getDefaultState$1(this.options),this.state=this.initialState}get meta(){return this.options.meta}setOptions(_e){this.options={...this.defaultOptions,..._e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(_e,tt){const rt=replaceData(this.state.data,_e,this.options);return this.dispatch({data:rt,type:"success",dataUpdatedAt:tt==null?void 0:tt.updatedAt,manual:tt==null?void 0:tt.manual}),rt}setState(_e,tt){this.dispatch({type:"setState",state:_e,setStateOptions:tt})}cancel(_e){var tt;const rt=this.promise;return(tt=this.retryer)==null||tt.cancel(_e),rt?rt.then(noop$6).catch(noop$6):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(_e=>_e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(_e=>_e.getCurrentResult().isStale)}isStaleByTime(_e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,_e)}onFocus(){var _e;const tt=this.observers.find(rt=>rt.shouldFetchOnWindowFocus());tt&&tt.refetch({cancelRefetch:!1}),(_e=this.retryer)==null||_e.continue()}onOnline(){var _e;const tt=this.observers.find(rt=>rt.shouldFetchOnReconnect());tt&&tt.refetch({cancelRefetch:!1}),(_e=this.retryer)==null||_e.continue()}addObserver(_e){this.observers.indexOf(_e)===-1&&(this.observers.push(_e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:_e}))}removeObserver(_e){this.observers.indexOf(_e)!==-1&&(this.observers=this.observers.filter(tt=>tt!==_e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:_e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(_e,tt){var rt,nt;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&tt!=null&&tt.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var it;return(it=this.retryer)==null||it.continueRetry(),this.promise}}if(_e&&this.setOptions(_e),!this.options.queryFn){const Et=this.observers.find(Ct=>Ct.options.queryFn);Et&&this.setOptions(Et.options)}Array.isArray(this.options.queryKey);const at=getAbortController(),ot={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},ct=Et=>{Object.defineProperty(Et,"signal",{enumerable:!0,get:()=>{if(at)return this.abortSignalConsumed=!0,at.signal}})};ct(ot);const ut=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(ot)):Promise.reject("Missing queryFn"),ft={fetchOptions:tt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:ut};if(ct(ft),(rt=this.options.behavior)==null||rt.onFetch(ft),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((nt=ft.fetchOptions)==null?void 0:nt.meta)){var yt;this.dispatch({type:"fetch",meta:(yt=ft.fetchOptions)==null?void 0:yt.meta})}const bt=Et=>{if(isCancelledError(Et)&&Et.silent||this.dispatch({type:"error",error:Et}),!isCancelledError(Et)){var Ct,At;(Ct=(At=this.cache.config).onError)==null||Ct.call(At,Et,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:ft.fetchFn,abort:at==null?void 0:at.abort.bind(at),onSuccess:Et=>{var Ct,At;if(typeof Et>"u"){bt(new Error("undefined"));return}this.setData(Et),(Ct=(At=this.cache.config).onSuccess)==null||Ct.call(At,Et,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:bt,onFail:(Et,Ct)=>{this.dispatch({type:"failed",failureCount:Et,error:Ct})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:ft.options.retry,retryDelay:ft.options.retryDelay,networkMode:ft.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(_e){const tt=rt=>{var nt,it;switch(_e.type){case"failed":return{...rt,fetchFailureCount:_e.failureCount,fetchFailureReason:_e.error};case"pause":return{...rt,fetchStatus:"paused"};case"continue":return{...rt,fetchStatus:"fetching"};case"fetch":return{...rt,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(nt=_e.meta)!=null?nt:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!rt.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...rt,data:_e.data,dataUpdateCount:rt.dataUpdateCount+1,dataUpdatedAt:(it=_e.dataUpdatedAt)!=null?it:Date.now(),error:null,isInvalidated:!1,status:"success",...!_e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const at=_e.error;return isCancelledError(at)&&at.revert&&this.revertState?{...this.revertState}:{...rt,error:at,errorUpdateCount:rt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:rt.fetchFailureCount+1,fetchFailureReason:at,fetchStatus:"idle",status:"error"};case"invalidate":return{...rt,isInvalidated:!0};case"setState":return{...rt,..._e.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onQueryUpdate(_e)}),this.cache.notify({query:this,type:"updated",action:_e})})}}function getDefaultState$1(et){const _e=typeof et.initialData=="function"?et.initialData():et.initialData,tt=typeof _e<"u",rt=tt?typeof et.initialDataUpdatedAt=="function"?et.initialDataUpdatedAt():et.initialDataUpdatedAt:0;return{data:_e,dataUpdateCount:0,dataUpdatedAt:tt?rt!=null?rt:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:tt?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(_e){super(),this.config=_e||{},this.queries=[],this.queriesMap={}}build(_e,tt,rt){var nt;const it=tt.queryKey,at=(nt=tt.queryHash)!=null?nt:hashQueryKeyByOptions(it,tt);let ot=this.get(at);return ot||(ot=new Query({cache:this,logger:_e.getLogger(),queryKey:it,queryHash:at,options:_e.defaultQueryOptions(tt),state:rt,defaultOptions:_e.getQueryDefaults(it)}),this.add(ot)),ot}add(_e){this.queriesMap[_e.queryHash]||(this.queriesMap[_e.queryHash]=_e,this.queries.push(_e),this.notify({type:"added",query:_e}))}remove(_e){const tt=this.queriesMap[_e.queryHash];tt&&(_e.destroy(),this.queries=this.queries.filter(rt=>rt!==_e),tt===_e&&delete this.queriesMap[_e.queryHash],this.notify({type:"removed",query:_e}))}clear(){notifyManager.batch(()=>{this.queries.forEach(_e=>{this.remove(_e)})})}get(_e){return this.queriesMap[_e]}getAll(){return this.queries}find(_e,tt){const[rt]=parseFilterArgs(_e,tt);return typeof rt.exact>"u"&&(rt.exact=!0),this.queries.find(nt=>matchQuery(rt,nt))}findAll(_e,tt){const[rt]=parseFilterArgs(_e,tt);return Object.keys(rt).length>0?this.queries.filter(nt=>matchQuery(rt,nt)):this.queries}notify(_e){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(_e)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(_e=>{_e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(_e=>{_e.onOnline()})})}}class Mutation extends Removable{constructor(_e){super(),this.options={..._e.defaultOptions,..._e.options},this.mutationId=_e.mutationId,this.mutationCache=_e.mutationCache,this.logger=_e.logger||defaultLogger,this.observers=[],this.state=_e.state||getDefaultState(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(_e){this.dispatch({type:"setState",state:_e})}addObserver(_e){this.observers.indexOf(_e)===-1&&(this.observers.push(_e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:_e}))}removeObserver(_e){this.observers=this.observers.filter(tt=>tt!==_e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:_e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const _e=()=>{var kt;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(Pt,Ot)=>{this.dispatch({type:"failed",failureCount:Pt,error:Ot})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(kt=this.options.retry)!=null?kt:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},tt=this.state.status==="loading";try{var rt,nt,it,at,ot,ct;if(!tt){var ut,ft,yt,bt;this.dispatch({type:"loading",variables:this.options.variables}),await((ut=(ft=this.mutationCache.config).onMutate)==null?void 0:ut.call(ft,this.state.variables,this));const Pt=await((yt=(bt=this.options).onMutate)==null?void 0:yt.call(bt,this.state.variables));Pt!==this.state.context&&this.dispatch({type:"loading",context:Pt,variables:this.state.variables})}const kt=await _e();return await((rt=(nt=this.mutationCache.config).onSuccess)==null?void 0:rt.call(nt,kt,this.state.variables,this.state.context,this)),await((it=(at=this.options).onSuccess)==null?void 0:it.call(at,kt,this.state.variables,this.state.context)),await((ot=(ct=this.options).onSettled)==null?void 0:ot.call(ct,kt,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:kt}),kt}catch(kt){try{var Et,Ct,At,St,Tt,$t;throw await((Et=(Ct=this.mutationCache.config).onError)==null?void 0:Et.call(Ct,kt,this.state.variables,this.state.context,this)),await((At=(St=this.options).onError)==null?void 0:At.call(St,kt,this.state.variables,this.state.context)),await((Tt=($t=this.options).onSettled)==null?void 0:Tt.call($t,void 0,kt,this.state.variables,this.state.context)),kt}finally{this.dispatch({type:"error",error:kt})}}}dispatch(_e){const tt=rt=>{switch(_e.type){case"failed":return{...rt,failureCount:_e.failureCount,failureReason:_e.error};case"pause":return{...rt,isPaused:!0};case"continue":return{...rt,isPaused:!1};case"loading":return{...rt,context:_e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:_e.variables};case"success":return{...rt,data:_e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...rt,data:void 0,error:_e.error,failureCount:rt.failureCount+1,failureReason:_e.error,isPaused:!1,status:"error"};case"setState":return{...rt,..._e.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(rt=>{rt.onMutationUpdate(_e)}),this.mutationCache.notify({mutation:this,type:"updated",action:_e})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(_e){super(),this.config=_e||{},this.mutations=[],this.mutationId=0}build(_e,tt,rt){const nt=new Mutation({mutationCache:this,logger:_e.getLogger(),mutationId:++this.mutationId,options:_e.defaultMutationOptions(tt),state:rt,defaultOptions:tt.mutationKey?_e.getMutationDefaults(tt.mutationKey):void 0});return this.add(nt),nt}add(_e){this.mutations.push(_e),this.notify({type:"added",mutation:_e})}remove(_e){this.mutations=this.mutations.filter(tt=>tt!==_e),this.notify({type:"removed",mutation:_e})}clear(){notifyManager.batch(()=>{this.mutations.forEach(_e=>{this.remove(_e)})})}getAll(){return this.mutations}find(_e){return typeof _e.exact>"u"&&(_e.exact=!0),this.mutations.find(tt=>matchMutation(_e,tt))}findAll(_e){return this.mutations.filter(tt=>matchMutation(_e,tt))}notify(_e){notifyManager.batch(()=>{this.listeners.forEach(tt=>{tt(_e)})})}resumePausedMutations(){const _e=this.mutations.filter(tt=>tt.state.isPaused);return notifyManager.batch(()=>_e.reduce((tt,rt)=>tt.then(()=>rt.continue().catch(noop$6)),Promise.resolve()))}}function infiniteQueryBehavior(){return{onFetch:et=>{et.fetchFn=()=>{var _e,tt,rt,nt,it,at;const ot=(_e=et.fetchOptions)==null||(tt=_e.meta)==null?void 0:tt.refetchPage,ct=(rt=et.fetchOptions)==null||(nt=rt.meta)==null?void 0:nt.fetchMore,ut=ct==null?void 0:ct.pageParam,ft=(ct==null?void 0:ct.direction)==="forward",yt=(ct==null?void 0:ct.direction)==="backward",bt=((it=et.state.data)==null?void 0:it.pages)||[],Et=((at=et.state.data)==null?void 0:at.pageParams)||[];let Ct=Et,At=!1;const St=Ht=>{Object.defineProperty(Ht,"signal",{enumerable:!0,get:()=>{var qt;if((qt=et.signal)!=null&&qt.aborted)At=!0;else{var Zt;(Zt=et.signal)==null||Zt.addEventListener("abort",()=>{At=!0})}return et.signal}})},Tt=et.options.queryFn||(()=>Promise.reject("Missing queryFn")),$t=(Ht,qt,Zt,tr)=>(Ct=tr?[qt,...Ct]:[...Ct,qt],tr?[Zt,...Ht]:[...Ht,Zt]),kt=(Ht,qt,Zt,tr)=>{if(At)return Promise.reject("Cancelled");if(typeof Zt>"u"&&!qt&&Ht.length)return Promise.resolve(Ht);const Dt={queryKey:et.queryKey,pageParam:Zt,meta:et.options.meta};St(Dt);const Rt=Tt(Dt);return Promise.resolve(Rt).then(ht=>$t(Ht,Zt,ht,tr))};let Pt;if(!bt.length)Pt=kt([]);else if(ft){const Ht=typeof ut<"u",qt=Ht?ut:getNextPageParam(et.options,bt);Pt=kt(bt,Ht,qt)}else if(yt){const Ht=typeof ut<"u",qt=Ht?ut:getPreviousPageParam(et.options,bt);Pt=kt(bt,Ht,qt,!0)}else{Ct=[];const Ht=typeof et.options.getNextPageParam>"u";Pt=(ot&&bt[0]?ot(bt[0],0,bt):!0)?kt([],Ht,Et[0]):Promise.resolve($t([],Et[0],bt[0]));for(let Zt=1;Zt<bt.length;Zt++)Pt=Pt.then(tr=>{if(ot&&bt[Zt]?ot(bt[Zt],Zt,bt):!0){const Rt=Ht?Et[Zt]:getNextPageParam(et.options,tr);return kt(tr,Ht,Rt)}return Promise.resolve($t(tr,Et[Zt],bt[Zt]))})}return Pt.then(Ht=>({pages:Ht,pageParams:Ct}))}}}}function getNextPageParam(et,_e){return et.getNextPageParam==null?void 0:et.getNextPageParam(_e[_e.length-1],_e)}function getPreviousPageParam(et,_e){return et.getPreviousPageParam==null?void 0:et.getPreviousPageParam(_e[0],_e)}class QueryClient{constructor(_e={}){this.queryCache=_e.queryCache||new QueryCache,this.mutationCache=_e.mutationCache||new MutationCache,this.logger=_e.logger||defaultLogger,this.defaultOptions=_e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var _e,tt;this.mountCount--,this.mountCount===0&&((_e=this.unsubscribeFocus)==null||_e.call(this),this.unsubscribeFocus=void 0,(tt=this.unsubscribeOnline)==null||tt.call(this),this.unsubscribeOnline=void 0)}isFetching(_e,tt){const[rt]=parseFilterArgs(_e,tt);return rt.fetchStatus="fetching",this.queryCache.findAll(rt).length}isMutating(_e){return this.mutationCache.findAll({..._e,fetching:!0}).length}getQueryData(_e,tt){var rt;return(rt=this.queryCache.find(_e,tt))==null?void 0:rt.state.data}ensureQueryData(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt),it=this.getQueryData(nt.queryKey);return it?Promise.resolve(it):this.fetchQuery(nt)}getQueriesData(_e){return this.getQueryCache().findAll(_e).map(({queryKey:tt,state:rt})=>{const nt=rt.data;return[tt,nt]})}setQueryData(_e,tt,rt){const nt=this.queryCache.find(_e),it=nt==null?void 0:nt.state.data,at=functionalUpdate(tt,it);if(typeof at>"u")return;const ot=parseQueryArgs(_e),ct=this.defaultQueryOptions(ot);return this.queryCache.build(this,ct).setData(at,{...rt,manual:!0})}setQueriesData(_e,tt,rt){return notifyManager.batch(()=>this.getQueryCache().findAll(_e).map(({queryKey:nt})=>[nt,this.setQueryData(nt,tt,rt)]))}getQueryState(_e,tt){var rt;return(rt=this.queryCache.find(_e,tt))==null?void 0:rt.state}removeQueries(_e,tt){const[rt]=parseFilterArgs(_e,tt),nt=this.queryCache;notifyManager.batch(()=>{nt.findAll(rt).forEach(it=>{nt.remove(it)})})}resetQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt),at=this.queryCache,ot={type:"active",...nt};return notifyManager.batch(()=>(at.findAll(nt).forEach(ct=>{ct.reset()}),this.refetchQueries(ot,it)))}cancelQueries(_e,tt,rt){const[nt,it={}]=parseFilterArgs(_e,tt,rt);typeof it.revert>"u"&&(it.revert=!0);const at=notifyManager.batch(()=>this.queryCache.findAll(nt).map(ot=>ot.cancel(it)));return Promise.all(at).then(noop$6).catch(noop$6)}invalidateQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt);return notifyManager.batch(()=>{var at,ot;if(this.queryCache.findAll(nt).forEach(ut=>{ut.invalidate()}),nt.refetchType==="none")return Promise.resolve();const ct={...nt,type:(at=(ot=nt.refetchType)!=null?ot:nt.type)!=null?at:"active"};return this.refetchQueries(ct,it)})}refetchQueries(_e,tt,rt){const[nt,it]=parseFilterArgs(_e,tt,rt),at=notifyManager.batch(()=>this.queryCache.findAll(nt).filter(ct=>!ct.isDisabled()).map(ct=>{var ut;return ct.fetch(void 0,{...it,cancelRefetch:(ut=it==null?void 0:it.cancelRefetch)!=null?ut:!0,meta:{refetchPage:nt.refetchPage}})}));let ot=Promise.all(at).then(noop$6);return it!=null&&it.throwOnError||(ot=ot.catch(noop$6)),ot}fetchQuery(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt),it=this.defaultQueryOptions(nt);typeof it.retry>"u"&&(it.retry=!1);const at=this.queryCache.build(this,it);return at.isStaleByTime(it.staleTime)?at.fetch(it):Promise.resolve(at.state.data)}prefetchQuery(_e,tt,rt){return this.fetchQuery(_e,tt,rt).then(noop$6).catch(noop$6)}fetchInfiniteQuery(_e,tt,rt){const nt=parseQueryArgs(_e,tt,rt);return nt.behavior=infiniteQueryBehavior(),this.fetchQuery(nt)}prefetchInfiniteQuery(_e,tt,rt){return this.fetchInfiniteQuery(_e,tt,rt).then(noop$6).catch(noop$6)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(_e){this.defaultOptions=_e}setQueryDefaults(_e,tt){const rt=this.queryDefaults.find(nt=>hashQueryKey(_e)===hashQueryKey(nt.queryKey));rt?rt.defaultOptions=tt:this.queryDefaults.push({queryKey:_e,defaultOptions:tt})}getQueryDefaults(_e){if(!_e)return;const tt=this.queryDefaults.find(rt=>partialMatchKey(_e,rt.queryKey));return tt==null?void 0:tt.defaultOptions}setMutationDefaults(_e,tt){const rt=this.mutationDefaults.find(nt=>hashQueryKey(_e)===hashQueryKey(nt.mutationKey));rt?rt.defaultOptions=tt:this.mutationDefaults.push({mutationKey:_e,defaultOptions:tt})}getMutationDefaults(_e){if(!_e)return;const tt=this.mutationDefaults.find(rt=>partialMatchKey(_e,rt.mutationKey));return tt==null?void 0:tt.defaultOptions}defaultQueryOptions(_e){if(_e!=null&&_e._defaulted)return _e;const tt={...this.defaultOptions.queries,...this.getQueryDefaults(_e==null?void 0:_e.queryKey),..._e,_defaulted:!0};return!tt.queryHash&&tt.queryKey&&(tt.queryHash=hashQueryKeyByOptions(tt.queryKey,tt)),typeof tt.refetchOnReconnect>"u"&&(tt.refetchOnReconnect=tt.networkMode!=="always"),typeof tt.useErrorBoundary>"u"&&(tt.useErrorBoundary=!!tt.suspense),tt}defaultMutationOptions(_e){return _e!=null&&_e._defaulted?_e:{...this.defaultOptions.mutations,...this.getMutationDefaults(_e==null?void 0:_e.mutationKey),..._e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class QueryObserver extends Subscribable{constructor(_e,tt){super(),this.client=_e,this.options=tt,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(tt)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(_e,tt){const rt=this.options,nt=this.currentQuery;if(this.options=this.client.defaultQueryOptions(_e),shallowEqualObjects(rt,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=rt.queryKey),this.updateQuery();const it=this.hasListeners();it&&shouldFetchOptionally(this.currentQuery,nt,this.options,rt)&&this.executeFetch(),this.updateResult(tt),it&&(this.currentQuery!==nt||this.options.enabled!==rt.enabled||this.options.staleTime!==rt.staleTime)&&this.updateStaleTimeout();const at=this.computeRefetchInterval();it&&(this.currentQuery!==nt||this.options.enabled!==rt.enabled||at!==this.currentRefetchInterval)&&this.updateRefetchInterval(at)}getOptimisticResult(_e){const tt=this.client.getQueryCache().build(this.client,_e);return this.createResult(tt,_e)}getCurrentResult(){return this.currentResult}trackResult(_e){const tt={};return Object.keys(_e).forEach(rt=>{Object.defineProperty(tt,rt,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(rt),_e[rt])})}),tt}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:_e,...tt}={}){return this.fetch({...tt,meta:{refetchPage:_e}})}fetchOptimistic(_e){const tt=this.client.defaultQueryOptions(_e),rt=this.client.getQueryCache().build(this.client,tt);return rt.isFetchingOptimistic=!0,rt.fetch().then(()=>this.createResult(rt,tt))}fetch(_e){var tt;return this.executeFetch({..._e,cancelRefetch:(tt=_e.cancelRefetch)!=null?tt:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(_e){this.updateQuery();let tt=this.currentQuery.fetch(this.options,_e);return _e!=null&&_e.throwOnError||(tt=tt.catch(noop$6)),tt}updateStaleTimeout(){if(this.clearStaleTimeout(),isServer||this.currentResult.isStale||!isValidTimeout(this.options.staleTime))return;const tt=timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},tt)}computeRefetchInterval(){var _e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(_e=this.options.refetchInterval)!=null?_e:!1}updateRefetchInterval(_e){this.clearRefetchInterval(),this.currentRefetchInterval=_e,!(isServer||this.options.enabled===!1||!isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(_e,tt){const rt=this.currentQuery,nt=this.options,it=this.currentResult,at=this.currentResultState,ot=this.currentResultOptions,ct=_e!==rt,ut=ct?_e.state:this.currentQueryInitialState,ft=ct?this.currentResult:this.previousQueryResult,{state:yt}=_e;let{dataUpdatedAt:bt,error:Et,errorUpdatedAt:Ct,fetchStatus:At,status:St}=yt,Tt=!1,$t=!1,kt;if(tt._optimisticResults){const Zt=this.hasListeners(),tr=!Zt&&shouldFetchOnMount(_e,tt),Dt=Zt&&shouldFetchOptionally(_e,rt,tt,nt);(tr||Dt)&&(At=canFetch(_e.options.networkMode)?"fetching":"paused",bt||(St="loading")),tt._optimisticResults==="isRestoring"&&(At="idle")}if(tt.keepPreviousData&&!yt.dataUpdatedAt&&ft!=null&&ft.isSuccess&&St!=="error")kt=ft.data,bt=ft.dataUpdatedAt,St=ft.status,Tt=!0;else if(tt.select&&typeof yt.data<"u")if(it&&yt.data===(at==null?void 0:at.data)&&tt.select===this.selectFn)kt=this.selectResult;else try{this.selectFn=tt.select,kt=tt.select(yt.data),kt=replaceData(it==null?void 0:it.data,kt,tt),this.selectResult=kt,this.selectError=null}catch(Zt){this.selectError=Zt}else kt=yt.data;if(typeof tt.placeholderData<"u"&&typeof kt>"u"&&St==="loading"){let Zt;if(it!=null&&it.isPlaceholderData&&tt.placeholderData===(ot==null?void 0:ot.placeholderData))Zt=it.data;else if(Zt=typeof tt.placeholderData=="function"?tt.placeholderData():tt.placeholderData,tt.select&&typeof Zt<"u")try{Zt=tt.select(Zt),this.selectError=null}catch(tr){this.selectError=tr}typeof Zt<"u"&&(St="success",kt=replaceData(it==null?void 0:it.data,Zt,tt),$t=!0)}this.selectError&&(Et=this.selectError,kt=this.selectResult,Ct=Date.now(),St="error");const Pt=At==="fetching",Ot=St==="loading",Ht=St==="error";return{status:St,fetchStatus:At,isLoading:Ot,isSuccess:St==="success",isError:Ht,isInitialLoading:Ot&&Pt,data:kt,dataUpdatedAt:bt,error:Et,errorUpdatedAt:Ct,failureCount:yt.fetchFailureCount,failureReason:yt.fetchFailureReason,errorUpdateCount:yt.errorUpdateCount,isFetched:yt.dataUpdateCount>0||yt.errorUpdateCount>0,isFetchedAfterMount:yt.dataUpdateCount>ut.dataUpdateCount||yt.errorUpdateCount>ut.errorUpdateCount,isFetching:Pt,isRefetching:Pt&&!Ot,isLoadingError:Ht&&yt.dataUpdatedAt===0,isPaused:At==="paused",isPlaceholderData:$t,isPreviousData:Tt,isRefetchError:Ht&&yt.dataUpdatedAt!==0,isStale:isStale(_e,tt),refetch:this.refetch,remove:this.remove}}updateResult(_e){const tt=this.currentResult,rt=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,shallowEqualObjects(rt,tt))return;this.currentResult=rt;const nt={cache:!0},it=()=>{if(!tt)return!0;const{notifyOnChangeProps:at}=this.options;if(at==="all"||!at&&!this.trackedProps.size)return!0;const ot=new Set(at!=null?at:this.trackedProps);return this.options.useErrorBoundary&&ot.add("error"),Object.keys(this.currentResult).some(ct=>{const ut=ct;return this.currentResult[ut]!==tt[ut]&&ot.has(ut)})};(_e==null?void 0:_e.listeners)!==!1&&it()&&(nt.listeners=!0),this.notify({...nt,..._e})}updateQuery(){const _e=this.client.getQueryCache().build(this.client,this.options);if(_e===this.currentQuery)return;const tt=this.currentQuery;this.currentQuery=_e,this.currentQueryInitialState=_e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(tt==null||tt.removeObserver(this),_e.addObserver(this))}onQueryUpdate(_e){const tt={};_e.type==="success"?tt.onSuccess=!_e.manual:_e.type==="error"&&!isCancelledError(_e.error)&&(tt.onError=!0),this.updateResult(tt),this.hasListeners()&&this.updateTimers()}notify(_e){notifyManager.batch(()=>{if(_e.onSuccess){var tt,rt,nt,it;(tt=(rt=this.options).onSuccess)==null||tt.call(rt,this.currentResult.data),(nt=(it=this.options).onSettled)==null||nt.call(it,this.currentResult.data,null)}else if(_e.onError){var at,ot,ct,ut;(at=(ot=this.options).onError)==null||at.call(ot,this.currentResult.error),(ct=(ut=this.options).onSettled)==null||ct.call(ut,void 0,this.currentResult.error)}_e.listeners&&this.listeners.forEach(ft=>{ft(this.currentResult)}),_e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldLoadOnMount(et,_e){return _e.enabled!==!1&&!et.state.dataUpdatedAt&&!(et.state.status==="error"&&_e.retryOnMount===!1)}function shouldFetchOnMount(et,_e){return shouldLoadOnMount(et,_e)||et.state.dataUpdatedAt>0&&shouldFetchOn(et,_e,_e.refetchOnMount)}function shouldFetchOn(et,_e,tt){if(_e.enabled!==!1){const rt=typeof tt=="function"?tt(et):tt;return rt==="always"||rt!==!1&&isStale(et,_e)}return!1}function shouldFetchOptionally(et,_e,tt,rt){return tt.enabled!==!1&&(et!==_e||rt.enabled===!1)&&(!tt.suspense||et.state.status!=="error")&&isStale(et,tt)}function isStale(et,_e){return et.isStaleByTime(_e.staleTime)}class MutationObserver$1 extends Subscribable{constructor(_e,tt){super(),this.client=_e,this.setOptions(tt),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(_e){const tt=this.options;this.options=this.client.defaultMutationOptions(_e),shallowEqualObjects(tt,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var _e;(_e=this.currentMutation)==null||_e.removeObserver(this)}}onMutationUpdate(_e){this.updateResult();const tt={listeners:!0};_e.type==="success"?tt.onSuccess=!0:_e.type==="error"&&(tt.onError=!0),this.notify(tt)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(_e,tt){return this.mutateOptions=tt,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof _e<"u"?_e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const _e=this.currentMutation?this.currentMutation.state:getDefaultState(),tt={..._e,isLoading:_e.status==="loading",isSuccess:_e.status==="success",isError:_e.status==="error",isIdle:_e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=tt}notify(_e){notifyManager.batch(()=>{if(this.mutateOptions){if(_e.onSuccess){var tt,rt,nt,it;(tt=(rt=this.mutateOptions).onSuccess)==null||tt.call(rt,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(nt=(it=this.mutateOptions).onSettled)==null||nt.call(it,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(_e.onError){var at,ot,ct,ut;(at=(ot=this.mutateOptions).onError)==null||at.call(ot,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(ct=(ut=this.mutateOptions).onSettled)==null||ct.call(ut,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}_e.listeners&&this.listeners.forEach(ft=>{ft(this.currentResult)})})}}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$6=react.exports;function h$6(et,_e){return et===_e&&(et!==0||1/et===1/_e)||et!==et&&_e!==_e}var k$6=typeof Object.is=="function"?Object.is:h$6,l$6=e$6.useState,m$6=e$6.useEffect,n$5=e$6.useLayoutEffect,p$7=e$6.useDebugValue;function q$6(et,_e){var tt=_e(),rt=l$6({inst:{value:tt,getSnapshot:_e}}),nt=rt[0].inst,it=rt[1];return n$5(function(){nt.value=tt,nt.getSnapshot=_e,r$8(nt)&&it({inst:nt})},[et,tt,_e]),m$6(function(){return r$8(nt)&&it({inst:nt}),et(function(){r$8(nt)&&it({inst:nt})})},[et]),p$7(tt),tt}function r$8(et){var _e=et.getSnapshot;et=et.value;try{var tt=_e();return!k$6(et,tt)}catch{return!0}}function t$6(et,_e){return _e()}var u$5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$6:q$6;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$6.useSyncExternalStore!==void 0?e$6.useSyncExternalStore:u$5;(function(et){et.exports=useSyncExternalStoreShim_production_min})(shim);const useSyncExternalStore=shim.exports.useSyncExternalStore,defaultContext=react.exports.createContext(void 0),QueryClientSharingContext=react.exports.createContext(!1);function getQueryClientContext(et,_e){return et||(_e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const useQueryClient=({context:et}={})=>{const _e=react.exports.useContext(getQueryClientContext(et,react.exports.useContext(QueryClientSharingContext)));if(!_e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return _e},QueryClientProvider=({client:et,children:_e,context:tt,contextSharing:rt=!1})=>{react.exports.useEffect(()=>(et.mount(),()=>{et.unmount()}),[et]);const nt=getQueryClientContext(tt,rt);return react.exports.createElement(QueryClientSharingContext.Provider,{value:!tt&&rt},react.exports.createElement(nt.Provider,{value:et},_e))},IsRestoringContext=react.exports.createContext(!1),useIsRestoring=()=>react.exports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let et=!1;return{clearReset:()=>{et=!1},reset:()=>{et=!0},isReset:()=>et}}const QueryErrorResetBoundaryContext=react.exports.createContext(createValue()),useQueryErrorResetBoundary=()=>react.exports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(et,_e){return typeof et=="function"?et(..._e):!!et}const ensurePreventErrorBoundaryRetry=(et,_e)=>{(et.suspense||et.useErrorBoundary)&&(_e.isReset()||(et.retryOnMount=!1))},useClearResetErrorBoundary=et=>{react.exports.useEffect(()=>{et.clearReset()},[et])},getHasError=({result:et,errorResetBoundary:_e,useErrorBoundary:tt,query:rt})=>et.isError&&!_e.isReset()&&!et.isFetching&&shouldThrowError(tt,[et.error,rt]),ensureStaleTime=et=>{et.suspense&&typeof et.staleTime!="number"&&(et.staleTime=1e3)},willFetch=(et,_e)=>et.isLoading&&et.isFetching&&!_e,shouldSuspend=(et,_e,tt)=>(et==null?void 0:et.suspense)&&willFetch(_e,tt),fetchOptimistic=(et,_e,tt)=>_e.fetchOptimistic(et).then(({data:rt})=>{et.onSuccess==null||et.onSuccess(rt),et.onSettled==null||et.onSettled(rt,null)}).catch(rt=>{tt.clearReset(),et.onError==null||et.onError(rt),et.onSettled==null||et.onSettled(void 0,rt)});function useBaseQuery(et,_e){const tt=useQueryClient({context:et.context}),rt=useIsRestoring(),nt=useQueryErrorResetBoundary(),it=tt.defaultQueryOptions(et);it._optimisticResults=rt?"isRestoring":"optimistic",it.onError&&(it.onError=notifyManager.batchCalls(it.onError)),it.onSuccess&&(it.onSuccess=notifyManager.batchCalls(it.onSuccess)),it.onSettled&&(it.onSettled=notifyManager.batchCalls(it.onSettled)),ensureStaleTime(it),ensurePreventErrorBoundaryRetry(it,nt),useClearResetErrorBoundary(nt);const[at]=react.exports.useState(()=>new _e(tt,it)),ot=at.getOptimisticResult(it);if(useSyncExternalStore(react.exports.useCallback(ct=>rt?()=>{}:at.subscribe(notifyManager.batchCalls(ct)),[at,rt]),()=>at.getCurrentResult(),()=>at.getCurrentResult()),react.exports.useEffect(()=>{at.setOptions(it,{listeners:!1})},[it,at]),shouldSuspend(it,ot,rt))throw fetchOptimistic(it,at,nt);if(getHasError({result:ot,errorResetBoundary:nt,useErrorBoundary:it.useErrorBoundary,query:at.getCurrentQuery()}))throw ot.error;return it.notifyOnChangeProps?ot:at.trackResult(ot)}function useQuery(et,_e,tt){const rt=parseQueryArgs(et,_e,tt);return useBaseQuery(rt,QueryObserver)}function useMutation(et,_e,tt){const rt=parseMutationArgs(et,_e,tt),nt=useQueryClient({context:rt.context}),[it]=react.exports.useState(()=>new MutationObserver$1(nt,rt));react.exports.useEffect(()=>{it.setOptions(rt)},[it,rt]);const at=useSyncExternalStore(react.exports.useCallback(ct=>it.subscribe(notifyManager.batchCalls(ct)),[it]),()=>it.getCurrentResult(),()=>it.getCurrentResult()),ot=react.exports.useCallback((ct,ut)=>{it.mutate(ct,ut).catch(noop$5)},[it]);if(at.error&&shouldThrowError(it.options.useErrorBoundary,[at.error]))throw at.error;return{...at,mutate:ot,mutateAsync:at.mutate}}function noop$5(){}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=react.exports,k$5=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$5(et,_e,tt){var rt,nt={},it=null,at=null;tt!==void 0&&(it=""+tt),_e.key!==void 0&&(it=""+_e.key),_e.ref!==void 0&&(at=_e.ref);for(rt in _e)m$5.call(_e,rt)&&!p$6.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);if(et&&et.defaultProps)for(rt in _e=et.defaultProps,_e)nt[rt]===void 0&&(nt[rt]=_e[rt]);return{$$typeof:k$5,type:et,key:it,ref:at,props:nt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;(function(et){et.exports=reactJsxRuntime_production_min})(jsxRuntime);const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment$1=jsxRuntime.exports.Fragment;var isProduction=!0,prefix$1="Invariant failed";function invariant$2(et,_e){if(!et){if(isProduction)throw new Error(prefix$1);var tt=typeof _e=="function"?_e():_e,rt=tt?prefix$1+": "+tt:prefix$1;throw new Error(rt)}}const QueryClientProviderWithDefault=et=>{let{queryClient:_e,children:tt}=et;const rt=react.exports.useMemo(()=>_e||new QueryClient,[_e]);return jsx(QueryClientProvider,{client:rt,children:tt})},NEVER_PERSIST_QUERY_POSTFIX={persist:!1};function neverPersist(et){return[...et,NEVER_PERSIST_QUERY_POSTFIX]}function requiredParamInvariant(et,_e){invariant$2(et!==null||et!==void 0,_e)}var bn$4={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$4=getAugmentedNamespace(__viteBrowserExternal$1);(function(et){(function(_e,tt){function rt(ht,st){if(!ht)throw new Error(st||"Assertion failed")}function nt(ht,st){ht.super_=st;var dt=function(){};dt.prototype=st.prototype,ht.prototype=new dt,ht.prototype.constructor=ht}function it(ht,st,dt){if(it.isBN(ht))return ht;this.negative=0,this.words=null,this.length=0,this.red=null,ht!==null&&((st==="le"||st==="be")&&(dt=st,st=10),this._init(ht||0,st||10,dt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=require$$0$4.Buffer}catch{}it.isBN=function(st){return st instanceof it?!0:st!==null&&typeof st=="object"&&st.constructor.wordSize===it.wordSize&&Array.isArray(st.words)},it.max=function(st,dt){return st.cmp(dt)>0?st:dt},it.min=function(st,dt){return st.cmp(dt)<0?st:dt},it.prototype._init=function(st,dt,mt){if(typeof st=="number")return this._initNumber(st,dt,mt);if(typeof st=="object")return this._initArray(st,dt,mt);dt==="hex"&&(dt=16),rt(dt===(dt|0)&&dt>=2&&dt<=36),st=st.toString().replace(/\s+/g,"");var _t=0;st[0]==="-"&&(_t++,this.negative=1),_t<st.length&&(dt===16?this._parseHex(st,_t,mt):(this._parseBase(st,dt,_t),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},it.prototype._initNumber=function(st,dt,mt){st<0&&(this.negative=1,st=-st),st<67108864?(this.words=[st&67108863],this.length=1):st<4503599627370496?(this.words=[st&67108863,st/67108864&67108863],this.length=2):(rt(st<9007199254740992),this.words=[st&67108863,st/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},it.prototype._initArray=function(st,dt,mt){if(rt(typeof st.length=="number"),st.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(st.length/3),this.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)this.words[_t]=0;var xt,vt,Mt=0;if(mt==="be")for(_t=st.length-1,xt=0;_t>=0;_t-=3)vt=st[_t]|st[_t-1]<<8|st[_t-2]<<16,this.words[xt]|=vt<<Mt&67108863,this.words[xt+1]=vt>>>26-Mt&67108863,Mt+=24,Mt>=26&&(Mt-=26,xt++);else if(mt==="le")for(_t=0,xt=0;_t<st.length;_t+=3)vt=st[_t]|st[_t+1]<<8|st[_t+2]<<16,this.words[xt]|=vt<<Mt&67108863,this.words[xt+1]=vt>>>26-Mt&67108863,Mt+=24,Mt>=26&&(Mt-=26,xt++);return this._strip()};function ot(ht,st){var dt=ht.charCodeAt(st);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;rt(!1,"Invalid character in "+ht)}function ct(ht,st,dt){var mt=ot(ht,dt);return dt-1>=st&&(mt|=ot(ht,dt-1)<<4),mt}it.prototype._parseHex=function(st,dt,mt){this.length=Math.ceil((st.length-dt)/6),this.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)this.words[_t]=0;var xt=0,vt=0,Mt;if(mt==="be")for(_t=st.length-1;_t>=dt;_t-=2)Mt=ct(st,dt,_t)<<xt,this.words[vt]|=Mt&67108863,xt>=18?(xt-=18,vt+=1,this.words[vt]|=Mt>>>26):xt+=8;else{var gt=st.length-dt;for(_t=gt%2===0?dt+1:dt;_t<st.length;_t+=2)Mt=ct(st,dt,_t)<<xt,this.words[vt]|=Mt&67108863,xt>=18?(xt-=18,vt+=1,this.words[vt]|=Mt>>>26):xt+=8}this._strip()};function ut(ht,st,dt,mt){for(var _t=0,xt=0,vt=Math.min(ht.length,dt),Mt=st;Mt<vt;Mt++){var gt=ht.charCodeAt(Mt)-48;_t*=mt,gt>=49?xt=gt-49+10:gt>=17?xt=gt-17+10:xt=gt,rt(gt>=0&&xt<mt,"Invalid character"),_t+=xt}return _t}it.prototype._parseBase=function(st,dt,mt){this.words=[0],this.length=1;for(var _t=0,xt=1;xt<=67108863;xt*=dt)_t++;_t--,xt=xt/dt|0;for(var vt=st.length-mt,Mt=vt%_t,gt=Math.min(vt,vt-Mt)+mt,lt=0,wt=mt;wt<gt;wt+=_t)lt=ut(st,wt,wt+_t,dt),this.imuln(xt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt);if(Mt!==0){var jt=1;for(lt=ut(st,wt,st.length,dt),wt=0;wt<Mt;wt++)jt*=dt;this.imuln(jt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt)}this._strip()},it.prototype.copy=function(st){st.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)st.words[dt]=this.words[dt];st.length=this.length,st.negative=this.negative,st.red=this.red};function ft(ht,st){ht.words=st.words,ht.length=st.length,ht.negative=st.negative,ht.red=st.red}if(it.prototype._move=function(st){ft(st,this)},it.prototype.clone=function(){var st=new it(null);return this.copy(st),st},it.prototype._expand=function(st){for(;this.length<st;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=yt}catch{it.prototype.inspect=yt}else it.prototype.inspect=yt;function yt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var bt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Et=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ct=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(st,dt){st=st||10,dt=dt|0||1;var mt;if(st===16||st==="hex"){mt="";for(var _t=0,xt=0,vt=0;vt<this.length;vt++){var Mt=this.words[vt],gt=((Mt<<_t|xt)&16777215).toString(16);xt=Mt>>>24-_t&16777215,_t+=2,_t>=26&&(_t-=26,vt--),xt!==0||vt!==this.length-1?mt=bt[6-gt.length]+gt+mt:mt=gt+mt}for(xt!==0&&(mt=xt.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(st===(st|0)&&st>=2&&st<=36){var lt=Et[st],wt=Ct[st];mt="";var jt=this.clone();for(jt.negative=0;!jt.isZero();){var It=jt.modrn(wt).toString(st);jt=jt.idivn(wt),jt.isZero()?mt=It+mt:mt=bt[lt-It.length]+It+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var st=this.words[0];return this.length===2?st+=this.words[1]*67108864:this.length===3&&this.words[2]===1?st+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-st:st},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(st,dt){return this.toArrayLike(at,st,dt)}),it.prototype.toArray=function(st,dt){return this.toArrayLike(Array,st,dt)};var At=function(st,dt){return st.allocUnsafe?st.allocUnsafe(dt):new st(dt)};it.prototype.toArrayLike=function(st,dt,mt){this._strip();var _t=this.byteLength(),xt=mt||Math.max(1,_t);rt(_t<=xt,"byte array longer than desired length"),rt(xt>0,"Requested array length <= 0");var vt=At(st,xt),Mt=dt==="le"?"LE":"BE";return this["_toArrayLike"+Mt](vt,_t),vt},it.prototype._toArrayLikeLE=function(st,dt){for(var mt=0,_t=0,xt=0,vt=0;xt<this.length;xt++){var Mt=this.words[xt]<<vt|_t;st[mt++]=Mt&255,mt<st.length&&(st[mt++]=Mt>>8&255),mt<st.length&&(st[mt++]=Mt>>16&255),vt===6?(mt<st.length&&(st[mt++]=Mt>>24&255),_t=0,vt=0):(_t=Mt>>>24,vt+=2)}if(mt<st.length)for(st[mt++]=_t;mt<st.length;)st[mt++]=0},it.prototype._toArrayLikeBE=function(st,dt){for(var mt=st.length-1,_t=0,xt=0,vt=0;xt<this.length;xt++){var Mt=this.words[xt]<<vt|_t;st[mt--]=Mt&255,mt>=0&&(st[mt--]=Mt>>8&255),mt>=0&&(st[mt--]=Mt>>16&255),vt===6?(mt>=0&&(st[mt--]=Mt>>24&255),_t=0,vt=0):(_t=Mt>>>24,vt+=2)}if(mt>=0)for(st[mt--]=_t;mt>=0;)st[mt--]=0},Math.clz32?it.prototype._countBits=function(st){return 32-Math.clz32(st)}:it.prototype._countBits=function(st){var dt=st,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},it.prototype._zeroBits=function(st){if(st===0)return 26;var dt=st,mt=0;return(dt&8191)===0&&(mt+=13,dt>>>=13),(dt&127)===0&&(mt+=7,dt>>>=7),(dt&15)===0&&(mt+=4,dt>>>=4),(dt&3)===0&&(mt+=2,dt>>>=2),(dt&1)===0&&mt++,mt},it.prototype.bitLength=function(){var st=this.words[this.length-1],dt=this._countBits(st);return(this.length-1)*26+dt};function St(ht){for(var st=new Array(ht.bitLength()),dt=0;dt<st.length;dt++){var mt=dt/26|0,_t=dt%26;st[dt]=ht.words[mt]>>>_t&1}return st}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var st=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(st+=mt,mt!==26)break}return st},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(st){return this.negative!==0?this.abs().inotn(st).iaddn(1):this.clone()},it.prototype.fromTwos=function(st){return this.testn(st-1)?this.notn(st).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(st){for(;this.length<st.length;)this.words[this.length++]=0;for(var dt=0;dt<st.length;dt++)this.words[dt]=this.words[dt]|st.words[dt];return this._strip()},it.prototype.ior=function(st){return rt((this.negative|st.negative)===0),this.iuor(st)},it.prototype.or=function(st){return this.length>st.length?this.clone().ior(st):st.clone().ior(this)},it.prototype.uor=function(st){return this.length>st.length?this.clone().iuor(st):st.clone().iuor(this)},it.prototype.iuand=function(st){var dt;this.length>st.length?dt=st:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&st.words[mt];return this.length=dt.length,this._strip()},it.prototype.iand=function(st){return rt((this.negative|st.negative)===0),this.iuand(st)},it.prototype.and=function(st){return this.length>st.length?this.clone().iand(st):st.clone().iand(this)},it.prototype.uand=function(st){return this.length>st.length?this.clone().iuand(st):st.clone().iuand(this)},it.prototype.iuxor=function(st){var dt,mt;this.length>st.length?(dt=this,mt=st):(dt=st,mt=this);for(var _t=0;_t<mt.length;_t++)this.words[_t]=dt.words[_t]^mt.words[_t];if(this!==dt)for(;_t<dt.length;_t++)this.words[_t]=dt.words[_t];return this.length=dt.length,this._strip()},it.prototype.ixor=function(st){return rt((this.negative|st.negative)===0),this.iuxor(st)},it.prototype.xor=function(st){return this.length>st.length?this.clone().ixor(st):st.clone().ixor(this)},it.prototype.uxor=function(st){return this.length>st.length?this.clone().iuxor(st):st.clone().iuxor(this)},it.prototype.inotn=function(st){rt(typeof st=="number"&&st>=0);var dt=Math.ceil(st/26)|0,mt=st%26;this._expand(dt),mt>0&&dt--;for(var _t=0;_t<dt;_t++)this.words[_t]=~this.words[_t]&67108863;return mt>0&&(this.words[_t]=~this.words[_t]&67108863>>26-mt),this._strip()},it.prototype.notn=function(st){return this.clone().inotn(st)},it.prototype.setn=function(st,dt){rt(typeof st=="number"&&st>=0);var mt=st/26|0,_t=st%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<_t:this.words[mt]=this.words[mt]&~(1<<_t),this._strip()},it.prototype.iadd=function(st){var dt;if(this.negative!==0&&st.negative===0)return this.negative=0,dt=this.isub(st),this.negative^=1,this._normSign();if(this.negative===0&&st.negative!==0)return st.negative=0,dt=this.isub(st),st.negative=1,dt._normSign();var mt,_t;this.length>st.length?(mt=this,_t=st):(mt=st,_t=this);for(var xt=0,vt=0;vt<_t.length;vt++)dt=(mt.words[vt]|0)+(_t.words[vt]|0)+xt,this.words[vt]=dt&67108863,xt=dt>>>26;for(;xt!==0&&vt<mt.length;vt++)dt=(mt.words[vt]|0)+xt,this.words[vt]=dt&67108863,xt=dt>>>26;if(this.length=mt.length,xt!==0)this.words[this.length]=xt,this.length++;else if(mt!==this)for(;vt<mt.length;vt++)this.words[vt]=mt.words[vt];return this},it.prototype.add=function(st){var dt;return st.negative!==0&&this.negative===0?(st.negative=0,dt=this.sub(st),st.negative^=1,dt):st.negative===0&&this.negative!==0?(this.negative=0,dt=st.sub(this),this.negative=1,dt):this.length>st.length?this.clone().iadd(st):st.clone().iadd(this)},it.prototype.isub=function(st){if(st.negative!==0){st.negative=0;var dt=this.iadd(st);return st.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(st),this.negative=1,this._normSign();var mt=this.cmp(st);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _t,xt;mt>0?(_t=this,xt=st):(_t=st,xt=this);for(var vt=0,Mt=0;Mt<xt.length;Mt++)dt=(_t.words[Mt]|0)-(xt.words[Mt]|0)+vt,vt=dt>>26,this.words[Mt]=dt&67108863;for(;vt!==0&&Mt<_t.length;Mt++)dt=(_t.words[Mt]|0)+vt,vt=dt>>26,this.words[Mt]=dt&67108863;if(vt===0&&Mt<_t.length&&_t!==this)for(;Mt<_t.length;Mt++)this.words[Mt]=_t.words[Mt];return this.length=Math.max(this.length,Mt),_t!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(st){return this.clone().isub(st)};function Tt(ht,st,dt){dt.negative=st.negative^ht.negative;var mt=ht.length+st.length|0;dt.length=mt,mt=mt-1|0;var _t=ht.words[0]|0,xt=st.words[0]|0,vt=_t*xt,Mt=vt&67108863,gt=vt/67108864|0;dt.words[0]=Mt;for(var lt=1;lt<mt;lt++){for(var wt=gt>>>26,jt=gt&67108863,It=Math.min(lt,st.length-1),Wt=Math.max(0,lt-ht.length+1);Wt<=It;Wt++){var Qt=lt-Wt|0;_t=ht.words[Qt]|0,xt=st.words[Wt]|0,vt=_t*xt+jt,wt+=vt/67108864|0,jt=vt&67108863}dt.words[lt]=jt|0,gt=wt|0}return gt!==0?dt.words[lt]=gt|0:dt.length--,dt._strip()}var $t=function(st,dt,mt){var _t=st.words,xt=dt.words,vt=mt.words,Mt=0,gt,lt,wt,jt=_t[0]|0,It=jt&8191,Wt=jt>>>13,Qt=_t[1]|0,Gt=Qt&8191,er=Qt>>>13,hr=_t[2]|0,Vt=hr&8191,Kt=hr>>>13,lr=_t[3]|0,ir=lr&8191,ur=lr>>>13,Xt=_t[4]|0,Ft=Xt&8191,Ut=Xt>>>13,Yt=_t[5]|0,rr=Yt&8191,ar=Yt>>>13,br=_t[6]|0,dr=br&8191,pr=br>>>13,Lr=_t[7]|0,mr=Lr&8191,zt=Lr>>>13,Lt=_t[8]|0,Bt=Lt&8191,Jt=Lt>>>13,cr=_t[9]|0,nr=cr&8191,sr=cr>>>13,Fr=xt[0]|0,vr=Fr&8191,gr=Fr>>>13,Dr=xt[1]|0,yr=Dr&8191,Sr=Dr>>>13,Vr=xt[2]|0,Tr=Vr&8191,wr=Vr>>>13,Zr=xt[3]|0,Cr=Zr&8191,Ar=Zr>>>13,Kr=xt[4]|0,Mr=Kr&8191,$r=Kr>>>13,Gr=xt[5]|0,Rr=Gr&8191,_r=Gr>>>13,Ur=xt[6]|0,xr=Ur&8191,Er=Ur>>>13,Qr=xt[7]|0,kr=Qr&8191,Ir=Qr>>>13,Yr=xt[8]|0,Pr=Yr&8191,Nr=Yr>>>13,Jr=xt[9]|0,Or=Jr&8191,Br=Jr>>>13;mt.negative=st.negative^dt.negative,mt.length=19,gt=Math.imul(It,vr),lt=Math.imul(It,gr),lt=lt+Math.imul(Wt,vr)|0,wt=Math.imul(Wt,gr);var jr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(jr>>>26)|0,jr&=67108863,gt=Math.imul(Gt,vr),lt=Math.imul(Gt,gr),lt=lt+Math.imul(er,vr)|0,wt=Math.imul(er,gr),gt=gt+Math.imul(It,yr)|0,lt=lt+Math.imul(It,Sr)|0,lt=lt+Math.imul(Wt,yr)|0,wt=wt+Math.imul(Wt,Sr)|0;var Wr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,gt=Math.imul(Vt,vr),lt=Math.imul(Vt,gr),lt=lt+Math.imul(Kt,vr)|0,wt=Math.imul(Kt,gr),gt=gt+Math.imul(Gt,yr)|0,lt=lt+Math.imul(Gt,Sr)|0,lt=lt+Math.imul(er,yr)|0,wt=wt+Math.imul(er,Sr)|0,gt=gt+Math.imul(It,Tr)|0,lt=lt+Math.imul(It,wr)|0,lt=lt+Math.imul(Wt,Tr)|0,wt=wt+Math.imul(Wt,wr)|0;var Hr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,gt=Math.imul(ir,vr),lt=Math.imul(ir,gr),lt=lt+Math.imul(ur,vr)|0,wt=Math.imul(ur,gr),gt=gt+Math.imul(Vt,yr)|0,lt=lt+Math.imul(Vt,Sr)|0,lt=lt+Math.imul(Kt,yr)|0,wt=wt+Math.imul(Kt,Sr)|0,gt=gt+Math.imul(Gt,Tr)|0,lt=lt+Math.imul(Gt,wr)|0,lt=lt+Math.imul(er,Tr)|0,wt=wt+Math.imul(er,wr)|0,gt=gt+Math.imul(It,Cr)|0,lt=lt+Math.imul(It,Ar)|0,lt=lt+Math.imul(Wt,Cr)|0,wt=wt+Math.imul(Wt,Ar)|0;var zr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(zr>>>26)|0,zr&=67108863,gt=Math.imul(Ft,vr),lt=Math.imul(Ft,gr),lt=lt+Math.imul(Ut,vr)|0,wt=Math.imul(Ut,gr),gt=gt+Math.imul(ir,yr)|0,lt=lt+Math.imul(ir,Sr)|0,lt=lt+Math.imul(ur,yr)|0,wt=wt+Math.imul(ur,Sr)|0,gt=gt+Math.imul(Vt,Tr)|0,lt=lt+Math.imul(Vt,wr)|0,lt=lt+Math.imul(Kt,Tr)|0,wt=wt+Math.imul(Kt,wr)|0,gt=gt+Math.imul(Gt,Cr)|0,lt=lt+Math.imul(Gt,Ar)|0,lt=lt+Math.imul(er,Cr)|0,wt=wt+Math.imul(er,Ar)|0,gt=gt+Math.imul(It,Mr)|0,lt=lt+Math.imul(It,$r)|0,lt=lt+Math.imul(Wt,Mr)|0,wt=wt+Math.imul(Wt,$r)|0;var qr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(qr>>>26)|0,qr&=67108863,gt=Math.imul(rr,vr),lt=Math.imul(rr,gr),lt=lt+Math.imul(ar,vr)|0,wt=Math.imul(ar,gr),gt=gt+Math.imul(Ft,yr)|0,lt=lt+Math.imul(Ft,Sr)|0,lt=lt+Math.imul(Ut,yr)|0,wt=wt+Math.imul(Ut,Sr)|0,gt=gt+Math.imul(ir,Tr)|0,lt=lt+Math.imul(ir,wr)|0,lt=lt+Math.imul(ur,Tr)|0,wt=wt+Math.imul(ur,wr)|0,gt=gt+Math.imul(Vt,Cr)|0,lt=lt+Math.imul(Vt,Ar)|0,lt=lt+Math.imul(Kt,Cr)|0,wt=wt+Math.imul(Kt,Ar)|0,gt=gt+Math.imul(Gt,Mr)|0,lt=lt+Math.imul(Gt,$r)|0,lt=lt+Math.imul(er,Mr)|0,wt=wt+Math.imul(er,$r)|0,gt=gt+Math.imul(It,Rr)|0,lt=lt+Math.imul(It,_r)|0,lt=lt+Math.imul(Wt,Rr)|0,wt=wt+Math.imul(Wt,_r)|0;var Xr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,gt=Math.imul(dr,vr),lt=Math.imul(dr,gr),lt=lt+Math.imul(pr,vr)|0,wt=Math.imul(pr,gr),gt=gt+Math.imul(rr,yr)|0,lt=lt+Math.imul(rr,Sr)|0,lt=lt+Math.imul(ar,yr)|0,wt=wt+Math.imul(ar,Sr)|0,gt=gt+Math.imul(Ft,Tr)|0,lt=lt+Math.imul(Ft,wr)|0,lt=lt+Math.imul(Ut,Tr)|0,wt=wt+Math.imul(Ut,wr)|0,gt=gt+Math.imul(ir,Cr)|0,lt=lt+Math.imul(ir,Ar)|0,lt=lt+Math.imul(ur,Cr)|0,wt=wt+Math.imul(ur,Ar)|0,gt=gt+Math.imul(Vt,Mr)|0,lt=lt+Math.imul(Vt,$r)|0,lt=lt+Math.imul(Kt,Mr)|0,wt=wt+Math.imul(Kt,$r)|0,gt=gt+Math.imul(Gt,Rr)|0,lt=lt+Math.imul(Gt,_r)|0,lt=lt+Math.imul(er,Rr)|0,wt=wt+Math.imul(er,_r)|0,gt=gt+Math.imul(It,xr)|0,lt=lt+Math.imul(It,Er)|0,lt=lt+Math.imul(Wt,xr)|0,wt=wt+Math.imul(Wt,Er)|0;var tn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(tn>>>26)|0,tn&=67108863,gt=Math.imul(mr,vr),lt=Math.imul(mr,gr),lt=lt+Math.imul(zt,vr)|0,wt=Math.imul(zt,gr),gt=gt+Math.imul(dr,yr)|0,lt=lt+Math.imul(dr,Sr)|0,lt=lt+Math.imul(pr,yr)|0,wt=wt+Math.imul(pr,Sr)|0,gt=gt+Math.imul(rr,Tr)|0,lt=lt+Math.imul(rr,wr)|0,lt=lt+Math.imul(ar,Tr)|0,wt=wt+Math.imul(ar,wr)|0,gt=gt+Math.imul(Ft,Cr)|0,lt=lt+Math.imul(Ft,Ar)|0,lt=lt+Math.imul(Ut,Cr)|0,wt=wt+Math.imul(Ut,Ar)|0,gt=gt+Math.imul(ir,Mr)|0,lt=lt+Math.imul(ir,$r)|0,lt=lt+Math.imul(ur,Mr)|0,wt=wt+Math.imul(ur,$r)|0,gt=gt+Math.imul(Vt,Rr)|0,lt=lt+Math.imul(Vt,_r)|0,lt=lt+Math.imul(Kt,Rr)|0,wt=wt+Math.imul(Kt,_r)|0,gt=gt+Math.imul(Gt,xr)|0,lt=lt+Math.imul(Gt,Er)|0,lt=lt+Math.imul(er,xr)|0,wt=wt+Math.imul(er,Er)|0,gt=gt+Math.imul(It,kr)|0,lt=lt+Math.imul(It,Ir)|0,lt=lt+Math.imul(Wt,kr)|0,wt=wt+Math.imul(Wt,Ir)|0;var rn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(rn>>>26)|0,rn&=67108863,gt=Math.imul(Bt,vr),lt=Math.imul(Bt,gr),lt=lt+Math.imul(Jt,vr)|0,wt=Math.imul(Jt,gr),gt=gt+Math.imul(mr,yr)|0,lt=lt+Math.imul(mr,Sr)|0,lt=lt+Math.imul(zt,yr)|0,wt=wt+Math.imul(zt,Sr)|0,gt=gt+Math.imul(dr,Tr)|0,lt=lt+Math.imul(dr,wr)|0,lt=lt+Math.imul(pr,Tr)|0,wt=wt+Math.imul(pr,wr)|0,gt=gt+Math.imul(rr,Cr)|0,lt=lt+Math.imul(rr,Ar)|0,lt=lt+Math.imul(ar,Cr)|0,wt=wt+Math.imul(ar,Ar)|0,gt=gt+Math.imul(Ft,Mr)|0,lt=lt+Math.imul(Ft,$r)|0,lt=lt+Math.imul(Ut,Mr)|0,wt=wt+Math.imul(Ut,$r)|0,gt=gt+Math.imul(ir,Rr)|0,lt=lt+Math.imul(ir,_r)|0,lt=lt+Math.imul(ur,Rr)|0,wt=wt+Math.imul(ur,_r)|0,gt=gt+Math.imul(Vt,xr)|0,lt=lt+Math.imul(Vt,Er)|0,lt=lt+Math.imul(Kt,xr)|0,wt=wt+Math.imul(Kt,Er)|0,gt=gt+Math.imul(Gt,kr)|0,lt=lt+Math.imul(Gt,Ir)|0,lt=lt+Math.imul(er,kr)|0,wt=wt+Math.imul(er,Ir)|0,gt=gt+Math.imul(It,Pr)|0,lt=lt+Math.imul(It,Nr)|0,lt=lt+Math.imul(Wt,Pr)|0,wt=wt+Math.imul(Wt,Nr)|0;var nn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(nn>>>26)|0,nn&=67108863,gt=Math.imul(nr,vr),lt=Math.imul(nr,gr),lt=lt+Math.imul(sr,vr)|0,wt=Math.imul(sr,gr),gt=gt+Math.imul(Bt,yr)|0,lt=lt+Math.imul(Bt,Sr)|0,lt=lt+Math.imul(Jt,yr)|0,wt=wt+Math.imul(Jt,Sr)|0,gt=gt+Math.imul(mr,Tr)|0,lt=lt+Math.imul(mr,wr)|0,lt=lt+Math.imul(zt,Tr)|0,wt=wt+Math.imul(zt,wr)|0,gt=gt+Math.imul(dr,Cr)|0,lt=lt+Math.imul(dr,Ar)|0,lt=lt+Math.imul(pr,Cr)|0,wt=wt+Math.imul(pr,Ar)|0,gt=gt+Math.imul(rr,Mr)|0,lt=lt+Math.imul(rr,$r)|0,lt=lt+Math.imul(ar,Mr)|0,wt=wt+Math.imul(ar,$r)|0,gt=gt+Math.imul(Ft,Rr)|0,lt=lt+Math.imul(Ft,_r)|0,lt=lt+Math.imul(Ut,Rr)|0,wt=wt+Math.imul(Ut,_r)|0,gt=gt+Math.imul(ir,xr)|0,lt=lt+Math.imul(ir,Er)|0,lt=lt+Math.imul(ur,xr)|0,wt=wt+Math.imul(ur,Er)|0,gt=gt+Math.imul(Vt,kr)|0,lt=lt+Math.imul(Vt,Ir)|0,lt=lt+Math.imul(Kt,kr)|0,wt=wt+Math.imul(Kt,Ir)|0,gt=gt+Math.imul(Gt,Pr)|0,lt=lt+Math.imul(Gt,Nr)|0,lt=lt+Math.imul(er,Pr)|0,wt=wt+Math.imul(er,Nr)|0,gt=gt+Math.imul(It,Or)|0,lt=lt+Math.imul(It,Br)|0,lt=lt+Math.imul(Wt,Or)|0,wt=wt+Math.imul(Wt,Br)|0;var an=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(an>>>26)|0,an&=67108863,gt=Math.imul(nr,yr),lt=Math.imul(nr,Sr),lt=lt+Math.imul(sr,yr)|0,wt=Math.imul(sr,Sr),gt=gt+Math.imul(Bt,Tr)|0,lt=lt+Math.imul(Bt,wr)|0,lt=lt+Math.imul(Jt,Tr)|0,wt=wt+Math.imul(Jt,wr)|0,gt=gt+Math.imul(mr,Cr)|0,lt=lt+Math.imul(mr,Ar)|0,lt=lt+Math.imul(zt,Cr)|0,wt=wt+Math.imul(zt,Ar)|0,gt=gt+Math.imul(dr,Mr)|0,lt=lt+Math.imul(dr,$r)|0,lt=lt+Math.imul(pr,Mr)|0,wt=wt+Math.imul(pr,$r)|0,gt=gt+Math.imul(rr,Rr)|0,lt=lt+Math.imul(rr,_r)|0,lt=lt+Math.imul(ar,Rr)|0,wt=wt+Math.imul(ar,_r)|0,gt=gt+Math.imul(Ft,xr)|0,lt=lt+Math.imul(Ft,Er)|0,lt=lt+Math.imul(Ut,xr)|0,wt=wt+Math.imul(Ut,Er)|0,gt=gt+Math.imul(ir,kr)|0,lt=lt+Math.imul(ir,Ir)|0,lt=lt+Math.imul(ur,kr)|0,wt=wt+Math.imul(ur,Ir)|0,gt=gt+Math.imul(Vt,Pr)|0,lt=lt+Math.imul(Vt,Nr)|0,lt=lt+Math.imul(Kt,Pr)|0,wt=wt+Math.imul(Kt,Nr)|0,gt=gt+Math.imul(Gt,Or)|0,lt=lt+Math.imul(Gt,Br)|0,lt=lt+Math.imul(er,Or)|0,wt=wt+Math.imul(er,Br)|0;var on=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(on>>>26)|0,on&=67108863,gt=Math.imul(nr,Tr),lt=Math.imul(nr,wr),lt=lt+Math.imul(sr,Tr)|0,wt=Math.imul(sr,wr),gt=gt+Math.imul(Bt,Cr)|0,lt=lt+Math.imul(Bt,Ar)|0,lt=lt+Math.imul(Jt,Cr)|0,wt=wt+Math.imul(Jt,Ar)|0,gt=gt+Math.imul(mr,Mr)|0,lt=lt+Math.imul(mr,$r)|0,lt=lt+Math.imul(zt,Mr)|0,wt=wt+Math.imul(zt,$r)|0,gt=gt+Math.imul(dr,Rr)|0,lt=lt+Math.imul(dr,_r)|0,lt=lt+Math.imul(pr,Rr)|0,wt=wt+Math.imul(pr,_r)|0,gt=gt+Math.imul(rr,xr)|0,lt=lt+Math.imul(rr,Er)|0,lt=lt+Math.imul(ar,xr)|0,wt=wt+Math.imul(ar,Er)|0,gt=gt+Math.imul(Ft,kr)|0,lt=lt+Math.imul(Ft,Ir)|0,lt=lt+Math.imul(Ut,kr)|0,wt=wt+Math.imul(Ut,Ir)|0,gt=gt+Math.imul(ir,Pr)|0,lt=lt+Math.imul(ir,Nr)|0,lt=lt+Math.imul(ur,Pr)|0,wt=wt+Math.imul(ur,Nr)|0,gt=gt+Math.imul(Vt,Or)|0,lt=lt+Math.imul(Vt,Br)|0,lt=lt+Math.imul(Kt,Or)|0,wt=wt+Math.imul(Kt,Br)|0;var sn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(sn>>>26)|0,sn&=67108863,gt=Math.imul(nr,Cr),lt=Math.imul(nr,Ar),lt=lt+Math.imul(sr,Cr)|0,wt=Math.imul(sr,Ar),gt=gt+Math.imul(Bt,Mr)|0,lt=lt+Math.imul(Bt,$r)|0,lt=lt+Math.imul(Jt,Mr)|0,wt=wt+Math.imul(Jt,$r)|0,gt=gt+Math.imul(mr,Rr)|0,lt=lt+Math.imul(mr,_r)|0,lt=lt+Math.imul(zt,Rr)|0,wt=wt+Math.imul(zt,_r)|0,gt=gt+Math.imul(dr,xr)|0,lt=lt+Math.imul(dr,Er)|0,lt=lt+Math.imul(pr,xr)|0,wt=wt+Math.imul(pr,Er)|0,gt=gt+Math.imul(rr,kr)|0,lt=lt+Math.imul(rr,Ir)|0,lt=lt+Math.imul(ar,kr)|0,wt=wt+Math.imul(ar,Ir)|0,gt=gt+Math.imul(Ft,Pr)|0,lt=lt+Math.imul(Ft,Nr)|0,lt=lt+Math.imul(Ut,Pr)|0,wt=wt+Math.imul(Ut,Nr)|0,gt=gt+Math.imul(ir,Or)|0,lt=lt+Math.imul(ir,Br)|0,lt=lt+Math.imul(ur,Or)|0,wt=wt+Math.imul(ur,Br)|0;var cn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(cn>>>26)|0,cn&=67108863,gt=Math.imul(nr,Mr),lt=Math.imul(nr,$r),lt=lt+Math.imul(sr,Mr)|0,wt=Math.imul(sr,$r),gt=gt+Math.imul(Bt,Rr)|0,lt=lt+Math.imul(Bt,_r)|0,lt=lt+Math.imul(Jt,Rr)|0,wt=wt+Math.imul(Jt,_r)|0,gt=gt+Math.imul(mr,xr)|0,lt=lt+Math.imul(mr,Er)|0,lt=lt+Math.imul(zt,xr)|0,wt=wt+Math.imul(zt,Er)|0,gt=gt+Math.imul(dr,kr)|0,lt=lt+Math.imul(dr,Ir)|0,lt=lt+Math.imul(pr,kr)|0,wt=wt+Math.imul(pr,Ir)|0,gt=gt+Math.imul(rr,Pr)|0,lt=lt+Math.imul(rr,Nr)|0,lt=lt+Math.imul(ar,Pr)|0,wt=wt+Math.imul(ar,Nr)|0,gt=gt+Math.imul(Ft,Or)|0,lt=lt+Math.imul(Ft,Br)|0,lt=lt+Math.imul(Ut,Or)|0,wt=wt+Math.imul(Ut,Br)|0;var ln=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(ln>>>26)|0,ln&=67108863,gt=Math.imul(nr,Rr),lt=Math.imul(nr,_r),lt=lt+Math.imul(sr,Rr)|0,wt=Math.imul(sr,_r),gt=gt+Math.imul(Bt,xr)|0,lt=lt+Math.imul(Bt,Er)|0,lt=lt+Math.imul(Jt,xr)|0,wt=wt+Math.imul(Jt,Er)|0,gt=gt+Math.imul(mr,kr)|0,lt=lt+Math.imul(mr,Ir)|0,lt=lt+Math.imul(zt,kr)|0,wt=wt+Math.imul(zt,Ir)|0,gt=gt+Math.imul(dr,Pr)|0,lt=lt+Math.imul(dr,Nr)|0,lt=lt+Math.imul(pr,Pr)|0,wt=wt+Math.imul(pr,Nr)|0,gt=gt+Math.imul(rr,Or)|0,lt=lt+Math.imul(rr,Br)|0,lt=lt+Math.imul(ar,Or)|0,wt=wt+Math.imul(ar,Br)|0;var un=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(un>>>26)|0,un&=67108863,gt=Math.imul(nr,xr),lt=Math.imul(nr,Er),lt=lt+Math.imul(sr,xr)|0,wt=Math.imul(sr,Er),gt=gt+Math.imul(Bt,kr)|0,lt=lt+Math.imul(Bt,Ir)|0,lt=lt+Math.imul(Jt,kr)|0,wt=wt+Math.imul(Jt,Ir)|0,gt=gt+Math.imul(mr,Pr)|0,lt=lt+Math.imul(mr,Nr)|0,lt=lt+Math.imul(zt,Pr)|0,wt=wt+Math.imul(zt,Nr)|0,gt=gt+Math.imul(dr,Or)|0,lt=lt+Math.imul(dr,Br)|0,lt=lt+Math.imul(pr,Or)|0,wt=wt+Math.imul(pr,Br)|0;var dn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(dn>>>26)|0,dn&=67108863,gt=Math.imul(nr,kr),lt=Math.imul(nr,Ir),lt=lt+Math.imul(sr,kr)|0,wt=Math.imul(sr,Ir),gt=gt+Math.imul(Bt,Pr)|0,lt=lt+Math.imul(Bt,Nr)|0,lt=lt+Math.imul(Jt,Pr)|0,wt=wt+Math.imul(Jt,Nr)|0,gt=gt+Math.imul(mr,Or)|0,lt=lt+Math.imul(mr,Br)|0,lt=lt+Math.imul(zt,Or)|0,wt=wt+Math.imul(zt,Br)|0;var fn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(fn>>>26)|0,fn&=67108863,gt=Math.imul(nr,Pr),lt=Math.imul(nr,Nr),lt=lt+Math.imul(sr,Pr)|0,wt=Math.imul(sr,Nr),gt=gt+Math.imul(Bt,Or)|0,lt=lt+Math.imul(Bt,Br)|0,lt=lt+Math.imul(Jt,Or)|0,wt=wt+Math.imul(Jt,Br)|0;var hn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,gt=Math.imul(nr,Or),lt=Math.imul(nr,Br),lt=lt+Math.imul(sr,Or)|0,wt=Math.imul(sr,Br);var pn=(Mt+gt|0)+((lt&8191)<<13)|0;return Mt=(wt+(lt>>>13)|0)+(pn>>>26)|0,pn&=67108863,vt[0]=jr,vt[1]=Wr,vt[2]=Hr,vt[3]=zr,vt[4]=qr,vt[5]=Xr,vt[6]=tn,vt[7]=rn,vt[8]=nn,vt[9]=an,vt[10]=on,vt[11]=sn,vt[12]=cn,vt[13]=ln,vt[14]=un,vt[15]=dn,vt[16]=fn,vt[17]=hn,vt[18]=pn,Mt!==0&&(vt[19]=Mt,mt.length++),mt};Math.imul||($t=Tt);function kt(ht,st,dt){dt.negative=st.negative^ht.negative,dt.length=ht.length+st.length;for(var mt=0,_t=0,xt=0;xt<dt.length-1;xt++){var vt=_t;_t=0;for(var Mt=mt&67108863,gt=Math.min(xt,st.length-1),lt=Math.max(0,xt-ht.length+1);lt<=gt;lt++){var wt=xt-lt,jt=ht.words[wt]|0,It=st.words[lt]|0,Wt=jt*It,Qt=Wt&67108863;vt=vt+(Wt/67108864|0)|0,Qt=Qt+Mt|0,Mt=Qt&67108863,vt=vt+(Qt>>>26)|0,_t+=vt>>>26,vt&=67108863}dt.words[xt]=Mt,mt=vt,vt=_t}return mt!==0?dt.words[xt]=mt:dt.length--,dt._strip()}function Pt(ht,st,dt){return kt(ht,st,dt)}it.prototype.mulTo=function(st,dt){var mt,_t=this.length+st.length;return this.length===10&&st.length===10?mt=$t(this,st,dt):_t<63?mt=Tt(this,st,dt):_t<1024?mt=kt(this,st,dt):mt=Pt(this,st,dt),mt},it.prototype.mul=function(st){var dt=new it(null);return dt.words=new Array(this.length+st.length),this.mulTo(st,dt)},it.prototype.mulf=function(st){var dt=new it(null);return dt.words=new Array(this.length+st.length),Pt(this,st,dt)},it.prototype.imul=function(st){return this.clone().mulTo(st,this)},it.prototype.imuln=function(st){var dt=st<0;dt&&(st=-st),rt(typeof st=="number"),rt(st<67108864);for(var mt=0,_t=0;_t<this.length;_t++){var xt=(this.words[_t]|0)*st,vt=(xt&67108863)+(mt&67108863);mt>>=26,mt+=xt/67108864|0,mt+=vt>>>26,this.words[_t]=vt&67108863}return mt!==0&&(this.words[_t]=mt,this.length++),dt?this.ineg():this},it.prototype.muln=function(st){return this.clone().imuln(st)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(st){var dt=St(st);if(dt.length===0)return new it(1);for(var mt=this,_t=0;_t<dt.length&&dt[_t]===0;_t++,mt=mt.sqr());if(++_t<dt.length)for(var xt=mt.sqr();_t<dt.length;_t++,xt=xt.sqr())dt[_t]!==0&&(mt=mt.mul(xt));return mt},it.prototype.iushln=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26,_t=67108863>>>26-dt<<26-dt,xt;if(dt!==0){var vt=0;for(xt=0;xt<this.length;xt++){var Mt=this.words[xt]&_t,gt=(this.words[xt]|0)-Mt<<dt;this.words[xt]=gt|vt,vt=Mt>>>26-dt}vt&&(this.words[xt]=vt,this.length++)}if(mt!==0){for(xt=this.length-1;xt>=0;xt--)this.words[xt+mt]=this.words[xt];for(xt=0;xt<mt;xt++)this.words[xt]=0;this.length+=mt}return this._strip()},it.prototype.ishln=function(st){return rt(this.negative===0),this.iushln(st)},it.prototype.iushrn=function(st,dt,mt){rt(typeof st=="number"&&st>=0);var _t;dt?_t=(dt-dt%26)/26:_t=0;var xt=st%26,vt=Math.min((st-xt)/26,this.length),Mt=67108863^67108863>>>xt<<xt,gt=mt;if(_t-=vt,_t=Math.max(0,_t),gt){for(var lt=0;lt<vt;lt++)gt.words[lt]=this.words[lt];gt.length=vt}if(vt!==0)if(this.length>vt)for(this.length-=vt,lt=0;lt<this.length;lt++)this.words[lt]=this.words[lt+vt];else this.words[0]=0,this.length=1;var wt=0;for(lt=this.length-1;lt>=0&&(wt!==0||lt>=_t);lt--){var jt=this.words[lt]|0;this.words[lt]=wt<<26-xt|jt>>>xt,wt=jt&Mt}return gt&&wt!==0&&(gt.words[gt.length++]=wt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(st,dt,mt){return rt(this.negative===0),this.iushrn(st,dt,mt)},it.prototype.shln=function(st){return this.clone().ishln(st)},it.prototype.ushln=function(st){return this.clone().iushln(st)},it.prototype.shrn=function(st){return this.clone().ishrn(st)},it.prototype.ushrn=function(st){return this.clone().iushrn(st)},it.prototype.testn=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26,_t=1<<dt;if(this.length<=mt)return!1;var xt=this.words[mt];return!!(xt&_t)},it.prototype.imaskn=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var _t=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=_t}return this._strip()},it.prototype.maskn=function(st){return this.clone().imaskn(st)},it.prototype.iaddn=function(st){return rt(typeof st=="number"),rt(st<67108864),st<0?this.isubn(-st):this.negative!==0?this.length===1&&(this.words[0]|0)<=st?(this.words[0]=st-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(st),this.negative=1,this):this._iaddn(st)},it.prototype._iaddn=function(st){this.words[0]+=st;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(st){if(rt(typeof st=="number"),rt(st<67108864),st<0)return this.iaddn(-st);if(this.negative!==0)return this.negative=0,this.iaddn(st),this.negative=1,this;if(this.words[0]-=st,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},it.prototype.addn=function(st){return this.clone().iaddn(st)},it.prototype.subn=function(st){return this.clone().isubn(st)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(st,dt,mt){var _t=st.length+mt,xt;this._expand(_t);var vt,Mt=0;for(xt=0;xt<st.length;xt++){vt=(this.words[xt+mt]|0)+Mt;var gt=(st.words[xt]|0)*dt;vt-=gt&67108863,Mt=(vt>>26)-(gt/67108864|0),this.words[xt+mt]=vt&67108863}for(;xt<this.length-mt;xt++)vt=(this.words[xt+mt]|0)+Mt,Mt=vt>>26,this.words[xt+mt]=vt&67108863;if(Mt===0)return this._strip();for(rt(Mt===-1),Mt=0,xt=0;xt<this.length;xt++)vt=-(this.words[xt]|0)+Mt,Mt=vt>>26,this.words[xt]=vt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(st,dt){var mt=this.length-st.length,_t=this.clone(),xt=st,vt=xt.words[xt.length-1]|0,Mt=this._countBits(vt);mt=26-Mt,mt!==0&&(xt=xt.ushln(mt),_t.iushln(mt),vt=xt.words[xt.length-1]|0);var gt=_t.length-xt.length,lt;if(dt!=="mod"){lt=new it(null),lt.length=gt+1,lt.words=new Array(lt.length);for(var wt=0;wt<lt.length;wt++)lt.words[wt]=0}var jt=_t.clone()._ishlnsubmul(xt,1,gt);jt.negative===0&&(_t=jt,lt&&(lt.words[gt]=1));for(var It=gt-1;It>=0;It--){var Wt=(_t.words[xt.length+It]|0)*67108864+(_t.words[xt.length+It-1]|0);for(Wt=Math.min(Wt/vt|0,67108863),_t._ishlnsubmul(xt,Wt,It);_t.negative!==0;)Wt--,_t.negative=0,_t._ishlnsubmul(xt,1,It),_t.isZero()||(_t.negative^=1);lt&&(lt.words[It]=Wt)}return lt&&lt._strip(),_t._strip(),dt!=="div"&&mt!==0&&_t.iushrn(mt),{div:lt||null,mod:_t}},it.prototype.divmod=function(st,dt,mt){if(rt(!st.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var _t,xt,vt;return this.negative!==0&&st.negative===0?(vt=this.neg().divmod(st,dt),dt!=="mod"&&(_t=vt.div.neg()),dt!=="div"&&(xt=vt.mod.neg(),mt&&xt.negative!==0&&xt.iadd(st)),{div:_t,mod:xt}):this.negative===0&&st.negative!==0?(vt=this.divmod(st.neg(),dt),dt!=="mod"&&(_t=vt.div.neg()),{div:_t,mod:vt.mod}):(this.negative&st.negative)!==0?(vt=this.neg().divmod(st.neg(),dt),dt!=="div"&&(xt=vt.mod.neg(),mt&&xt.negative!==0&&xt.isub(st)),{div:vt.div,mod:xt}):st.length>this.length||this.cmp(st)<0?{div:new it(0),mod:this}:st.length===1?dt==="div"?{div:this.divn(st.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modrn(st.words[0]))}:{div:this.divn(st.words[0]),mod:new it(this.modrn(st.words[0]))}:this._wordDiv(st,dt)},it.prototype.div=function(st){return this.divmod(st,"div",!1).div},it.prototype.mod=function(st){return this.divmod(st,"mod",!1).mod},it.prototype.umod=function(st){return this.divmod(st,"mod",!0).mod},it.prototype.divRound=function(st){var dt=this.divmod(st);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(st):dt.mod,_t=st.ushrn(1),xt=st.andln(1),vt=mt.cmp(_t);return vt<0||xt===1&&vt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modrn=function(st){var dt=st<0;dt&&(st=-st),rt(st<=67108863);for(var mt=(1<<26)%st,_t=0,xt=this.length-1;xt>=0;xt--)_t=(mt*_t+(this.words[xt]|0))%st;return dt?-_t:_t},it.prototype.modn=function(st){return this.modrn(st)},it.prototype.idivn=function(st){var dt=st<0;dt&&(st=-st),rt(st<=67108863);for(var mt=0,_t=this.length-1;_t>=0;_t--){var xt=(this.words[_t]|0)+mt*67108864;this.words[_t]=xt/st|0,mt=xt%st}return this._strip(),dt?this.ineg():this},it.prototype.divn=function(st){return this.clone().idivn(st)},it.prototype.egcd=function(st){rt(st.negative===0),rt(!st.isZero());var dt=this,mt=st.clone();dt.negative!==0?dt=dt.umod(st):dt=dt.clone();for(var _t=new it(1),xt=new it(0),vt=new it(0),Mt=new it(1),gt=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++gt;for(var lt=mt.clone(),wt=dt.clone();!dt.isZero();){for(var jt=0,It=1;(dt.words[0]&It)===0&&jt<26;++jt,It<<=1);if(jt>0)for(dt.iushrn(jt);jt-- >0;)(_t.isOdd()||xt.isOdd())&&(_t.iadd(lt),xt.isub(wt)),_t.iushrn(1),xt.iushrn(1);for(var Wt=0,Qt=1;(mt.words[0]&Qt)===0&&Wt<26;++Wt,Qt<<=1);if(Wt>0)for(mt.iushrn(Wt);Wt-- >0;)(vt.isOdd()||Mt.isOdd())&&(vt.iadd(lt),Mt.isub(wt)),vt.iushrn(1),Mt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),_t.isub(vt),xt.isub(Mt)):(mt.isub(dt),vt.isub(_t),Mt.isub(xt))}return{a:vt,b:Mt,gcd:mt.iushln(gt)}},it.prototype._invmp=function(st){rt(st.negative===0),rt(!st.isZero());var dt=this,mt=st.clone();dt.negative!==0?dt=dt.umod(st):dt=dt.clone();for(var _t=new it(1),xt=new it(0),vt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var Mt=0,gt=1;(dt.words[0]&gt)===0&&Mt<26;++Mt,gt<<=1);if(Mt>0)for(dt.iushrn(Mt);Mt-- >0;)_t.isOdd()&&_t.iadd(vt),_t.iushrn(1);for(var lt=0,wt=1;(mt.words[0]&wt)===0&&lt<26;++lt,wt<<=1);if(lt>0)for(mt.iushrn(lt);lt-- >0;)xt.isOdd()&&xt.iadd(vt),xt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),_t.isub(xt)):(mt.isub(dt),xt.isub(_t))}var jt;return dt.cmpn(1)===0?jt=_t:jt=xt,jt.cmpn(0)<0&&jt.iadd(st),jt},it.prototype.gcd=function(st){if(this.isZero())return st.abs();if(st.isZero())return this.abs();var dt=this.clone(),mt=st.clone();dt.negative=0,mt.negative=0;for(var _t=0;dt.isEven()&&mt.isEven();_t++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var xt=dt.cmp(mt);if(xt<0){var vt=dt;dt=mt,mt=vt}else if(xt===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(_t)},it.prototype.invm=function(st){return this.egcd(st).a.umod(st)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(st){return this.words[0]&st},it.prototype.bincn=function(st){rt(typeof st=="number");var dt=st%26,mt=(st-dt)/26,_t=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=_t,this;for(var xt=_t,vt=mt;xt!==0&&vt<this.length;vt++){var Mt=this.words[vt]|0;Mt+=xt,xt=Mt>>>26,Mt&=67108863,this.words[vt]=Mt}return xt!==0&&(this.words[vt]=xt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(st){var dt=st<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(st=-st),rt(st<=67108863,"Number is too big");var _t=this.words[0]|0;mt=_t===st?0:_t<st?-1:1}return this.negative!==0?-mt|0:mt},it.prototype.cmp=function(st){if(this.negative!==0&&st.negative===0)return-1;if(this.negative===0&&st.negative!==0)return 1;var dt=this.ucmp(st);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(st){if(this.length>st.length)return 1;if(this.length<st.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var _t=this.words[mt]|0,xt=st.words[mt]|0;if(_t!==xt){_t<xt?dt=-1:_t>xt&&(dt=1);break}}return dt},it.prototype.gtn=function(st){return this.cmpn(st)===1},it.prototype.gt=function(st){return this.cmp(st)===1},it.prototype.gten=function(st){return this.cmpn(st)>=0},it.prototype.gte=function(st){return this.cmp(st)>=0},it.prototype.ltn=function(st){return this.cmpn(st)===-1},it.prototype.lt=function(st){return this.cmp(st)===-1},it.prototype.lten=function(st){return this.cmpn(st)<=0},it.prototype.lte=function(st){return this.cmp(st)<=0},it.prototype.eqn=function(st){return this.cmpn(st)===0},it.prototype.eq=function(st){return this.cmp(st)===0},it.red=function(st){return new Rt(st)},it.prototype.toRed=function(st){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),st.convertTo(this)._forceRed(st)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(st){return this.red=st,this},it.prototype.forceRed=function(st){return rt(!this.red,"Already a number in reduction context"),this._forceRed(st)},it.prototype.redAdd=function(st){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,st)},it.prototype.redIAdd=function(st){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,st)},it.prototype.redSub=function(st){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,st)},it.prototype.redISub=function(st){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,st)},it.prototype.redShl=function(st){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,st)},it.prototype.redMul=function(st){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,st),this.red.mul(this,st)},it.prototype.redIMul=function(st){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,st),this.red.imul(this,st)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(st){return rt(this.red&&!st.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,st)};var Ot={k256:null,p224:null,p192:null,p25519:null};function Ht(ht,st){this.name=ht,this.p=new it(st,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ht.prototype._tmp=function(){var st=new it(null);return st.words=new Array(Math.ceil(this.n/13)),st},Ht.prototype.ireduce=function(st){var dt=st,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var _t=mt<this.n?-1:dt.ucmp(this.p);return _t===0?(dt.words[0]=0,dt.length=1):_t>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Ht.prototype.split=function(st,dt){st.iushrn(this.n,0,dt)},Ht.prototype.imulK=function(st){return st.imul(this.k)};function qt(){Ht.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(qt,Ht),qt.prototype.split=function(st,dt){for(var mt=4194303,_t=Math.min(st.length,9),xt=0;xt<_t;xt++)dt.words[xt]=st.words[xt];if(dt.length=_t,st.length<=9){st.words[0]=0,st.length=1;return}var vt=st.words[9];for(dt.words[dt.length++]=vt&mt,xt=10;xt<st.length;xt++){var Mt=st.words[xt]|0;st.words[xt-10]=(Mt&mt)<<4|vt>>>22,vt=Mt}vt>>>=22,st.words[xt-10]=vt,vt===0&&st.length>10?st.length-=10:st.length-=9},qt.prototype.imulK=function(st){st.words[st.length]=0,st.words[st.length+1]=0,st.length+=2;for(var dt=0,mt=0;mt<st.length;mt++){var _t=st.words[mt]|0;dt+=_t*977,st.words[mt]=dt&67108863,dt=_t*64+(dt/67108864|0)}return st.words[st.length-1]===0&&(st.length--,st.words[st.length-1]===0&&st.length--),st};function Zt(){Ht.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Zt,Ht);function tr(){Ht.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(tr,Ht);function Dt(){Ht.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(Dt,Ht),Dt.prototype.imulK=function(st){for(var dt=0,mt=0;mt<st.length;mt++){var _t=(st.words[mt]|0)*19+dt,xt=_t&67108863;_t>>>=26,st.words[mt]=xt,dt=_t}return dt!==0&&(st.words[st.length++]=dt),st},it._prime=function(st){if(Ot[st])return Ot[st];var dt;if(st==="k256")dt=new qt;else if(st==="p224")dt=new Zt;else if(st==="p192")dt=new tr;else if(st==="p25519")dt=new Dt;else throw new Error("Unknown prime "+st);return Ot[st]=dt,dt};function Rt(ht){if(typeof ht=="string"){var st=it._prime(ht);this.m=st.p,this.prime=st}else rt(ht.gtn(1),"modulus must be greater than 1"),this.m=ht,this.prime=null}Rt.prototype._verify1=function(st){rt(st.negative===0,"red works only with positives"),rt(st.red,"red works only with red numbers")},Rt.prototype._verify2=function(st,dt){rt((st.negative|dt.negative)===0,"red works only with positives"),rt(st.red&&st.red===dt.red,"red works only with red numbers")},Rt.prototype.imod=function(st){return this.prime?this.prime.ireduce(st)._forceRed(this):(ft(st,st.umod(this.m)._forceRed(this)),st)},Rt.prototype.neg=function(st){return st.isZero()?st.clone():this.m.sub(st)._forceRed(this)},Rt.prototype.add=function(st,dt){this._verify2(st,dt);var mt=st.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},Rt.prototype.iadd=function(st,dt){this._verify2(st,dt);var mt=st.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},Rt.prototype.sub=function(st,dt){this._verify2(st,dt);var mt=st.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},Rt.prototype.isub=function(st,dt){this._verify2(st,dt);var mt=st.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},Rt.prototype.shl=function(st,dt){return this._verify1(st),this.imod(st.ushln(dt))},Rt.prototype.imul=function(st,dt){return this._verify2(st,dt),this.imod(st.imul(dt))},Rt.prototype.mul=function(st,dt){return this._verify2(st,dt),this.imod(st.mul(dt))},Rt.prototype.isqr=function(st){return this.imul(st,st.clone())},Rt.prototype.sqr=function(st){return this.mul(st,st)},Rt.prototype.sqrt=function(st){if(st.isZero())return st.clone();var dt=this.m.andln(3);if(rt(dt%2===1),dt===3){var mt=this.m.add(new it(1)).iushrn(2);return this.pow(st,mt)}for(var _t=this.m.subn(1),xt=0;!_t.isZero()&&_t.andln(1)===0;)xt++,_t.iushrn(1);rt(!_t.isZero());var vt=new it(1).toRed(this),Mt=vt.redNeg(),gt=this.m.subn(1).iushrn(1),lt=this.m.bitLength();for(lt=new it(2*lt*lt).toRed(this);this.pow(lt,gt).cmp(Mt)!==0;)lt.redIAdd(Mt);for(var wt=this.pow(lt,_t),jt=this.pow(st,_t.addn(1).iushrn(1)),It=this.pow(st,_t),Wt=xt;It.cmp(vt)!==0;){for(var Qt=It,Gt=0;Qt.cmp(vt)!==0;Gt++)Qt=Qt.redSqr();rt(Gt<Wt);var er=this.pow(wt,new it(1).iushln(Wt-Gt-1));jt=jt.redMul(er),wt=er.redSqr(),It=It.redMul(wt),Wt=Gt}return jt},Rt.prototype.invm=function(st){var dt=st._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Rt.prototype.pow=function(st,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return st.clone();var mt=4,_t=new Array(1<<mt);_t[0]=new it(1).toRed(this),_t[1]=st;for(var xt=2;xt<_t.length;xt++)_t[xt]=this.mul(_t[xt-1],st);var vt=_t[0],Mt=0,gt=0,lt=dt.bitLength()%26;for(lt===0&&(lt=26),xt=dt.length-1;xt>=0;xt--){for(var wt=dt.words[xt],jt=lt-1;jt>=0;jt--){var It=wt>>jt&1;if(vt!==_t[0]&&(vt=this.sqr(vt)),It===0&&Mt===0){gt=0;continue}Mt<<=1,Mt|=It,gt++,!(gt!==mt&&(xt!==0||jt!==0))&&(vt=this.mul(vt,_t[Mt]),gt=0,Mt=0)}lt=26}return vt},Rt.prototype.convertTo=function(st){var dt=st.umod(this.m);return dt===st?dt.clone():dt},Rt.prototype.convertFrom=function(st){var dt=st.clone();return dt.red=null,dt},it.mont=function(st){return new Nt(st)};function Nt(ht){Rt.call(this,ht),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Nt,Rt),Nt.prototype.convertTo=function(st){return this.imod(st.ushln(this.shift))},Nt.prototype.convertFrom=function(st){var dt=this.imod(st.mul(this.rinv));return dt.red=null,dt},Nt.prototype.imul=function(st,dt){if(st.isZero()||dt.isZero())return st.words[0]=0,st.length=1,st;var mt=st.imul(dt),_t=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xt=mt.isub(_t).iushrn(this.shift),vt=xt;return xt.cmp(this.m)>=0?vt=xt.isub(this.m):xt.cmpn(0)<0&&(vt=xt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.mul=function(st,dt){if(st.isZero()||dt.isZero())return new it(0)._forceRed(this);var mt=st.mul(dt),_t=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xt=mt.isub(_t).iushrn(this.shift),vt=xt;return xt.cmp(this.m)>=0?vt=xt.isub(this.m):xt.cmpn(0)<0&&(vt=xt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.invm=function(st){var dt=this.imod(st._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(et,commonjsGlobal)})(bn$4);const _BN=bn$4.exports,version$s="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const et=[];if(["NFD","NFC","NFKD","NFKC"].forEach(_e=>{try{if("test".normalize(_e)!=="test")throw new Error("bad normalize")}catch{et.push(_e)}}),et.length)throw new Error("missing "+et.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(et){return et.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(et){et.DEBUG="DEBUG",et.INFO="INFO",et.WARNING="WARNING",et.ERROR="ERROR",et.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(et){et.UNKNOWN_ERROR="UNKNOWN_ERROR",et.NOT_IMPLEMENTED="NOT_IMPLEMENTED",et.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",et.NETWORK_ERROR="NETWORK_ERROR",et.SERVER_ERROR="SERVER_ERROR",et.TIMEOUT="TIMEOUT",et.BUFFER_OVERRUN="BUFFER_OVERRUN",et.NUMERIC_FAULT="NUMERIC_FAULT",et.MISSING_NEW="MISSING_NEW",et.INVALID_ARGUMENT="INVALID_ARGUMENT",et.MISSING_ARGUMENT="MISSING_ARGUMENT",et.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",et.CALL_EXCEPTION="CALL_EXCEPTION",et.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",et.NONCE_EXPIRED="NONCE_EXPIRED",et.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",et.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",et.TRANSACTION_REPLACED="TRANSACTION_REPLACED",et.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(_e){Object.defineProperty(this,"version",{enumerable:!0,value:_e,writable:!1})}_log(_e,tt){const rt=_e.toLowerCase();LogLevels[rt]==null&&this.throwArgumentError("invalid log level name","logLevel",_e),!(_logLevel>LogLevels[rt])&&console.log.apply(console,tt)}debug(..._e){this._log(Logger.levels.DEBUG,_e)}info(..._e){this._log(Logger.levels.INFO,_e)}warn(..._e){this._log(Logger.levels.WARNING,_e)}makeError(_e,tt,rt){if(_censorErrors)return this.makeError("censored error",tt,{});tt||(tt=Logger.errors.UNKNOWN_ERROR),rt||(rt={});const nt=[];Object.keys(rt).forEach(ct=>{const ut=rt[ct];try{if(ut instanceof Uint8Array){let ft="";for(let yt=0;yt<ut.length;yt++)ft+=HEX[ut[yt]>>4],ft+=HEX[ut[yt]&15];nt.push(ct+"=Uint8Array(0x"+ft+")")}else nt.push(ct+"="+JSON.stringify(ut))}catch{nt.push(ct+"="+JSON.stringify(rt[ct].toString()))}}),nt.push(`code=${tt}`),nt.push(`version=${this.version}`);const it=_e;let at="";switch(tt){case ErrorCode.NUMERIC_FAULT:{at="NUMERIC_FAULT";const ct=_e;switch(ct){case"overflow":case"underflow":case"division-by-zero":at+="-"+ct;break;case"negative-power":case"negative-width":at+="-unsupported";break;case"unbound-bitwise-result":at+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:at=tt;break}at&&(_e+=" [ See: https://links.ethers.org/v5-errors-"+at+" ]"),nt.length&&(_e+=" ("+nt.join(", ")+")");const ot=new Error(_e);return ot.reason=it,ot.code=tt,Object.keys(rt).forEach(function(ct){ot[ct]=rt[ct]}),ot}throwError(_e,tt,rt){throw this.makeError(_e,tt,rt)}throwArgumentError(_e,tt,rt){return this.throwError(_e,Logger.errors.INVALID_ARGUMENT,{argument:tt,value:rt})}assert(_e,tt,rt,nt){_e||this.throwError(tt,rt,nt)}assertArgument(_e,tt,rt,nt){_e||this.throwArgumentError(tt,rt,nt)}checkNormalize(_e){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(_e,tt){typeof _e=="number"&&(tt==null&&(tt="value not safe"),(_e<0||_e>=9007199254740991)&&this.throwError(tt,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:_e}),_e%1&&this.throwError(tt,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:_e}))}checkArgumentCount(_e,tt,rt){rt?rt=": "+rt:rt="",_e<tt&&this.throwError("missing argument"+rt,Logger.errors.MISSING_ARGUMENT,{count:_e,expectedCount:tt}),_e>tt&&this.throwError("too many arguments"+rt,Logger.errors.UNEXPECTED_ARGUMENT,{count:_e,expectedCount:tt})}checkNew(_e,tt){(_e===Object||_e==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:tt.name})}checkAbstract(_e,tt){_e===tt?this.throwError("cannot instantiate abstract class "+JSON.stringify(tt.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:_e.name,operation:"new"}):(_e===Object||_e==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:tt.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$s)),_globalLogger}static setCensorship(_e,tt){if(!_e&&tt&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!_e)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!_e,_permanentCensorErrors=!!tt}static setLogLevel(_e){const tt=LogLevels[_e.toLowerCase()];if(tt==null){Logger.globalLogger().warn("invalid log level - "+_e);return}_logLevel=tt}static from(_e){return new Logger(_e)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const lib_esm$k=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return LogLevel},get ErrorCode(){return ErrorCode},Logger},Symbol.toStringTag,{value:"Module"})),version$r="bytes/5.7.0",logger$I=new Logger(version$r);function isHexable(et){return!!et.toHexString}function addSlice(et){return et.slice||(et.slice=function(){const _e=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(et,_e)))}),et}function isBytesLike(et){return isHexString$4(et)&&!(et.length%2)||isBytes(et)}function isInteger(et){return typeof et=="number"&&et==et&&et%1===0}function isBytes(et){if(et==null)return!1;if(et.constructor===Uint8Array)return!0;if(typeof et=="string"||!isInteger(et.length)||et.length<0)return!1;for(let _e=0;_e<et.length;_e++){const tt=et[_e];if(!isInteger(tt)||tt<0||tt>=256)return!1}return!0}function arrayify(et,_e){if(_e||(_e={}),typeof et=="number"){logger$I.checkSafeUint53(et,"invalid arrayify value");const tt=[];for(;et;)tt.unshift(et&255),et=parseInt(String(et/256));return tt.length===0&&tt.push(0),addSlice(new Uint8Array(tt))}if(_e.allowMissingPrefix&&typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),isHexable(et)&&(et=et.toHexString()),isHexString$4(et)){let tt=et.substring(2);tt.length%2&&(_e.hexPad==="left"?tt="0"+tt:_e.hexPad==="right"?tt+="0":logger$I.throwArgumentError("hex data is odd-length","value",et));const rt=[];for(let nt=0;nt<tt.length;nt+=2)rt.push(parseInt(tt.substring(nt,nt+2),16));return addSlice(new Uint8Array(rt))}return isBytes(et)?addSlice(new Uint8Array(et)):logger$I.throwArgumentError("invalid arrayify value","value",et)}function concat$3(et){const _e=et.map(nt=>arrayify(nt)),tt=_e.reduce((nt,it)=>nt+it.length,0),rt=new Uint8Array(tt);return _e.reduce((nt,it)=>(rt.set(it,nt),nt+it.length),0),addSlice(rt)}function stripZeros(et){let _e=arrayify(et);if(_e.length===0)return _e;let tt=0;for(;tt<_e.length&&_e[tt]===0;)tt++;return tt&&(_e=_e.slice(tt)),_e}function zeroPad(et,_e){et=arrayify(et),et.length>_e&&logger$I.throwArgumentError("value out of range","value",arguments[0]);const tt=new Uint8Array(_e);return tt.set(et,_e-et.length),addSlice(tt)}function isHexString$4(et,_e){return!(typeof et!="string"||!et.match(/^0x[0-9A-Fa-f]*$/)||_e&&et.length!==2+2*_e)}const HexCharacters="0123456789abcdef";function hexlify(et,_e){if(_e||(_e={}),typeof et=="number"){logger$I.checkSafeUint53(et,"invalid hexlify value");let tt="";for(;et;)tt=HexCharacters[et&15]+tt,et=Math.floor(et/16);return tt.length?(tt.length%2&&(tt="0"+tt),"0x"+tt):"0x00"}if(typeof et=="bigint")return et=et.toString(16),et.length%2?"0x0"+et:"0x"+et;if(_e.allowMissingPrefix&&typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),isHexable(et))return et.toHexString();if(isHexString$4(et))return et.length%2&&(_e.hexPad==="left"?et="0x0"+et.substring(2):_e.hexPad==="right"?et+="0":logger$I.throwArgumentError("hex data is odd-length","value",et)),et.toLowerCase();if(isBytes(et)){let tt="0x";for(let rt=0;rt<et.length;rt++){let nt=et[rt];tt+=HexCharacters[(nt&240)>>4]+HexCharacters[nt&15]}return tt}return logger$I.throwArgumentError("invalid hexlify value","value",et)}function hexDataLength(et){if(typeof et!="string")et=hexlify(et);else if(!isHexString$4(et)||et.length%2)return null;return(et.length-2)/2}function hexDataSlice(et,_e,tt){return typeof et!="string"?et=hexlify(et):(!isHexString$4(et)||et.length%2)&&logger$I.throwArgumentError("invalid hexData","value",et),_e=2+2*_e,tt!=null?"0x"+et.substring(_e,2+2*tt):"0x"+et.substring(_e)}function hexConcat(et){let _e="0x";return et.forEach(tt=>{_e+=hexlify(tt).substring(2)}),_e}function hexValue(et){const _e=hexStripZeros(hexlify(et,{hexPad:"left"}));return _e==="0x"?"0x0":_e}function hexStripZeros(et){typeof et!="string"&&(et=hexlify(et)),isHexString$4(et)||logger$I.throwArgumentError("invalid hex string","value",et),et=et.substring(2);let _e=0;for(;_e<et.length&&et[_e]==="0";)_e++;return"0x"+et.substring(_e)}function hexZeroPad(et,_e){for(typeof et!="string"?et=hexlify(et):isHexString$4(et)||logger$I.throwArgumentError("invalid hex string","value",et),et.length>2*_e+2&&logger$I.throwArgumentError("value out of range","value",arguments[1]);et.length<2*_e+2;)et="0x0"+et.substring(2);return et}function splitSignature(et){const _e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(et)){let tt=arrayify(et);tt.length===64?(_e.v=27+(tt[32]>>7),tt[32]&=127,_e.r=hexlify(tt.slice(0,32)),_e.s=hexlify(tt.slice(32,64))):tt.length===65?(_e.r=hexlify(tt.slice(0,32)),_e.s=hexlify(tt.slice(32,64)),_e.v=tt[64]):logger$I.throwArgumentError("invalid signature string","signature",et),_e.v<27&&(_e.v===0||_e.v===1?_e.v+=27:logger$I.throwArgumentError("signature invalid v byte","signature",et)),_e.recoveryParam=1-_e.v%2,_e.recoveryParam&&(tt[32]|=128),_e._vs=hexlify(tt.slice(32,64))}else{if(_e.r=et.r,_e.s=et.s,_e.v=et.v,_e.recoveryParam=et.recoveryParam,_e._vs=et._vs,_e._vs!=null){const nt=zeroPad(arrayify(_e._vs),32);_e._vs=hexlify(nt);const it=nt[0]>=128?1:0;_e.recoveryParam==null?_e.recoveryParam=it:_e.recoveryParam!==it&&logger$I.throwArgumentError("signature recoveryParam mismatch _vs","signature",et),nt[0]&=127;const at=hexlify(nt);_e.s==null?_e.s=at:_e.s!==at&&logger$I.throwArgumentError("signature v mismatch _vs","signature",et)}if(_e.recoveryParam==null)_e.v==null?logger$I.throwArgumentError("signature missing v and recoveryParam","signature",et):_e.v===0||_e.v===1?_e.recoveryParam=_e.v:_e.recoveryParam=1-_e.v%2;else if(_e.v==null)_e.v=27+_e.recoveryParam;else{const nt=_e.v===0||_e.v===1?_e.v:1-_e.v%2;_e.recoveryParam!==nt&&logger$I.throwArgumentError("signature recoveryParam mismatch v","signature",et)}_e.r==null||!isHexString$4(_e.r)?logger$I.throwArgumentError("signature missing or invalid r","signature",et):_e.r=hexZeroPad(_e.r,32),_e.s==null||!isHexString$4(_e.s)?logger$I.throwArgumentError("signature missing or invalid s","signature",et):_e.s=hexZeroPad(_e.s,32);const tt=arrayify(_e.s);tt[0]>=128&&logger$I.throwArgumentError("signature s out of range","signature",et),_e.recoveryParam&&(tt[0]|=128);const rt=hexlify(tt);_e._vs&&(isHexString$4(_e._vs)||logger$I.throwArgumentError("signature invalid _vs","signature",et),_e._vs=hexZeroPad(_e._vs,32)),_e._vs==null?_e._vs=rt:_e._vs!==rt&&logger$I.throwArgumentError("signature _vs mismatch v and s","signature",et)}return _e.yParityAndS=_e._vs,_e.compact=_e.r+_e.yParityAndS.substring(2),_e}function joinSignature(et){return et=splitSignature(et),hexlify(concat$3([et.r,et.s,et.recoveryParam?"0x1c":"0x1b"]))}const lib_esm$j=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike,isBytes,arrayify,concat:concat$3,stripZeros,zeroPad,isHexString:isHexString$4,hexlify,hexDataLength,hexDataSlice,hexConcat,hexValue,hexStripZeros,hexZeroPad,splitSignature,joinSignature},Symbol.toStringTag,{value:"Module"})),version$q="bignumber/5.7.0";var BN$5=_BN.BN;const logger$H=new Logger(version$q),_constructorGuard$4={},MAX_SAFE=9007199254740991;function isBigNumberish(et){return et!=null&&(BigNumber.isBigNumber(et)||typeof et=="number"&&et%1===0||typeof et=="string"&&!!et.match(/^-?[0-9]+$/)||isHexString$4(et)||typeof et=="bigint"||isBytes(et))}let _warnedToStringRadix=!1;class BigNumber{constructor(_e,tt){_e!==_constructorGuard$4&&logger$H.throwError("cannot call constructor directly; use BigNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=tt,this._isBigNumber=!0,Object.freeze(this)}fromTwos(_e){return toBigNumber(toBN(this).fromTwos(_e))}toTwos(_e){return toBigNumber(toBN(this).toTwos(_e))}abs(){return this._hex[0]==="-"?BigNumber.from(this._hex.substring(1)):this}add(_e){return toBigNumber(toBN(this).add(toBN(_e)))}sub(_e){return toBigNumber(toBN(this).sub(toBN(_e)))}div(_e){return BigNumber.from(_e).isZero()&&throwFault$1("division-by-zero","div"),toBigNumber(toBN(this).div(toBN(_e)))}mul(_e){return toBigNumber(toBN(this).mul(toBN(_e)))}mod(_e){const tt=toBN(_e);return tt.isNeg()&&throwFault$1("division-by-zero","mod"),toBigNumber(toBN(this).umod(tt))}pow(_e){const tt=toBN(_e);return tt.isNeg()&&throwFault$1("negative-power","pow"),toBigNumber(toBN(this).pow(tt))}and(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","and"),toBigNumber(toBN(this).and(tt))}or(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","or"),toBigNumber(toBN(this).or(tt))}xor(_e){const tt=toBN(_e);return(this.isNegative()||tt.isNeg())&&throwFault$1("unbound-bitwise-result","xor"),toBigNumber(toBN(this).xor(tt))}mask(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","mask"),toBigNumber(toBN(this).maskn(_e))}shl(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","shl"),toBigNumber(toBN(this).shln(_e))}shr(_e){return(this.isNegative()||_e<0)&&throwFault$1("negative-width","shr"),toBigNumber(toBN(this).shrn(_e))}eq(_e){return toBN(this).eq(toBN(_e))}lt(_e){return toBN(this).lt(toBN(_e))}lte(_e){return toBN(this).lte(toBN(_e))}gt(_e){return toBN(this).gt(toBN(_e))}gte(_e){return toBN(this).gte(toBN(_e))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch{throwFault$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return logger$H.throwError("this platform does not support BigInt",Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?_warnedToStringRadix||(_warnedToStringRadix=!0,logger$H.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?logger$H.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Logger.errors.UNEXPECTED_ARGUMENT,{}):logger$H.throwError("BigNumber.toString does not accept parameters",Logger.errors.UNEXPECTED_ARGUMENT,{})),toBN(this).toString(10)}toHexString(){return this._hex}toJSON(_e){return{type:"BigNumber",hex:this.toHexString()}}static from(_e){if(_e instanceof BigNumber)return _e;if(typeof _e=="string")return _e.match(/^-?0x[0-9a-f]+$/i)?new BigNumber(_constructorGuard$4,toHex$1(_e)):_e.match(/^-?[0-9]+$/)?new BigNumber(_constructorGuard$4,toHex$1(new BN$5(_e))):logger$H.throwArgumentError("invalid BigNumber string","value",_e);if(typeof _e=="number")return _e%1&&throwFault$1("underflow","BigNumber.from",_e),(_e>=MAX_SAFE||_e<=-MAX_SAFE)&&throwFault$1("overflow","BigNumber.from",_e),BigNumber.from(String(_e));const tt=_e;if(typeof tt=="bigint")return BigNumber.from(tt.toString());if(isBytes(tt))return BigNumber.from(hexlify(tt));if(tt)if(tt.toHexString){const rt=tt.toHexString();if(typeof rt=="string")return BigNumber.from(rt)}else{let rt=tt._hex;if(rt==null&&tt.type==="BigNumber"&&(rt=tt.hex),typeof rt=="string"&&(isHexString$4(rt)||rt[0]==="-"&&isHexString$4(rt.substring(1))))return BigNumber.from(rt)}return logger$H.throwArgumentError("invalid BigNumber value","value",_e)}static isBigNumber(_e){return!!(_e&&_e._isBigNumber)}}function toHex$1(et){if(typeof et!="string")return toHex$1(et.toString(16));if(et[0]==="-")return et=et.substring(1),et[0]==="-"&&logger$H.throwArgumentError("invalid hex","value",et),et=toHex$1(et),et==="0x00"?et:"-"+et;if(et.substring(0,2)!=="0x"&&(et="0x"+et),et==="0x")return"0x00";for(et.length%2&&(et="0x0"+et.substring(2));et.length>4&&et.substring(0,4)==="0x00";)et="0x"+et.substring(4);return et}function toBigNumber(et){return BigNumber.from(toHex$1(et))}function toBN(et){const _e=BigNumber.from(et).toHexString();return _e[0]==="-"?new BN$5("-"+_e.substring(3),16):new BN$5(_e.substring(2),16)}function throwFault$1(et,_e,tt){const rt={fault:et,operation:_e};return tt!=null&&(rt.value=tt),logger$H.throwError(et,Logger.errors.NUMERIC_FAULT,rt)}function _base36To16(et){return new BN$5(et,36).toString(16)}function _base16To36(et){return new BN$5(et,16).toString(36)}const logger$G=new Logger(version$q),_constructorGuard$3={},Zero$2=BigNumber.from(0),NegativeOne$2=BigNumber.from(-1);function throwFault(et,_e,tt,rt){const nt={fault:_e,operation:tt};return rt!==void 0&&(nt.value=rt),logger$G.throwError(et,Logger.errors.NUMERIC_FAULT,nt)}let zeros$1="0";for(;zeros$1.length<256;)zeros$1+=zeros$1;function getMultiplier(et){if(typeof et!="number")try{et=BigNumber.from(et).toNumber()}catch{}return typeof et=="number"&&et>=0&&et<=256&&!(et%1)?"1"+zeros$1.substring(0,et):logger$G.throwArgumentError("invalid decimal size","decimals",et)}function formatFixed(et,_e){_e==null&&(_e=0);const tt=getMultiplier(_e);et=BigNumber.from(et);const rt=et.lt(Zero$2);rt&&(et=et.mul(NegativeOne$2));let nt=et.mod(tt).toString();for(;nt.length<tt.length-1;)nt="0"+nt;nt=nt.match(/^([0-9]*[1-9]|0)(0*)/)[1];const it=et.div(tt).toString();return tt.length===1?et=it:et=it+"."+nt,rt&&(et="-"+et),et}function parseFixed(et,_e){_e==null&&(_e=0);const tt=getMultiplier(_e);(typeof et!="string"||!et.match(/^-?[0-9.]+$/))&&logger$G.throwArgumentError("invalid decimal value","value",et);const rt=et.substring(0,1)==="-";rt&&(et=et.substring(1)),et==="."&&logger$G.throwArgumentError("missing value","value",et);const nt=et.split(".");nt.length>2&&logger$G.throwArgumentError("too many decimal points","value",et);let it=nt[0],at=nt[1];for(it||(it="0"),at||(at="0");at[at.length-1]==="0";)at=at.substring(0,at.length-1);for(at.length>tt.length-1&&throwFault("fractional component exceeds decimals","underflow","parseFixed"),at===""&&(at="0");at.length<tt.length-1;)at+="0";const ot=BigNumber.from(it),ct=BigNumber.from(at);let ut=ot.mul(tt).add(ct);return rt&&(ut=ut.mul(NegativeOne$2)),ut}class FixedFormat{constructor(_e,tt,rt,nt){_e!==_constructorGuard$3&&logger$G.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=tt,this.width=rt,this.decimals=nt,this.name=(tt?"":"u")+"fixed"+String(rt)+"x"+String(nt),this._multiplier=getMultiplier(nt),Object.freeze(this)}static from(_e){if(_e instanceof FixedFormat)return _e;typeof _e=="number"&&(_e=`fixed128x${_e}`);let tt=!0,rt=128,nt=18;if(typeof _e=="string"){if(_e!=="fixed")if(_e==="ufixed")tt=!1;else{const it=_e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);it||logger$G.throwArgumentError("invalid fixed format","format",_e),tt=it[1]!=="u",rt=parseInt(it[2]),nt=parseInt(it[3])}}else if(_e){const it=(at,ot,ct)=>_e[at]==null?ct:(typeof _e[at]!==ot&&logger$G.throwArgumentError("invalid fixed format ("+at+" not "+ot+")","format."+at,_e[at]),_e[at]);tt=it("signed","boolean",tt),rt=it("width","number",rt),nt=it("decimals","number",nt)}return rt%8&&logger$G.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",rt),nt>80&&logger$G.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",nt),new FixedFormat(_constructorGuard$3,tt,rt,nt)}}class FixedNumber{constructor(_e,tt,rt,nt){_e!==_constructorGuard$3&&logger$G.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=nt,this._hex=tt,this._value=rt,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(_e){this.format.name!==_e.format.name&&logger$G.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",_e)}addUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.add(rt),this.format.decimals,this.format)}subUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.sub(rt),this.format.decimals,this.format)}mulUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.mul(rt).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(_e){this._checkFormat(_e);const tt=parseFixed(this._value,this.format.decimals),rt=parseFixed(_e._value,_e.format.decimals);return FixedNumber.fromValue(tt.mul(this.format._multiplier).div(rt),this.format.decimals,this.format)}floor(){const _e=this.toString().split(".");_e.length===1&&_e.push("0");let tt=FixedNumber.from(_e[0],this.format);const rt=!_e[1].match(/^(0*)$/);return this.isNegative()&&rt&&(tt=tt.subUnsafe(ONE.toFormat(tt.format))),tt}ceiling(){const _e=this.toString().split(".");_e.length===1&&_e.push("0");let tt=FixedNumber.from(_e[0],this.format);const rt=!_e[1].match(/^(0*)$/);return!this.isNegative()&&rt&&(tt=tt.addUnsafe(ONE.toFormat(tt.format))),tt}round(_e){_e==null&&(_e=0);const tt=this.toString().split(".");if(tt.length===1&&tt.push("0"),(_e<0||_e>80||_e%1)&&logger$G.throwArgumentError("invalid decimal count","decimals",_e),tt[1].length<=_e)return this;const rt=FixedNumber.from("1"+zeros$1.substring(0,_e),this.format),nt=BUMP.toFormat(this.format);return this.mulUnsafe(rt).addUnsafe(nt).floor().divUnsafe(rt)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(_e){if(_e==null)return this._hex;_e%8&&logger$G.throwArgumentError("invalid byte width","width",_e);const tt=BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(_e).toHexString();return hexZeroPad(tt,_e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(_e){return FixedNumber.fromString(this._value,_e)}static fromValue(_e,tt,rt){return rt==null&&tt!=null&&!isBigNumberish(tt)&&(rt=tt,tt=null),tt==null&&(tt=0),rt==null&&(rt="fixed"),FixedNumber.fromString(formatFixed(_e,tt),FixedFormat.from(rt))}static fromString(_e,tt){tt==null&&(tt="fixed");const rt=FixedFormat.from(tt),nt=parseFixed(_e,rt.decimals);!rt.signed&&nt.lt(Zero$2)&&throwFault("unsigned value cannot be negative","overflow","value",_e);let it=null;rt.signed?it=nt.toTwos(rt.width).toHexString():(it=nt.toHexString(),it=hexZeroPad(it,rt.width/8));const at=formatFixed(nt,rt.decimals);return new FixedNumber(_constructorGuard$3,it,at,rt)}static fromBytes(_e,tt){tt==null&&(tt="fixed");const rt=FixedFormat.from(tt);if(arrayify(_e).length>rt.width/8)throw new Error("overflow");let nt=BigNumber.from(_e);rt.signed&&(nt=nt.fromTwos(rt.width));const it=nt.toTwos((rt.signed?0:1)+rt.width).toHexString(),at=formatFixed(nt,rt.decimals);return new FixedNumber(_constructorGuard$3,it,at,rt)}static from(_e,tt){if(typeof _e=="string")return FixedNumber.fromString(_e,tt);if(isBytes(_e))return FixedNumber.fromBytes(_e,tt);try{return FixedNumber.fromValue(_e,0,tt)}catch(rt){if(rt.code!==Logger.errors.INVALID_ARGUMENT)throw rt}return logger$G.throwArgumentError("invalid FixedNumber value","value",_e)}static isFixedNumber(_e){return!!(_e&&_e._isFixedNumber)}}const ONE=FixedNumber.from(1),BUMP=FixedNumber.from("0.5"),version$p="properties/5.7.0";var __awaiter$f=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$F=new Logger(version$p);function defineReadOnly(et,_e,tt){Object.defineProperty(et,_e,{enumerable:!0,value:tt,writable:!1})}function getStatic(et,_e){for(let tt=0;tt<32;tt++){if(et[_e])return et[_e];if(!et.prototype||typeof et.prototype!="object")break;et=Object.getPrototypeOf(et.prototype).constructor}return null}function resolveProperties(et){return __awaiter$f(this,void 0,void 0,function*(){const _e=Object.keys(et).map(rt=>{const nt=et[rt];return Promise.resolve(nt).then(it=>({key:rt,value:it}))});return(yield Promise.all(_e)).reduce((rt,nt)=>(rt[nt.key]=nt.value,rt),{})})}function checkProperties(et,_e){(!et||typeof et!="object")&&logger$F.throwArgumentError("invalid object","object",et),Object.keys(et).forEach(tt=>{_e[tt]||logger$F.throwArgumentError("invalid object key - "+tt,"transaction:"+tt,et)})}function shallowCopy(et){const _e={};for(const tt in et)_e[tt]=et[tt];return _e}const opaque={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function _isFrozen(et){if(et==null||opaque[typeof et])return!0;if(Array.isArray(et)||typeof et=="object"){if(!Object.isFrozen(et))return!1;const _e=Object.keys(et);for(let tt=0;tt<_e.length;tt++){let rt=null;try{rt=et[_e[tt]]}catch{continue}if(!_isFrozen(rt))return!1}return!0}return logger$F.throwArgumentError(`Cannot deepCopy ${typeof et}`,"object",et)}function _deepCopy(et){if(_isFrozen(et))return et;if(Array.isArray(et))return Object.freeze(et.map(_e=>deepCopy(_e)));if(typeof et=="object"){const _e={};for(const tt in et){const rt=et[tt];rt!==void 0&&defineReadOnly(_e,tt,deepCopy(rt))}return _e}return logger$F.throwArgumentError(`Cannot deepCopy ${typeof et}`,"object",et)}function deepCopy(et){return _deepCopy(et)}class Description{constructor(_e){for(const tt in _e)this[tt]=deepCopy(_e[tt])}}const lib_esm$i=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly,getStatic,resolveProperties,checkProperties,shallowCopy,deepCopy,Description},Symbol.toStringTag,{value:"Module"})),version$o="abi/5.7.0",logger$E=new Logger(version$o),_constructorGuard$2={};let ModifiersBytes={calldata:!0,memory:!0,storage:!0},ModifiersNest={calldata:!0,memory:!0};function checkModifier(et,_e){if(et==="bytes"||et==="string"){if(ModifiersBytes[_e])return!0}else if(et==="address"){if(_e==="payable")return!0}else if((et.indexOf("[")>=0||et==="tuple")&&ModifiersNest[_e])return!0;return(ModifiersBytes[_e]||_e==="payable")&&logger$E.throwArgumentError("invalid modifier","name",_e),!1}function parseParamType(et,_e){let tt=et;function rt(ot){logger$E.throwArgumentError(`unexpected character at position ${ot}`,"param",et)}et=et.replace(/\s/g," ");function nt(ot){let ct={type:"",name:"",parent:ot,state:{allowType:!0}};return _e&&(ct.indexed=!1),ct}let it={type:"",name:"",state:{allowType:!0}},at=it;for(let ot=0;ot<et.length;ot++){let ct=et[ot];switch(ct){case"(":at.state.allowType&&at.type===""?at.type="tuple":at.state.allowParams||rt(ot),at.state.allowType=!1,at.type=verifyType(at.type),at.components=[nt(at)],at=at.components[0];break;case")":delete at.state,at.name==="indexed"&&(_e||rt(ot),at.indexed=!0,at.name=""),checkModifier(at.type,at.name)&&(at.name=""),at.type=verifyType(at.type);let ut=at;at=at.parent,at||rt(ot),delete ut.parent,at.state.allowParams=!1,at.state.allowName=!0,at.state.allowArray=!0;break;case",":delete at.state,at.name==="indexed"&&(_e||rt(ot),at.indexed=!0,at.name=""),checkModifier(at.type,at.name)&&(at.name=""),at.type=verifyType(at.type);let ft=nt(at.parent);at.parent.components.push(ft),delete at.parent,at=ft;break;case" ":at.state.allowType&&at.type!==""&&(at.type=verifyType(at.type),delete at.state.allowType,at.state.allowName=!0,at.state.allowParams=!0),at.state.allowName&&at.name!==""&&(at.name==="indexed"?(_e||rt(ot),at.indexed&&rt(ot),at.indexed=!0,at.name=""):checkModifier(at.type,at.name)?at.name="":at.state.allowName=!1);break;case"[":at.state.allowArray||rt(ot),at.type+=ct,at.state.allowArray=!1,at.state.allowName=!1,at.state.readArray=!0;break;case"]":at.state.readArray||rt(ot),at.type+=ct,at.state.readArray=!1,at.state.allowArray=!0,at.state.allowName=!0;break;default:at.state.allowType?(at.type+=ct,at.state.allowParams=!0,at.state.allowArray=!0):at.state.allowName?(at.name+=ct,delete at.state.allowArray):at.state.readArray?at.type+=ct:rt(ot)}}return at.parent&&logger$E.throwArgumentError("unexpected eof","param",et),delete it.state,at.name==="indexed"?(_e||rt(tt.length-7),at.indexed&&rt(tt.length-7),at.indexed=!0,at.name=""):checkModifier(at.type,at.name)&&(at.name=""),it.type=verifyType(it.type),it}function populate(et,_e){for(let tt in _e)defineReadOnly(et,tt,_e[tt])}const FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),paramTypeArray=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(_e,tt){_e!==_constructorGuard$2&&logger$E.throwError("use fromString",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),populate(this,tt);let rt=this.type.match(paramTypeArray);rt?populate(this,{arrayLength:parseInt(rt[2]||"-1"),arrayChildren:ParamType.fromObject({type:rt[1],components:this.components}),baseType:"array"}):populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json){let rt={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(rt.indexed=this.indexed),this.components&&(rt.components=this.components.map(nt=>JSON.parse(nt.format(_e)))),JSON.stringify(rt)}let tt="";return this.baseType==="array"?(tt+=this.arrayChildren.format(_e),tt+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(_e!==FormatTypes.sighash&&(tt+=this.type),tt+="("+this.components.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+")"):tt+=this.type,_e!==FormatTypes.sighash&&(this.indexed===!0&&(tt+=" indexed"),_e===FormatTypes.full&&this.name&&(tt+=" "+this.name)),tt}static from(_e,tt){return typeof _e=="string"?ParamType.fromString(_e,tt):ParamType.fromObject(_e)}static fromObject(_e){return ParamType.isParamType(_e)?_e:new ParamType(_constructorGuard$2,{name:_e.name||null,type:verifyType(_e.type),indexed:_e.indexed==null?null:!!_e.indexed,components:_e.components?_e.components.map(ParamType.fromObject):null})}static fromString(_e,tt){function rt(nt){return ParamType.fromObject({name:nt.name,type:nt.type,indexed:nt.indexed,components:nt.components})}return rt(parseParamType(_e,!!tt))}static isParamType(_e){return!!(_e!=null&&_e._isParamType)}}function parseParams(et,_e){return splitNesting(et).map(tt=>ParamType.fromString(tt,_e))}class Fragment{constructor(_e,tt){_e!==_constructorGuard$2&&logger$E.throwError("use a static from method",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),populate(this,tt),this._isFragment=!0,Object.freeze(this)}static from(_e){return Fragment.isFragment(_e)?_e:typeof _e=="string"?Fragment.fromString(_e):Fragment.fromObject(_e)}static fromObject(_e){if(Fragment.isFragment(_e))return _e;switch(_e.type){case"function":return FunctionFragment.fromObject(_e);case"event":return EventFragment.fromObject(_e);case"constructor":return ConstructorFragment.fromObject(_e);case"error":return ErrorFragment.fromObject(_e);case"fallback":case"receive":return null}return logger$E.throwArgumentError("invalid fragment object","value",_e)}static fromString(_e){return _e=_e.replace(/\s/g," "),_e=_e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),_e=_e.trim(),_e.split(" ")[0]==="event"?EventFragment.fromString(_e.substring(5).trim()):_e.split(" ")[0]==="function"?FunctionFragment.fromString(_e.substring(8).trim()):_e.split("(")[0].trim()==="constructor"?ConstructorFragment.fromString(_e.trim()):_e.split(" ")[0]==="error"?ErrorFragment.fromString(_e.substring(5).trim()):logger$E.throwArgumentError("unsupported fragment","value",_e)}static isFragment(_e){return!!(_e&&_e._isFragment)}}class EventFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="event "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",_e!==FormatTypes.sighash&&this.anonymous&&(tt+="anonymous "),tt.trim()}static from(_e){return typeof _e=="string"?EventFragment.fromString(_e):EventFragment.fromObject(_e)}static fromObject(_e){if(EventFragment.isEventFragment(_e))return _e;_e.type!=="event"&&logger$E.throwArgumentError("invalid event object","value",_e);const tt={name:verifyIdentifier(_e.name),anonymous:_e.anonymous,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(_constructorGuard$2,tt)}static fromString(_e){let tt=_e.match(regexParen);tt||logger$E.throwArgumentError("invalid event string","value",_e);let rt=!1;return tt[3].split(" ").forEach(nt=>{switch(nt.trim()){case"anonymous":rt=!0;break;case"":break;default:logger$E.warn("unknown modifier: "+nt)}}),EventFragment.fromObject({name:tt[1].trim(),anonymous:rt,inputs:parseParams(tt[2],!0),type:"event"})}static isEventFragment(_e){return _e&&_e._isFragment&&_e.type==="event"}}function parseGas(et,_e){_e.gas=null;let tt=et.split("@");return tt.length!==1?(tt.length>2&&logger$E.throwArgumentError("invalid human-readable ABI signature","value",et),tt[1].match(/^[0-9]+$/)||logger$E.throwArgumentError("invalid human-readable ABI signature gas","value",et),_e.gas=BigNumber.from(tt[1]),tt[0]):et}function parseModifiers(et,_e){_e.constant=!1,_e.payable=!1,_e.stateMutability="nonpayable",et.split(" ").forEach(tt=>{switch(tt.trim()){case"constant":_e.constant=!0;break;case"payable":_e.payable=!0,_e.stateMutability="payable";break;case"nonpayable":_e.payable=!1,_e.stateMutability="nonpayable";break;case"pure":_e.constant=!0,_e.stateMutability="pure";break;case"view":_e.constant=!0,_e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+tt)}})}function verifyState(et){let _e={constant:!1,payable:!0,stateMutability:"payable"};return et.stateMutability!=null?(_e.stateMutability=et.stateMutability,_e.constant=_e.stateMutability==="view"||_e.stateMutability==="pure",et.constant!=null&&!!et.constant!==_e.constant&&logger$E.throwArgumentError("cannot have constant function with mutability "+_e.stateMutability,"value",et),_e.payable=_e.stateMutability==="payable",et.payable!=null&&!!et.payable!==_e.payable&&logger$E.throwArgumentError("cannot have payable function with mutability "+_e.stateMutability,"value",et)):et.payable!=null?(_e.payable=!!et.payable,et.constant==null&&!_e.payable&&et.type!=="constructor"&&logger$E.throwArgumentError("unable to determine stateMutability","value",et),_e.constant=!!et.constant,_e.constant?_e.stateMutability="view":_e.stateMutability=_e.payable?"payable":"nonpayable",_e.payable&&_e.constant&&logger$E.throwArgumentError("cannot have constant payable function","value",et)):et.constant!=null?(_e.constant=!!et.constant,_e.payable=!_e.constant,_e.stateMutability=_e.constant?"view":"payable"):et.type!=="constructor"&&logger$E.throwArgumentError("unable to determine stateMutability","value",et),_e}class ConstructorFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});_e===FormatTypes.sighash&&logger$E.throwError("cannot format a constructor for sighash",Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let tt="constructor("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(tt+=this.stateMutability+" "),tt.trim()}static from(_e){return typeof _e=="string"?ConstructorFragment.fromString(_e):ConstructorFragment.fromObject(_e)}static fromObject(_e){if(ConstructorFragment.isConstructorFragment(_e))return _e;_e.type!=="constructor"&&logger$E.throwArgumentError("invalid constructor object","value",_e);let tt=verifyState(_e);tt.constant&&logger$E.throwArgumentError("constructor cannot be constant","value",_e);const rt={name:null,type:_e.type,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],payable:tt.payable,stateMutability:tt.stateMutability,gas:_e.gas?BigNumber.from(_e.gas):null};return new ConstructorFragment(_constructorGuard$2,rt)}static fromString(_e){let tt={type:"constructor"};_e=parseGas(_e,tt);let rt=_e.match(regexParen);return(!rt||rt[1].trim()!=="constructor")&&logger$E.throwArgumentError("invalid constructor string","value",_e),tt.inputs=parseParams(rt[2].trim(),!1),parseModifiers(rt[3].trim(),tt),ConstructorFragment.fromObject(tt)}static isConstructorFragment(_e){return _e&&_e._isFragment&&_e.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e))),outputs:this.outputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="function "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",_e!==FormatTypes.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(tt+=this.stateMutability+" "):this.constant&&(tt+="view "),this.outputs&&this.outputs.length&&(tt+="returns ("+this.outputs.map(rt=>rt.format(_e)).join(", ")+") "),this.gas!=null&&(tt+="@"+this.gas.toString()+" ")),tt.trim()}static from(_e){return typeof _e=="string"?FunctionFragment.fromString(_e):FunctionFragment.fromObject(_e)}static fromObject(_e){if(FunctionFragment.isFunctionFragment(_e))return _e;_e.type!=="function"&&logger$E.throwArgumentError("invalid function object","value",_e);let tt=verifyState(_e);const rt={type:_e.type,name:verifyIdentifier(_e.name),constant:tt.constant,inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[],outputs:_e.outputs?_e.outputs.map(ParamType.fromObject):[],payable:tt.payable,stateMutability:tt.stateMutability,gas:_e.gas?BigNumber.from(_e.gas):null};return new FunctionFragment(_constructorGuard$2,rt)}static fromString(_e){let tt={type:"function"};_e=parseGas(_e,tt);let rt=_e.split(" returns ");rt.length>2&&logger$E.throwArgumentError("invalid function string","value",_e);let nt=rt[0].match(regexParen);if(nt||logger$E.throwArgumentError("invalid function signature","value",_e),tt.name=nt[1].trim(),tt.name&&verifyIdentifier(tt.name),tt.inputs=parseParams(nt[2],!1),parseModifiers(nt[3].trim(),tt),rt.length>1){let it=rt[1].match(regexParen);(it[1].trim()!=""||it[3].trim()!="")&&logger$E.throwArgumentError("unexpected tokens","value",_e),tt.outputs=parseParams(it[2],!1)}else tt.outputs=[];return FunctionFragment.fromObject(tt)}static isFunctionFragment(_e){return _e&&_e._isFragment&&_e.type==="function"}}function checkForbidden(et){const _e=et.format();return(_e==="Error(string)"||_e==="Panic(uint256)")&&logger$E.throwArgumentError(`cannot specify user defined ${_e} error`,"fragment",et),et}class ErrorFragment extends Fragment{format(_e){if(_e||(_e=FormatTypes.sighash),FormatTypes[_e]||logger$E.throwArgumentError("invalid format type","format",_e),_e===FormatTypes.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(rt=>JSON.parse(rt.format(_e)))});let tt="";return _e!==FormatTypes.sighash&&(tt+="error "),tt+=this.name+"("+this.inputs.map(rt=>rt.format(_e)).join(_e===FormatTypes.full?", ":",")+") ",tt.trim()}static from(_e){return typeof _e=="string"?ErrorFragment.fromString(_e):ErrorFragment.fromObject(_e)}static fromObject(_e){if(ErrorFragment.isErrorFragment(_e))return _e;_e.type!=="error"&&logger$E.throwArgumentError("invalid error object","value",_e);const tt={type:_e.type,name:verifyIdentifier(_e.name),inputs:_e.inputs?_e.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(_constructorGuard$2,tt))}static fromString(_e){let tt={type:"error"},rt=_e.match(regexParen);return rt||logger$E.throwArgumentError("invalid error signature","value",_e),tt.name=rt[1].trim(),tt.name&&verifyIdentifier(tt.name),tt.inputs=parseParams(rt[2],!1),checkForbidden(ErrorFragment.fromObject(tt))}static isErrorFragment(_e){return _e&&_e._isFragment&&_e.type==="error"}}function verifyType(et){return et.match(/^uint($|[^1-9])/)?et="uint256"+et.substring(4):et.match(/^int($|[^1-9])/)&&(et="int256"+et.substring(3)),et}const regexIdentifier=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(et){return(!et||!et.match(regexIdentifier))&&logger$E.throwArgumentError(`invalid identifier "${et}"`,"value",et),et}const regexParen=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(et){et=et.trim();let _e=[],tt="",rt=0;for(let nt=0;nt<et.length;nt++){let it=et[nt];it===","&&rt===0?(_e.push(tt),tt=""):(tt+=it,it==="("?rt++:it===")"&&(rt--,rt===-1&&logger$E.throwArgumentError("unbalanced parenthesis","value",et)))}return tt&&_e.push(tt),_e}const logger$D=new Logger(version$o);function checkResultErrors(et){const _e=[],tt=function(rt,nt){if(!!Array.isArray(nt))for(let it in nt){const at=rt.slice();at.push(it);try{tt(at,nt[it])}catch(ot){_e.push({path:at,error:ot})}}};return tt([],et),_e}class Coder{constructor(_e,tt,rt,nt){this.name=_e,this.type=tt,this.localName=rt,this.dynamic=nt}_throwError(_e,tt){logger$D.throwArgumentError(_e,this.localName,tt)}}class Writer{constructor(_e){defineReadOnly(this,"wordSize",_e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(_e)}get data(){return hexConcat(this._data)}get length(){return this._dataLength}_writeData(_e){return this._data.push(_e),this._dataLength+=_e.length,_e.length}appendWriter(_e){return this._writeData(concat$3(_e._data))}writeBytes(_e){let tt=arrayify(_e);const rt=tt.length%this.wordSize;return rt&&(tt=concat$3([tt,this._padding.slice(rt)])),this._writeData(tt)}_getValue(_e){let tt=arrayify(BigNumber.from(_e));return tt.length>this.wordSize&&logger$D.throwError("value out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:tt.length}),tt.length%this.wordSize&&(tt=concat$3([this._padding.slice(tt.length%this.wordSize),tt])),tt}writeValue(_e){return this._writeData(this._getValue(_e))}writeUpdatableValue(){const _e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,tt=>{this._data[_e]=this._getValue(tt)}}}class Reader{constructor(_e,tt,rt,nt){defineReadOnly(this,"_data",arrayify(_e)),defineReadOnly(this,"wordSize",tt||32),defineReadOnly(this,"_coerceFunc",rt),defineReadOnly(this,"allowLoose",nt),this._offset=0}get data(){return hexlify(this._data)}get consumed(){return this._offset}static coerce(_e,tt){let rt=_e.match("^u?int([0-9]+)$");return rt&&parseInt(rt[1])<=48&&(tt=tt.toNumber()),tt}coerce(_e,tt){return this._coerceFunc?this._coerceFunc(_e,tt):Reader.coerce(_e,tt)}_peekBytes(_e,tt,rt){let nt=Math.ceil(tt/this.wordSize)*this.wordSize;return this._offset+nt>this._data.length&&(this.allowLoose&&rt&&this._offset+tt<=this._data.length?nt=tt:logger$D.throwError("data out-of-bounds",Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+nt})),this._data.slice(this._offset,this._offset+nt)}subReader(_e){return new Reader(this._data.slice(this._offset+_e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(_e,tt){let rt=this._peekBytes(0,_e,!!tt);return this._offset+=rt.length,rt.slice(0,_e)}readValue(){return BigNumber.from(this.readBytes(this.wordSize))}}var sha3$2={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(et){(function(){var _e="input is invalid type",tt="finalize already called",rt=typeof window=="object",nt=rt?window:{};nt.JS_SHA3_NO_WINDOW&&(rt=!1);var it=!rt&&typeof self=="object",at=!nt.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;at?nt=globalThis:it&&(nt=self);var ot=!nt.JS_SHA3_NO_COMMON_JS&&!0&&et.exports,ct=!nt.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",ut="0123456789abcdef".split(""),ft=[31,7936,2031616,520093696],yt=[4,1024,262144,67108864],bt=[1,256,65536,16777216],Et=[6,1536,393216,100663296],Ct=[0,8,16,24],At=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],St=[224,256,384,512],Tt=[128,256],$t=["hex","buffer","arrayBuffer","array","digest"],kt={128:168,256:136};(nt.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(It){return Object.prototype.toString.call(It)==="[object Array]"}),ct&&(nt.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(It){return typeof It=="object"&&It.buffer&&It.buffer.constructor===ArrayBuffer});for(var Pt=function(It,Wt,Qt){return function(Gt){return new lt(It,Wt,It).update(Gt)[Qt]()}},Ot=function(It,Wt,Qt){return function(Gt,er){return new lt(It,Wt,er).update(Gt)[Qt]()}},Ht=function(It,Wt,Qt){return function(Gt,er,hr,Vt){return st["cshake"+It].update(Gt,er,hr,Vt)[Qt]()}},qt=function(It,Wt,Qt){return function(Gt,er,hr,Vt){return st["kmac"+It].update(Gt,er,hr,Vt)[Qt]()}},Zt=function(It,Wt,Qt,Gt){for(var er=0;er<$t.length;++er){var hr=$t[er];It[hr]=Wt(Qt,Gt,hr)}return It},tr=function(It,Wt){var Qt=Pt(It,Wt,"hex");return Qt.create=function(){return new lt(It,Wt,It)},Qt.update=function(Gt){return Qt.create().update(Gt)},Zt(Qt,Pt,It,Wt)},Dt=function(It,Wt){var Qt=Ot(It,Wt,"hex");return Qt.create=function(Gt){return new lt(It,Wt,Gt)},Qt.update=function(Gt,er){return Qt.create(er).update(Gt)},Zt(Qt,Ot,It,Wt)},Rt=function(It,Wt){var Qt=kt[It],Gt=Ht(It,Wt,"hex");return Gt.create=function(er,hr,Vt){return!hr&&!Vt?st["shake"+It].create(er):new lt(It,Wt,er).bytepad([hr,Vt],Qt)},Gt.update=function(er,hr,Vt,Kt){return Gt.create(hr,Vt,Kt).update(er)},Zt(Gt,Ht,It,Wt)},Nt=function(It,Wt){var Qt=kt[It],Gt=qt(It,Wt,"hex");return Gt.create=function(er,hr,Vt){return new wt(It,Wt,hr).bytepad(["KMAC",Vt],Qt).bytepad([er],Qt)},Gt.update=function(er,hr,Vt,Kt){return Gt.create(er,Vt,Kt).update(hr)},Zt(Gt,qt,It,Wt)},ht=[{name:"keccak",padding:bt,bits:St,createMethod:tr},{name:"sha3",padding:Et,bits:St,createMethod:tr},{name:"shake",padding:ft,bits:Tt,createMethod:Dt},{name:"cshake",padding:yt,bits:Tt,createMethod:Rt},{name:"kmac",padding:yt,bits:Tt,createMethod:Nt}],st={},dt=[],mt=0;mt<ht.length;++mt)for(var _t=ht[mt],xt=_t.bits,vt=0;vt<xt.length;++vt){var Mt=_t.name+"_"+xt[vt];if(dt.push(Mt),st[Mt]=_t.createMethod(xt[vt],_t.padding),_t.name!=="sha3"){var gt=_t.name+xt[vt];dt.push(gt),st[gt]=st[Mt]}}function lt(It,Wt,Qt){this.blocks=[],this.s=[],this.padding=Wt,this.outputBits=Qt,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(It<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Qt>>5,this.extraBytes=(Qt&31)>>3;for(var Gt=0;Gt<50;++Gt)this.s[Gt]=0}lt.prototype.update=function(It){if(this.finalized)throw new Error(tt);var Wt,Qt=typeof It;if(Qt!=="string"){if(Qt==="object"){if(It===null)throw new Error(_e);if(ct&&It.constructor===ArrayBuffer)It=new Uint8Array(It);else if(!Array.isArray(It)&&(!ct||!ArrayBuffer.isView(It)))throw new Error(_e)}else throw new Error(_e);Wt=!0}for(var Gt=this.blocks,er=this.byteCount,hr=It.length,Vt=this.blockCount,Kt=0,lr=this.s,ir,ur;Kt<hr;){if(this.reset)for(this.reset=!1,Gt[0]=this.block,ir=1;ir<Vt+1;++ir)Gt[ir]=0;if(Wt)for(ir=this.start;Kt<hr&&ir<er;++Kt)Gt[ir>>2]|=It[Kt]<<Ct[ir++&3];else for(ir=this.start;Kt<hr&&ir<er;++Kt)ur=It.charCodeAt(Kt),ur<128?Gt[ir>>2]|=ur<<Ct[ir++&3]:ur<2048?(Gt[ir>>2]|=(192|ur>>6)<<Ct[ir++&3],Gt[ir>>2]|=(128|ur&63)<<Ct[ir++&3]):ur<55296||ur>=57344?(Gt[ir>>2]|=(224|ur>>12)<<Ct[ir++&3],Gt[ir>>2]|=(128|ur>>6&63)<<Ct[ir++&3],Gt[ir>>2]|=(128|ur&63)<<Ct[ir++&3]):(ur=65536+((ur&1023)<<10|It.charCodeAt(++Kt)&1023),Gt[ir>>2]|=(240|ur>>18)<<Ct[ir++&3],Gt[ir>>2]|=(128|ur>>12&63)<<Ct[ir++&3],Gt[ir>>2]|=(128|ur>>6&63)<<Ct[ir++&3],Gt[ir>>2]|=(128|ur&63)<<Ct[ir++&3]);if(this.lastByteIndex=ir,ir>=er){for(this.start=ir-er,this.block=Gt[Vt],ir=0;ir<Vt;++ir)lr[ir]^=Gt[ir];jt(lr),this.reset=!0}else this.start=ir}return this},lt.prototype.encode=function(It,Wt){var Qt=It&255,Gt=1,er=[Qt];for(It=It>>8,Qt=It&255;Qt>0;)er.unshift(Qt),It=It>>8,Qt=It&255,++Gt;return Wt?er.push(Gt):er.unshift(Gt),this.update(er),er.length},lt.prototype.encodeString=function(It){var Wt,Qt=typeof It;if(Qt!=="string"){if(Qt==="object"){if(It===null)throw new Error(_e);if(ct&&It.constructor===ArrayBuffer)It=new Uint8Array(It);else if(!Array.isArray(It)&&(!ct||!ArrayBuffer.isView(It)))throw new Error(_e)}else throw new Error(_e);Wt=!0}var Gt=0,er=It.length;if(Wt)Gt=er;else for(var hr=0;hr<It.length;++hr){var Vt=It.charCodeAt(hr);Vt<128?Gt+=1:Vt<2048?Gt+=2:Vt<55296||Vt>=57344?Gt+=3:(Vt=65536+((Vt&1023)<<10|It.charCodeAt(++hr)&1023),Gt+=4)}return Gt+=this.encode(Gt*8),this.update(It),Gt},lt.prototype.bytepad=function(It,Wt){for(var Qt=this.encode(Wt),Gt=0;Gt<It.length;++Gt)Qt+=this.encodeString(It[Gt]);var er=Wt-Qt%Wt,hr=[];return hr.length=er,this.update(hr),this},lt.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var It=this.blocks,Wt=this.lastByteIndex,Qt=this.blockCount,Gt=this.s;if(It[Wt>>2]|=this.padding[Wt&3],this.lastByteIndex===this.byteCount)for(It[0]=It[Qt],Wt=1;Wt<Qt+1;++Wt)It[Wt]=0;for(It[Qt-1]|=2147483648,Wt=0;Wt<Qt;++Wt)Gt[Wt]^=It[Wt];jt(Gt)}},lt.prototype.toString=lt.prototype.hex=function(){this.finalize();for(var It=this.blockCount,Wt=this.s,Qt=this.outputBlocks,Gt=this.extraBytes,er=0,hr=0,Vt="",Kt;hr<Qt;){for(er=0;er<It&&hr<Qt;++er,++hr)Kt=Wt[er],Vt+=ut[Kt>>4&15]+ut[Kt&15]+ut[Kt>>12&15]+ut[Kt>>8&15]+ut[Kt>>20&15]+ut[Kt>>16&15]+ut[Kt>>28&15]+ut[Kt>>24&15];hr%It===0&&(jt(Wt),er=0)}return Gt&&(Kt=Wt[er],Vt+=ut[Kt>>4&15]+ut[Kt&15],Gt>1&&(Vt+=ut[Kt>>12&15]+ut[Kt>>8&15]),Gt>2&&(Vt+=ut[Kt>>20&15]+ut[Kt>>16&15])),Vt},lt.prototype.arrayBuffer=function(){this.finalize();var It=this.blockCount,Wt=this.s,Qt=this.outputBlocks,Gt=this.extraBytes,er=0,hr=0,Vt=this.outputBits>>3,Kt;Gt?Kt=new ArrayBuffer(Qt+1<<2):Kt=new ArrayBuffer(Vt);for(var lr=new Uint32Array(Kt);hr<Qt;){for(er=0;er<It&&hr<Qt;++er,++hr)lr[hr]=Wt[er];hr%It===0&&jt(Wt)}return Gt&&(lr[er]=Wt[er],Kt=Kt.slice(0,Vt)),Kt},lt.prototype.buffer=lt.prototype.arrayBuffer,lt.prototype.digest=lt.prototype.array=function(){this.finalize();for(var It=this.blockCount,Wt=this.s,Qt=this.outputBlocks,Gt=this.extraBytes,er=0,hr=0,Vt=[],Kt,lr;hr<Qt;){for(er=0;er<It&&hr<Qt;++er,++hr)Kt=hr<<2,lr=Wt[er],Vt[Kt]=lr&255,Vt[Kt+1]=lr>>8&255,Vt[Kt+2]=lr>>16&255,Vt[Kt+3]=lr>>24&255;hr%It===0&&jt(Wt)}return Gt&&(Kt=hr<<2,lr=Wt[er],Vt[Kt]=lr&255,Gt>1&&(Vt[Kt+1]=lr>>8&255),Gt>2&&(Vt[Kt+2]=lr>>16&255)),Vt};function wt(It,Wt,Qt){lt.call(this,It,Wt,Qt)}wt.prototype=new lt,wt.prototype.finalize=function(){return this.encode(this.outputBits,!0),lt.prototype.finalize.call(this)};var jt=function(It){var Wt,Qt,Gt,er,hr,Vt,Kt,lr,ir,ur,Xt,Ft,Ut,Yt,rr,ar,br,dr,pr,Lr,mr,zt,Lt,Bt,Jt,cr,nr,sr,Fr,vr,gr,Dr,yr,Sr,Vr,Tr,wr,Zr,Cr,Ar,Kr,Mr,$r,Gr,Rr,_r,Ur,xr,Er,Qr,kr,Ir,Yr,Pr,Nr,Jr,Or,Br,jr,Wr,Hr,zr,qr;for(Gt=0;Gt<48;Gt+=2)er=It[0]^It[10]^It[20]^It[30]^It[40],hr=It[1]^It[11]^It[21]^It[31]^It[41],Vt=It[2]^It[12]^It[22]^It[32]^It[42],Kt=It[3]^It[13]^It[23]^It[33]^It[43],lr=It[4]^It[14]^It[24]^It[34]^It[44],ir=It[5]^It[15]^It[25]^It[35]^It[45],ur=It[6]^It[16]^It[26]^It[36]^It[46],Xt=It[7]^It[17]^It[27]^It[37]^It[47],Ft=It[8]^It[18]^It[28]^It[38]^It[48],Ut=It[9]^It[19]^It[29]^It[39]^It[49],Wt=Ft^(Vt<<1|Kt>>>31),Qt=Ut^(Kt<<1|Vt>>>31),It[0]^=Wt,It[1]^=Qt,It[10]^=Wt,It[11]^=Qt,It[20]^=Wt,It[21]^=Qt,It[30]^=Wt,It[31]^=Qt,It[40]^=Wt,It[41]^=Qt,Wt=er^(lr<<1|ir>>>31),Qt=hr^(ir<<1|lr>>>31),It[2]^=Wt,It[3]^=Qt,It[12]^=Wt,It[13]^=Qt,It[22]^=Wt,It[23]^=Qt,It[32]^=Wt,It[33]^=Qt,It[42]^=Wt,It[43]^=Qt,Wt=Vt^(ur<<1|Xt>>>31),Qt=Kt^(Xt<<1|ur>>>31),It[4]^=Wt,It[5]^=Qt,It[14]^=Wt,It[15]^=Qt,It[24]^=Wt,It[25]^=Qt,It[34]^=Wt,It[35]^=Qt,It[44]^=Wt,It[45]^=Qt,Wt=lr^(Ft<<1|Ut>>>31),Qt=ir^(Ut<<1|Ft>>>31),It[6]^=Wt,It[7]^=Qt,It[16]^=Wt,It[17]^=Qt,It[26]^=Wt,It[27]^=Qt,It[36]^=Wt,It[37]^=Qt,It[46]^=Wt,It[47]^=Qt,Wt=ur^(er<<1|hr>>>31),Qt=Xt^(hr<<1|er>>>31),It[8]^=Wt,It[9]^=Qt,It[18]^=Wt,It[19]^=Qt,It[28]^=Wt,It[29]^=Qt,It[38]^=Wt,It[39]^=Qt,It[48]^=Wt,It[49]^=Qt,Yt=It[0],rr=It[1],_r=It[11]<<4|It[10]>>>28,Ur=It[10]<<4|It[11]>>>28,sr=It[20]<<3|It[21]>>>29,Fr=It[21]<<3|It[20]>>>29,Wr=It[31]<<9|It[30]>>>23,Hr=It[30]<<9|It[31]>>>23,Mr=It[40]<<18|It[41]>>>14,$r=It[41]<<18|It[40]>>>14,Sr=It[2]<<1|It[3]>>>31,Vr=It[3]<<1|It[2]>>>31,ar=It[13]<<12|It[12]>>>20,br=It[12]<<12|It[13]>>>20,xr=It[22]<<10|It[23]>>>22,Er=It[23]<<10|It[22]>>>22,vr=It[33]<<13|It[32]>>>19,gr=It[32]<<13|It[33]>>>19,zr=It[42]<<2|It[43]>>>30,qr=It[43]<<2|It[42]>>>30,Pr=It[5]<<30|It[4]>>>2,Nr=It[4]<<30|It[5]>>>2,Tr=It[14]<<6|It[15]>>>26,wr=It[15]<<6|It[14]>>>26,dr=It[25]<<11|It[24]>>>21,pr=It[24]<<11|It[25]>>>21,Qr=It[34]<<15|It[35]>>>17,kr=It[35]<<15|It[34]>>>17,Dr=It[45]<<29|It[44]>>>3,yr=It[44]<<29|It[45]>>>3,Bt=It[6]<<28|It[7]>>>4,Jt=It[7]<<28|It[6]>>>4,Jr=It[17]<<23|It[16]>>>9,Or=It[16]<<23|It[17]>>>9,Zr=It[26]<<25|It[27]>>>7,Cr=It[27]<<25|It[26]>>>7,Lr=It[36]<<21|It[37]>>>11,mr=It[37]<<21|It[36]>>>11,Ir=It[47]<<24|It[46]>>>8,Yr=It[46]<<24|It[47]>>>8,Gr=It[8]<<27|It[9]>>>5,Rr=It[9]<<27|It[8]>>>5,cr=It[18]<<20|It[19]>>>12,nr=It[19]<<20|It[18]>>>12,Br=It[29]<<7|It[28]>>>25,jr=It[28]<<7|It[29]>>>25,Ar=It[38]<<8|It[39]>>>24,Kr=It[39]<<8|It[38]>>>24,zt=It[48]<<14|It[49]>>>18,Lt=It[49]<<14|It[48]>>>18,It[0]=Yt^~ar&dr,It[1]=rr^~br&pr,It[10]=Bt^~cr&sr,It[11]=Jt^~nr&Fr,It[20]=Sr^~Tr&Zr,It[21]=Vr^~wr&Cr,It[30]=Gr^~_r&xr,It[31]=Rr^~Ur&Er,It[40]=Pr^~Jr&Br,It[41]=Nr^~Or&jr,It[2]=ar^~dr&Lr,It[3]=br^~pr&mr,It[12]=cr^~sr&vr,It[13]=nr^~Fr&gr,It[22]=Tr^~Zr&Ar,It[23]=wr^~Cr&Kr,It[32]=_r^~xr&Qr,It[33]=Ur^~Er&kr,It[42]=Jr^~Br&Wr,It[43]=Or^~jr&Hr,It[4]=dr^~Lr&zt,It[5]=pr^~mr&Lt,It[14]=sr^~vr&Dr,It[15]=Fr^~gr&yr,It[24]=Zr^~Ar&Mr,It[25]=Cr^~Kr&$r,It[34]=xr^~Qr&Ir,It[35]=Er^~kr&Yr,It[44]=Br^~Wr&zr,It[45]=jr^~Hr&qr,It[6]=Lr^~zt&Yt,It[7]=mr^~Lt&rr,It[16]=vr^~Dr&Bt,It[17]=gr^~yr&Jt,It[26]=Ar^~Mr&Sr,It[27]=Kr^~$r&Vr,It[36]=Qr^~Ir&Gr,It[37]=kr^~Yr&Rr,It[46]=Wr^~zr&Pr,It[47]=Hr^~qr&Nr,It[8]=zt^~Yt&ar,It[9]=Lt^~rr&br,It[18]=Dr^~Bt&cr,It[19]=yr^~Jt&nr,It[28]=Mr^~Sr&Tr,It[29]=$r^~Vr&wr,It[38]=Ir^~Gr&_r,It[39]=Yr^~Rr&Ur,It[48]=zr^~Pr&Jr,It[49]=qr^~Nr&Or,It[0]^=At[Gt],It[1]^=At[Gt+1]};if(ot)et.exports=st;else for(mt=0;mt<dt.length;++mt)nt[dt[mt]]=st[dt[mt]]})()})(sha3$2);const sha3$1=sha3$2.exports;function keccak256$1(et){return"0x"+sha3$1.keccak_256(arrayify(et))}const lib_esm$h=Object.freeze(Object.defineProperty({__proto__:null,keccak256:keccak256$1},Symbol.toStringTag,{value:"Module"})),version$n="rlp/5.7.0",logger$C=new Logger(version$n);function arrayifyInteger(et){const _e=[];for(;et;)_e.unshift(et&255),et>>=8;return _e}function unarrayifyInteger(et,_e,tt){let rt=0;for(let nt=0;nt<tt;nt++)rt=rt*256+et[_e+nt];return rt}function _encode(et){if(Array.isArray(et)){let rt=[];if(et.forEach(function(it){rt=rt.concat(_encode(it))}),rt.length<=55)return rt.unshift(192+rt.length),rt;const nt=arrayifyInteger(rt.length);return nt.unshift(247+nt.length),nt.concat(rt)}isBytesLike(et)||logger$C.throwArgumentError("RLP object must be BytesLike","object",et);const _e=Array.prototype.slice.call(arrayify(et));if(_e.length===1&&_e[0]<=127)return _e;if(_e.length<=55)return _e.unshift(128+_e.length),_e;const tt=arrayifyInteger(_e.length);return tt.unshift(183+tt.length),tt.concat(_e)}function encode$3(et){return hexlify(_encode(et))}function _decodeChildren(et,_e,tt,rt){const nt=[];for(;tt<_e+1+rt;){const it=_decode(et,tt);nt.push(it.result),tt+=it.consumed,tt>_e+1+rt&&logger$C.throwError("child data too short",Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+rt,result:nt}}function _decode(et,_e){if(et.length===0&&logger$C.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{}),et[_e]>=248){const tt=et[_e]-247;_e+1+tt>et.length&&logger$C.throwError("data short segment too short",Logger.errors.BUFFER_OVERRUN,{});const rt=unarrayifyInteger(et,_e+1,tt);return _e+1+tt+rt>et.length&&logger$C.throwError("data long segment too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(et,_e,_e+1+tt,tt+rt)}else if(et[_e]>=192){const tt=et[_e]-192;return _e+1+tt>et.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{}),_decodeChildren(et,_e,_e+1,tt)}else if(et[_e]>=184){const tt=et[_e]-183;_e+1+tt>et.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const rt=unarrayifyInteger(et,_e+1,tt);_e+1+tt+rt>et.length&&logger$C.throwError("data array too short",Logger.errors.BUFFER_OVERRUN,{});const nt=hexlify(et.slice(_e+1+tt,_e+1+tt+rt));return{consumed:1+tt+rt,result:nt}}else if(et[_e]>=128){const tt=et[_e]-128;_e+1+tt>et.length&&logger$C.throwError("data too short",Logger.errors.BUFFER_OVERRUN,{});const rt=hexlify(et.slice(_e+1,_e+1+tt));return{consumed:1+tt,result:rt}}return{consumed:1,result:hexlify(et[_e])}}function decode$5(et){const _e=arrayify(et),tt=_decode(_e,0);return tt.consumed!==_e.length&&logger$C.throwArgumentError("invalid rlp data","data",et),tt.result}const lib_esm$g=Object.freeze(Object.defineProperty({__proto__:null,encode:encode$3,decode:decode$5},Symbol.toStringTag,{value:"Module"})),version$m="address/5.7.0",logger$B=new Logger(version$m);function getChecksumAddress(et){isHexString$4(et,20)||logger$B.throwArgumentError("invalid address","address",et),et=et.toLowerCase();const _e=et.substring(2).split(""),tt=new Uint8Array(40);for(let nt=0;nt<40;nt++)tt[nt]=_e[nt].charCodeAt(0);const rt=arrayify(keccak256$1(tt));for(let nt=0;nt<40;nt+=2)rt[nt>>1]>>4>=8&&(_e[nt]=_e[nt].toUpperCase()),(rt[nt>>1]&15)>=8&&(_e[nt+1]=_e[nt+1].toUpperCase());return"0x"+_e.join("")}const MAX_SAFE_INTEGER=9007199254740991;function log10(et){return Math.log10?Math.log10(et):Math.log(et)/Math.LN10}const ibanLookup={};for(let et=0;et<10;et++)ibanLookup[String(et)]=String(et);for(let et=0;et<26;et++)ibanLookup[String.fromCharCode(65+et)]=String(10+et);const safeDigits=Math.floor(log10(MAX_SAFE_INTEGER));function ibanChecksum(et){et=et.toUpperCase(),et=et.substring(4)+et.substring(0,2)+"00";let _e=et.split("").map(rt=>ibanLookup[rt]).join("");for(;_e.length>=safeDigits;){let rt=_e.substring(0,safeDigits);_e=parseInt(rt,10)%97+_e.substring(rt.length)}let tt=String(98-parseInt(_e,10)%97);for(;tt.length<2;)tt="0"+tt;return tt}function getAddress(et){let _e=null;if(typeof et!="string"&&logger$B.throwArgumentError("invalid address","address",et),et.match(/^(0x)?[0-9a-fA-F]{40}$/))et.substring(0,2)!=="0x"&&(et="0x"+et),_e=getChecksumAddress(et),et.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&_e!==et&&logger$B.throwArgumentError("bad address checksum","address",et);else if(et.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(et.substring(2,4)!==ibanChecksum(et)&&logger$B.throwArgumentError("bad icap checksum","address",et),_e=_base36To16(et.substring(4));_e.length<40;)_e="0"+_e;_e=getChecksumAddress("0x"+_e)}else logger$B.throwArgumentError("invalid address","address",et);return _e}function isAddress(et){try{return getAddress(et),!0}catch{}return!1}function getIcapAddress(et){let _e=_base16To36(getAddress(et).substring(2)).toUpperCase();for(;_e.length<30;)_e="0"+_e;return"XE"+ibanChecksum("XE00"+_e)+_e}function getContractAddress(et){let _e=null;try{_e=getAddress(et.from)}catch{logger$B.throwArgumentError("missing from address","transaction",et)}const tt=stripZeros(arrayify(BigNumber.from(et.nonce).toHexString()));return getAddress(hexDataSlice(keccak256$1(encode$3([_e,tt])),12))}function getCreate2Address(et,_e,tt){return hexDataLength(_e)!==32&&logger$B.throwArgumentError("salt must be 32 bytes","salt",_e),hexDataLength(tt)!==32&&logger$B.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",tt),getAddress(hexDataSlice(keccak256$1(concat$3(["0xff",getAddress(et),_e,tt])),12))}const lib_esm$f=Object.freeze(Object.defineProperty({__proto__:null,getAddress,isAddress,getIcapAddress,getContractAddress,getCreate2Address},Symbol.toStringTag,{value:"Module"}));class AddressCoder extends Coder{constructor(_e){super("address","address",_e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(_e,tt){try{tt=getAddress(tt)}catch(rt){this._throwError(rt.message,tt)}return _e.writeValue(tt)}decode(_e){return getAddress(hexZeroPad(_e.readValue().toHexString(),20))}}class AnonymousCoder extends Coder{constructor(_e){super(_e.name,_e.type,void 0,_e.dynamic),this.coder=_e}defaultValue(){return this.coder.defaultValue()}encode(_e,tt){return this.coder.encode(_e,tt)}decode(_e){return this.coder.decode(_e)}}const logger$A=new Logger(version$o);function pack$1(et,_e,tt){let rt=null;if(Array.isArray(tt))rt=tt;else if(tt&&typeof tt=="object"){let ct={};rt=_e.map(ut=>{const ft=ut.localName;return ft||logger$A.throwError("cannot encode object for signature with missing names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:ut,value:tt}),ct[ft]&&logger$A.throwError("cannot encode object for signature with duplicate names",Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:ut,value:tt}),ct[ft]=!0,tt[ft]})}else logger$A.throwArgumentError("invalid tuple value","tuple",tt);_e.length!==rt.length&&logger$A.throwArgumentError("types/value length mismatch","tuple",tt);let nt=new Writer(et.wordSize),it=new Writer(et.wordSize),at=[];_e.forEach((ct,ut)=>{let ft=rt[ut];if(ct.dynamic){let yt=it.length;ct.encode(it,ft);let bt=nt.writeUpdatableValue();at.push(Et=>{bt(Et+yt)})}else ct.encode(nt,ft)}),at.forEach(ct=>{ct(nt.length)});let ot=et.appendWriter(nt);return ot+=et.appendWriter(it),ot}function unpack(et,_e){let tt=[],rt=et.subReader(0);_e.forEach(it=>{let at=null;if(it.dynamic){let ot=et.readValue(),ct=rt.subReader(ot.toNumber());try{at=it.decode(ct)}catch(ut){if(ut.code===Logger.errors.BUFFER_OVERRUN)throw ut;at=ut,at.baseType=it.name,at.name=it.localName,at.type=it.type}}else try{at=it.decode(et)}catch(ot){if(ot.code===Logger.errors.BUFFER_OVERRUN)throw ot;at=ot,at.baseType=it.name,at.name=it.localName,at.type=it.type}at!=null&&tt.push(at)});const nt=_e.reduce((it,at)=>{const ot=at.localName;return ot&&(it[ot]||(it[ot]=0),it[ot]++),it},{});_e.forEach((it,at)=>{let ot=it.localName;if(!ot||nt[ot]!==1||(ot==="length"&&(ot="_length"),tt[ot]!=null))return;const ct=tt[at];ct instanceof Error?Object.defineProperty(tt,ot,{enumerable:!0,get:()=>{throw ct}}):tt[ot]=ct});for(let it=0;it<tt.length;it++){const at=tt[it];at instanceof Error&&Object.defineProperty(tt,it,{enumerable:!0,get:()=>{throw at}})}return Object.freeze(tt)}class ArrayCoder extends Coder{constructor(_e,tt,rt){const nt=_e.type+"["+(tt>=0?tt:"")+"]",it=tt===-1||_e.dynamic;super("array",nt,rt,it),this.coder=_e,this.length=tt}defaultValue(){const _e=this.coder.defaultValue(),tt=[];for(let rt=0;rt<this.length;rt++)tt.push(_e);return tt}encode(_e,tt){Array.isArray(tt)||this._throwError("expected array value",tt);let rt=this.length;rt===-1&&(rt=tt.length,_e.writeValue(tt.length)),logger$A.checkArgumentCount(tt.length,rt,"coder array"+(this.localName?" "+this.localName:""));let nt=[];for(let it=0;it<tt.length;it++)nt.push(this.coder);return pack$1(_e,nt,tt)}decode(_e){let tt=this.length;tt===-1&&(tt=_e.readValue().toNumber(),tt*32>_e._data.length&&logger$A.throwError("insufficient data length",Logger.errors.BUFFER_OVERRUN,{length:_e._data.length,count:tt}));let rt=[];for(let nt=0;nt<tt;nt++)rt.push(new AnonymousCoder(this.coder));return _e.coerce(this.name,unpack(_e,rt))}}class BooleanCoder extends Coder{constructor(_e){super("bool","bool",_e,!1)}defaultValue(){return!1}encode(_e,tt){return _e.writeValue(tt?1:0)}decode(_e){return _e.coerce(this.type,!_e.readValue().isZero())}}class DynamicBytesCoder extends Coder{constructor(_e,tt){super(_e,_e,tt,!0)}defaultValue(){return"0x"}encode(_e,tt){tt=arrayify(tt);let rt=_e.writeValue(tt.length);return rt+=_e.writeBytes(tt),rt}decode(_e){return _e.readBytes(_e.readValue().toNumber(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(_e){super("bytes",_e)}decode(_e){return _e.coerce(this.name,hexlify(super.decode(_e)))}}class FixedBytesCoder extends Coder{constructor(_e,tt){let rt="bytes"+String(_e);super(rt,rt,tt,!1),this.size=_e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(_e,tt){let rt=arrayify(tt);return rt.length!==this.size&&this._throwError("incorrect data length",tt),_e.writeBytes(rt)}decode(_e){return _e.coerce(this.name,hexlify(_e.readBytes(this.size)))}}class NullCoder extends Coder{constructor(_e){super("null","",_e,!1)}defaultValue(){return null}encode(_e,tt){return tt!=null&&this._throwError("not null",tt),_e.writeBytes([])}decode(_e){return _e.readBytes(0),_e.coerce(this.name,null)}}const AddressZero="0x0000000000000000000000000000000000000000",NegativeOne$1=BigNumber.from(-1),Zero$1=BigNumber.from(0),One$1=BigNumber.from(1),MaxUint256$1=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";class NumberCoder extends Coder{constructor(_e,tt,rt){const nt=(tt?"int":"uint")+_e*8;super(nt,nt,rt,!1),this.size=_e,this.signed=tt}defaultValue(){return 0}encode(_e,tt){let rt=BigNumber.from(tt),nt=MaxUint256$1.mask(_e.wordSize*8);if(this.signed){let it=nt.mask(this.size*8-1);(rt.gt(it)||rt.lt(it.add(One$1).mul(NegativeOne$1)))&&this._throwError("value out-of-bounds",tt)}else(rt.lt(Zero$1)||rt.gt(nt.mask(this.size*8)))&&this._throwError("value out-of-bounds",tt);return rt=rt.toTwos(this.size*8).mask(this.size*8),this.signed&&(rt=rt.fromTwos(this.size*8).toTwos(8*_e.wordSize)),_e.writeValue(rt)}decode(_e){let tt=_e.readValue().mask(this.size*8);return this.signed&&(tt=tt.fromTwos(this.size*8)),_e.coerce(this.name,tt)}}const version$l="strings/5.7.0",logger$z=new Logger(version$l);var UnicodeNormalizationForm;(function(et){et.current="",et.NFC="NFC",et.NFD="NFD",et.NFKC="NFKC",et.NFKD="NFKD"})(UnicodeNormalizationForm||(UnicodeNormalizationForm={}));var Utf8ErrorReason;(function(et){et.UNEXPECTED_CONTINUE="unexpected continuation byte",et.BAD_PREFIX="bad codepoint prefix",et.OVERRUN="string overrun",et.MISSING_CONTINUE="missing continuation byte",et.OUT_OF_RANGE="out of UTF-8 range",et.UTF16_SURROGATE="UTF-16 surrogate",et.OVERLONG="overlong representation"})(Utf8ErrorReason||(Utf8ErrorReason={}));function errorFunc(et,_e,tt,rt,nt){return logger$z.throwArgumentError(`invalid codepoint at offset ${_e}; ${et}`,"bytes",tt)}function ignoreFunc(et,_e,tt,rt,nt){if(et===Utf8ErrorReason.BAD_PREFIX||et===Utf8ErrorReason.UNEXPECTED_CONTINUE){let it=0;for(let at=_e+1;at<tt.length&&tt[at]>>6===2;at++)it++;return it}return et===Utf8ErrorReason.OVERRUN?tt.length-_e-1:0}function replaceFunc(et,_e,tt,rt,nt){return et===Utf8ErrorReason.OVERLONG?(rt.push(nt),0):(rt.push(65533),ignoreFunc(et,_e,tt))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(et,_e){_e==null&&(_e=Utf8ErrorFuncs.error),et=arrayify(et);const tt=[];let rt=0;for(;rt<et.length;){const nt=et[rt++];if(nt>>7===0){tt.push(nt);continue}let it=null,at=null;if((nt&224)===192)it=1,at=127;else if((nt&240)===224)it=2,at=2047;else if((nt&248)===240)it=3,at=65535;else{(nt&192)===128?rt+=_e(Utf8ErrorReason.UNEXPECTED_CONTINUE,rt-1,et,tt):rt+=_e(Utf8ErrorReason.BAD_PREFIX,rt-1,et,tt);continue}if(rt-1+it>=et.length){rt+=_e(Utf8ErrorReason.OVERRUN,rt-1,et,tt);continue}let ot=nt&(1<<8-it-1)-1;for(let ct=0;ct<it;ct++){let ut=et[rt];if((ut&192)!=128){rt+=_e(Utf8ErrorReason.MISSING_CONTINUE,rt,et,tt),ot=null;break}ot=ot<<6|ut&63,rt++}if(ot!==null){if(ot>1114111){rt+=_e(Utf8ErrorReason.OUT_OF_RANGE,rt-1-it,et,tt,ot);continue}if(ot>=55296&&ot<=57343){rt+=_e(Utf8ErrorReason.UTF16_SURROGATE,rt-1-it,et,tt,ot);continue}if(ot<=at){rt+=_e(Utf8ErrorReason.OVERLONG,rt-1-it,et,tt,ot);continue}tt.push(ot)}}return tt}function toUtf8Bytes(et,_e=UnicodeNormalizationForm.current){_e!=UnicodeNormalizationForm.current&&(logger$z.checkNormalize(),et=et.normalize(_e));let tt=[];for(let rt=0;rt<et.length;rt++){const nt=et.charCodeAt(rt);if(nt<128)tt.push(nt);else if(nt<2048)tt.push(nt>>6|192),tt.push(nt&63|128);else if((nt&64512)==55296){rt++;const it=et.charCodeAt(rt);if(rt>=et.length||(it&64512)!==56320)throw new Error("invalid utf-8 string");const at=65536+((nt&1023)<<10)+(it&1023);tt.push(at>>18|240),tt.push(at>>12&63|128),tt.push(at>>6&63|128),tt.push(at&63|128)}else tt.push(nt>>12|224),tt.push(nt>>6&63|128),tt.push(nt&63|128)}return arrayify(tt)}function escapeChar(et){const _e="0000"+et.toString(16);return"\\u"+_e.substring(_e.length-4)}function _toEscapedUtf8String(et,_e){return'"'+getUtf8CodePoints(et,_e).map(tt=>{if(tt<256){switch(tt){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(tt>=32&&tt<127)return String.fromCharCode(tt)}return tt<=65535?escapeChar(tt):(tt-=65536,escapeChar((tt>>10&1023)+55296)+escapeChar((tt&1023)+56320))}).join("")+'"'}function _toUtf8String(et){return et.map(_e=>_e<=65535?String.fromCharCode(_e):(_e-=65536,String.fromCharCode((_e>>10&1023)+55296,(_e&1023)+56320))).join("")}function toUtf8String(et,_e){return _toUtf8String(getUtf8CodePoints(et,_e))}function toUtf8CodePoints(et,_e=UnicodeNormalizationForm.current){return getUtf8CodePoints(toUtf8Bytes(et,_e))}function formatBytes32String(et){const _e=toUtf8Bytes(et);if(_e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify(concat$3([_e,HashZero]).slice(0,32))}function parseBytes32String(et){const _e=arrayify(et);if(_e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(_e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let tt=31;for(;_e[tt-1]===0;)tt--;return toUtf8String(_e.slice(0,tt))}function bytes2(et){if(et.length%4!==0)throw new Error("bad data");let _e=[];for(let tt=0;tt<et.length;tt+=4)_e.push(parseInt(et.substring(tt,tt+4),16));return _e}function createTable(et,_e){_e||(_e=function(nt){return[parseInt(nt,16)]});let tt=0,rt={};return et.split(",").forEach(nt=>{let it=nt.split(":");tt+=parseInt(it[0],16),rt[tt]=_e(it[1])}),rt}function createRangeTable(et){let _e=0;return et.split(",").map(tt=>{let rt=tt.split("-");rt.length===1?rt[1]="0":rt[1]===""&&(rt[1]="1");let nt=_e+parseInt(rt[0],16);return _e=parseInt(rt[1],16),{l:nt,h:_e}})}function matchMap(et,_e){let tt=0;for(let rt=0;rt<_e.length;rt++){let nt=_e[rt];if(tt+=nt.l,et>=tt&&et<=tt+nt.h&&(et-tt)%(nt.d||1)===0){if(nt.e&&nt.e.indexOf(et-tt)!==-1)continue;return nt}}return null}const Table_A_1_ranges=createRangeTable("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Table_B_1_flags="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(et=>parseInt(et,16)),Table_B_2_ranges=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Table_B_2_lut_abs=createTable("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Table_B_2_lut_rel=createTable("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Table_B_2_complex=createTable("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",bytes2),Table_C_ranges=createRangeTable("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function flatten(et){return et.reduce((_e,tt)=>(tt.forEach(rt=>{_e.push(rt)}),_e),[])}function _nameprepTableA1(et){return!!matchMap(et,Table_A_1_ranges)}function _nameprepTableB2(et){let _e=matchMap(et,Table_B_2_ranges);if(_e)return[et+_e.s];let tt=Table_B_2_lut_abs[et];if(tt)return tt;let rt=Table_B_2_lut_rel[et];if(rt)return[et+rt[0]];let nt=Table_B_2_complex[et];return nt||null}function _nameprepTableC(et){return!!matchMap(et,Table_C_ranges)}function nameprep(et){if(et.match(/^[a-z0-9-]*$/i)&&et.length<=59)return et.toLowerCase();let _e=toUtf8CodePoints(et);_e=flatten(_e.map(rt=>{if(Table_B_1_flags.indexOf(rt)>=0)return[];if(rt>=65024&&rt<=65039)return[];let nt=_nameprepTableB2(rt);return nt||[rt]})),_e=toUtf8CodePoints(_toUtf8String(_e),UnicodeNormalizationForm.NFKC),_e.forEach(rt=>{if(_nameprepTableC(rt))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),_e.forEach(rt=>{if(_nameprepTableA1(rt))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let tt=_toUtf8String(_e);if(tt.substring(0,1)==="-"||tt.substring(2,4)==="--"||tt.substring(tt.length-1)==="-")throw new Error("invalid hyphen");return tt}const lib_esm$e=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String,toUtf8Bytes,toUtf8CodePoints,toUtf8String,Utf8ErrorFuncs,get Utf8ErrorReason(){return Utf8ErrorReason},get UnicodeNormalizationForm(){return UnicodeNormalizationForm},formatBytes32String,parseBytes32String,nameprep},Symbol.toStringTag,{value:"Module"}));class StringCoder extends DynamicBytesCoder{constructor(_e){super("string",_e)}defaultValue(){return""}encode(_e,tt){return super.encode(_e,toUtf8Bytes(tt))}decode(_e){return toUtf8String(super.decode(_e))}}class TupleCoder extends Coder{constructor(_e,tt){let rt=!1;const nt=[];_e.forEach(at=>{at.dynamic&&(rt=!0),nt.push(at.type)});const it="tuple("+nt.join(",")+")";super("tuple",it,tt,rt),this.coders=_e}defaultValue(){const _e=[];this.coders.forEach(rt=>{_e.push(rt.defaultValue())});const tt=this.coders.reduce((rt,nt)=>{const it=nt.localName;return it&&(rt[it]||(rt[it]=0),rt[it]++),rt},{});return this.coders.forEach((rt,nt)=>{let it=rt.localName;!it||tt[it]!==1||(it==="length"&&(it="_length"),_e[it]==null&&(_e[it]=_e[nt]))}),Object.freeze(_e)}encode(_e,tt){return pack$1(_e,this.coders,tt)}decode(_e){return _e.coerce(this.name,unpack(_e,this.coders))}}const logger$y=new Logger(version$o),paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(_e){defineReadOnly(this,"coerceFunc",_e||null)}_getCoder(_e){switch(_e.baseType){case"address":return new AddressCoder(_e.name);case"bool":return new BooleanCoder(_e.name);case"string":return new StringCoder(_e.name);case"bytes":return new BytesCoder(_e.name);case"array":return new ArrayCoder(this._getCoder(_e.arrayChildren),_e.arrayLength,_e.name);case"tuple":return new TupleCoder((_e.components||[]).map(rt=>this._getCoder(rt)),_e.name);case"":return new NullCoder(_e.name)}let tt=_e.type.match(paramTypeNumber);if(tt){let rt=parseInt(tt[2]||"256");return(rt===0||rt>256||rt%8!==0)&&logger$y.throwArgumentError("invalid "+tt[1]+" bit length","param",_e),new NumberCoder(rt/8,tt[1]==="int",_e.name)}if(tt=_e.type.match(paramTypeBytes),tt){let rt=parseInt(tt[1]);return(rt===0||rt>32)&&logger$y.throwArgumentError("invalid bytes length","param",_e),new FixedBytesCoder(rt,_e.name)}return logger$y.throwArgumentError("invalid type","type",_e.type)}_getWordSize(){return 32}_getReader(_e,tt){return new Reader(_e,this._getWordSize(),this.coerceFunc,tt)}_getWriter(){return new Writer(this._getWordSize())}getDefaultValue(_e){const tt=_e.map(nt=>this._getCoder(ParamType.from(nt)));return new TupleCoder(tt,"_").defaultValue()}encode(_e,tt){_e.length!==tt.length&&logger$y.throwError("types/values length mismatch",Logger.errors.INVALID_ARGUMENT,{count:{types:_e.length,values:tt.length},value:{types:_e,values:tt}});const rt=_e.map(at=>this._getCoder(ParamType.from(at))),nt=new TupleCoder(rt,"_"),it=this._getWriter();return nt.encode(it,tt),it.data}decode(_e,tt,rt){const nt=_e.map(at=>this._getCoder(ParamType.from(at)));return new TupleCoder(nt,"_").decode(this._getReader(arrayify(tt),rt))}}const defaultAbiCoder=new AbiCoder;function id(et){return keccak256$1(toUtf8Bytes(et))}const version$k="hash/5.7.0";function decode$4(et){et=atob(et);const _e=[];for(let tt=0;tt<et.length;tt++)_e.push(et.charCodeAt(tt));return arrayify(_e)}function encode$2(et){et=arrayify(et);let _e="";for(let tt=0;tt<et.length;tt++)_e+=String.fromCharCode(et[tt]);return btoa(_e)}const lib_esm$d=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$4,encode:encode$2},Symbol.toStringTag,{value:"Module"}));function flat(et,_e){_e==null&&(_e=1);const tt=[],rt=tt.forEach,nt=function(it,at){rt.call(it,function(ot){at>0&&Array.isArray(ot)?nt(ot,at-1):tt.push(ot)})};return nt(et,_e),tt}function fromEntries(et){const _e={};for(let tt=0;tt<et.length;tt++){const rt=et[tt];_e[rt[0]]=rt[1]}return _e}function decode_arithmetic(et){let _e=0;function tt(){return et[_e++]<<8|et[_e++]}let rt=tt(),nt=1,it=[0,1];for(let Ot=1;Ot<rt;Ot++)it.push(nt+=tt());let at=tt(),ot=_e;_e+=at;let ct=0,ut=0;function ft(){return ct==0&&(ut=ut<<8|et[_e++],ct=8),ut>>--ct&1}const yt=31,bt=Math.pow(2,yt),Et=bt>>>1,Ct=Et>>1,At=bt-1;let St=0;for(let Ot=0;Ot<yt;Ot++)St=St<<1|ft();let Tt=[],$t=0,kt=bt;for(;;){let Ot=Math.floor(((St-$t+1)*nt-1)/kt),Ht=0,qt=rt;for(;qt-Ht>1;){let Dt=Ht+qt>>>1;Ot<it[Dt]?qt=Dt:Ht=Dt}if(Ht==0)break;Tt.push(Ht);let Zt=$t+Math.floor(kt*it[Ht]/nt),tr=$t+Math.floor(kt*it[Ht+1]/nt)-1;for(;((Zt^tr)&Et)==0;)St=St<<1&At|ft(),Zt=Zt<<1&At,tr=tr<<1&At|1;for(;Zt&~tr&Ct;)St=St&Et|St<<1&At>>>1|ft(),Zt=Zt<<1^Et,tr=(tr^Et)<<1|Et|1;$t=Zt,kt=1+tr-Zt}let Pt=rt-4;return Tt.map(Ot=>{switch(Ot-Pt){case 3:return Pt+65792+(et[ot++]<<16|et[ot++]<<8|et[ot++]);case 2:return Pt+256+(et[ot++]<<8|et[ot++]);case 1:return Pt+et[ot++];default:return Ot-1}})}function read_payload(et){let _e=0;return()=>et[_e++]}function read_compressed_payload(et){return read_payload(decode_arithmetic(et))}function signed(et){return et&1?~et>>1:et>>1}function read_counts(et,_e){let tt=Array(et);for(let rt=0;rt<et;rt++)tt[rt]=1+_e();return tt}function read_ascending(et,_e){let tt=Array(et);for(let rt=0,nt=-1;rt<et;rt++)tt[rt]=nt+=1+_e();return tt}function read_deltas(et,_e){let tt=Array(et);for(let rt=0,nt=0;rt<et;rt++)tt[rt]=nt+=signed(_e());return tt}function read_member_array(et,_e){let tt=read_ascending(et(),et),rt=et(),nt=read_ascending(rt,et),it=read_counts(rt,et);for(let at=0;at<rt;at++)for(let ot=0;ot<it[at];ot++)tt.push(nt[at]+ot);return _e?tt.map(at=>_e[at]):tt}function read_mapped_map(et){let _e=[];for(;;){let tt=et();if(tt==0)break;_e.push(read_linear_table(tt,et))}for(;;){let tt=et()-1;if(tt<0)break;_e.push(read_replacement_table(tt,et))}return fromEntries(flat(_e))}function read_zero_terminated_array(et){let _e=[];for(;;){let tt=et();if(tt==0)break;_e.push(tt)}return _e}function read_transposed(et,_e,tt){let rt=Array(et).fill(void 0).map(()=>[]);for(let nt=0;nt<_e;nt++)read_deltas(et,tt).forEach((it,at)=>rt[at].push(it));return rt}function read_linear_table(et,_e){let tt=1+_e(),rt=_e(),nt=read_zero_terminated_array(_e),it=read_transposed(nt.length,1+et,_e);return flat(it.map((at,ot)=>{const ct=at[0],ut=at.slice(1);return Array(nt[ot]).fill(void 0).map((ft,yt)=>{let bt=yt*rt;return[ct+yt*tt,ut.map(Et=>Et+bt)]})}))}function read_replacement_table(et,_e){let tt=1+_e();return read_transposed(tt,1+et,_e).map(nt=>[nt[0],nt.slice(1)])}function read_emoji_trie(et){let _e=read_member_array(et).sort((rt,nt)=>rt-nt);return tt();function tt(){let rt=[];for(;;){let ut=read_member_array(et,_e);if(ut.length==0)break;rt.push({set:new Set(ut),node:tt()})}rt.sort((ut,ft)=>ft.set.size-ut.set.size);let nt=et(),it=nt%3;nt=nt/3|0;let at=!!(nt&1);nt>>=1;let ot=nt==1,ct=nt==2;return{branches:rt,valid:it,fe0f:at,save:ot,check:ct}}}function getData(){return read_compressed_payload(decode$4("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const r$7=getData(),VALID=new Set(read_member_array(r$7)),IGNORED=new Set(read_member_array(r$7)),MAPPED=read_mapped_map(r$7),EMOJI_ROOT=read_emoji_trie(r$7),HYPHEN=45,UNDERSCORE=95;function explode_cp(et){return toUtf8CodePoints(et)}function filter_fe0f(et){return et.filter(_e=>_e!=65039)}function ens_normalize_post_check(et){for(let _e of et.split(".")){let tt=explode_cp(_e);try{for(let rt=tt.lastIndexOf(UNDERSCORE)-1;rt>=0;rt--)if(tt[rt]!==UNDERSCORE)throw new Error("underscore only allowed at start");if(tt.length>=4&&tt.every(rt=>rt<128)&&tt[2]===HYPHEN&&tt[3]===HYPHEN)throw new Error("invalid label extension")}catch(rt){throw new Error(`Invalid label "${_e}": ${rt.message}`)}}return et}function ens_normalize(et){return ens_normalize_post_check(normalize(et,filter_fe0f))}function normalize(et,_e){let tt=explode_cp(et).reverse(),rt=[];for(;tt.length;){let nt=consume_emoji_reversed(tt);if(nt){rt.push(..._e(nt));continue}let it=tt.pop();if(VALID.has(it)){rt.push(it);continue}if(IGNORED.has(it))continue;let at=MAPPED[it];if(at){rt.push(...at);continue}throw new Error(`Disallowed codepoint: 0x${it.toString(16).toUpperCase()}`)}return ens_normalize_post_check(nfc(String.fromCodePoint(...rt)))}function nfc(et){return et.normalize("NFC")}function consume_emoji_reversed(et,_e){var tt;let rt=EMOJI_ROOT,nt,it,at=[],ot=et.length;for(_e&&(_e.length=0);ot;){let ct=et[--ot];if(rt=(tt=rt.branches.find(ut=>ut.set.has(ct)))===null||tt===void 0?void 0:tt.node,!rt)break;if(rt.save)it=ct;else if(rt.check&&ct===it)break;at.push(ct),rt.fe0f&&(at.push(65039),ot>0&&et[ot-1]==65039&&ot--),rt.valid&&(nt=at.slice(),rt.valid==2&&nt.splice(1,1),_e&&_e.push(...et.slice(ot).reverse()),et.length=ot)}return nt}const logger$x=new Logger(version$k),Zeros$1=new Uint8Array(32);Zeros$1.fill(0);function checkComponent(et){if(et.length===0)throw new Error("invalid ENS name; empty component");return et}function ensNameSplit(et){const _e=toUtf8Bytes(ens_normalize(et)),tt=[];if(et.length===0)return tt;let rt=0;for(let nt=0;nt<_e.length;nt++)_e[nt]===46&&(tt.push(checkComponent(_e.slice(rt,nt))),rt=nt+1);if(rt>=_e.length)throw new Error("invalid ENS name; empty component");return tt.push(checkComponent(_e.slice(rt))),tt}function ensNormalize(et){return ensNameSplit(et).map(_e=>toUtf8String(_e)).join(".")}function isValidName(et){try{return ensNameSplit(et).length!==0}catch{}return!1}function namehash(et){typeof et!="string"&&logger$x.throwArgumentError("invalid ENS name; not a string","name",et);let _e=Zeros$1;const tt=ensNameSplit(et);for(;tt.length;)_e=keccak256$1(concat$3([_e,keccak256$1(tt.pop())]));return hexlify(_e)}function dnsEncode(et){return hexlify(concat$3(ensNameSplit(et).map(_e=>{if(_e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const tt=new Uint8Array(_e.length+1);return tt.set(_e,1),tt[0]=tt.length-1,tt})))+"00"}const messagePrefix=`Ethereum Signed Message:
`;function hashMessage(et){return typeof et=="string"&&(et=toUtf8Bytes(et)),keccak256$1(concat$3([toUtf8Bytes(messagePrefix),toUtf8Bytes(String(et.length)),et]))}var __awaiter$e=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$w=new Logger(version$k),padding=new Uint8Array(32);padding.fill(0);const NegativeOne=BigNumber.from(-1),Zero=BigNumber.from(0),One=BigNumber.from(1),MaxUint256=BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(et){const _e=arrayify(et),tt=_e.length%32;return tt?hexConcat([_e,padding.slice(tt)]):hexlify(_e)}const hexTrue=hexZeroPad(One.toHexString(),32),hexFalse=hexZeroPad(Zero.toHexString(),32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(et){return function(_e){return typeof _e!="string"&&logger$w.throwArgumentError(`invalid domain value for ${JSON.stringify(et)}`,`domain.${et}`,_e),_e}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(et){try{return BigNumber.from(et).toString()}catch{}return logger$w.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",et)},verifyingContract:function(et){try{return getAddress(et).toLowerCase()}catch{}return logger$w.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",et)},salt:function(et){try{const _e=arrayify(et);if(_e.length!==32)throw new Error("bad length");return hexlify(_e)}catch{}return logger$w.throwArgumentError('invalid domain value "salt"',"domain.salt",et)}};function getBaseEncoder(et){{const _e=et.match(/^(u?)int(\d*)$/);if(_e){const tt=_e[1]==="",rt=parseInt(_e[2]||"256");(rt%8!==0||rt>256||_e[2]&&_e[2]!==String(rt))&&logger$w.throwArgumentError("invalid numeric width","type",et);const nt=MaxUint256.mask(tt?rt-1:rt),it=tt?nt.add(One).mul(NegativeOne):Zero;return function(at){const ot=BigNumber.from(at);return(ot.lt(it)||ot.gt(nt))&&logger$w.throwArgumentError(`value out-of-bounds for ${et}`,"value",at),hexZeroPad(ot.toTwos(256).toHexString(),32)}}}{const _e=et.match(/^bytes(\d+)$/);if(_e){const tt=parseInt(_e[1]);return(tt===0||tt>32||_e[1]!==String(tt))&&logger$w.throwArgumentError("invalid bytes width","type",et),function(rt){return arrayify(rt).length!==tt&&logger$w.throwArgumentError(`invalid length for ${et}`,"value",rt),hexPadRight(rt)}}}switch(et){case"address":return function(_e){return hexZeroPad(getAddress(_e),32)};case"bool":return function(_e){return _e?hexTrue:hexFalse};case"bytes":return function(_e){return keccak256$1(_e)};case"string":return function(_e){return id(_e)}}return null}function encodeType(et,_e){return`${et}(${_e.map(({name:tt,type:rt})=>rt+" "+tt).join(",")})`}class TypedDataEncoder{constructor(_e){defineReadOnly(this,"types",Object.freeze(deepCopy(_e))),defineReadOnly(this,"_encoderCache",{}),defineReadOnly(this,"_types",{});const tt={},rt={},nt={};Object.keys(_e).forEach(ot=>{tt[ot]={},rt[ot]=[],nt[ot]={}});for(const ot in _e){const ct={};_e[ot].forEach(ut=>{ct[ut.name]&&logger$w.throwArgumentError(`duplicate variable name ${JSON.stringify(ut.name)} in ${JSON.stringify(ot)}`,"types",_e),ct[ut.name]=!0;const ft=ut.type.match(/^([^\x5b]*)(\x5b|$)/)[1];ft===ot&&logger$w.throwArgumentError(`circular type reference to ${JSON.stringify(ft)}`,"types",_e),!getBaseEncoder(ft)&&(rt[ft]||logger$w.throwArgumentError(`unknown type ${JSON.stringify(ft)}`,"types",_e),rt[ft].push(ot),tt[ot][ft]=!0)})}const it=Object.keys(rt).filter(ot=>rt[ot].length===0);it.length===0?logger$w.throwArgumentError("missing primary type","types",_e):it.length>1&&logger$w.throwArgumentError(`ambiguous primary types or unused types: ${it.map(ot=>JSON.stringify(ot)).join(", ")}`,"types",_e),defineReadOnly(this,"primaryType",it[0]);function at(ot,ct){ct[ot]&&logger$w.throwArgumentError(`circular type reference to ${JSON.stringify(ot)}`,"types",_e),ct[ot]=!0,Object.keys(tt[ot]).forEach(ut=>{!rt[ut]||(at(ut,ct),Object.keys(ct).forEach(ft=>{nt[ft][ut]=!0}))}),delete ct[ot]}at(this.primaryType,{});for(const ot in nt){const ct=Object.keys(nt[ot]);ct.sort(),this._types[ot]=encodeType(ot,_e[ot])+ct.map(ut=>encodeType(ut,_e[ut])).join("")}}getEncoder(_e){let tt=this._encoderCache[_e];return tt||(tt=this._encoderCache[_e]=this._getEncoder(_e)),tt}_getEncoder(_e){{const nt=getBaseEncoder(_e);if(nt)return nt}const tt=_e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(tt){const nt=tt[1],it=this.getEncoder(nt),at=parseInt(tt[3]);return ot=>{at>=0&&ot.length!==at&&logger$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",ot);let ct=ot.map(it);return this._types[nt]&&(ct=ct.map(keccak256$1)),keccak256$1(hexConcat(ct))}}const rt=this.types[_e];if(rt){const nt=id(this._types[_e]);return it=>{const at=rt.map(({name:ot,type:ct})=>{const ut=this.getEncoder(ct)(it[ot]);return this._types[ct]?keccak256$1(ut):ut});return at.unshift(nt),hexConcat(at)}}return logger$w.throwArgumentError(`unknown type: ${_e}`,"type",_e)}encodeType(_e){const tt=this._types[_e];return tt||logger$w.throwArgumentError(`unknown type: ${JSON.stringify(_e)}`,"name",_e),tt}encodeData(_e,tt){return this.getEncoder(_e)(tt)}hashStruct(_e,tt){return keccak256$1(this.encodeData(_e,tt))}encode(_e){return this.encodeData(this.primaryType,_e)}hash(_e){return this.hashStruct(this.primaryType,_e)}_visit(_e,tt,rt){if(getBaseEncoder(_e))return rt(_e,tt);const nt=_e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(nt){const at=nt[1],ot=parseInt(nt[3]);return ot>=0&&tt.length!==ot&&logger$w.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",tt),tt.map(ct=>this._visit(at,ct,rt))}const it=this.types[_e];return it?it.reduce((at,{name:ot,type:ct})=>(at[ot]=this._visit(ct,tt[ot],rt),at),{}):logger$w.throwArgumentError(`unknown type: ${_e}`,"type",_e)}visit(_e,tt){return this._visit(this.primaryType,_e,tt)}static from(_e){return new TypedDataEncoder(_e)}static getPrimaryType(_e){return TypedDataEncoder.from(_e).primaryType}static hashStruct(_e,tt,rt){return TypedDataEncoder.from(tt).hashStruct(_e,rt)}static hashDomain(_e){const tt=[];for(const rt in _e){const nt=domainFieldTypes[rt];nt||logger$w.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(rt)}`,"domain",_e),tt.push({name:rt,type:nt})}return tt.sort((rt,nt)=>domainFieldNames.indexOf(rt.name)-domainFieldNames.indexOf(nt.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:tt},_e)}static encode(_e,tt,rt){return hexConcat(["0x1901",TypedDataEncoder.hashDomain(_e),TypedDataEncoder.from(tt).hash(rt)])}static hash(_e,tt,rt){return keccak256$1(TypedDataEncoder.encode(_e,tt,rt))}static resolveNames(_e,tt,rt,nt){return __awaiter$e(this,void 0,void 0,function*(){_e=shallowCopy(_e);const it={};_e.verifyingContract&&!isHexString$4(_e.verifyingContract,20)&&(it[_e.verifyingContract]="0x");const at=TypedDataEncoder.from(tt);at.visit(rt,(ot,ct)=>(ot==="address"&&!isHexString$4(ct,20)&&(it[ct]="0x"),ct));for(const ot in it)it[ot]=yield nt(ot);return _e.verifyingContract&&it[_e.verifyingContract]&&(_e.verifyingContract=it[_e.verifyingContract]),rt=at.visit(rt,(ot,ct)=>ot==="address"&&it[ct]?it[ct]:ct),{domain:_e,value:rt}})}static getPayload(_e,tt,rt){TypedDataEncoder.hashDomain(_e);const nt={},it=[];domainFieldNames.forEach(ct=>{const ut=_e[ct];ut!=null&&(nt[ct]=domainChecks[ct](ut),it.push({name:ct,type:domainFieldTypes[ct]}))});const at=TypedDataEncoder.from(tt),ot=shallowCopy(tt);return ot.EIP712Domain?logger$w.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",tt):ot.EIP712Domain=it,at.encode(rt),{types:ot,domain:nt,primaryType:at.primaryType,message:at.visit(rt,(ct,ut)=>{if(ct.match(/^bytes(\d*)/))return hexlify(arrayify(ut));if(ct.match(/^u?int/))return BigNumber.from(ut).toString();switch(ct){case"address":return ut.toLowerCase();case"bool":return!!ut;case"string":return typeof ut!="string"&&logger$w.throwArgumentError("invalid string","value",ut),ut}return logger$w.throwArgumentError("unsupported type","type",ct)})}}}const lib_esm$c=Object.freeze(Object.defineProperty({__proto__:null,id,dnsEncode,namehash,isValidName,ensNormalize,messagePrefix,hashMessage,_TypedDataEncoder:TypedDataEncoder},Symbol.toStringTag,{value:"Module"})),logger$v=new Logger(version$o);class LogDescription extends Description{}class TransactionDescription extends Description{}class ErrorDescription extends Description{}class Indexed extends Description{static isIndexed(_e){return!!(_e&&_e._isIndexed)}}const BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(et,_e){const tt=new Error(`deferred error during ABI decoding triggered accessing ${et}`);return tt.error=_e,tt}class Interface{constructor(_e){let tt=[];typeof _e=="string"?tt=JSON.parse(_e):tt=_e,defineReadOnly(this,"fragments",tt.map(rt=>Fragment.from(rt)).filter(rt=>rt!=null)),defineReadOnly(this,"_abiCoder",getStatic(new.target,"getAbiCoder")()),defineReadOnly(this,"functions",{}),defineReadOnly(this,"errors",{}),defineReadOnly(this,"events",{}),defineReadOnly(this,"structs",{}),this.fragments.forEach(rt=>{let nt=null;switch(rt.type){case"constructor":if(this.deploy){logger$v.warn("duplicate definition - constructor");return}defineReadOnly(this,"deploy",rt);return;case"function":nt=this.functions;break;case"event":nt=this.events;break;case"error":nt=this.errors;break;default:return}let it=rt.format();if(nt[it]){logger$v.warn("duplicate definition - "+it);return}nt[it]=rt}),this.deploy||defineReadOnly(this,"deploy",ConstructorFragment.from({payable:!1,type:"constructor"})),defineReadOnly(this,"_isInterface",!0)}format(_e){_e||(_e=FormatTypes.full),_e===FormatTypes.sighash&&logger$v.throwArgumentError("interface does not support formatting sighash","format",_e);const tt=this.fragments.map(rt=>rt.format(_e));return _e===FormatTypes.json?JSON.stringify(tt.map(rt=>JSON.parse(rt))):tt}static getAbiCoder(){return defaultAbiCoder}static getAddress(_e){return getAddress(_e)}static getSighash(_e){return hexDataSlice(id(_e.format()),0,4)}static getEventTopic(_e){return id(_e.format())}getFunction(_e){if(isHexString$4(_e)){for(const rt in this.functions)if(_e===this.getSighash(rt))return this.functions[rt];logger$v.throwArgumentError("no matching function","sighash",_e)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.functions).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$v.throwArgumentError("no matching function","name",rt):nt.length>1&&logger$v.throwArgumentError("multiple matching functions","name",rt),this.functions[nt[0]]}const tt=this.functions[FunctionFragment.fromString(_e).format()];return tt||logger$v.throwArgumentError("no matching function","signature",_e),tt}getEvent(_e){if(isHexString$4(_e)){const rt=_e.toLowerCase();for(const nt in this.events)if(rt===this.getEventTopic(nt))return this.events[nt];logger$v.throwArgumentError("no matching event","topichash",rt)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.events).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$v.throwArgumentError("no matching event","name",rt):nt.length>1&&logger$v.throwArgumentError("multiple matching events","name",rt),this.events[nt[0]]}const tt=this.events[EventFragment.fromString(_e).format()];return tt||logger$v.throwArgumentError("no matching event","signature",_e),tt}getError(_e){if(isHexString$4(_e)){const rt=getStatic(this.constructor,"getSighash");for(const nt in this.errors){const it=this.errors[nt];if(_e===rt(it))return this.errors[nt]}logger$v.throwArgumentError("no matching error","sighash",_e)}if(_e.indexOf("(")===-1){const rt=_e.trim(),nt=Object.keys(this.errors).filter(it=>it.split("(")[0]===rt);return nt.length===0?logger$v.throwArgumentError("no matching error","name",rt):nt.length>1&&logger$v.throwArgumentError("multiple matching errors","name",rt),this.errors[nt[0]]}const tt=this.errors[FunctionFragment.fromString(_e).format()];return tt||logger$v.throwArgumentError("no matching error","signature",_e),tt}getSighash(_e){if(typeof _e=="string")try{_e=this.getFunction(_e)}catch(tt){try{_e=this.getError(_e)}catch{throw tt}}return getStatic(this.constructor,"getSighash")(_e)}getEventTopic(_e){return typeof _e=="string"&&(_e=this.getEvent(_e)),getStatic(this.constructor,"getEventTopic")(_e)}_decodeParams(_e,tt){return this._abiCoder.decode(_e,tt)}_encodeParams(_e,tt){return this._abiCoder.encode(_e,tt)}encodeDeploy(_e){return this._encodeParams(this.deploy.inputs,_e||[])}decodeErrorResult(_e,tt){typeof _e=="string"&&(_e=this.getError(_e));const rt=arrayify(tt);return hexlify(rt.slice(0,4))!==this.getSighash(_e)&&logger$v.throwArgumentError(`data signature does not match error ${_e.name}.`,"data",hexlify(rt)),this._decodeParams(_e.inputs,rt.slice(4))}encodeErrorResult(_e,tt){return typeof _e=="string"&&(_e=this.getError(_e)),hexlify(concat$3([this.getSighash(_e),this._encodeParams(_e.inputs,tt||[])]))}decodeFunctionData(_e,tt){typeof _e=="string"&&(_e=this.getFunction(_e));const rt=arrayify(tt);return hexlify(rt.slice(0,4))!==this.getSighash(_e)&&logger$v.throwArgumentError(`data signature does not match function ${_e.name}.`,"data",hexlify(rt)),this._decodeParams(_e.inputs,rt.slice(4))}encodeFunctionData(_e,tt){return typeof _e=="string"&&(_e=this.getFunction(_e)),hexlify(concat$3([this.getSighash(_e),this._encodeParams(_e.inputs,tt||[])]))}decodeFunctionResult(_e,tt){typeof _e=="string"&&(_e=this.getFunction(_e));let rt=arrayify(tt),nt=null,it="",at=null,ot=null,ct=null;switch(rt.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(_e.outputs,rt)}catch{}break;case 4:{const ut=hexlify(rt.slice(0,4)),ft=BuiltinErrors[ut];if(ft)at=this._abiCoder.decode(ft.inputs,rt.slice(4)),ot=ft.name,ct=ft.signature,ft.reason&&(nt=at[0]),ot==="Error"?it=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(at[0])}`:ot==="Panic"&&(it=`; VM Exception while processing transaction: reverted with panic code ${at[0]}`);else try{const yt=this.getError(ut);at=this._abiCoder.decode(yt.inputs,rt.slice(4)),ot=yt.name,ct=yt.format()}catch{}break}}return logger$v.throwError("call revert exception"+it,Logger.errors.CALL_EXCEPTION,{method:_e.format(),data:hexlify(tt),errorArgs:at,errorName:ot,errorSignature:ct,reason:nt})}encodeFunctionResult(_e,tt){return typeof _e=="string"&&(_e=this.getFunction(_e)),hexlify(this._abiCoder.encode(_e.outputs,tt||[]))}encodeFilterTopics(_e,tt){typeof _e=="string"&&(_e=this.getEvent(_e)),tt.length>_e.inputs.length&&logger$v.throwError("too many arguments for "+_e.format(),Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:tt});let rt=[];_e.anonymous||rt.push(this.getEventTopic(_e));const nt=(it,at)=>it.type==="string"?id(at):it.type==="bytes"?keccak256$1(hexlify(at)):(it.type==="bool"&&typeof at=="boolean"&&(at=at?"0x01":"0x00"),it.type.match(/^u?int/)&&(at=BigNumber.from(at).toHexString()),it.type==="address"&&this._abiCoder.encode(["address"],[at]),hexZeroPad(hexlify(at),32));for(tt.forEach((it,at)=>{let ot=_e.inputs[at];if(!ot.indexed){it!=null&&logger$v.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+ot.name,it);return}it==null?rt.push(null):ot.baseType==="array"||ot.baseType==="tuple"?logger$v.throwArgumentError("filtering with tuples or arrays not supported","contract."+ot.name,it):Array.isArray(it)?rt.push(it.map(ct=>nt(ot,ct))):rt.push(nt(ot,it))});rt.length&&rt[rt.length-1]===null;)rt.pop();return rt}encodeEventLog(_e,tt){typeof _e=="string"&&(_e=this.getEvent(_e));const rt=[],nt=[],it=[];return _e.anonymous||rt.push(this.getEventTopic(_e)),tt.length!==_e.inputs.length&&logger$v.throwArgumentError("event arguments/values mismatch","values",tt),_e.inputs.forEach((at,ot)=>{const ct=tt[ot];if(at.indexed)if(at.type==="string")rt.push(id(ct));else if(at.type==="bytes")rt.push(keccak256$1(ct));else{if(at.baseType==="tuple"||at.baseType==="array")throw new Error("not implemented");rt.push(this._abiCoder.encode([at.type],[ct]))}else nt.push(at),it.push(ct)}),{data:this._abiCoder.encode(nt,it),topics:rt}}decodeEventLog(_e,tt,rt){if(typeof _e=="string"&&(_e=this.getEvent(_e)),rt!=null&&!_e.anonymous){let bt=this.getEventTopic(_e);(!isHexString$4(rt[0],32)||rt[0].toLowerCase()!==bt)&&logger$v.throwError("fragment/topic mismatch",Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:bt,value:rt[0]}),rt=rt.slice(1)}let nt=[],it=[],at=[];_e.inputs.forEach((bt,Et)=>{bt.indexed?bt.type==="string"||bt.type==="bytes"||bt.baseType==="tuple"||bt.baseType==="array"?(nt.push(ParamType.fromObject({type:"bytes32",name:bt.name})),at.push(!0)):(nt.push(bt),at.push(!1)):(it.push(bt),at.push(!1))});let ot=rt!=null?this._abiCoder.decode(nt,concat$3(rt)):null,ct=this._abiCoder.decode(it,tt,!0),ut=[],ft=0,yt=0;_e.inputs.forEach((bt,Et)=>{if(bt.indexed)if(ot==null)ut[Et]=new Indexed({_isIndexed:!0,hash:null});else if(at[Et])ut[Et]=new Indexed({_isIndexed:!0,hash:ot[yt++]});else try{ut[Et]=ot[yt++]}catch(Ct){ut[Et]=Ct}else try{ut[Et]=ct[ft++]}catch(Ct){ut[Et]=Ct}if(bt.name&&ut[bt.name]==null){const Ct=ut[Et];Ct instanceof Error?Object.defineProperty(ut,bt.name,{enumerable:!0,get:()=>{throw wrapAccessError(`property ${JSON.stringify(bt.name)}`,Ct)}}):ut[bt.name]=Ct}});for(let bt=0;bt<ut.length;bt++){const Et=ut[bt];Et instanceof Error&&Object.defineProperty(ut,bt,{enumerable:!0,get:()=>{throw wrapAccessError(`index ${bt}`,Et)}})}return Object.freeze(ut)}parseTransaction(_e){let tt=this.getFunction(_e.data.substring(0,10).toLowerCase());return tt?new TransactionDescription({args:this._abiCoder.decode(tt.inputs,"0x"+_e.data.substring(10)),functionFragment:tt,name:tt.name,signature:tt.format(),sighash:this.getSighash(tt),value:BigNumber.from(_e.value||"0")}):null}parseLog(_e){let tt=this.getEvent(_e.topics[0]);return!tt||tt.anonymous?null:new LogDescription({eventFragment:tt,name:tt.name,signature:tt.format(),topic:this.getEventTopic(tt),args:this.decodeEventLog(tt,_e.data,_e.topics)})}parseError(_e){const tt=hexlify(_e);let rt=this.getError(tt.substring(0,10).toLowerCase());return rt?new ErrorDescription({args:this._abiCoder.decode(rt.inputs,"0x"+tt.substring(10)),errorFragment:rt,name:rt.name,signature:rt.format(),sighash:this.getSighash(rt)}):null}static isInterface(_e){return!!(_e&&_e._isInterface)}}const lib_esm$b=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment,ErrorFragment,EventFragment,Fragment,FunctionFragment,ParamType,FormatTypes,AbiCoder,defaultAbiCoder,Interface,Indexed,checkResultErrors,LogDescription,TransactionDescription},Symbol.toStringTag,{value:"Module"})),version$j="abstract-provider/5.7.0";var __awaiter$d=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$u=new Logger(version$j);class ForkEvent extends Description{static isForkEvent(_e){return!!(_e&&_e._isForkEvent)}}class Provider$1{constructor(){logger$u.checkAbstract(new.target,Provider$1),defineReadOnly(this,"_isProvider",!0)}getFeeData(){return __awaiter$d(this,void 0,void 0,function*(){const{block:_e,gasPrice:tt}=yield resolveProperties({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(at=>null)});let rt=null,nt=null,it=null;return _e&&_e.baseFeePerGas&&(rt=_e.baseFeePerGas,it=BigNumber.from("1500000000"),nt=_e.baseFeePerGas.mul(2).add(it)),{lastBaseFeePerGas:rt,maxFeePerGas:nt,maxPriorityFeePerGas:it,gasPrice:tt}})}addListener(_e,tt){return this.on(_e,tt)}removeListener(_e,tt){return this.off(_e,tt)}static isProvider(_e){return!!(_e&&_e._isProvider)}}const version$i="abstract-signer/5.7.0";var __awaiter$c=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$t=new Logger(version$i),allowedTransactionKeys$3=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],forwardErrors=[Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){logger$t.checkAbstract(new.target,Signer),defineReadOnly(this,"_isSigner",!0)}getBalance(_e){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),_e)})}getTransactionCount(_e){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),_e)})}estimateGas(_e){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const tt=yield resolveProperties(this.checkTransaction(_e));return yield this.provider.estimateGas(tt)})}call(_e,tt){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("call");const rt=yield resolveProperties(this.checkTransaction(_e));return yield this.provider.call(rt,tt)})}sendTransaction(_e){return __awaiter$c(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const tt=yield this.populateTransaction(_e),rt=yield this.signTransaction(tt);return yield this.provider.sendTransaction(rt)})}getChainId(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(_e){return __awaiter$c(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(_e)})}checkTransaction(_e){for(const rt in _e)allowedTransactionKeys$3.indexOf(rt)===-1&&logger$t.throwArgumentError("invalid transaction key: "+rt,"transaction",_e);const tt=shallowCopy(_e);return tt.from==null?tt.from=this.getAddress():tt.from=Promise.all([Promise.resolve(tt.from),this.getAddress()]).then(rt=>(rt[0].toLowerCase()!==rt[1].toLowerCase()&&logger$t.throwArgumentError("from address mismatch","transaction",_e),rt[0])),tt}populateTransaction(_e){return __awaiter$c(this,void 0,void 0,function*(){const tt=yield resolveProperties(this.checkTransaction(_e));tt.to!=null&&(tt.to=Promise.resolve(tt.to).then(nt=>__awaiter$c(this,void 0,void 0,function*(){if(nt==null)return null;const it=yield this.resolveName(nt);return it==null&&logger$t.throwArgumentError("provided ENS name resolves to null","tx.to",nt),it})),tt.to.catch(nt=>{}));const rt=tt.maxFeePerGas!=null||tt.maxPriorityFeePerGas!=null;if(tt.gasPrice!=null&&(tt.type===2||rt)?logger$t.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",_e):(tt.type===0||tt.type===1)&&rt&&logger$t.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",_e),(tt.type===2||tt.type==null)&&tt.maxFeePerGas!=null&&tt.maxPriorityFeePerGas!=null)tt.type=2;else if(tt.type===0||tt.type===1)tt.gasPrice==null&&(tt.gasPrice=this.getGasPrice());else{const nt=yield this.getFeeData();if(tt.type==null)if(nt.maxFeePerGas!=null&&nt.maxPriorityFeePerGas!=null)if(tt.type=2,tt.gasPrice!=null){const it=tt.gasPrice;delete tt.gasPrice,tt.maxFeePerGas=it,tt.maxPriorityFeePerGas=it}else tt.maxFeePerGas==null&&(tt.maxFeePerGas=nt.maxFeePerGas),tt.maxPriorityFeePerGas==null&&(tt.maxPriorityFeePerGas=nt.maxPriorityFeePerGas);else nt.gasPrice!=null?(rt&&logger$t.throwError("network does not support EIP-1559",Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),tt.gasPrice==null&&(tt.gasPrice=nt.gasPrice),tt.type=0):logger$t.throwError("failed to get consistent fee data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else tt.type===2&&(tt.maxFeePerGas==null&&(tt.maxFeePerGas=nt.maxFeePerGas),tt.maxPriorityFeePerGas==null&&(tt.maxPriorityFeePerGas=nt.maxPriorityFeePerGas))}return tt.nonce==null&&(tt.nonce=this.getTransactionCount("pending")),tt.gasLimit==null&&(tt.gasLimit=this.estimateGas(tt).catch(nt=>{if(forwardErrors.indexOf(nt.code)>=0)throw nt;return logger$t.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:nt,tx:tt})})),tt.chainId==null?tt.chainId=this.getChainId():tt.chainId=Promise.all([Promise.resolve(tt.chainId),this.getChainId()]).then(nt=>(nt[1]!==0&&nt[0]!==nt[1]&&logger$t.throwArgumentError("chainId address mismatch","transaction",_e),nt[0])),yield resolveProperties(tt)})}_checkProvider(_e){this.provider||logger$t.throwError("missing provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:_e||"_checkProvider"})}static isSigner(_e){return!!(_e&&_e._isSigner)}}class VoidSigner extends Signer{constructor(_e,tt){super(),defineReadOnly(this,"address",_e),defineReadOnly(this,"provider",tt||null)}getAddress(){return Promise.resolve(this.address)}_fail(_e,tt){return Promise.resolve().then(()=>{logger$t.throwError(_e,Logger.errors.UNSUPPORTED_OPERATION,{operation:tt})})}signMessage(_e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(_e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(_e,tt,rt){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(_e){return new VoidSigner(this.address,_e)}}var bn$3={exports:{}};(function(et){(function(_e,tt){function rt(ht,st){if(!ht)throw new Error(st||"Assertion failed")}function nt(ht,st){ht.super_=st;var dt=function(){};dt.prototype=st.prototype,ht.prototype=new dt,ht.prototype.constructor=ht}function it(ht,st,dt){if(it.isBN(ht))return ht;this.negative=0,this.words=null,this.length=0,this.red=null,ht!==null&&((st==="le"||st==="be")&&(dt=st,st=10),this._init(ht||0,st||10,dt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=require$$0$4.Buffer}catch{}it.isBN=function(st){return st instanceof it?!0:st!==null&&typeof st=="object"&&st.constructor.wordSize===it.wordSize&&Array.isArray(st.words)},it.max=function(st,dt){return st.cmp(dt)>0?st:dt},it.min=function(st,dt){return st.cmp(dt)<0?st:dt},it.prototype._init=function(st,dt,mt){if(typeof st=="number")return this._initNumber(st,dt,mt);if(typeof st=="object")return this._initArray(st,dt,mt);dt==="hex"&&(dt=16),rt(dt===(dt|0)&&dt>=2&&dt<=36),st=st.toString().replace(/\s+/g,"");var _t=0;st[0]==="-"&&(_t++,this.negative=1),_t<st.length&&(dt===16?this._parseHex(st,_t,mt):(this._parseBase(st,dt,_t),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},it.prototype._initNumber=function(st,dt,mt){st<0&&(this.negative=1,st=-st),st<67108864?(this.words=[st&67108863],this.length=1):st<4503599627370496?(this.words=[st&67108863,st/67108864&67108863],this.length=2):(rt(st<9007199254740992),this.words=[st&67108863,st/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},it.prototype._initArray=function(st,dt,mt){if(rt(typeof st.length=="number"),st.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(st.length/3),this.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)this.words[_t]=0;var xt,vt,Mt=0;if(mt==="be")for(_t=st.length-1,xt=0;_t>=0;_t-=3)vt=st[_t]|st[_t-1]<<8|st[_t-2]<<16,this.words[xt]|=vt<<Mt&67108863,this.words[xt+1]=vt>>>26-Mt&67108863,Mt+=24,Mt>=26&&(Mt-=26,xt++);else if(mt==="le")for(_t=0,xt=0;_t<st.length;_t+=3)vt=st[_t]|st[_t+1]<<8|st[_t+2]<<16,this.words[xt]|=vt<<Mt&67108863,this.words[xt+1]=vt>>>26-Mt&67108863,Mt+=24,Mt>=26&&(Mt-=26,xt++);return this._strip()};function ot(ht,st){var dt=ht.charCodeAt(st);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;rt(!1,"Invalid character in "+ht)}function ct(ht,st,dt){var mt=ot(ht,dt);return dt-1>=st&&(mt|=ot(ht,dt-1)<<4),mt}it.prototype._parseHex=function(st,dt,mt){this.length=Math.ceil((st.length-dt)/6),this.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)this.words[_t]=0;var xt=0,vt=0,Mt;if(mt==="be")for(_t=st.length-1;_t>=dt;_t-=2)Mt=ct(st,dt,_t)<<xt,this.words[vt]|=Mt&67108863,xt>=18?(xt-=18,vt+=1,this.words[vt]|=Mt>>>26):xt+=8;else{var gt=st.length-dt;for(_t=gt%2===0?dt+1:dt;_t<st.length;_t+=2)Mt=ct(st,dt,_t)<<xt,this.words[vt]|=Mt&67108863,xt>=18?(xt-=18,vt+=1,this.words[vt]|=Mt>>>26):xt+=8}this._strip()};function ut(ht,st,dt,mt){for(var _t=0,xt=0,vt=Math.min(ht.length,dt),Mt=st;Mt<vt;Mt++){var gt=ht.charCodeAt(Mt)-48;_t*=mt,gt>=49?xt=gt-49+10:gt>=17?xt=gt-17+10:xt=gt,rt(gt>=0&&xt<mt,"Invalid character"),_t+=xt}return _t}it.prototype._parseBase=function(st,dt,mt){this.words=[0],this.length=1;for(var _t=0,xt=1;xt<=67108863;xt*=dt)_t++;_t--,xt=xt/dt|0;for(var vt=st.length-mt,Mt=vt%_t,gt=Math.min(vt,vt-Mt)+mt,lt=0,wt=mt;wt<gt;wt+=_t)lt=ut(st,wt,wt+_t,dt),this.imuln(xt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt);if(Mt!==0){var jt=1;for(lt=ut(st,wt,st.length,dt),wt=0;wt<Mt;wt++)jt*=dt;this.imuln(jt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt)}this._strip()},it.prototype.copy=function(st){st.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)st.words[dt]=this.words[dt];st.length=this.length,st.negative=this.negative,st.red=this.red};function ft(ht,st){ht.words=st.words,ht.length=st.length,ht.negative=st.negative,ht.red=st.red}if(it.prototype._move=function(st){ft(st,this)},it.prototype.clone=function(){var st=new it(null);return this.copy(st),st},it.prototype._expand=function(st){for(;this.length<st;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=yt}catch{it.prototype.inspect=yt}else it.prototype.inspect=yt;function yt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var bt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Et=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ct=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(st,dt){st=st||10,dt=dt|0||1;var mt;if(st===16||st==="hex"){mt="";for(var _t=0,xt=0,vt=0;vt<this.length;vt++){var Mt=this.words[vt],gt=((Mt<<_t|xt)&16777215).toString(16);xt=Mt>>>24-_t&16777215,_t+=2,_t>=26&&(_t-=26,vt--),xt!==0||vt!==this.length-1?mt=bt[6-gt.length]+gt+mt:mt=gt+mt}for(xt!==0&&(mt=xt.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(st===(st|0)&&st>=2&&st<=36){var lt=Et[st],wt=Ct[st];mt="";var jt=this.clone();for(jt.negative=0;!jt.isZero();){var It=jt.modrn(wt).toString(st);jt=jt.idivn(wt),jt.isZero()?mt=It+mt:mt=bt[lt-It.length]+It+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var st=this.words[0];return this.length===2?st+=this.words[1]*67108864:this.length===3&&this.words[2]===1?st+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-st:st},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(st,dt){return this.toArrayLike(at,st,dt)}),it.prototype.toArray=function(st,dt){return this.toArrayLike(Array,st,dt)};var At=function(st,dt){return st.allocUnsafe?st.allocUnsafe(dt):new st(dt)};it.prototype.toArrayLike=function(st,dt,mt){this._strip();var _t=this.byteLength(),xt=mt||Math.max(1,_t);rt(_t<=xt,"byte array longer than desired length"),rt(xt>0,"Requested array length <= 0");var vt=At(st,xt),Mt=dt==="le"?"LE":"BE";return this["_toArrayLike"+Mt](vt,_t),vt},it.prototype._toArrayLikeLE=function(st,dt){for(var mt=0,_t=0,xt=0,vt=0;xt<this.length;xt++){var Mt=this.words[xt]<<vt|_t;st[mt++]=Mt&255,mt<st.length&&(st[mt++]=Mt>>8&255),mt<st.length&&(st[mt++]=Mt>>16&255),vt===6?(mt<st.length&&(st[mt++]=Mt>>24&255),_t=0,vt=0):(_t=Mt>>>24,vt+=2)}if(mt<st.length)for(st[mt++]=_t;mt<st.length;)st[mt++]=0},it.prototype._toArrayLikeBE=function(st,dt){for(var mt=st.length-1,_t=0,xt=0,vt=0;xt<this.length;xt++){var Mt=this.words[xt]<<vt|_t;st[mt--]=Mt&255,mt>=0&&(st[mt--]=Mt>>8&255),mt>=0&&(st[mt--]=Mt>>16&255),vt===6?(mt>=0&&(st[mt--]=Mt>>24&255),_t=0,vt=0):(_t=Mt>>>24,vt+=2)}if(mt>=0)for(st[mt--]=_t;mt>=0;)st[mt--]=0},Math.clz32?it.prototype._countBits=function(st){return 32-Math.clz32(st)}:it.prototype._countBits=function(st){var dt=st,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},it.prototype._zeroBits=function(st){if(st===0)return 26;var dt=st,mt=0;return(dt&8191)===0&&(mt+=13,dt>>>=13),(dt&127)===0&&(mt+=7,dt>>>=7),(dt&15)===0&&(mt+=4,dt>>>=4),(dt&3)===0&&(mt+=2,dt>>>=2),(dt&1)===0&&mt++,mt},it.prototype.bitLength=function(){var st=this.words[this.length-1],dt=this._countBits(st);return(this.length-1)*26+dt};function St(ht){for(var st=new Array(ht.bitLength()),dt=0;dt<st.length;dt++){var mt=dt/26|0,_t=dt%26;st[dt]=ht.words[mt]>>>_t&1}return st}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var st=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(st+=mt,mt!==26)break}return st},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(st){return this.negative!==0?this.abs().inotn(st).iaddn(1):this.clone()},it.prototype.fromTwos=function(st){return this.testn(st-1)?this.notn(st).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(st){for(;this.length<st.length;)this.words[this.length++]=0;for(var dt=0;dt<st.length;dt++)this.words[dt]=this.words[dt]|st.words[dt];return this._strip()},it.prototype.ior=function(st){return rt((this.negative|st.negative)===0),this.iuor(st)},it.prototype.or=function(st){return this.length>st.length?this.clone().ior(st):st.clone().ior(this)},it.prototype.uor=function(st){return this.length>st.length?this.clone().iuor(st):st.clone().iuor(this)},it.prototype.iuand=function(st){var dt;this.length>st.length?dt=st:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&st.words[mt];return this.length=dt.length,this._strip()},it.prototype.iand=function(st){return rt((this.negative|st.negative)===0),this.iuand(st)},it.prototype.and=function(st){return this.length>st.length?this.clone().iand(st):st.clone().iand(this)},it.prototype.uand=function(st){return this.length>st.length?this.clone().iuand(st):st.clone().iuand(this)},it.prototype.iuxor=function(st){var dt,mt;this.length>st.length?(dt=this,mt=st):(dt=st,mt=this);for(var _t=0;_t<mt.length;_t++)this.words[_t]=dt.words[_t]^mt.words[_t];if(this!==dt)for(;_t<dt.length;_t++)this.words[_t]=dt.words[_t];return this.length=dt.length,this._strip()},it.prototype.ixor=function(st){return rt((this.negative|st.negative)===0),this.iuxor(st)},it.prototype.xor=function(st){return this.length>st.length?this.clone().ixor(st):st.clone().ixor(this)},it.prototype.uxor=function(st){return this.length>st.length?this.clone().iuxor(st):st.clone().iuxor(this)},it.prototype.inotn=function(st){rt(typeof st=="number"&&st>=0);var dt=Math.ceil(st/26)|0,mt=st%26;this._expand(dt),mt>0&&dt--;for(var _t=0;_t<dt;_t++)this.words[_t]=~this.words[_t]&67108863;return mt>0&&(this.words[_t]=~this.words[_t]&67108863>>26-mt),this._strip()},it.prototype.notn=function(st){return this.clone().inotn(st)},it.prototype.setn=function(st,dt){rt(typeof st=="number"&&st>=0);var mt=st/26|0,_t=st%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<_t:this.words[mt]=this.words[mt]&~(1<<_t),this._strip()},it.prototype.iadd=function(st){var dt;if(this.negative!==0&&st.negative===0)return this.negative=0,dt=this.isub(st),this.negative^=1,this._normSign();if(this.negative===0&&st.negative!==0)return st.negative=0,dt=this.isub(st),st.negative=1,dt._normSign();var mt,_t;this.length>st.length?(mt=this,_t=st):(mt=st,_t=this);for(var xt=0,vt=0;vt<_t.length;vt++)dt=(mt.words[vt]|0)+(_t.words[vt]|0)+xt,this.words[vt]=dt&67108863,xt=dt>>>26;for(;xt!==0&&vt<mt.length;vt++)dt=(mt.words[vt]|0)+xt,this.words[vt]=dt&67108863,xt=dt>>>26;if(this.length=mt.length,xt!==0)this.words[this.length]=xt,this.length++;else if(mt!==this)for(;vt<mt.length;vt++)this.words[vt]=mt.words[vt];return this},it.prototype.add=function(st){var dt;return st.negative!==0&&this.negative===0?(st.negative=0,dt=this.sub(st),st.negative^=1,dt):st.negative===0&&this.negative!==0?(this.negative=0,dt=st.sub(this),this.negative=1,dt):this.length>st.length?this.clone().iadd(st):st.clone().iadd(this)},it.prototype.isub=function(st){if(st.negative!==0){st.negative=0;var dt=this.iadd(st);return st.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(st),this.negative=1,this._normSign();var mt=this.cmp(st);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _t,xt;mt>0?(_t=this,xt=st):(_t=st,xt=this);for(var vt=0,Mt=0;Mt<xt.length;Mt++)dt=(_t.words[Mt]|0)-(xt.words[Mt]|0)+vt,vt=dt>>26,this.words[Mt]=dt&67108863;for(;vt!==0&&Mt<_t.length;Mt++)dt=(_t.words[Mt]|0)+vt,vt=dt>>26,this.words[Mt]=dt&67108863;if(vt===0&&Mt<_t.length&&_t!==this)for(;Mt<_t.length;Mt++)this.words[Mt]=_t.words[Mt];return this.length=Math.max(this.length,Mt),_t!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(st){return this.clone().isub(st)};function Tt(ht,st,dt){dt.negative=st.negative^ht.negative;var mt=ht.length+st.length|0;dt.length=mt,mt=mt-1|0;var _t=ht.words[0]|0,xt=st.words[0]|0,vt=_t*xt,Mt=vt&67108863,gt=vt/67108864|0;dt.words[0]=Mt;for(var lt=1;lt<mt;lt++){for(var wt=gt>>>26,jt=gt&67108863,It=Math.min(lt,st.length-1),Wt=Math.max(0,lt-ht.length+1);Wt<=It;Wt++){var Qt=lt-Wt|0;_t=ht.words[Qt]|0,xt=st.words[Wt]|0,vt=_t*xt+jt,wt+=vt/67108864|0,jt=vt&67108863}dt.words[lt]=jt|0,gt=wt|0}return gt!==0?dt.words[lt]=gt|0:dt.length--,dt._strip()}var $t=function(st,dt,mt){var _t=st.words,xt=dt.words,vt=mt.words,Mt=0,gt,lt,wt,jt=_t[0]|0,It=jt&8191,Wt=jt>>>13,Qt=_t[1]|0,Gt=Qt&8191,er=Qt>>>13,hr=_t[2]|0,Vt=hr&8191,Kt=hr>>>13,lr=_t[3]|0,ir=lr&8191,ur=lr>>>13,Xt=_t[4]|0,Ft=Xt&8191,Ut=Xt>>>13,Yt=_t[5]|0,rr=Yt&8191,ar=Yt>>>13,br=_t[6]|0,dr=br&8191,pr=br>>>13,Lr=_t[7]|0,mr=Lr&8191,zt=Lr>>>13,Lt=_t[8]|0,Bt=Lt&8191,Jt=Lt>>>13,cr=_t[9]|0,nr=cr&8191,sr=cr>>>13,Fr=xt[0]|0,vr=Fr&8191,gr=Fr>>>13,Dr=xt[1]|0,yr=Dr&8191,Sr=Dr>>>13,Vr=xt[2]|0,Tr=Vr&8191,wr=Vr>>>13,Zr=xt[3]|0,Cr=Zr&8191,Ar=Zr>>>13,Kr=xt[4]|0,Mr=Kr&8191,$r=Kr>>>13,Gr=xt[5]|0,Rr=Gr&8191,_r=Gr>>>13,Ur=xt[6]|0,xr=Ur&8191,Er=Ur>>>13,Qr=xt[7]|0,kr=Qr&8191,Ir=Qr>>>13,Yr=xt[8]|0,Pr=Yr&8191,Nr=Yr>>>13,Jr=xt[9]|0,Or=Jr&8191,Br=Jr>>>13;mt.negative=st.negative^dt.negative,mt.length=19,gt=Math.imul(It,vr),lt=Math.imul(It,gr),lt=lt+Math.imul(Wt,vr)|0,wt=Math.imul(Wt,gr);var jr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(jr>>>26)|0,jr&=67108863,gt=Math.imul(Gt,vr),lt=Math.imul(Gt,gr),lt=lt+Math.imul(er,vr)|0,wt=Math.imul(er,gr),gt=gt+Math.imul(It,yr)|0,lt=lt+Math.imul(It,Sr)|0,lt=lt+Math.imul(Wt,yr)|0,wt=wt+Math.imul(Wt,Sr)|0;var Wr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,gt=Math.imul(Vt,vr),lt=Math.imul(Vt,gr),lt=lt+Math.imul(Kt,vr)|0,wt=Math.imul(Kt,gr),gt=gt+Math.imul(Gt,yr)|0,lt=lt+Math.imul(Gt,Sr)|0,lt=lt+Math.imul(er,yr)|0,wt=wt+Math.imul(er,Sr)|0,gt=gt+Math.imul(It,Tr)|0,lt=lt+Math.imul(It,wr)|0,lt=lt+Math.imul(Wt,Tr)|0,wt=wt+Math.imul(Wt,wr)|0;var Hr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,gt=Math.imul(ir,vr),lt=Math.imul(ir,gr),lt=lt+Math.imul(ur,vr)|0,wt=Math.imul(ur,gr),gt=gt+Math.imul(Vt,yr)|0,lt=lt+Math.imul(Vt,Sr)|0,lt=lt+Math.imul(Kt,yr)|0,wt=wt+Math.imul(Kt,Sr)|0,gt=gt+Math.imul(Gt,Tr)|0,lt=lt+Math.imul(Gt,wr)|0,lt=lt+Math.imul(er,Tr)|0,wt=wt+Math.imul(er,wr)|0,gt=gt+Math.imul(It,Cr)|0,lt=lt+Math.imul(It,Ar)|0,lt=lt+Math.imul(Wt,Cr)|0,wt=wt+Math.imul(Wt,Ar)|0;var zr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(zr>>>26)|0,zr&=67108863,gt=Math.imul(Ft,vr),lt=Math.imul(Ft,gr),lt=lt+Math.imul(Ut,vr)|0,wt=Math.imul(Ut,gr),gt=gt+Math.imul(ir,yr)|0,lt=lt+Math.imul(ir,Sr)|0,lt=lt+Math.imul(ur,yr)|0,wt=wt+Math.imul(ur,Sr)|0,gt=gt+Math.imul(Vt,Tr)|0,lt=lt+Math.imul(Vt,wr)|0,lt=lt+Math.imul(Kt,Tr)|0,wt=wt+Math.imul(Kt,wr)|0,gt=gt+Math.imul(Gt,Cr)|0,lt=lt+Math.imul(Gt,Ar)|0,lt=lt+Math.imul(er,Cr)|0,wt=wt+Math.imul(er,Ar)|0,gt=gt+Math.imul(It,Mr)|0,lt=lt+Math.imul(It,$r)|0,lt=lt+Math.imul(Wt,Mr)|0,wt=wt+Math.imul(Wt,$r)|0;var qr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(qr>>>26)|0,qr&=67108863,gt=Math.imul(rr,vr),lt=Math.imul(rr,gr),lt=lt+Math.imul(ar,vr)|0,wt=Math.imul(ar,gr),gt=gt+Math.imul(Ft,yr)|0,lt=lt+Math.imul(Ft,Sr)|0,lt=lt+Math.imul(Ut,yr)|0,wt=wt+Math.imul(Ut,Sr)|0,gt=gt+Math.imul(ir,Tr)|0,lt=lt+Math.imul(ir,wr)|0,lt=lt+Math.imul(ur,Tr)|0,wt=wt+Math.imul(ur,wr)|0,gt=gt+Math.imul(Vt,Cr)|0,lt=lt+Math.imul(Vt,Ar)|0,lt=lt+Math.imul(Kt,Cr)|0,wt=wt+Math.imul(Kt,Ar)|0,gt=gt+Math.imul(Gt,Mr)|0,lt=lt+Math.imul(Gt,$r)|0,lt=lt+Math.imul(er,Mr)|0,wt=wt+Math.imul(er,$r)|0,gt=gt+Math.imul(It,Rr)|0,lt=lt+Math.imul(It,_r)|0,lt=lt+Math.imul(Wt,Rr)|0,wt=wt+Math.imul(Wt,_r)|0;var Xr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,gt=Math.imul(dr,vr),lt=Math.imul(dr,gr),lt=lt+Math.imul(pr,vr)|0,wt=Math.imul(pr,gr),gt=gt+Math.imul(rr,yr)|0,lt=lt+Math.imul(rr,Sr)|0,lt=lt+Math.imul(ar,yr)|0,wt=wt+Math.imul(ar,Sr)|0,gt=gt+Math.imul(Ft,Tr)|0,lt=lt+Math.imul(Ft,wr)|0,lt=lt+Math.imul(Ut,Tr)|0,wt=wt+Math.imul(Ut,wr)|0,gt=gt+Math.imul(ir,Cr)|0,lt=lt+Math.imul(ir,Ar)|0,lt=lt+Math.imul(ur,Cr)|0,wt=wt+Math.imul(ur,Ar)|0,gt=gt+Math.imul(Vt,Mr)|0,lt=lt+Math.imul(Vt,$r)|0,lt=lt+Math.imul(Kt,Mr)|0,wt=wt+Math.imul(Kt,$r)|0,gt=gt+Math.imul(Gt,Rr)|0,lt=lt+Math.imul(Gt,_r)|0,lt=lt+Math.imul(er,Rr)|0,wt=wt+Math.imul(er,_r)|0,gt=gt+Math.imul(It,xr)|0,lt=lt+Math.imul(It,Er)|0,lt=lt+Math.imul(Wt,xr)|0,wt=wt+Math.imul(Wt,Er)|0;var tn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(tn>>>26)|0,tn&=67108863,gt=Math.imul(mr,vr),lt=Math.imul(mr,gr),lt=lt+Math.imul(zt,vr)|0,wt=Math.imul(zt,gr),gt=gt+Math.imul(dr,yr)|0,lt=lt+Math.imul(dr,Sr)|0,lt=lt+Math.imul(pr,yr)|0,wt=wt+Math.imul(pr,Sr)|0,gt=gt+Math.imul(rr,Tr)|0,lt=lt+Math.imul(rr,wr)|0,lt=lt+Math.imul(ar,Tr)|0,wt=wt+Math.imul(ar,wr)|0,gt=gt+Math.imul(Ft,Cr)|0,lt=lt+Math.imul(Ft,Ar)|0,lt=lt+Math.imul(Ut,Cr)|0,wt=wt+Math.imul(Ut,Ar)|0,gt=gt+Math.imul(ir,Mr)|0,lt=lt+Math.imul(ir,$r)|0,lt=lt+Math.imul(ur,Mr)|0,wt=wt+Math.imul(ur,$r)|0,gt=gt+Math.imul(Vt,Rr)|0,lt=lt+Math.imul(Vt,_r)|0,lt=lt+Math.imul(Kt,Rr)|0,wt=wt+Math.imul(Kt,_r)|0,gt=gt+Math.imul(Gt,xr)|0,lt=lt+Math.imul(Gt,Er)|0,lt=lt+Math.imul(er,xr)|0,wt=wt+Math.imul(er,Er)|0,gt=gt+Math.imul(It,kr)|0,lt=lt+Math.imul(It,Ir)|0,lt=lt+Math.imul(Wt,kr)|0,wt=wt+Math.imul(Wt,Ir)|0;var rn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(rn>>>26)|0,rn&=67108863,gt=Math.imul(Bt,vr),lt=Math.imul(Bt,gr),lt=lt+Math.imul(Jt,vr)|0,wt=Math.imul(Jt,gr),gt=gt+Math.imul(mr,yr)|0,lt=lt+Math.imul(mr,Sr)|0,lt=lt+Math.imul(zt,yr)|0,wt=wt+Math.imul(zt,Sr)|0,gt=gt+Math.imul(dr,Tr)|0,lt=lt+Math.imul(dr,wr)|0,lt=lt+Math.imul(pr,Tr)|0,wt=wt+Math.imul(pr,wr)|0,gt=gt+Math.imul(rr,Cr)|0,lt=lt+Math.imul(rr,Ar)|0,lt=lt+Math.imul(ar,Cr)|0,wt=wt+Math.imul(ar,Ar)|0,gt=gt+Math.imul(Ft,Mr)|0,lt=lt+Math.imul(Ft,$r)|0,lt=lt+Math.imul(Ut,Mr)|0,wt=wt+Math.imul(Ut,$r)|0,gt=gt+Math.imul(ir,Rr)|0,lt=lt+Math.imul(ir,_r)|0,lt=lt+Math.imul(ur,Rr)|0,wt=wt+Math.imul(ur,_r)|0,gt=gt+Math.imul(Vt,xr)|0,lt=lt+Math.imul(Vt,Er)|0,lt=lt+Math.imul(Kt,xr)|0,wt=wt+Math.imul(Kt,Er)|0,gt=gt+Math.imul(Gt,kr)|0,lt=lt+Math.imul(Gt,Ir)|0,lt=lt+Math.imul(er,kr)|0,wt=wt+Math.imul(er,Ir)|0,gt=gt+Math.imul(It,Pr)|0,lt=lt+Math.imul(It,Nr)|0,lt=lt+Math.imul(Wt,Pr)|0,wt=wt+Math.imul(Wt,Nr)|0;var nn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(nn>>>26)|0,nn&=67108863,gt=Math.imul(nr,vr),lt=Math.imul(nr,gr),lt=lt+Math.imul(sr,vr)|0,wt=Math.imul(sr,gr),gt=gt+Math.imul(Bt,yr)|0,lt=lt+Math.imul(Bt,Sr)|0,lt=lt+Math.imul(Jt,yr)|0,wt=wt+Math.imul(Jt,Sr)|0,gt=gt+Math.imul(mr,Tr)|0,lt=lt+Math.imul(mr,wr)|0,lt=lt+Math.imul(zt,Tr)|0,wt=wt+Math.imul(zt,wr)|0,gt=gt+Math.imul(dr,Cr)|0,lt=lt+Math.imul(dr,Ar)|0,lt=lt+Math.imul(pr,Cr)|0,wt=wt+Math.imul(pr,Ar)|0,gt=gt+Math.imul(rr,Mr)|0,lt=lt+Math.imul(rr,$r)|0,lt=lt+Math.imul(ar,Mr)|0,wt=wt+Math.imul(ar,$r)|0,gt=gt+Math.imul(Ft,Rr)|0,lt=lt+Math.imul(Ft,_r)|0,lt=lt+Math.imul(Ut,Rr)|0,wt=wt+Math.imul(Ut,_r)|0,gt=gt+Math.imul(ir,xr)|0,lt=lt+Math.imul(ir,Er)|0,lt=lt+Math.imul(ur,xr)|0,wt=wt+Math.imul(ur,Er)|0,gt=gt+Math.imul(Vt,kr)|0,lt=lt+Math.imul(Vt,Ir)|0,lt=lt+Math.imul(Kt,kr)|0,wt=wt+Math.imul(Kt,Ir)|0,gt=gt+Math.imul(Gt,Pr)|0,lt=lt+Math.imul(Gt,Nr)|0,lt=lt+Math.imul(er,Pr)|0,wt=wt+Math.imul(er,Nr)|0,gt=gt+Math.imul(It,Or)|0,lt=lt+Math.imul(It,Br)|0,lt=lt+Math.imul(Wt,Or)|0,wt=wt+Math.imul(Wt,Br)|0;var an=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(an>>>26)|0,an&=67108863,gt=Math.imul(nr,yr),lt=Math.imul(nr,Sr),lt=lt+Math.imul(sr,yr)|0,wt=Math.imul(sr,Sr),gt=gt+Math.imul(Bt,Tr)|0,lt=lt+Math.imul(Bt,wr)|0,lt=lt+Math.imul(Jt,Tr)|0,wt=wt+Math.imul(Jt,wr)|0,gt=gt+Math.imul(mr,Cr)|0,lt=lt+Math.imul(mr,Ar)|0,lt=lt+Math.imul(zt,Cr)|0,wt=wt+Math.imul(zt,Ar)|0,gt=gt+Math.imul(dr,Mr)|0,lt=lt+Math.imul(dr,$r)|0,lt=lt+Math.imul(pr,Mr)|0,wt=wt+Math.imul(pr,$r)|0,gt=gt+Math.imul(rr,Rr)|0,lt=lt+Math.imul(rr,_r)|0,lt=lt+Math.imul(ar,Rr)|0,wt=wt+Math.imul(ar,_r)|0,gt=gt+Math.imul(Ft,xr)|0,lt=lt+Math.imul(Ft,Er)|0,lt=lt+Math.imul(Ut,xr)|0,wt=wt+Math.imul(Ut,Er)|0,gt=gt+Math.imul(ir,kr)|0,lt=lt+Math.imul(ir,Ir)|0,lt=lt+Math.imul(ur,kr)|0,wt=wt+Math.imul(ur,Ir)|0,gt=gt+Math.imul(Vt,Pr)|0,lt=lt+Math.imul(Vt,Nr)|0,lt=lt+Math.imul(Kt,Pr)|0,wt=wt+Math.imul(Kt,Nr)|0,gt=gt+Math.imul(Gt,Or)|0,lt=lt+Math.imul(Gt,Br)|0,lt=lt+Math.imul(er,Or)|0,wt=wt+Math.imul(er,Br)|0;var on=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(on>>>26)|0,on&=67108863,gt=Math.imul(nr,Tr),lt=Math.imul(nr,wr),lt=lt+Math.imul(sr,Tr)|0,wt=Math.imul(sr,wr),gt=gt+Math.imul(Bt,Cr)|0,lt=lt+Math.imul(Bt,Ar)|0,lt=lt+Math.imul(Jt,Cr)|0,wt=wt+Math.imul(Jt,Ar)|0,gt=gt+Math.imul(mr,Mr)|0,lt=lt+Math.imul(mr,$r)|0,lt=lt+Math.imul(zt,Mr)|0,wt=wt+Math.imul(zt,$r)|0,gt=gt+Math.imul(dr,Rr)|0,lt=lt+Math.imul(dr,_r)|0,lt=lt+Math.imul(pr,Rr)|0,wt=wt+Math.imul(pr,_r)|0,gt=gt+Math.imul(rr,xr)|0,lt=lt+Math.imul(rr,Er)|0,lt=lt+Math.imul(ar,xr)|0,wt=wt+Math.imul(ar,Er)|0,gt=gt+Math.imul(Ft,kr)|0,lt=lt+Math.imul(Ft,Ir)|0,lt=lt+Math.imul(Ut,kr)|0,wt=wt+Math.imul(Ut,Ir)|0,gt=gt+Math.imul(ir,Pr)|0,lt=lt+Math.imul(ir,Nr)|0,lt=lt+Math.imul(ur,Pr)|0,wt=wt+Math.imul(ur,Nr)|0,gt=gt+Math.imul(Vt,Or)|0,lt=lt+Math.imul(Vt,Br)|0,lt=lt+Math.imul(Kt,Or)|0,wt=wt+Math.imul(Kt,Br)|0;var sn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(sn>>>26)|0,sn&=67108863,gt=Math.imul(nr,Cr),lt=Math.imul(nr,Ar),lt=lt+Math.imul(sr,Cr)|0,wt=Math.imul(sr,Ar),gt=gt+Math.imul(Bt,Mr)|0,lt=lt+Math.imul(Bt,$r)|0,lt=lt+Math.imul(Jt,Mr)|0,wt=wt+Math.imul(Jt,$r)|0,gt=gt+Math.imul(mr,Rr)|0,lt=lt+Math.imul(mr,_r)|0,lt=lt+Math.imul(zt,Rr)|0,wt=wt+Math.imul(zt,_r)|0,gt=gt+Math.imul(dr,xr)|0,lt=lt+Math.imul(dr,Er)|0,lt=lt+Math.imul(pr,xr)|0,wt=wt+Math.imul(pr,Er)|0,gt=gt+Math.imul(rr,kr)|0,lt=lt+Math.imul(rr,Ir)|0,lt=lt+Math.imul(ar,kr)|0,wt=wt+Math.imul(ar,Ir)|0,gt=gt+Math.imul(Ft,Pr)|0,lt=lt+Math.imul(Ft,Nr)|0,lt=lt+Math.imul(Ut,Pr)|0,wt=wt+Math.imul(Ut,Nr)|0,gt=gt+Math.imul(ir,Or)|0,lt=lt+Math.imul(ir,Br)|0,lt=lt+Math.imul(ur,Or)|0,wt=wt+Math.imul(ur,Br)|0;var cn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(cn>>>26)|0,cn&=67108863,gt=Math.imul(nr,Mr),lt=Math.imul(nr,$r),lt=lt+Math.imul(sr,Mr)|0,wt=Math.imul(sr,$r),gt=gt+Math.imul(Bt,Rr)|0,lt=lt+Math.imul(Bt,_r)|0,lt=lt+Math.imul(Jt,Rr)|0,wt=wt+Math.imul(Jt,_r)|0,gt=gt+Math.imul(mr,xr)|0,lt=lt+Math.imul(mr,Er)|0,lt=lt+Math.imul(zt,xr)|0,wt=wt+Math.imul(zt,Er)|0,gt=gt+Math.imul(dr,kr)|0,lt=lt+Math.imul(dr,Ir)|0,lt=lt+Math.imul(pr,kr)|0,wt=wt+Math.imul(pr,Ir)|0,gt=gt+Math.imul(rr,Pr)|0,lt=lt+Math.imul(rr,Nr)|0,lt=lt+Math.imul(ar,Pr)|0,wt=wt+Math.imul(ar,Nr)|0,gt=gt+Math.imul(Ft,Or)|0,lt=lt+Math.imul(Ft,Br)|0,lt=lt+Math.imul(Ut,Or)|0,wt=wt+Math.imul(Ut,Br)|0;var ln=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(ln>>>26)|0,ln&=67108863,gt=Math.imul(nr,Rr),lt=Math.imul(nr,_r),lt=lt+Math.imul(sr,Rr)|0,wt=Math.imul(sr,_r),gt=gt+Math.imul(Bt,xr)|0,lt=lt+Math.imul(Bt,Er)|0,lt=lt+Math.imul(Jt,xr)|0,wt=wt+Math.imul(Jt,Er)|0,gt=gt+Math.imul(mr,kr)|0,lt=lt+Math.imul(mr,Ir)|0,lt=lt+Math.imul(zt,kr)|0,wt=wt+Math.imul(zt,Ir)|0,gt=gt+Math.imul(dr,Pr)|0,lt=lt+Math.imul(dr,Nr)|0,lt=lt+Math.imul(pr,Pr)|0,wt=wt+Math.imul(pr,Nr)|0,gt=gt+Math.imul(rr,Or)|0,lt=lt+Math.imul(rr,Br)|0,lt=lt+Math.imul(ar,Or)|0,wt=wt+Math.imul(ar,Br)|0;var un=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(un>>>26)|0,un&=67108863,gt=Math.imul(nr,xr),lt=Math.imul(nr,Er),lt=lt+Math.imul(sr,xr)|0,wt=Math.imul(sr,Er),gt=gt+Math.imul(Bt,kr)|0,lt=lt+Math.imul(Bt,Ir)|0,lt=lt+Math.imul(Jt,kr)|0,wt=wt+Math.imul(Jt,Ir)|0,gt=gt+Math.imul(mr,Pr)|0,lt=lt+Math.imul(mr,Nr)|0,lt=lt+Math.imul(zt,Pr)|0,wt=wt+Math.imul(zt,Nr)|0,gt=gt+Math.imul(dr,Or)|0,lt=lt+Math.imul(dr,Br)|0,lt=lt+Math.imul(pr,Or)|0,wt=wt+Math.imul(pr,Br)|0;var dn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(dn>>>26)|0,dn&=67108863,gt=Math.imul(nr,kr),lt=Math.imul(nr,Ir),lt=lt+Math.imul(sr,kr)|0,wt=Math.imul(sr,Ir),gt=gt+Math.imul(Bt,Pr)|0,lt=lt+Math.imul(Bt,Nr)|0,lt=lt+Math.imul(Jt,Pr)|0,wt=wt+Math.imul(Jt,Nr)|0,gt=gt+Math.imul(mr,Or)|0,lt=lt+Math.imul(mr,Br)|0,lt=lt+Math.imul(zt,Or)|0,wt=wt+Math.imul(zt,Br)|0;var fn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(fn>>>26)|0,fn&=67108863,gt=Math.imul(nr,Pr),lt=Math.imul(nr,Nr),lt=lt+Math.imul(sr,Pr)|0,wt=Math.imul(sr,Nr),gt=gt+Math.imul(Bt,Or)|0,lt=lt+Math.imul(Bt,Br)|0,lt=lt+Math.imul(Jt,Or)|0,wt=wt+Math.imul(Jt,Br)|0;var hn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,gt=Math.imul(nr,Or),lt=Math.imul(nr,Br),lt=lt+Math.imul(sr,Or)|0,wt=Math.imul(sr,Br);var pn=(Mt+gt|0)+((lt&8191)<<13)|0;return Mt=(wt+(lt>>>13)|0)+(pn>>>26)|0,pn&=67108863,vt[0]=jr,vt[1]=Wr,vt[2]=Hr,vt[3]=zr,vt[4]=qr,vt[5]=Xr,vt[6]=tn,vt[7]=rn,vt[8]=nn,vt[9]=an,vt[10]=on,vt[11]=sn,vt[12]=cn,vt[13]=ln,vt[14]=un,vt[15]=dn,vt[16]=fn,vt[17]=hn,vt[18]=pn,Mt!==0&&(vt[19]=Mt,mt.length++),mt};Math.imul||($t=Tt);function kt(ht,st,dt){dt.negative=st.negative^ht.negative,dt.length=ht.length+st.length;for(var mt=0,_t=0,xt=0;xt<dt.length-1;xt++){var vt=_t;_t=0;for(var Mt=mt&67108863,gt=Math.min(xt,st.length-1),lt=Math.max(0,xt-ht.length+1);lt<=gt;lt++){var wt=xt-lt,jt=ht.words[wt]|0,It=st.words[lt]|0,Wt=jt*It,Qt=Wt&67108863;vt=vt+(Wt/67108864|0)|0,Qt=Qt+Mt|0,Mt=Qt&67108863,vt=vt+(Qt>>>26)|0,_t+=vt>>>26,vt&=67108863}dt.words[xt]=Mt,mt=vt,vt=_t}return mt!==0?dt.words[xt]=mt:dt.length--,dt._strip()}function Pt(ht,st,dt){return kt(ht,st,dt)}it.prototype.mulTo=function(st,dt){var mt,_t=this.length+st.length;return this.length===10&&st.length===10?mt=$t(this,st,dt):_t<63?mt=Tt(this,st,dt):_t<1024?mt=kt(this,st,dt):mt=Pt(this,st,dt),mt},it.prototype.mul=function(st){var dt=new it(null);return dt.words=new Array(this.length+st.length),this.mulTo(st,dt)},it.prototype.mulf=function(st){var dt=new it(null);return dt.words=new Array(this.length+st.length),Pt(this,st,dt)},it.prototype.imul=function(st){return this.clone().mulTo(st,this)},it.prototype.imuln=function(st){var dt=st<0;dt&&(st=-st),rt(typeof st=="number"),rt(st<67108864);for(var mt=0,_t=0;_t<this.length;_t++){var xt=(this.words[_t]|0)*st,vt=(xt&67108863)+(mt&67108863);mt>>=26,mt+=xt/67108864|0,mt+=vt>>>26,this.words[_t]=vt&67108863}return mt!==0&&(this.words[_t]=mt,this.length++),dt?this.ineg():this},it.prototype.muln=function(st){return this.clone().imuln(st)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(st){var dt=St(st);if(dt.length===0)return new it(1);for(var mt=this,_t=0;_t<dt.length&&dt[_t]===0;_t++,mt=mt.sqr());if(++_t<dt.length)for(var xt=mt.sqr();_t<dt.length;_t++,xt=xt.sqr())dt[_t]!==0&&(mt=mt.mul(xt));return mt},it.prototype.iushln=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26,_t=67108863>>>26-dt<<26-dt,xt;if(dt!==0){var vt=0;for(xt=0;xt<this.length;xt++){var Mt=this.words[xt]&_t,gt=(this.words[xt]|0)-Mt<<dt;this.words[xt]=gt|vt,vt=Mt>>>26-dt}vt&&(this.words[xt]=vt,this.length++)}if(mt!==0){for(xt=this.length-1;xt>=0;xt--)this.words[xt+mt]=this.words[xt];for(xt=0;xt<mt;xt++)this.words[xt]=0;this.length+=mt}return this._strip()},it.prototype.ishln=function(st){return rt(this.negative===0),this.iushln(st)},it.prototype.iushrn=function(st,dt,mt){rt(typeof st=="number"&&st>=0);var _t;dt?_t=(dt-dt%26)/26:_t=0;var xt=st%26,vt=Math.min((st-xt)/26,this.length),Mt=67108863^67108863>>>xt<<xt,gt=mt;if(_t-=vt,_t=Math.max(0,_t),gt){for(var lt=0;lt<vt;lt++)gt.words[lt]=this.words[lt];gt.length=vt}if(vt!==0)if(this.length>vt)for(this.length-=vt,lt=0;lt<this.length;lt++)this.words[lt]=this.words[lt+vt];else this.words[0]=0,this.length=1;var wt=0;for(lt=this.length-1;lt>=0&&(wt!==0||lt>=_t);lt--){var jt=this.words[lt]|0;this.words[lt]=wt<<26-xt|jt>>>xt,wt=jt&Mt}return gt&&wt!==0&&(gt.words[gt.length++]=wt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(st,dt,mt){return rt(this.negative===0),this.iushrn(st,dt,mt)},it.prototype.shln=function(st){return this.clone().ishln(st)},it.prototype.ushln=function(st){return this.clone().iushln(st)},it.prototype.shrn=function(st){return this.clone().ishrn(st)},it.prototype.ushrn=function(st){return this.clone().iushrn(st)},it.prototype.testn=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26,_t=1<<dt;if(this.length<=mt)return!1;var xt=this.words[mt];return!!(xt&_t)},it.prototype.imaskn=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var _t=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=_t}return this._strip()},it.prototype.maskn=function(st){return this.clone().imaskn(st)},it.prototype.iaddn=function(st){return rt(typeof st=="number"),rt(st<67108864),st<0?this.isubn(-st):this.negative!==0?this.length===1&&(this.words[0]|0)<=st?(this.words[0]=st-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(st),this.negative=1,this):this._iaddn(st)},it.prototype._iaddn=function(st){this.words[0]+=st;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(st){if(rt(typeof st=="number"),rt(st<67108864),st<0)return this.iaddn(-st);if(this.negative!==0)return this.negative=0,this.iaddn(st),this.negative=1,this;if(this.words[0]-=st,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},it.prototype.addn=function(st){return this.clone().iaddn(st)},it.prototype.subn=function(st){return this.clone().isubn(st)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(st,dt,mt){var _t=st.length+mt,xt;this._expand(_t);var vt,Mt=0;for(xt=0;xt<st.length;xt++){vt=(this.words[xt+mt]|0)+Mt;var gt=(st.words[xt]|0)*dt;vt-=gt&67108863,Mt=(vt>>26)-(gt/67108864|0),this.words[xt+mt]=vt&67108863}for(;xt<this.length-mt;xt++)vt=(this.words[xt+mt]|0)+Mt,Mt=vt>>26,this.words[xt+mt]=vt&67108863;if(Mt===0)return this._strip();for(rt(Mt===-1),Mt=0,xt=0;xt<this.length;xt++)vt=-(this.words[xt]|0)+Mt,Mt=vt>>26,this.words[xt]=vt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(st,dt){var mt=this.length-st.length,_t=this.clone(),xt=st,vt=xt.words[xt.length-1]|0,Mt=this._countBits(vt);mt=26-Mt,mt!==0&&(xt=xt.ushln(mt),_t.iushln(mt),vt=xt.words[xt.length-1]|0);var gt=_t.length-xt.length,lt;if(dt!=="mod"){lt=new it(null),lt.length=gt+1,lt.words=new Array(lt.length);for(var wt=0;wt<lt.length;wt++)lt.words[wt]=0}var jt=_t.clone()._ishlnsubmul(xt,1,gt);jt.negative===0&&(_t=jt,lt&&(lt.words[gt]=1));for(var It=gt-1;It>=0;It--){var Wt=(_t.words[xt.length+It]|0)*67108864+(_t.words[xt.length+It-1]|0);for(Wt=Math.min(Wt/vt|0,67108863),_t._ishlnsubmul(xt,Wt,It);_t.negative!==0;)Wt--,_t.negative=0,_t._ishlnsubmul(xt,1,It),_t.isZero()||(_t.negative^=1);lt&&(lt.words[It]=Wt)}return lt&&lt._strip(),_t._strip(),dt!=="div"&&mt!==0&&_t.iushrn(mt),{div:lt||null,mod:_t}},it.prototype.divmod=function(st,dt,mt){if(rt(!st.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var _t,xt,vt;return this.negative!==0&&st.negative===0?(vt=this.neg().divmod(st,dt),dt!=="mod"&&(_t=vt.div.neg()),dt!=="div"&&(xt=vt.mod.neg(),mt&&xt.negative!==0&&xt.iadd(st)),{div:_t,mod:xt}):this.negative===0&&st.negative!==0?(vt=this.divmod(st.neg(),dt),dt!=="mod"&&(_t=vt.div.neg()),{div:_t,mod:vt.mod}):(this.negative&st.negative)!==0?(vt=this.neg().divmod(st.neg(),dt),dt!=="div"&&(xt=vt.mod.neg(),mt&&xt.negative!==0&&xt.isub(st)),{div:vt.div,mod:xt}):st.length>this.length||this.cmp(st)<0?{div:new it(0),mod:this}:st.length===1?dt==="div"?{div:this.divn(st.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modrn(st.words[0]))}:{div:this.divn(st.words[0]),mod:new it(this.modrn(st.words[0]))}:this._wordDiv(st,dt)},it.prototype.div=function(st){return this.divmod(st,"div",!1).div},it.prototype.mod=function(st){return this.divmod(st,"mod",!1).mod},it.prototype.umod=function(st){return this.divmod(st,"mod",!0).mod},it.prototype.divRound=function(st){var dt=this.divmod(st);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(st):dt.mod,_t=st.ushrn(1),xt=st.andln(1),vt=mt.cmp(_t);return vt<0||xt===1&&vt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modrn=function(st){var dt=st<0;dt&&(st=-st),rt(st<=67108863);for(var mt=(1<<26)%st,_t=0,xt=this.length-1;xt>=0;xt--)_t=(mt*_t+(this.words[xt]|0))%st;return dt?-_t:_t},it.prototype.modn=function(st){return this.modrn(st)},it.prototype.idivn=function(st){var dt=st<0;dt&&(st=-st),rt(st<=67108863);for(var mt=0,_t=this.length-1;_t>=0;_t--){var xt=(this.words[_t]|0)+mt*67108864;this.words[_t]=xt/st|0,mt=xt%st}return this._strip(),dt?this.ineg():this},it.prototype.divn=function(st){return this.clone().idivn(st)},it.prototype.egcd=function(st){rt(st.negative===0),rt(!st.isZero());var dt=this,mt=st.clone();dt.negative!==0?dt=dt.umod(st):dt=dt.clone();for(var _t=new it(1),xt=new it(0),vt=new it(0),Mt=new it(1),gt=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++gt;for(var lt=mt.clone(),wt=dt.clone();!dt.isZero();){for(var jt=0,It=1;(dt.words[0]&It)===0&&jt<26;++jt,It<<=1);if(jt>0)for(dt.iushrn(jt);jt-- >0;)(_t.isOdd()||xt.isOdd())&&(_t.iadd(lt),xt.isub(wt)),_t.iushrn(1),xt.iushrn(1);for(var Wt=0,Qt=1;(mt.words[0]&Qt)===0&&Wt<26;++Wt,Qt<<=1);if(Wt>0)for(mt.iushrn(Wt);Wt-- >0;)(vt.isOdd()||Mt.isOdd())&&(vt.iadd(lt),Mt.isub(wt)),vt.iushrn(1),Mt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),_t.isub(vt),xt.isub(Mt)):(mt.isub(dt),vt.isub(_t),Mt.isub(xt))}return{a:vt,b:Mt,gcd:mt.iushln(gt)}},it.prototype._invmp=function(st){rt(st.negative===0),rt(!st.isZero());var dt=this,mt=st.clone();dt.negative!==0?dt=dt.umod(st):dt=dt.clone();for(var _t=new it(1),xt=new it(0),vt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var Mt=0,gt=1;(dt.words[0]&gt)===0&&Mt<26;++Mt,gt<<=1);if(Mt>0)for(dt.iushrn(Mt);Mt-- >0;)_t.isOdd()&&_t.iadd(vt),_t.iushrn(1);for(var lt=0,wt=1;(mt.words[0]&wt)===0&&lt<26;++lt,wt<<=1);if(lt>0)for(mt.iushrn(lt);lt-- >0;)xt.isOdd()&&xt.iadd(vt),xt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),_t.isub(xt)):(mt.isub(dt),xt.isub(_t))}var jt;return dt.cmpn(1)===0?jt=_t:jt=xt,jt.cmpn(0)<0&&jt.iadd(st),jt},it.prototype.gcd=function(st){if(this.isZero())return st.abs();if(st.isZero())return this.abs();var dt=this.clone(),mt=st.clone();dt.negative=0,mt.negative=0;for(var _t=0;dt.isEven()&&mt.isEven();_t++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var xt=dt.cmp(mt);if(xt<0){var vt=dt;dt=mt,mt=vt}else if(xt===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(_t)},it.prototype.invm=function(st){return this.egcd(st).a.umod(st)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(st){return this.words[0]&st},it.prototype.bincn=function(st){rt(typeof st=="number");var dt=st%26,mt=(st-dt)/26,_t=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=_t,this;for(var xt=_t,vt=mt;xt!==0&&vt<this.length;vt++){var Mt=this.words[vt]|0;Mt+=xt,xt=Mt>>>26,Mt&=67108863,this.words[vt]=Mt}return xt!==0&&(this.words[vt]=xt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(st){var dt=st<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(st=-st),rt(st<=67108863,"Number is too big");var _t=this.words[0]|0;mt=_t===st?0:_t<st?-1:1}return this.negative!==0?-mt|0:mt},it.prototype.cmp=function(st){if(this.negative!==0&&st.negative===0)return-1;if(this.negative===0&&st.negative!==0)return 1;var dt=this.ucmp(st);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(st){if(this.length>st.length)return 1;if(this.length<st.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var _t=this.words[mt]|0,xt=st.words[mt]|0;if(_t!==xt){_t<xt?dt=-1:_t>xt&&(dt=1);break}}return dt},it.prototype.gtn=function(st){return this.cmpn(st)===1},it.prototype.gt=function(st){return this.cmp(st)===1},it.prototype.gten=function(st){return this.cmpn(st)>=0},it.prototype.gte=function(st){return this.cmp(st)>=0},it.prototype.ltn=function(st){return this.cmpn(st)===-1},it.prototype.lt=function(st){return this.cmp(st)===-1},it.prototype.lten=function(st){return this.cmpn(st)<=0},it.prototype.lte=function(st){return this.cmp(st)<=0},it.prototype.eqn=function(st){return this.cmpn(st)===0},it.prototype.eq=function(st){return this.cmp(st)===0},it.red=function(st){return new Rt(st)},it.prototype.toRed=function(st){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),st.convertTo(this)._forceRed(st)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(st){return this.red=st,this},it.prototype.forceRed=function(st){return rt(!this.red,"Already a number in reduction context"),this._forceRed(st)},it.prototype.redAdd=function(st){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,st)},it.prototype.redIAdd=function(st){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,st)},it.prototype.redSub=function(st){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,st)},it.prototype.redISub=function(st){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,st)},it.prototype.redShl=function(st){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,st)},it.prototype.redMul=function(st){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,st),this.red.mul(this,st)},it.prototype.redIMul=function(st){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,st),this.red.imul(this,st)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(st){return rt(this.red&&!st.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,st)};var Ot={k256:null,p224:null,p192:null,p25519:null};function Ht(ht,st){this.name=ht,this.p=new it(st,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ht.prototype._tmp=function(){var st=new it(null);return st.words=new Array(Math.ceil(this.n/13)),st},Ht.prototype.ireduce=function(st){var dt=st,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var _t=mt<this.n?-1:dt.ucmp(this.p);return _t===0?(dt.words[0]=0,dt.length=1):_t>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Ht.prototype.split=function(st,dt){st.iushrn(this.n,0,dt)},Ht.prototype.imulK=function(st){return st.imul(this.k)};function qt(){Ht.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(qt,Ht),qt.prototype.split=function(st,dt){for(var mt=4194303,_t=Math.min(st.length,9),xt=0;xt<_t;xt++)dt.words[xt]=st.words[xt];if(dt.length=_t,st.length<=9){st.words[0]=0,st.length=1;return}var vt=st.words[9];for(dt.words[dt.length++]=vt&mt,xt=10;xt<st.length;xt++){var Mt=st.words[xt]|0;st.words[xt-10]=(Mt&mt)<<4|vt>>>22,vt=Mt}vt>>>=22,st.words[xt-10]=vt,vt===0&&st.length>10?st.length-=10:st.length-=9},qt.prototype.imulK=function(st){st.words[st.length]=0,st.words[st.length+1]=0,st.length+=2;for(var dt=0,mt=0;mt<st.length;mt++){var _t=st.words[mt]|0;dt+=_t*977,st.words[mt]=dt&67108863,dt=_t*64+(dt/67108864|0)}return st.words[st.length-1]===0&&(st.length--,st.words[st.length-1]===0&&st.length--),st};function Zt(){Ht.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Zt,Ht);function tr(){Ht.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(tr,Ht);function Dt(){Ht.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(Dt,Ht),Dt.prototype.imulK=function(st){for(var dt=0,mt=0;mt<st.length;mt++){var _t=(st.words[mt]|0)*19+dt,xt=_t&67108863;_t>>>=26,st.words[mt]=xt,dt=_t}return dt!==0&&(st.words[st.length++]=dt),st},it._prime=function(st){if(Ot[st])return Ot[st];var dt;if(st==="k256")dt=new qt;else if(st==="p224")dt=new Zt;else if(st==="p192")dt=new tr;else if(st==="p25519")dt=new Dt;else throw new Error("Unknown prime "+st);return Ot[st]=dt,dt};function Rt(ht){if(typeof ht=="string"){var st=it._prime(ht);this.m=st.p,this.prime=st}else rt(ht.gtn(1),"modulus must be greater than 1"),this.m=ht,this.prime=null}Rt.prototype._verify1=function(st){rt(st.negative===0,"red works only with positives"),rt(st.red,"red works only with red numbers")},Rt.prototype._verify2=function(st,dt){rt((st.negative|dt.negative)===0,"red works only with positives"),rt(st.red&&st.red===dt.red,"red works only with red numbers")},Rt.prototype.imod=function(st){return this.prime?this.prime.ireduce(st)._forceRed(this):(ft(st,st.umod(this.m)._forceRed(this)),st)},Rt.prototype.neg=function(st){return st.isZero()?st.clone():this.m.sub(st)._forceRed(this)},Rt.prototype.add=function(st,dt){this._verify2(st,dt);var mt=st.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},Rt.prototype.iadd=function(st,dt){this._verify2(st,dt);var mt=st.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},Rt.prototype.sub=function(st,dt){this._verify2(st,dt);var mt=st.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},Rt.prototype.isub=function(st,dt){this._verify2(st,dt);var mt=st.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},Rt.prototype.shl=function(st,dt){return this._verify1(st),this.imod(st.ushln(dt))},Rt.prototype.imul=function(st,dt){return this._verify2(st,dt),this.imod(st.imul(dt))},Rt.prototype.mul=function(st,dt){return this._verify2(st,dt),this.imod(st.mul(dt))},Rt.prototype.isqr=function(st){return this.imul(st,st.clone())},Rt.prototype.sqr=function(st){return this.mul(st,st)},Rt.prototype.sqrt=function(st){if(st.isZero())return st.clone();var dt=this.m.andln(3);if(rt(dt%2===1),dt===3){var mt=this.m.add(new it(1)).iushrn(2);return this.pow(st,mt)}for(var _t=this.m.subn(1),xt=0;!_t.isZero()&&_t.andln(1)===0;)xt++,_t.iushrn(1);rt(!_t.isZero());var vt=new it(1).toRed(this),Mt=vt.redNeg(),gt=this.m.subn(1).iushrn(1),lt=this.m.bitLength();for(lt=new it(2*lt*lt).toRed(this);this.pow(lt,gt).cmp(Mt)!==0;)lt.redIAdd(Mt);for(var wt=this.pow(lt,_t),jt=this.pow(st,_t.addn(1).iushrn(1)),It=this.pow(st,_t),Wt=xt;It.cmp(vt)!==0;){for(var Qt=It,Gt=0;Qt.cmp(vt)!==0;Gt++)Qt=Qt.redSqr();rt(Gt<Wt);var er=this.pow(wt,new it(1).iushln(Wt-Gt-1));jt=jt.redMul(er),wt=er.redSqr(),It=It.redMul(wt),Wt=Gt}return jt},Rt.prototype.invm=function(st){var dt=st._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Rt.prototype.pow=function(st,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return st.clone();var mt=4,_t=new Array(1<<mt);_t[0]=new it(1).toRed(this),_t[1]=st;for(var xt=2;xt<_t.length;xt++)_t[xt]=this.mul(_t[xt-1],st);var vt=_t[0],Mt=0,gt=0,lt=dt.bitLength()%26;for(lt===0&&(lt=26),xt=dt.length-1;xt>=0;xt--){for(var wt=dt.words[xt],jt=lt-1;jt>=0;jt--){var It=wt>>jt&1;if(vt!==_t[0]&&(vt=this.sqr(vt)),It===0&&Mt===0){gt=0;continue}Mt<<=1,Mt|=It,gt++,!(gt!==mt&&(xt!==0||jt!==0))&&(vt=this.mul(vt,_t[Mt]),gt=0,Mt=0)}lt=26}return vt},Rt.prototype.convertTo=function(st){var dt=st.umod(this.m);return dt===st?dt.clone():dt},Rt.prototype.convertFrom=function(st){var dt=st.clone();return dt.red=null,dt},it.mont=function(st){return new Nt(st)};function Nt(ht){Rt.call(this,ht),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Nt,Rt),Nt.prototype.convertTo=function(st){return this.imod(st.ushln(this.shift))},Nt.prototype.convertFrom=function(st){var dt=this.imod(st.mul(this.rinv));return dt.red=null,dt},Nt.prototype.imul=function(st,dt){if(st.isZero()||dt.isZero())return st.words[0]=0,st.length=1,st;var mt=st.imul(dt),_t=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xt=mt.isub(_t).iushrn(this.shift),vt=xt;return xt.cmp(this.m)>=0?vt=xt.isub(this.m):xt.cmpn(0)<0&&(vt=xt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.mul=function(st,dt){if(st.isZero()||dt.isZero())return new it(0)._forceRed(this);var mt=st.mul(dt),_t=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xt=mt.isub(_t).iushrn(this.shift),vt=xt;return xt.cmp(this.m)>=0?vt=xt.isub(this.m):xt.cmpn(0)<0&&(vt=xt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.invm=function(st){var dt=this.imod(st._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(et,commonjsGlobal)})(bn$3);const BN$4=bn$3.exports;var hash$1={},utils$g={},minimalisticAssert$1=assert$b;function assert$b(et,_e){if(!et)throw new Error(_e||"Assertion failed")}assert$b.equal=function(_e,tt,rt){if(_e!=tt)throw new Error(rt||"Assertion failed: "+_e+" != "+tt)};var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(_e,tt){tt&&(_e.super_=tt,_e.prototype=Object.create(tt.prototype,{constructor:{value:_e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(_e,tt){if(tt){_e.super_=tt;var rt=function(){};rt.prototype=tt.prototype,_e.prototype=new rt,_e.prototype.constructor=_e}};var assert$a=minimalisticAssert$1,inherits=inherits_browser$1.exports;utils$g.inherits=inherits;function isSurrogatePair(et,_e){return(et.charCodeAt(_e)&64512)!==55296||_e<0||_e+1>=et.length?!1:(et.charCodeAt(_e+1)&64512)===56320}function toArray$2(et,_e){if(Array.isArray(et))return et.slice();if(!et)return[];var tt=[];if(typeof et=="string")if(_e){if(_e==="hex")for(et=et.replace(/[^a-z0-9]+/ig,""),et.length%2!==0&&(et="0"+et),nt=0;nt<et.length;nt+=2)tt.push(parseInt(et[nt]+et[nt+1],16))}else for(var rt=0,nt=0;nt<et.length;nt++){var it=et.charCodeAt(nt);it<128?tt[rt++]=it:it<2048?(tt[rt++]=it>>6|192,tt[rt++]=it&63|128):isSurrogatePair(et,nt)?(it=65536+((it&1023)<<10)+(et.charCodeAt(++nt)&1023),tt[rt++]=it>>18|240,tt[rt++]=it>>12&63|128,tt[rt++]=it>>6&63|128,tt[rt++]=it&63|128):(tt[rt++]=it>>12|224,tt[rt++]=it>>6&63|128,tt[rt++]=it&63|128)}else for(nt=0;nt<et.length;nt++)tt[nt]=et[nt]|0;return tt}utils$g.toArray=toArray$2;function toHex(et){for(var _e="",tt=0;tt<et.length;tt++)_e+=zero2(et[tt].toString(16));return _e}utils$g.toHex=toHex;function htonl(et){var _e=et>>>24|et>>>8&65280|et<<8&16711680|(et&255)<<24;return _e>>>0}utils$g.htonl=htonl;function toHex32(et,_e){for(var tt="",rt=0;rt<et.length;rt++){var nt=et[rt];_e==="little"&&(nt=htonl(nt)),tt+=zero8(nt.toString(16))}return tt}utils$g.toHex32=toHex32;function zero2(et){return et.length===1?"0"+et:et}utils$g.zero2=zero2;function zero8(et){return et.length===7?"0"+et:et.length===6?"00"+et:et.length===5?"000"+et:et.length===4?"0000"+et:et.length===3?"00000"+et:et.length===2?"000000"+et:et.length===1?"0000000"+et:et}utils$g.zero8=zero8;function join32(et,_e,tt,rt){var nt=tt-_e;assert$a(nt%4===0);for(var it=new Array(nt/4),at=0,ot=_e;at<it.length;at++,ot+=4){var ct;rt==="big"?ct=et[ot]<<24|et[ot+1]<<16|et[ot+2]<<8|et[ot+3]:ct=et[ot+3]<<24|et[ot+2]<<16|et[ot+1]<<8|et[ot],it[at]=ct>>>0}return it}utils$g.join32=join32;function split32(et,_e){for(var tt=new Array(et.length*4),rt=0,nt=0;rt<et.length;rt++,nt+=4){var it=et[rt];_e==="big"?(tt[nt]=it>>>24,tt[nt+1]=it>>>16&255,tt[nt+2]=it>>>8&255,tt[nt+3]=it&255):(tt[nt+3]=it>>>24,tt[nt+2]=it>>>16&255,tt[nt+1]=it>>>8&255,tt[nt]=it&255)}return tt}utils$g.split32=split32;function rotr32$1(et,_e){return et>>>_e|et<<32-_e}utils$g.rotr32=rotr32$1;function rotl32$2(et,_e){return et<<_e|et>>>32-_e}utils$g.rotl32=rotl32$2;function sum32$3(et,_e){return et+_e>>>0}utils$g.sum32=sum32$3;function sum32_3$1(et,_e,tt){return et+_e+tt>>>0}utils$g.sum32_3=sum32_3$1;function sum32_4$2(et,_e,tt,rt){return et+_e+tt+rt>>>0}utils$g.sum32_4=sum32_4$2;function sum32_5$2(et,_e,tt,rt,nt){return et+_e+tt+rt+nt>>>0}utils$g.sum32_5=sum32_5$2;function sum64$1(et,_e,tt,rt){var nt=et[_e],it=et[_e+1],at=rt+it>>>0,ot=(at<rt?1:0)+tt+nt;et[_e]=ot>>>0,et[_e+1]=at}utils$g.sum64=sum64$1;function sum64_hi$1(et,_e,tt,rt){var nt=_e+rt>>>0,it=(nt<_e?1:0)+et+tt;return it>>>0}utils$g.sum64_hi=sum64_hi$1;function sum64_lo$1(et,_e,tt,rt){var nt=_e+rt;return nt>>>0}utils$g.sum64_lo=sum64_lo$1;function sum64_4_hi$1(et,_e,tt,rt,nt,it,at,ot){var ct=0,ut=_e;ut=ut+rt>>>0,ct+=ut<_e?1:0,ut=ut+it>>>0,ct+=ut<it?1:0,ut=ut+ot>>>0,ct+=ut<ot?1:0;var ft=et+tt+nt+at+ct;return ft>>>0}utils$g.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(et,_e,tt,rt,nt,it,at,ot){var ct=_e+rt+it+ot;return ct>>>0}utils$g.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(et,_e,tt,rt,nt,it,at,ot,ct,ut){var ft=0,yt=_e;yt=yt+rt>>>0,ft+=yt<_e?1:0,yt=yt+it>>>0,ft+=yt<it?1:0,yt=yt+ot>>>0,ft+=yt<ot?1:0,yt=yt+ut>>>0,ft+=yt<ut?1:0;var bt=et+tt+nt+at+ct+ft;return bt>>>0}utils$g.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(et,_e,tt,rt,nt,it,at,ot,ct,ut){var ft=_e+rt+it+ot+ut;return ft>>>0}utils$g.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(et,_e,tt){var rt=_e<<32-tt|et>>>tt;return rt>>>0}utils$g.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(et,_e,tt){var rt=et<<32-tt|_e>>>tt;return rt>>>0}utils$g.rotr64_lo=rotr64_lo$1;function shr64_hi$1(et,_e,tt){return et>>>tt}utils$g.shr64_hi=shr64_hi$1;function shr64_lo$1(et,_e,tt){var rt=et<<32-tt|_e>>>tt;return rt>>>0}utils$g.shr64_lo=shr64_lo$1;var common$5={},utils$f=utils$g,assert$9=minimalisticAssert$1;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(_e,tt){if(_e=utils$f.toArray(_e,tt),this.pending?this.pending=this.pending.concat(_e):this.pending=_e,this.pendingTotal+=_e.length,this.pending.length>=this._delta8){_e=this.pending;var rt=_e.length%this._delta8;this.pending=_e.slice(_e.length-rt,_e.length),this.pending.length===0&&(this.pending=null),_e=utils$f.join32(_e,0,_e.length-rt,this.endian);for(var nt=0;nt<_e.length;nt+=this._delta32)this._update(_e,nt,nt+this._delta32)}return this};BlockHash$4.prototype.digest=function(_e){return this.update(this._pad()),assert$9(this.pending===null),this._digest(_e)};BlockHash$4.prototype._pad=function(){var _e=this.pendingTotal,tt=this._delta8,rt=tt-(_e+this.padLength)%tt,nt=new Array(rt+this.padLength);nt[0]=128;for(var it=1;it<rt;it++)nt[it]=0;if(_e<<=3,this.endian==="big"){for(var at=8;at<this.padLength;at++)nt[it++]=0;nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=_e>>>24&255,nt[it++]=_e>>>16&255,nt[it++]=_e>>>8&255,nt[it++]=_e&255}else for(nt[it++]=_e&255,nt[it++]=_e>>>8&255,nt[it++]=_e>>>16&255,nt[it++]=_e>>>24&255,nt[it++]=0,nt[it++]=0,nt[it++]=0,nt[it++]=0,at=8;at<this.padLength;at++)nt[it++]=0;return nt};var sha={},common$4={},utils$e=utils$g,rotr32=utils$e.rotr32;function ft_1$1(et,_e,tt,rt){if(et===0)return ch32$1(_e,tt,rt);if(et===1||et===3)return p32(_e,tt,rt);if(et===2)return maj32$1(_e,tt,rt)}common$4.ft_1=ft_1$1;function ch32$1(et,_e,tt){return et&_e^~et&tt}common$4.ch32=ch32$1;function maj32$1(et,_e,tt){return et&_e^et&tt^_e&tt}common$4.maj32=maj32$1;function p32(et,_e,tt){return et^_e^tt}common$4.p32=p32;function s0_256$1(et){return rotr32(et,2)^rotr32(et,13)^rotr32(et,22)}common$4.s0_256=s0_256$1;function s1_256$1(et){return rotr32(et,6)^rotr32(et,11)^rotr32(et,25)}common$4.s1_256=s1_256$1;function g0_256$1(et){return rotr32(et,7)^rotr32(et,18)^et>>>3}common$4.g0_256=g0_256$1;function g1_256$1(et){return rotr32(et,17)^rotr32(et,19)^et>>>10}common$4.g1_256=g1_256$1;var utils$d=utils$g,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$d.rotl32,sum32$2=utils$d.sum32,sum32_5$1=utils$d.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$d.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(_e,tt){for(var rt=this.W,nt=0;nt<16;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt++)rt[nt]=rotl32$1(rt[nt-3]^rt[nt-8]^rt[nt-14]^rt[nt-16],1);var it=this.h[0],at=this.h[1],ot=this.h[2],ct=this.h[3],ut=this.h[4];for(nt=0;nt<rt.length;nt++){var ft=~~(nt/20),yt=sum32_5$1(rotl32$1(it,5),ft_1(ft,at,ot,ct),ut,rt[nt],sha1_K[ft]);ut=ct,ct=ot,ot=rotl32$1(at,30),at=it,it=yt}this.h[0]=sum32$2(this.h[0],it),this.h[1]=sum32$2(this.h[1],at),this.h[2]=sum32$2(this.h[2],ot),this.h[3]=sum32$2(this.h[3],ct),this.h[4]=sum32$2(this.h[4],ut)};SHA1.prototype._digest=function(_e){return _e==="hex"?utils$d.toHex32(this.h,"big"):utils$d.split32(this.h,"big")};var utils$c=utils$g,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert$1,sum32$1=utils$c.sum32,sum32_4$1=utils$c.sum32_4,sum32_5=utils$c.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$c.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(_e,tt){for(var rt=this.W,nt=0;nt<16;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt++)rt[nt]=sum32_4$1(g1_256(rt[nt-2]),rt[nt-7],g0_256(rt[nt-15]),rt[nt-16]);var it=this.h[0],at=this.h[1],ot=this.h[2],ct=this.h[3],ut=this.h[4],ft=this.h[5],yt=this.h[6],bt=this.h[7];for(assert$8(this.k.length===rt.length),nt=0;nt<rt.length;nt++){var Et=sum32_5(bt,s1_256(ut),ch32(ut,ft,yt),this.k[nt],rt[nt]),Ct=sum32$1(s0_256(it),maj32(it,at,ot));bt=yt,yt=ft,ft=ut,ut=sum32$1(ct,Et),ct=ot,ot=at,at=it,it=sum32$1(Et,Ct)}this.h[0]=sum32$1(this.h[0],it),this.h[1]=sum32$1(this.h[1],at),this.h[2]=sum32$1(this.h[2],ot),this.h[3]=sum32$1(this.h[3],ct),this.h[4]=sum32$1(this.h[4],ut),this.h[5]=sum32$1(this.h[5],ft),this.h[6]=sum32$1(this.h[6],yt),this.h[7]=sum32$1(this.h[7],bt)};SHA256$1.prototype._digest=function(_e){return _e==="hex"?utils$c.toHex32(this.h,"big"):utils$c.split32(this.h,"big")};var utils$b=utils$g,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$b.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(_e){return _e==="hex"?utils$b.toHex32(this.h.slice(0,7),"big"):utils$b.split32(this.h.slice(0,7),"big")};var utils$a=utils$g,common$1=common$5,assert$7=minimalisticAssert$1,rotr64_hi=utils$a.rotr64_hi,rotr64_lo=utils$a.rotr64_lo,shr64_hi=utils$a.shr64_hi,shr64_lo=utils$a.shr64_lo,sum64=utils$a.sum64,sum64_hi=utils$a.sum64_hi,sum64_lo=utils$a.sum64_lo,sum64_4_hi=utils$a.sum64_4_hi,sum64_4_lo=utils$a.sum64_4_lo,sum64_5_hi=utils$a.sum64_5_hi,sum64_5_lo=utils$a.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$a.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(_e,tt){for(var rt=this.W,nt=0;nt<32;nt++)rt[nt]=_e[tt+nt];for(;nt<rt.length;nt+=2){var it=g1_512_hi(rt[nt-4],rt[nt-3]),at=g1_512_lo(rt[nt-4],rt[nt-3]),ot=rt[nt-14],ct=rt[nt-13],ut=g0_512_hi(rt[nt-30],rt[nt-29]),ft=g0_512_lo(rt[nt-30],rt[nt-29]),yt=rt[nt-32],bt=rt[nt-31];rt[nt]=sum64_4_hi(it,at,ot,ct,ut,ft,yt,bt),rt[nt+1]=sum64_4_lo(it,at,ot,ct,ut,ft,yt,bt)}};SHA512$1.prototype._update=function(_e,tt){this._prepareBlock(_e,tt);var rt=this.W,nt=this.h[0],it=this.h[1],at=this.h[2],ot=this.h[3],ct=this.h[4],ut=this.h[5],ft=this.h[6],yt=this.h[7],bt=this.h[8],Et=this.h[9],Ct=this.h[10],At=this.h[11],St=this.h[12],Tt=this.h[13],$t=this.h[14],kt=this.h[15];assert$7(this.k.length===rt.length);for(var Pt=0;Pt<rt.length;Pt+=2){var Ot=$t,Ht=kt,qt=s1_512_hi(bt,Et),Zt=s1_512_lo(bt,Et),tr=ch64_hi(bt,Et,Ct,At,St),Dt=ch64_lo(bt,Et,Ct,At,St,Tt),Rt=this.k[Pt],Nt=this.k[Pt+1],ht=rt[Pt],st=rt[Pt+1],dt=sum64_5_hi(Ot,Ht,qt,Zt,tr,Dt,Rt,Nt,ht,st),mt=sum64_5_lo(Ot,Ht,qt,Zt,tr,Dt,Rt,Nt,ht,st);Ot=s0_512_hi(nt,it),Ht=s0_512_lo(nt,it),qt=maj64_hi(nt,it,at,ot,ct),Zt=maj64_lo(nt,it,at,ot,ct,ut);var _t=sum64_hi(Ot,Ht,qt,Zt),xt=sum64_lo(Ot,Ht,qt,Zt);$t=St,kt=Tt,St=Ct,Tt=At,Ct=bt,At=Et,bt=sum64_hi(ft,yt,dt,mt),Et=sum64_lo(yt,yt,dt,mt),ft=ct,yt=ut,ct=at,ut=ot,at=nt,ot=it,nt=sum64_hi(dt,mt,_t,xt),it=sum64_lo(dt,mt,_t,xt)}sum64(this.h,0,nt,it),sum64(this.h,2,at,ot),sum64(this.h,4,ct,ut),sum64(this.h,6,ft,yt),sum64(this.h,8,bt,Et),sum64(this.h,10,Ct,At),sum64(this.h,12,St,Tt),sum64(this.h,14,$t,kt)};SHA512$1.prototype._digest=function(_e){return _e==="hex"?utils$a.toHex32(this.h,"big"):utils$a.split32(this.h,"big")};function ch64_hi(et,_e,tt,rt,nt){var it=et&tt^~et&nt;return it<0&&(it+=4294967296),it}function ch64_lo(et,_e,tt,rt,nt,it){var at=_e&rt^~_e&it;return at<0&&(at+=4294967296),at}function maj64_hi(et,_e,tt,rt,nt){var it=et&tt^et&nt^tt&nt;return it<0&&(it+=4294967296),it}function maj64_lo(et,_e,tt,rt,nt,it){var at=_e&rt^_e&it^rt&it;return at<0&&(at+=4294967296),at}function s0_512_hi(et,_e){var tt=rotr64_hi(et,_e,28),rt=rotr64_hi(_e,et,2),nt=rotr64_hi(_e,et,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s0_512_lo(et,_e){var tt=rotr64_lo(et,_e,28),rt=rotr64_lo(_e,et,2),nt=rotr64_lo(_e,et,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s1_512_hi(et,_e){var tt=rotr64_hi(et,_e,14),rt=rotr64_hi(et,_e,18),nt=rotr64_hi(_e,et,9),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function s1_512_lo(et,_e){var tt=rotr64_lo(et,_e,14),rt=rotr64_lo(et,_e,18),nt=rotr64_lo(_e,et,9),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g0_512_hi(et,_e){var tt=rotr64_hi(et,_e,1),rt=rotr64_hi(et,_e,8),nt=shr64_hi(et,_e,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g0_512_lo(et,_e){var tt=rotr64_lo(et,_e,1),rt=rotr64_lo(et,_e,8),nt=shr64_lo(et,_e,7),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g1_512_hi(et,_e){var tt=rotr64_hi(et,_e,19),rt=rotr64_hi(_e,et,29),nt=shr64_hi(et,_e,6),it=tt^rt^nt;return it<0&&(it+=4294967296),it}function g1_512_lo(et,_e){var tt=rotr64_lo(et,_e,19),rt=rotr64_lo(_e,et,29),nt=shr64_lo(et,_e,6),it=tt^rt^nt;return it<0&&(it+=4294967296),it}var utils$9=utils$g,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$9.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(_e){return _e==="hex"?utils$9.toHex32(this.h.slice(0,12),"big"):utils$9.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$8=utils$g,common=common$5,rotl32=utils$8.rotl32,sum32=utils$8.sum32,sum32_3=utils$8.sum32_3,sum32_4=utils$8.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$8.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(_e,tt){for(var rt=this.h[0],nt=this.h[1],it=this.h[2],at=this.h[3],ot=this.h[4],ct=rt,ut=nt,ft=it,yt=at,bt=ot,Et=0;Et<80;Et++){var Ct=sum32(rotl32(sum32_4(rt,f$6(Et,nt,it,at),_e[r$6[Et]+tt],K$1(Et)),s$5[Et]),ot);rt=ot,ot=at,at=rotl32(it,10),it=nt,nt=Ct,Ct=sum32(rotl32(sum32_4(ct,f$6(79-Et,ut,ft,yt),_e[rh[Et]+tt],Kh(Et)),sh[Et]),bt),ct=bt,bt=yt,yt=rotl32(ft,10),ft=ut,ut=Ct}Ct=sum32_3(this.h[1],it,yt),this.h[1]=sum32_3(this.h[2],at,bt),this.h[2]=sum32_3(this.h[3],ot,ct),this.h[3]=sum32_3(this.h[4],rt,ut),this.h[4]=sum32_3(this.h[0],nt,ft),this.h[0]=Ct};RIPEMD160.prototype._digest=function(_e){return _e==="hex"?utils$8.toHex32(this.h,"little"):utils$8.split32(this.h,"little")};function f$6(et,_e,tt,rt){return et<=15?_e^tt^rt:et<=31?_e&tt|~_e&rt:et<=47?(_e|~tt)^rt:et<=63?_e&rt|tt&~rt:_e^(tt|~rt)}function K$1(et){return et<=15?0:et<=31?1518500249:et<=47?1859775393:et<=63?2400959708:2840853838}function Kh(et){return et<=15?1352829926:et<=31?1548603684:et<=47?1836072691:et<=63?2053994217:0}var r$6=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$5=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$7=utils$g,assert$6=minimalisticAssert$1;function Hmac(et,_e,tt){if(!(this instanceof Hmac))return new Hmac(et,_e,tt);this.Hash=et,this.blockSize=et.blockSize/8,this.outSize=et.outSize/8,this.inner=null,this.outer=null,this._init(utils$7.toArray(_e,tt))}var hmac$1=Hmac;Hmac.prototype._init=function(_e){_e.length>this.blockSize&&(_e=new this.Hash().update(_e).digest()),assert$6(_e.length<=this.blockSize);for(var tt=_e.length;tt<this.blockSize;tt++)_e.push(0);for(tt=0;tt<_e.length;tt++)_e[tt]^=54;for(this.inner=new this.Hash().update(_e),tt=0;tt<_e.length;tt++)_e[tt]^=106;this.outer=new this.Hash().update(_e)};Hmac.prototype.update=function(_e,tt){return this.inner.update(_e,tt),this};Hmac.prototype.digest=function(_e){return this.outer.update(this.inner.digest()),this.outer.digest(_e)};(function(et){var _e=et;_e.utils=utils$g,_e.common=common$5,_e.sha=sha,_e.ripemd=ripemd,_e.hmac=hmac$1,_e.sha1=_e.sha.sha1,_e.sha256=_e.sha.sha256,_e.sha224=_e.sha.sha224,_e.sha384=_e.sha.sha384,_e.sha512=_e.sha.sha512,_e.ripemd160=_e.ripemd.ripemd160})(hash$1);function createCommonjsModule(et,_e,tt){return tt={path:_e,exports:{},require:function(rt,nt){return commonjsRequire(rt,nt==null?tt.path:nt)}},et(tt,tt.exports),tt.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var minimalisticAssert=assert;function assert(et,_e){if(!et)throw new Error(_e||"Assertion failed")}assert.equal=function(_e,tt,rt){if(_e!=tt)throw new Error(rt||"Assertion failed: "+_e+" != "+tt)};var utils_1$1=createCommonjsModule(function(et,_e){var tt=_e;function rt(at,ot){if(Array.isArray(at))return at.slice();if(!at)return[];var ct=[];if(typeof at!="string"){for(var ut=0;ut<at.length;ut++)ct[ut]=at[ut]|0;return ct}if(ot==="hex"){at=at.replace(/[^a-z0-9]+/ig,""),at.length%2!==0&&(at="0"+at);for(var ut=0;ut<at.length;ut+=2)ct.push(parseInt(at[ut]+at[ut+1],16))}else for(var ut=0;ut<at.length;ut++){var ft=at.charCodeAt(ut),yt=ft>>8,bt=ft&255;yt?ct.push(yt,bt):ct.push(bt)}return ct}tt.toArray=rt;function nt(at){return at.length===1?"0"+at:at}tt.zero2=nt;function it(at){for(var ot="",ct=0;ct<at.length;ct++)ot+=nt(at[ct].toString(16));return ot}tt.toHex=it,tt.encode=function(ot,ct){return ct==="hex"?it(ot):ot}}),utils_1$1$1=createCommonjsModule(function(et,_e){var tt=_e;tt.assert=minimalisticAssert,tt.toArray=utils_1$1.toArray,tt.zero2=utils_1$1.zero2,tt.toHex=utils_1$1.toHex,tt.encode=utils_1$1.encode;function rt(ct,ut,ft){var yt=new Array(Math.max(ct.bitLength(),ft)+1);yt.fill(0);for(var bt=1<<ut+1,Et=ct.clone(),Ct=0;Ct<yt.length;Ct++){var At,St=Et.andln(bt-1);Et.isOdd()?(St>(bt>>1)-1?At=(bt>>1)-St:At=St,Et.isubn(At)):At=0,yt[Ct]=At,Et.iushrn(1)}return yt}tt.getNAF=rt;function nt(ct,ut){var ft=[[],[]];ct=ct.clone(),ut=ut.clone();for(var yt=0,bt=0,Et;ct.cmpn(-yt)>0||ut.cmpn(-bt)>0;){var Ct=ct.andln(3)+yt&3,At=ut.andln(3)+bt&3;Ct===3&&(Ct=-1),At===3&&(At=-1);var St;(Ct&1)===0?St=0:(Et=ct.andln(7)+yt&7,(Et===3||Et===5)&&At===2?St=-Ct:St=Ct),ft[0].push(St);var Tt;(At&1)===0?Tt=0:(Et=ut.andln(7)+bt&7,(Et===3||Et===5)&&Ct===2?Tt=-At:Tt=At),ft[1].push(Tt),2*yt===St+1&&(yt=1-yt),2*bt===Tt+1&&(bt=1-bt),ct.iushrn(1),ut.iushrn(1)}return ft}tt.getJSF=nt;function it(ct,ut,ft){var yt="_"+ut;ct.prototype[ut]=function(){return this[yt]!==void 0?this[yt]:this[yt]=ft.call(this)}}tt.cachedProperty=it;function at(ct){return typeof ct=="string"?tt.toArray(ct,"hex"):ct}tt.parseBytes=at;function ot(ct){return new BN$4(ct,"hex","le")}tt.intFromLE=ot}),getNAF=utils_1$1$1.getNAF,getJSF=utils_1$1$1.getJSF,assert$1=utils_1$1$1.assert;function BaseCurve(et,_e){this.type=et,this.p=new BN$4(_e.p,16),this.red=_e.prime?BN$4.red(_e.prime):BN$4.mont(this.p),this.zero=new BN$4(0).toRed(this.red),this.one=new BN$4(1).toRed(this.red),this.two=new BN$4(2).toRed(this.red),this.n=_e.n&&new BN$4(_e.n,16),this.g=_e.g&&this.pointFromJSON(_e.g,_e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var tt=this.n&&this.p.div(this.n);!tt||tt.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$2=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(_e,tt){assert$1(_e.precomputed);var rt=_e._getDoubles(),nt=getNAF(tt,1,this._bitLength),it=(1<<rt.step+1)-(rt.step%2===0?2:1);it/=3;var at=[],ot,ct;for(ot=0;ot<nt.length;ot+=rt.step){ct=0;for(var ut=ot+rt.step-1;ut>=ot;ut--)ct=(ct<<1)+nt[ut];at.push(ct)}for(var ft=this.jpoint(null,null,null),yt=this.jpoint(null,null,null),bt=it;bt>0;bt--){for(ot=0;ot<at.length;ot++)ct=at[ot],ct===bt?yt=yt.mixedAdd(rt.points[ot]):ct===-bt&&(yt=yt.mixedAdd(rt.points[ot].neg()));ft=ft.add(yt)}return ft.toP()};BaseCurve.prototype._wnafMul=function(_e,tt){var rt=4,nt=_e._getNAFPoints(rt);rt=nt.wnd;for(var it=nt.points,at=getNAF(tt,rt,this._bitLength),ot=this.jpoint(null,null,null),ct=at.length-1;ct>=0;ct--){for(var ut=0;ct>=0&&at[ct]===0;ct--)ut++;if(ct>=0&&ut++,ot=ot.dblp(ut),ct<0)break;var ft=at[ct];assert$1(ft!==0),_e.type==="affine"?ft>0?ot=ot.mixedAdd(it[ft-1>>1]):ot=ot.mixedAdd(it[-ft-1>>1].neg()):ft>0?ot=ot.add(it[ft-1>>1]):ot=ot.add(it[-ft-1>>1].neg())}return _e.type==="affine"?ot.toP():ot};BaseCurve.prototype._wnafMulAdd=function(_e,tt,rt,nt,it){var at=this._wnafT1,ot=this._wnafT2,ct=this._wnafT3,ut=0,ft,yt,bt;for(ft=0;ft<nt;ft++){bt=tt[ft];var Et=bt._getNAFPoints(_e);at[ft]=Et.wnd,ot[ft]=Et.points}for(ft=nt-1;ft>=1;ft-=2){var Ct=ft-1,At=ft;if(at[Ct]!==1||at[At]!==1){ct[Ct]=getNAF(rt[Ct],at[Ct],this._bitLength),ct[At]=getNAF(rt[At],at[At],this._bitLength),ut=Math.max(ct[Ct].length,ut),ut=Math.max(ct[At].length,ut);continue}var St=[tt[Ct],null,null,tt[At]];tt[Ct].y.cmp(tt[At].y)===0?(St[1]=tt[Ct].add(tt[At]),St[2]=tt[Ct].toJ().mixedAdd(tt[At].neg())):tt[Ct].y.cmp(tt[At].y.redNeg())===0?(St[1]=tt[Ct].toJ().mixedAdd(tt[At]),St[2]=tt[Ct].add(tt[At].neg())):(St[1]=tt[Ct].toJ().mixedAdd(tt[At]),St[2]=tt[Ct].toJ().mixedAdd(tt[At].neg()));var Tt=[-3,-1,-5,-7,0,7,5,1,3],$t=getJSF(rt[Ct],rt[At]);for(ut=Math.max($t[0].length,ut),ct[Ct]=new Array(ut),ct[At]=new Array(ut),yt=0;yt<ut;yt++){var kt=$t[0][yt]|0,Pt=$t[1][yt]|0;ct[Ct][yt]=Tt[(kt+1)*3+(Pt+1)],ct[At][yt]=0,ot[Ct]=St}}var Ot=this.jpoint(null,null,null),Ht=this._wnafT4;for(ft=ut;ft>=0;ft--){for(var qt=0;ft>=0;){var Zt=!0;for(yt=0;yt<nt;yt++)Ht[yt]=ct[yt][ft]|0,Ht[yt]!==0&&(Zt=!1);if(!Zt)break;qt++,ft--}if(ft>=0&&qt++,Ot=Ot.dblp(qt),ft<0)break;for(yt=0;yt<nt;yt++){var tr=Ht[yt];tr!==0&&(tr>0?bt=ot[yt][tr-1>>1]:tr<0&&(bt=ot[yt][-tr-1>>1].neg()),bt.type==="affine"?Ot=Ot.mixedAdd(bt):Ot=Ot.add(bt))}}for(ft=0;ft<nt;ft++)ot[ft]=null;return it?Ot:Ot.toP()};function BasePoint(et,_e){this.curve=et,this.type=_e,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(_e,tt){_e=utils_1$1$1.toArray(_e,tt);var rt=this.p.byteLength();if((_e[0]===4||_e[0]===6||_e[0]===7)&&_e.length-1===2*rt){_e[0]===6?assert$1(_e[_e.length-1]%2===0):_e[0]===7&&assert$1(_e[_e.length-1]%2===1);var nt=this.point(_e.slice(1,1+rt),_e.slice(1+rt,1+2*rt));return nt}else if((_e[0]===2||_e[0]===3)&&_e.length-1===rt)return this.pointFromX(_e.slice(1,1+rt),_e[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(_e){return this.encode(_e,!0)};BasePoint.prototype._encode=function(_e){var tt=this.curve.p.byteLength(),rt=this.getX().toArray("be",tt);return _e?[this.getY().isEven()?2:3].concat(rt):[4].concat(rt,this.getY().toArray("be",tt))};BasePoint.prototype.encode=function(_e,tt){return utils_1$1$1.encode(this._encode(tt),_e)};BasePoint.prototype.precompute=function(_e){if(this.precomputed)return this;var tt={doubles:null,naf:null,beta:null};return tt.naf=this._getNAFPoints(8),tt.doubles=this._getDoubles(4,_e),tt.beta=this._getBeta(),this.precomputed=tt,this};BasePoint.prototype._hasDoubles=function(_e){if(!this.precomputed)return!1;var tt=this.precomputed.doubles;return tt?tt.points.length>=Math.ceil((_e.bitLength()+1)/tt.step):!1};BasePoint.prototype._getDoubles=function(_e,tt){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var rt=[this],nt=this,it=0;it<tt;it+=_e){for(var at=0;at<_e;at++)nt=nt.dbl();rt.push(nt)}return{step:_e,points:rt}};BasePoint.prototype._getNAFPoints=function(_e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var tt=[this],rt=(1<<_e)-1,nt=rt===1?null:this.dbl(),it=1;it<rt;it++)tt[it]=tt[it-1].add(nt);return{wnd:_e,points:tt}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(_e){for(var tt=this,rt=0;rt<_e;rt++)tt=tt.dbl();return tt};var inherits_browser=createCommonjsModule(function(et){typeof Object.create=="function"?et.exports=function(tt,rt){rt&&(tt.super_=rt,tt.prototype=Object.create(rt.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}))}:et.exports=function(tt,rt){if(rt){tt.super_=rt;var nt=function(){};nt.prototype=rt.prototype,tt.prototype=new nt,tt.prototype.constructor=tt}}}),assert$2=utils_1$1$1.assert;function ShortCurve(et){base$2.call(this,"short",et),this.a=new BN$4(et.a,16).toRed(this.red),this.b=new BN$4(et.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(et),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits_browser(ShortCurve,base$2);var short_1=ShortCurve;ShortCurve.prototype._getEndomorphism=function(_e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var tt,rt;if(_e.beta)tt=new BN$4(_e.beta,16).toRed(this.red);else{var nt=this._getEndoRoots(this.p);tt=nt[0].cmp(nt[1])<0?nt[0]:nt[1],tt=tt.toRed(this.red)}if(_e.lambda)rt=new BN$4(_e.lambda,16);else{var it=this._getEndoRoots(this.n);this.g.mul(it[0]).x.cmp(this.g.x.redMul(tt))===0?rt=it[0]:(rt=it[1],assert$2(this.g.mul(rt).x.cmp(this.g.x.redMul(tt))===0))}var at;return _e.basis?at=_e.basis.map(function(ot){return{a:new BN$4(ot.a,16),b:new BN$4(ot.b,16)}}):at=this._getEndoBasis(rt),{beta:tt,lambda:rt,basis:at}}};ShortCurve.prototype._getEndoRoots=function(_e){var tt=_e===this.p?this.red:BN$4.mont(_e),rt=new BN$4(2).toRed(tt).redInvm(),nt=rt.redNeg(),it=new BN$4(3).toRed(tt).redNeg().redSqrt().redMul(rt),at=nt.redAdd(it).fromRed(),ot=nt.redSub(it).fromRed();return[at,ot]};ShortCurve.prototype._getEndoBasis=function(_e){for(var tt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),rt=_e,nt=this.n.clone(),it=new BN$4(1),at=new BN$4(0),ot=new BN$4(0),ct=new BN$4(1),ut,ft,yt,bt,Et,Ct,At,St=0,Tt,$t;rt.cmpn(0)!==0;){var kt=nt.div(rt);Tt=nt.sub(kt.mul(rt)),$t=ot.sub(kt.mul(it));var Pt=ct.sub(kt.mul(at));if(!yt&&Tt.cmp(tt)<0)ut=At.neg(),ft=it,yt=Tt.neg(),bt=$t;else if(yt&&++St===2)break;At=Tt,nt=rt,rt=Tt,ot=it,it=$t,ct=at,at=Pt}Et=Tt.neg(),Ct=$t;var Ot=yt.sqr().add(bt.sqr()),Ht=Et.sqr().add(Ct.sqr());return Ht.cmp(Ot)>=0&&(Et=ut,Ct=ft),yt.negative&&(yt=yt.neg(),bt=bt.neg()),Et.negative&&(Et=Et.neg(),Ct=Ct.neg()),[{a:yt,b:bt},{a:Et,b:Ct}]};ShortCurve.prototype._endoSplit=function(_e){var tt=this.endo.basis,rt=tt[0],nt=tt[1],it=nt.b.mul(_e).divRound(this.n),at=rt.b.neg().mul(_e).divRound(this.n),ot=it.mul(rt.a),ct=at.mul(nt.a),ut=it.mul(rt.b),ft=at.mul(nt.b),yt=_e.sub(ot).sub(ct),bt=ut.add(ft).neg();return{k1:yt,k2:bt}};ShortCurve.prototype.pointFromX=function(_e,tt){_e=new BN$4(_e,16),_e.red||(_e=_e.toRed(this.red));var rt=_e.redSqr().redMul(_e).redIAdd(_e.redMul(this.a)).redIAdd(this.b),nt=rt.redSqrt();if(nt.redSqr().redSub(rt).cmp(this.zero)!==0)throw new Error("invalid point");var it=nt.fromRed().isOdd();return(tt&&!it||!tt&&it)&&(nt=nt.redNeg()),this.point(_e,nt)};ShortCurve.prototype.validate=function(_e){if(_e.inf)return!0;var tt=_e.x,rt=_e.y,nt=this.a.redMul(tt),it=tt.redSqr().redMul(tt).redIAdd(nt).redIAdd(this.b);return rt.redSqr().redISub(it).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(_e,tt,rt){for(var nt=this._endoWnafT1,it=this._endoWnafT2,at=0;at<_e.length;at++){var ot=this._endoSplit(tt[at]),ct=_e[at],ut=ct._getBeta();ot.k1.negative&&(ot.k1.ineg(),ct=ct.neg(!0)),ot.k2.negative&&(ot.k2.ineg(),ut=ut.neg(!0)),nt[at*2]=ct,nt[at*2+1]=ut,it[at*2]=ot.k1,it[at*2+1]=ot.k2}for(var ft=this._wnafMulAdd(1,nt,it,at*2,rt),yt=0;yt<at*2;yt++)nt[yt]=null,it[yt]=null;return ft};function Point(et,_e,tt,rt){base$2.BasePoint.call(this,et,"affine"),_e===null&&tt===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$4(_e,16),this.y=new BN$4(tt,16),rt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits_browser(Point,base$2.BasePoint);ShortCurve.prototype.point=function(_e,tt,rt){return new Point(this,_e,tt,rt)};ShortCurve.prototype.pointFromJSON=function(_e,tt){return Point.fromJSON(this,_e,tt)};Point.prototype._getBeta=function(){if(!!this.curve.endo){var _e=this.precomputed;if(_e&&_e.beta)return _e.beta;var tt=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(_e){var rt=this.curve,nt=function(it){return rt.point(it.x.redMul(rt.endo.beta),it.y)};_e.beta=tt,tt.precomputed={beta:null,naf:_e.naf&&{wnd:_e.naf.wnd,points:_e.naf.points.map(nt)},doubles:_e.doubles&&{step:_e.doubles.step,points:_e.doubles.points.map(nt)}}}return tt}};Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point.fromJSON=function(_e,tt,rt){typeof tt=="string"&&(tt=JSON.parse(tt));var nt=_e.point(tt[0],tt[1],rt);if(!tt[2])return nt;function it(ot){return _e.point(ot[0],ot[1],rt)}var at=tt[2];return nt.precomputed={beta:null,doubles:at.doubles&&{step:at.doubles.step,points:[nt].concat(at.doubles.points.map(it))},naf:at.naf&&{wnd:at.naf.wnd,points:[nt].concat(at.naf.points.map(it))}},nt};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.inf};Point.prototype.add=function(_e){if(this.inf)return _e;if(_e.inf)return this;if(this.eq(_e))return this.dbl();if(this.neg().eq(_e))return this.curve.point(null,null);if(this.x.cmp(_e.x)===0)return this.curve.point(null,null);var tt=this.y.redSub(_e.y);tt.cmpn(0)!==0&&(tt=tt.redMul(this.x.redSub(_e.x).redInvm()));var rt=tt.redSqr().redISub(this.x).redISub(_e.x),nt=tt.redMul(this.x.redSub(rt)).redISub(this.y);return this.curve.point(rt,nt)};Point.prototype.dbl=function(){if(this.inf)return this;var _e=this.y.redAdd(this.y);if(_e.cmpn(0)===0)return this.curve.point(null,null);var tt=this.curve.a,rt=this.x.redSqr(),nt=_e.redInvm(),it=rt.redAdd(rt).redIAdd(rt).redIAdd(tt).redMul(nt),at=it.redSqr().redISub(this.x.redAdd(this.x)),ot=it.redMul(this.x.redSub(at)).redISub(this.y);return this.curve.point(at,ot)};Point.prototype.getX=function(){return this.x.fromRed()};Point.prototype.getY=function(){return this.y.fromRed()};Point.prototype.mul=function(_e){return _e=new BN$4(_e,16),this.isInfinity()?this:this._hasDoubles(_e)?this.curve._fixedNafMul(this,_e):this.curve.endo?this.curve._endoWnafMulAdd([this],[_e]):this.curve._wnafMul(this,_e)};Point.prototype.mulAdd=function(_e,tt,rt){var nt=[this,tt],it=[_e,rt];return this.curve.endo?this.curve._endoWnafMulAdd(nt,it):this.curve._wnafMulAdd(1,nt,it,2)};Point.prototype.jmulAdd=function(_e,tt,rt){var nt=[this,tt],it=[_e,rt];return this.curve.endo?this.curve._endoWnafMulAdd(nt,it,!0):this.curve._wnafMulAdd(1,nt,it,2,!0)};Point.prototype.eq=function(_e){return this===_e||this.inf===_e.inf&&(this.inf||this.x.cmp(_e.x)===0&&this.y.cmp(_e.y)===0)};Point.prototype.neg=function(_e){if(this.inf)return this;var tt=this.curve.point(this.x,this.y.redNeg());if(_e&&this.precomputed){var rt=this.precomputed,nt=function(it){return it.neg()};tt.precomputed={naf:rt.naf&&{wnd:rt.naf.wnd,points:rt.naf.points.map(nt)},doubles:rt.doubles&&{step:rt.doubles.step,points:rt.doubles.points.map(nt)}}}return tt};Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var _e=this.curve.jpoint(this.x,this.y,this.curve.one);return _e};function JPoint(et,_e,tt,rt){base$2.BasePoint.call(this,et,"jacobian"),_e===null&&tt===null&&rt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$4(0)):(this.x=new BN$4(_e,16),this.y=new BN$4(tt,16),this.z=new BN$4(rt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits_browser(JPoint,base$2.BasePoint);ShortCurve.prototype.jpoint=function(_e,tt,rt){return new JPoint(this,_e,tt,rt)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var _e=this.z.redInvm(),tt=_e.redSqr(),rt=this.x.redMul(tt),nt=this.y.redMul(tt).redMul(_e);return this.curve.point(rt,nt)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(_e){if(this.isInfinity())return _e;if(_e.isInfinity())return this;var tt=_e.z.redSqr(),rt=this.z.redSqr(),nt=this.x.redMul(tt),it=_e.x.redMul(rt),at=this.y.redMul(tt.redMul(_e.z)),ot=_e.y.redMul(rt.redMul(this.z)),ct=nt.redSub(it),ut=at.redSub(ot);if(ct.cmpn(0)===0)return ut.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ft=ct.redSqr(),yt=ft.redMul(ct),bt=nt.redMul(ft),Et=ut.redSqr().redIAdd(yt).redISub(bt).redISub(bt),Ct=ut.redMul(bt.redISub(Et)).redISub(at.redMul(yt)),At=this.z.redMul(_e.z).redMul(ct);return this.curve.jpoint(Et,Ct,At)};JPoint.prototype.mixedAdd=function(_e){if(this.isInfinity())return _e.toJ();if(_e.isInfinity())return this;var tt=this.z.redSqr(),rt=this.x,nt=_e.x.redMul(tt),it=this.y,at=_e.y.redMul(tt).redMul(this.z),ot=rt.redSub(nt),ct=it.redSub(at);if(ot.cmpn(0)===0)return ct.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ut=ot.redSqr(),ft=ut.redMul(ot),yt=rt.redMul(ut),bt=ct.redSqr().redIAdd(ft).redISub(yt).redISub(yt),Et=ct.redMul(yt.redISub(bt)).redISub(it.redMul(ft)),Ct=this.z.redMul(ot);return this.curve.jpoint(bt,Et,Ct)};JPoint.prototype.dblp=function(_e){if(_e===0)return this;if(this.isInfinity())return this;if(!_e)return this.dbl();var tt;if(this.curve.zeroA||this.curve.threeA){var rt=this;for(tt=0;tt<_e;tt++)rt=rt.dbl();return rt}var nt=this.curve.a,it=this.curve.tinv,at=this.x,ot=this.y,ct=this.z,ut=ct.redSqr().redSqr(),ft=ot.redAdd(ot);for(tt=0;tt<_e;tt++){var yt=at.redSqr(),bt=ft.redSqr(),Et=bt.redSqr(),Ct=yt.redAdd(yt).redIAdd(yt).redIAdd(nt.redMul(ut)),At=at.redMul(bt),St=Ct.redSqr().redISub(At.redAdd(At)),Tt=At.redISub(St),$t=Ct.redMul(Tt);$t=$t.redIAdd($t).redISub(Et);var kt=ft.redMul(ct);tt+1<_e&&(ut=ut.redMul(Et)),at=St,ct=kt,ft=$t}return this.curve.jpoint(at,ft.redMul(it),ct)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var _e,tt,rt;if(this.zOne){var nt=this.x.redSqr(),it=this.y.redSqr(),at=it.redSqr(),ot=this.x.redAdd(it).redSqr().redISub(nt).redISub(at);ot=ot.redIAdd(ot);var ct=nt.redAdd(nt).redIAdd(nt),ut=ct.redSqr().redISub(ot).redISub(ot),ft=at.redIAdd(at);ft=ft.redIAdd(ft),ft=ft.redIAdd(ft),_e=ut,tt=ct.redMul(ot.redISub(ut)).redISub(ft),rt=this.y.redAdd(this.y)}else{var yt=this.x.redSqr(),bt=this.y.redSqr(),Et=bt.redSqr(),Ct=this.x.redAdd(bt).redSqr().redISub(yt).redISub(Et);Ct=Ct.redIAdd(Ct);var At=yt.redAdd(yt).redIAdd(yt),St=At.redSqr(),Tt=Et.redIAdd(Et);Tt=Tt.redIAdd(Tt),Tt=Tt.redIAdd(Tt),_e=St.redISub(Ct).redISub(Ct),tt=At.redMul(Ct.redISub(_e)).redISub(Tt),rt=this.y.redMul(this.z),rt=rt.redIAdd(rt)}return this.curve.jpoint(_e,tt,rt)};JPoint.prototype._threeDbl=function(){var _e,tt,rt;if(this.zOne){var nt=this.x.redSqr(),it=this.y.redSqr(),at=it.redSqr(),ot=this.x.redAdd(it).redSqr().redISub(nt).redISub(at);ot=ot.redIAdd(ot);var ct=nt.redAdd(nt).redIAdd(nt).redIAdd(this.curve.a),ut=ct.redSqr().redISub(ot).redISub(ot);_e=ut;var ft=at.redIAdd(at);ft=ft.redIAdd(ft),ft=ft.redIAdd(ft),tt=ct.redMul(ot.redISub(ut)).redISub(ft),rt=this.y.redAdd(this.y)}else{var yt=this.z.redSqr(),bt=this.y.redSqr(),Et=this.x.redMul(bt),Ct=this.x.redSub(yt).redMul(this.x.redAdd(yt));Ct=Ct.redAdd(Ct).redIAdd(Ct);var At=Et.redIAdd(Et);At=At.redIAdd(At);var St=At.redAdd(At);_e=Ct.redSqr().redISub(St),rt=this.y.redAdd(this.z).redSqr().redISub(bt).redISub(yt);var Tt=bt.redSqr();Tt=Tt.redIAdd(Tt),Tt=Tt.redIAdd(Tt),Tt=Tt.redIAdd(Tt),tt=Ct.redMul(At.redISub(_e)).redISub(Tt)}return this.curve.jpoint(_e,tt,rt)};JPoint.prototype._dbl=function(){var _e=this.curve.a,tt=this.x,rt=this.y,nt=this.z,it=nt.redSqr().redSqr(),at=tt.redSqr(),ot=rt.redSqr(),ct=at.redAdd(at).redIAdd(at).redIAdd(_e.redMul(it)),ut=tt.redAdd(tt);ut=ut.redIAdd(ut);var ft=ut.redMul(ot),yt=ct.redSqr().redISub(ft.redAdd(ft)),bt=ft.redISub(yt),Et=ot.redSqr();Et=Et.redIAdd(Et),Et=Et.redIAdd(Et),Et=Et.redIAdd(Et);var Ct=ct.redMul(bt).redISub(Et),At=rt.redAdd(rt).redMul(nt);return this.curve.jpoint(yt,Ct,At)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var _e=this.x.redSqr(),tt=this.y.redSqr(),rt=this.z.redSqr(),nt=tt.redSqr(),it=_e.redAdd(_e).redIAdd(_e),at=it.redSqr(),ot=this.x.redAdd(tt).redSqr().redISub(_e).redISub(nt);ot=ot.redIAdd(ot),ot=ot.redAdd(ot).redIAdd(ot),ot=ot.redISub(at);var ct=ot.redSqr(),ut=nt.redIAdd(nt);ut=ut.redIAdd(ut),ut=ut.redIAdd(ut),ut=ut.redIAdd(ut);var ft=it.redIAdd(ot).redSqr().redISub(at).redISub(ct).redISub(ut),yt=tt.redMul(ft);yt=yt.redIAdd(yt),yt=yt.redIAdd(yt);var bt=this.x.redMul(ct).redISub(yt);bt=bt.redIAdd(bt),bt=bt.redIAdd(bt);var Et=this.y.redMul(ft.redMul(ut.redISub(ft)).redISub(ot.redMul(ct)));Et=Et.redIAdd(Et),Et=Et.redIAdd(Et),Et=Et.redIAdd(Et);var Ct=this.z.redAdd(ot).redSqr().redISub(rt).redISub(ct);return this.curve.jpoint(bt,Et,Ct)};JPoint.prototype.mul=function(_e,tt){return _e=new BN$4(_e,tt),this.curve._wnafMul(this,_e)};JPoint.prototype.eq=function(_e){if(_e.type==="affine")return this.eq(_e.toJ());if(this===_e)return!0;var tt=this.z.redSqr(),rt=_e.z.redSqr();if(this.x.redMul(rt).redISub(_e.x.redMul(tt)).cmpn(0)!==0)return!1;var nt=tt.redMul(this.z),it=rt.redMul(_e.z);return this.y.redMul(it).redISub(_e.y.redMul(nt)).cmpn(0)===0};JPoint.prototype.eqXToP=function(_e){var tt=this.z.redSqr(),rt=_e.toRed(this.curve.red).redMul(tt);if(this.x.cmp(rt)===0)return!0;for(var nt=_e.clone(),it=this.curve.redN.redMul(tt);;){if(nt.iadd(this.curve.n),nt.cmp(this.curve.p)>=0)return!1;if(rt.redIAdd(it),this.x.cmp(rt)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var curve_1=createCommonjsModule(function(et,_e){var tt=_e;tt.base=base$2,tt.short=short_1,tt.mont=null,tt.edwards=null}),curves_1=createCommonjsModule(function(et,_e){var tt=_e,rt=utils_1$1$1.assert;function nt(ot){ot.type==="short"?this.curve=new curve_1.short(ot):ot.type==="edwards"?this.curve=new curve_1.edwards(ot):this.curve=new curve_1.mont(ot),this.g=this.curve.g,this.n=this.curve.n,this.hash=ot.hash,rt(this.g.validate(),"Invalid curve"),rt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}tt.PresetCurve=nt;function it(ot,ct){Object.defineProperty(tt,ot,{configurable:!0,enumerable:!0,get:function(){var ut=new nt(ct);return Object.defineProperty(tt,ot,{configurable:!0,enumerable:!0,value:ut}),ut}})}it("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash$1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),it("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash$1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),it("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash$1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),it("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash$1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),it("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash$1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),it("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["9"]}),it("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash$1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var at;try{at=null.crash()}catch{at=void 0}it("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash$1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",at]})});function HmacDRBG(et){if(!(this instanceof HmacDRBG))return new HmacDRBG(et);this.hash=et.hash,this.predResist=!!et.predResist,this.outLen=this.hash.outSize,this.minEntropy=et.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var _e=utils_1$1.toArray(et.entropy,et.entropyEnc||"hex"),tt=utils_1$1.toArray(et.nonce,et.nonceEnc||"hex"),rt=utils_1$1.toArray(et.pers,et.persEnc||"hex");minimalisticAssert(_e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(_e,tt,rt)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(_e,tt,rt){var nt=_e.concat(tt).concat(rt);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var it=0;it<this.V.length;it++)this.K[it]=0,this.V[it]=1;this._update(nt),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$1.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(_e){var tt=this._hmac().update(this.V).update([0]);_e&&(tt=tt.update(_e)),this.K=tt.digest(),this.V=this._hmac().update(this.V).digest(),_e&&(this.K=this._hmac().update(this.V).update([1]).update(_e).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(_e,tt,rt,nt){typeof tt!="string"&&(nt=rt,rt=tt,tt=null),_e=utils_1$1.toArray(_e,tt),rt=utils_1$1.toArray(rt,nt),minimalisticAssert(_e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(_e.concat(rt||[])),this._reseed=1};HmacDRBG.prototype.generate=function(_e,tt,rt,nt){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof tt!="string"&&(nt=rt,rt=tt,tt=null),rt&&(rt=utils_1$1.toArray(rt,nt||"hex"),this._update(rt));for(var it=[];it.length<_e;)this.V=this._hmac().update(this.V).digest(),it=it.concat(this.V);var at=it.slice(0,_e);return this._update(rt),this._reseed++,utils_1$1.encode(at,tt)};var assert$3=utils_1$1$1.assert;function KeyPair(et,_e){this.ec=et,this.priv=null,this.pub=null,_e.priv&&this._importPrivate(_e.priv,_e.privEnc),_e.pub&&this._importPublic(_e.pub,_e.pubEnc)}var key=KeyPair;KeyPair.fromPublic=function(_e,tt,rt){return tt instanceof KeyPair?tt:new KeyPair(_e,{pub:tt,pubEnc:rt})};KeyPair.fromPrivate=function(_e,tt,rt){return tt instanceof KeyPair?tt:new KeyPair(_e,{priv:tt,privEnc:rt})};KeyPair.prototype.validate=function(){var _e=this.getPublic();return _e.isInfinity()?{result:!1,reason:"Invalid public key"}:_e.validate()?_e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair.prototype.getPublic=function(_e,tt){return typeof _e=="string"&&(tt=_e,_e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),tt?this.pub.encode(tt,_e):this.pub};KeyPair.prototype.getPrivate=function(_e){return _e==="hex"?this.priv.toString(16,2):this.priv};KeyPair.prototype._importPrivate=function(_e,tt){this.priv=new BN$4(_e,tt||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function(_e,tt){if(_e.x||_e.y){this.ec.curve.type==="mont"?assert$3(_e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$3(_e.x&&_e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(_e.x,_e.y);return}this.pub=this.ec.curve.decodePoint(_e,tt)};KeyPair.prototype.derive=function(_e){return _e.validate()||assert$3(_e.validate(),"public point not validated"),_e.mul(this.priv).getX()};KeyPair.prototype.sign=function(_e,tt,rt){return this.ec.sign(_e,this,tt,rt)};KeyPair.prototype.verify=function(_e,tt){return this.ec.verify(_e,tt,this)};KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var assert$4=utils_1$1$1.assert;function Signature(et,_e){if(et instanceof Signature)return et;this._importDER(et,_e)||(assert$4(et.r&&et.s,"Signature without r or s"),this.r=new BN$4(et.r,16),this.s=new BN$4(et.s,16),et.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=et.recoveryParam)}var signature=Signature;function Position(){this.place=0}function getLength(et,_e){var tt=et[_e.place++];if(!(tt&128))return tt;var rt=tt&15;if(rt===0||rt>4)return!1;for(var nt=0,it=0,at=_e.place;it<rt;it++,at++)nt<<=8,nt|=et[at],nt>>>=0;return nt<=127?!1:(_e.place=at,nt)}function rmPadding(et){for(var _e=0,tt=et.length-1;!et[_e]&&!(et[_e+1]&128)&&_e<tt;)_e++;return _e===0?et:et.slice(_e)}Signature.prototype._importDER=function(_e,tt){_e=utils_1$1$1.toArray(_e,tt);var rt=new Position;if(_e[rt.place++]!==48)return!1;var nt=getLength(_e,rt);if(nt===!1||nt+rt.place!==_e.length||_e[rt.place++]!==2)return!1;var it=getLength(_e,rt);if(it===!1)return!1;var at=_e.slice(rt.place,it+rt.place);if(rt.place+=it,_e[rt.place++]!==2)return!1;var ot=getLength(_e,rt);if(ot===!1||_e.length!==ot+rt.place)return!1;var ct=_e.slice(rt.place,ot+rt.place);if(at[0]===0)if(at[1]&128)at=at.slice(1);else return!1;if(ct[0]===0)if(ct[1]&128)ct=ct.slice(1);else return!1;return this.r=new BN$4(at),this.s=new BN$4(ct),this.recoveryParam=null,!0};function constructLength(et,_e){if(_e<128){et.push(_e);return}var tt=1+(Math.log(_e)/Math.LN2>>>3);for(et.push(tt|128);--tt;)et.push(_e>>>(tt<<3)&255);et.push(_e)}Signature.prototype.toDER=function(_e){var tt=this.r.toArray(),rt=this.s.toArray();for(tt[0]&128&&(tt=[0].concat(tt)),rt[0]&128&&(rt=[0].concat(rt)),tt=rmPadding(tt),rt=rmPadding(rt);!rt[0]&&!(rt[1]&128);)rt=rt.slice(1);var nt=[2];constructLength(nt,tt.length),nt=nt.concat(tt),nt.push(2),constructLength(nt,rt.length);var it=nt.concat(rt),at=[48];return constructLength(at,it.length),at=at.concat(it),utils_1$1$1.encode(at,_e)};var rand=function(){throw new Error("unsupported")},assert$5=utils_1$1$1.assert;function EC(et){if(!(this instanceof EC))return new EC(et);typeof et=="string"&&(assert$5(Object.prototype.hasOwnProperty.call(curves_1,et),"Unknown curve "+et),et=curves_1[et]),et instanceof curves_1.PresetCurve&&(et={curve:et}),this.curve=et.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=et.curve.g,this.g.precompute(et.curve.n.bitLength()+1),this.hash=et.hash||et.curve.hash}var ec=EC;EC.prototype.keyPair=function(_e){return new key(this,_e)};EC.prototype.keyFromPrivate=function(_e,tt){return key.fromPrivate(this,_e,tt)};EC.prototype.keyFromPublic=function(_e,tt){return key.fromPublic(this,_e,tt)};EC.prototype.genKeyPair=function(_e){_e||(_e={});for(var tt=new hmacDrbg({hash:this.hash,pers:_e.pers,persEnc:_e.persEnc||"utf8",entropy:_e.entropy||rand(this.hash.hmacStrength),entropyEnc:_e.entropy&&_e.entropyEnc||"utf8",nonce:this.n.toArray()}),rt=this.n.byteLength(),nt=this.n.sub(new BN$4(2));;){var it=new BN$4(tt.generate(rt));if(!(it.cmp(nt)>0))return it.iaddn(1),this.keyFromPrivate(it)}};EC.prototype._truncateToN=function(_e,tt){var rt=_e.byteLength()*8-this.n.bitLength();return rt>0&&(_e=_e.ushrn(rt)),!tt&&_e.cmp(this.n)>=0?_e.sub(this.n):_e};EC.prototype.sign=function(_e,tt,rt,nt){typeof rt=="object"&&(nt=rt,rt=null),nt||(nt={}),tt=this.keyFromPrivate(tt,rt),_e=this._truncateToN(new BN$4(_e,16));for(var it=this.n.byteLength(),at=tt.getPrivate().toArray("be",it),ot=_e.toArray("be",it),ct=new hmacDrbg({hash:this.hash,entropy:at,nonce:ot,pers:nt.pers,persEnc:nt.persEnc||"utf8"}),ut=this.n.sub(new BN$4(1)),ft=0;;ft++){var yt=nt.k?nt.k(ft):new BN$4(ct.generate(this.n.byteLength()));if(yt=this._truncateToN(yt,!0),!(yt.cmpn(1)<=0||yt.cmp(ut)>=0)){var bt=this.g.mul(yt);if(!bt.isInfinity()){var Et=bt.getX(),Ct=Et.umod(this.n);if(Ct.cmpn(0)!==0){var At=yt.invm(this.n).mul(Ct.mul(tt.getPrivate()).iadd(_e));if(At=At.umod(this.n),At.cmpn(0)!==0){var St=(bt.getY().isOdd()?1:0)|(Et.cmp(Ct)!==0?2:0);return nt.canonical&&At.cmp(this.nh)>0&&(At=this.n.sub(At),St^=1),new signature({r:Ct,s:At,recoveryParam:St})}}}}}};EC.prototype.verify=function(_e,tt,rt,nt){_e=this._truncateToN(new BN$4(_e,16)),rt=this.keyFromPublic(rt,nt),tt=new signature(tt,"hex");var it=tt.r,at=tt.s;if(it.cmpn(1)<0||it.cmp(this.n)>=0||at.cmpn(1)<0||at.cmp(this.n)>=0)return!1;var ot=at.invm(this.n),ct=ot.mul(_e).umod(this.n),ut=ot.mul(it).umod(this.n),ft;return this.curve._maxwellTrick?(ft=this.g.jmulAdd(ct,rt.getPublic(),ut),ft.isInfinity()?!1:ft.eqXToP(it)):(ft=this.g.mulAdd(ct,rt.getPublic(),ut),ft.isInfinity()?!1:ft.getX().umod(this.n).cmp(it)===0)};EC.prototype.recoverPubKey=function(et,_e,tt,rt){assert$5((3&tt)===tt,"The recovery param is more than two bits"),_e=new signature(_e,rt);var nt=this.n,it=new BN$4(et),at=_e.r,ot=_e.s,ct=tt&1,ut=tt>>1;if(at.cmp(this.curve.p.umod(this.curve.n))>=0&&ut)throw new Error("Unable to find sencond key candinate");ut?at=this.curve.pointFromX(at.add(this.curve.n),ct):at=this.curve.pointFromX(at,ct);var ft=_e.r.invm(nt),yt=nt.sub(it).mul(ft).umod(nt),bt=ot.mul(ft).umod(nt);return this.g.mulAdd(yt,at,bt)};EC.prototype.getKeyRecoveryParam=function(et,_e,tt,rt){if(_e=new signature(_e,rt),_e.recoveryParam!==null)return _e.recoveryParam;for(var nt=0;nt<4;nt++){var it;try{it=this.recoverPubKey(et,_e,nt)}catch{continue}if(it.eq(tt))return nt}throw new Error("Unable to find valid recovery factor")};var elliptic_1=createCommonjsModule(function(et,_e){var tt=_e;tt.version="6.5.4",tt.utils=utils_1$1$1,tt.rand=function(){throw new Error("unsupported")},tt.curve=curve_1,tt.curves=curves_1,tt.ec=ec,tt.eddsa=null}),EC$1=elliptic_1.ec;const version$h="signing-key/5.7.0",logger$s=new Logger(version$h);let _curve=null;function getCurve(){return _curve||(_curve=new EC$1("secp256k1")),_curve}class SigningKey{constructor(_e){defineReadOnly(this,"curve","secp256k1"),defineReadOnly(this,"privateKey",hexlify(_e)),hexDataLength(this.privateKey)!==32&&logger$s.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const tt=getCurve().keyFromPrivate(arrayify(this.privateKey));defineReadOnly(this,"publicKey","0x"+tt.getPublic(!1,"hex")),defineReadOnly(this,"compressedPublicKey","0x"+tt.getPublic(!0,"hex")),defineReadOnly(this,"_isSigningKey",!0)}_addPoint(_e){const tt=getCurve().keyFromPublic(arrayify(this.publicKey)),rt=getCurve().keyFromPublic(arrayify(_e));return"0x"+tt.pub.add(rt.pub).encodeCompressed("hex")}signDigest(_e){const tt=getCurve().keyFromPrivate(arrayify(this.privateKey)),rt=arrayify(_e);rt.length!==32&&logger$s.throwArgumentError("bad digest length","digest",_e);const nt=tt.sign(rt,{canonical:!0});return splitSignature({recoveryParam:nt.recoveryParam,r:hexZeroPad("0x"+nt.r.toString(16),32),s:hexZeroPad("0x"+nt.s.toString(16),32)})}computeSharedSecret(_e){const tt=getCurve().keyFromPrivate(arrayify(this.privateKey)),rt=getCurve().keyFromPublic(arrayify(computePublicKey(_e)));return hexZeroPad("0x"+tt.derive(rt.getPublic()).toString(16),32)}static isSigningKey(_e){return!!(_e&&_e._isSigningKey)}}function recoverPublicKey(et,_e){const tt=splitSignature(_e),rt={r:arrayify(tt.r),s:arrayify(tt.s)};return"0x"+getCurve().recoverPubKey(arrayify(et),rt,tt.recoveryParam).encode("hex",!1)}function computePublicKey(et,_e){const tt=arrayify(et);if(tt.length===32){const rt=new SigningKey(tt);return _e?"0x"+getCurve().keyFromPrivate(tt).getPublic(!0,"hex"):rt.publicKey}else{if(tt.length===33)return _e?hexlify(tt):"0x"+getCurve().keyFromPublic(tt).getPublic(!1,"hex");if(tt.length===65)return _e?"0x"+getCurve().keyFromPublic(tt).getPublic(!0,"hex"):hexlify(tt)}return logger$s.throwArgumentError("invalid public or private key","key","[REDACTED]")}const lib_esm$a=Object.freeze(Object.defineProperty({__proto__:null,SigningKey,recoverPublicKey,computePublicKey},Symbol.toStringTag,{value:"Module"})),version$g="transactions/5.7.0",logger$r=new Logger(version$g);var TransactionTypes;(function(et){et[et.legacy=0]="legacy",et[et.eip2930=1]="eip2930",et[et.eip1559=2]="eip1559"})(TransactionTypes||(TransactionTypes={}));function handleAddress(et){return et==="0x"?null:getAddress(et)}function handleNumber(et){return et==="0x"?Zero$1:BigNumber.from(et)}const transactionFields=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],allowedTransactionKeys$2={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function computeAddress(et){const _e=computePublicKey(et);return getAddress(hexDataSlice(keccak256$1(hexDataSlice(_e,1)),12))}function recoverAddress(et,_e){return computeAddress(recoverPublicKey(arrayify(et),_e))}function formatNumber(et,_e){const tt=stripZeros(BigNumber.from(et).toHexString());return tt.length>32&&logger$r.throwArgumentError("invalid length for "+_e,"transaction:"+_e,et),tt}function accessSetify(et,_e){return{address:getAddress(et),storageKeys:(_e||[]).map((tt,rt)=>(hexDataLength(tt)!==32&&logger$r.throwArgumentError("invalid access list storageKey",`accessList[${et}:${rt}]`,tt),tt.toLowerCase()))}}function accessListify(et){if(Array.isArray(et))return et.map((tt,rt)=>Array.isArray(tt)?(tt.length>2&&logger$r.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${rt}]`,tt),accessSetify(tt[0],tt[1])):accessSetify(tt.address,tt.storageKeys));const _e=Object.keys(et).map(tt=>{const rt=et[tt].reduce((nt,it)=>(nt[it]=!0,nt),{});return accessSetify(tt,Object.keys(rt).sort())});return _e.sort((tt,rt)=>tt.address.localeCompare(rt.address)),_e}function formatAccessList(et){return accessListify(et).map(_e=>[_e.address,_e.storageKeys])}function _serializeEip1559(et,_e){if(et.gasPrice!=null){const rt=BigNumber.from(et.gasPrice),nt=BigNumber.from(et.maxFeePerGas||0);rt.eq(nt)||logger$r.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:rt,maxFeePerGas:nt})}const tt=[formatNumber(et.chainId||0,"chainId"),formatNumber(et.nonce||0,"nonce"),formatNumber(et.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(et.maxFeePerGas||0,"maxFeePerGas"),formatNumber(et.gasLimit||0,"gasLimit"),et.to!=null?getAddress(et.to):"0x",formatNumber(et.value||0,"value"),et.data||"0x",formatAccessList(et.accessList||[])];if(_e){const rt=splitSignature(_e);tt.push(formatNumber(rt.recoveryParam,"recoveryParam")),tt.push(stripZeros(rt.r)),tt.push(stripZeros(rt.s))}return hexConcat(["0x02",encode$3(tt)])}function _serializeEip2930(et,_e){const tt=[formatNumber(et.chainId||0,"chainId"),formatNumber(et.nonce||0,"nonce"),formatNumber(et.gasPrice||0,"gasPrice"),formatNumber(et.gasLimit||0,"gasLimit"),et.to!=null?getAddress(et.to):"0x",formatNumber(et.value||0,"value"),et.data||"0x",formatAccessList(et.accessList||[])];if(_e){const rt=splitSignature(_e);tt.push(formatNumber(rt.recoveryParam,"recoveryParam")),tt.push(stripZeros(rt.r)),tt.push(stripZeros(rt.s))}return hexConcat(["0x01",encode$3(tt)])}function _serialize(et,_e){checkProperties(et,allowedTransactionKeys$2);const tt=[];transactionFields.forEach(function(at){let ot=et[at.name]||[];const ct={};at.numeric&&(ct.hexPad="left"),ot=arrayify(hexlify(ot,ct)),at.length&&ot.length!==at.length&&ot.length>0&&logger$r.throwArgumentError("invalid length for "+at.name,"transaction:"+at.name,ot),at.maxLength&&(ot=stripZeros(ot),ot.length>at.maxLength&&logger$r.throwArgumentError("invalid length for "+at.name,"transaction:"+at.name,ot)),tt.push(hexlify(ot))});let rt=0;if(et.chainId!=null?(rt=et.chainId,typeof rt!="number"&&logger$r.throwArgumentError("invalid transaction.chainId","transaction",et)):_e&&!isBytesLike(_e)&&_e.v>28&&(rt=Math.floor((_e.v-35)/2)),rt!==0&&(tt.push(hexlify(rt)),tt.push("0x"),tt.push("0x")),!_e)return encode$3(tt);const nt=splitSignature(_e);let it=27+nt.recoveryParam;return rt!==0?(tt.pop(),tt.pop(),tt.pop(),it+=rt*2+8,nt.v>28&&nt.v!==it&&logger$r.throwArgumentError("transaction.chainId/signature.v mismatch","signature",_e)):nt.v!==it&&logger$r.throwArgumentError("transaction.chainId/signature.v mismatch","signature",_e),tt.push(hexlify(it)),tt.push(stripZeros(arrayify(nt.r))),tt.push(stripZeros(arrayify(nt.s))),encode$3(tt)}function serialize$2(et,_e){if(et.type==null||et.type===0)return et.accessList!=null&&logger$r.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",et),_serialize(et,_e);switch(et.type){case 1:return _serializeEip2930(et,_e);case 2:return _serializeEip1559(et,_e)}return logger$r.throwError(`unsupported transaction type: ${et.type}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:et.type})}function _parseEipSignature(et,_e,tt){try{const rt=handleNumber(_e[0]).toNumber();if(rt!==0&&rt!==1)throw new Error("bad recid");et.v=rt}catch{logger$r.throwArgumentError("invalid v for transaction type: 1","v",_e[0])}et.r=hexZeroPad(_e[1],32),et.s=hexZeroPad(_e[2],32);try{const rt=keccak256$1(tt(et));et.from=recoverAddress(rt,{r:et.r,s:et.s,recoveryParam:et.v})}catch{}}function _parseEip1559(et){const _e=decode$5(et.slice(1));_e.length!==9&&_e.length!==12&&logger$r.throwArgumentError("invalid component count for transaction type: 2","payload",hexlify(et));const tt=handleNumber(_e[2]),rt=handleNumber(_e[3]),nt={type:2,chainId:handleNumber(_e[0]).toNumber(),nonce:handleNumber(_e[1]).toNumber(),maxPriorityFeePerGas:tt,maxFeePerGas:rt,gasPrice:null,gasLimit:handleNumber(_e[4]),to:handleAddress(_e[5]),value:handleNumber(_e[6]),data:_e[7],accessList:accessListify(_e[8])};return _e.length===9||(nt.hash=keccak256$1(et),_parseEipSignature(nt,_e.slice(9),_serializeEip1559)),nt}function _parseEip2930(et){const _e=decode$5(et.slice(1));_e.length!==8&&_e.length!==11&&logger$r.throwArgumentError("invalid component count for transaction type: 1","payload",hexlify(et));const tt={type:1,chainId:handleNumber(_e[0]).toNumber(),nonce:handleNumber(_e[1]).toNumber(),gasPrice:handleNumber(_e[2]),gasLimit:handleNumber(_e[3]),to:handleAddress(_e[4]),value:handleNumber(_e[5]),data:_e[6],accessList:accessListify(_e[7])};return _e.length===8||(tt.hash=keccak256$1(et),_parseEipSignature(tt,_e.slice(8),_serializeEip2930)),tt}function _parse(et){const _e=decode$5(et);_e.length!==9&&_e.length!==6&&logger$r.throwArgumentError("invalid raw transaction","rawTransaction",et);const tt={nonce:handleNumber(_e[0]).toNumber(),gasPrice:handleNumber(_e[1]),gasLimit:handleNumber(_e[2]),to:handleAddress(_e[3]),value:handleNumber(_e[4]),data:_e[5],chainId:0};if(_e.length===6)return tt;try{tt.v=BigNumber.from(_e[6]).toNumber()}catch{return tt}if(tt.r=hexZeroPad(_e[7],32),tt.s=hexZeroPad(_e[8],32),BigNumber.from(tt.r).isZero()&&BigNumber.from(tt.s).isZero())tt.chainId=tt.v,tt.v=0;else{tt.chainId=Math.floor((tt.v-35)/2),tt.chainId<0&&(tt.chainId=0);let rt=tt.v-27;const nt=_e.slice(0,6);tt.chainId!==0&&(nt.push(hexlify(tt.chainId)),nt.push("0x"),nt.push("0x"),rt-=tt.chainId*2+8);const it=keccak256$1(encode$3(nt));try{tt.from=recoverAddress(it,{r:hexlify(tt.r),s:hexlify(tt.s),recoveryParam:rt})}catch{}tt.hash=keccak256$1(et)}return tt.type=null,tt}function parse$3(et){const _e=arrayify(et);if(_e[0]>127)return _parse(_e);switch(_e[0]){case 1:return _parseEip2930(_e);case 2:return _parseEip1559(_e)}return logger$r.throwError(`unsupported transaction type: ${_e[0]}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:_e[0]})}const lib_esm$9=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return TransactionTypes},computeAddress,recoverAddress,accessListify,serialize:serialize$2,parse:parse$3},Symbol.toStringTag,{value:"Module"})),version$f="contracts/5.7.0";var __awaiter$b=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$q=new Logger(version$f),allowedTransactionKeys$1={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function resolveName(et,_e){return __awaiter$b(this,void 0,void 0,function*(){const tt=yield _e;typeof tt!="string"&&logger$q.throwArgumentError("invalid address or ENS name","name",tt);try{return getAddress(tt)}catch{}et||logger$q.throwError("a provider or signer is needed to resolve ENS names",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const rt=yield et.resolveName(tt);return rt==null&&logger$q.throwArgumentError("resolver or addr is not configured for ENS name","name",tt),rt})}function resolveAddresses(et,_e,tt){return __awaiter$b(this,void 0,void 0,function*(){return Array.isArray(tt)?yield Promise.all(tt.map((rt,nt)=>resolveAddresses(et,Array.isArray(_e)?_e[nt]:_e[rt.name],rt))):tt.type==="address"?yield resolveName(et,_e):tt.type==="tuple"?yield resolveAddresses(et,_e,tt.components):tt.baseType==="array"?Array.isArray(_e)?yield Promise.all(_e.map(rt=>resolveAddresses(et,rt,tt.arrayChildren))):Promise.reject(logger$q.makeError("invalid value for array",Logger.errors.INVALID_ARGUMENT,{argument:"value",value:_e})):_e})}function populateTransaction(et,_e,tt){return __awaiter$b(this,void 0,void 0,function*(){let rt={};tt.length===_e.inputs.length+1&&typeof tt[tt.length-1]=="object"&&(rt=shallowCopy(tt.pop())),logger$q.checkArgumentCount(tt.length,_e.inputs.length,"passed to contract"),et.signer?rt.from?rt.from=resolveProperties({override:resolveName(et.signer,rt.from),signer:et.signer.getAddress()}).then(ut=>__awaiter$b(this,void 0,void 0,function*(){return getAddress(ut.signer)!==ut.override&&logger$q.throwError("Contract with a Signer cannot override from",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),ut.override})):rt.from=et.signer.getAddress():rt.from&&(rt.from=resolveName(et.provider,rt.from));const nt=yield resolveProperties({args:resolveAddresses(et.signer||et.provider,tt,_e.inputs),address:et.resolvedAddress,overrides:resolveProperties(rt)||{}}),it=et.interface.encodeFunctionData(_e,nt.args),at={data:it,to:nt.address},ot=nt.overrides;if(ot.nonce!=null&&(at.nonce=BigNumber.from(ot.nonce).toNumber()),ot.gasLimit!=null&&(at.gasLimit=BigNumber.from(ot.gasLimit)),ot.gasPrice!=null&&(at.gasPrice=BigNumber.from(ot.gasPrice)),ot.maxFeePerGas!=null&&(at.maxFeePerGas=BigNumber.from(ot.maxFeePerGas)),ot.maxPriorityFeePerGas!=null&&(at.maxPriorityFeePerGas=BigNumber.from(ot.maxPriorityFeePerGas)),ot.from!=null&&(at.from=ot.from),ot.type!=null&&(at.type=ot.type),ot.accessList!=null&&(at.accessList=accessListify(ot.accessList)),at.gasLimit==null&&_e.gas!=null){let ut=21e3;const ft=arrayify(it);for(let yt=0;yt<ft.length;yt++)ut+=4,ft[yt]&&(ut+=64);at.gasLimit=BigNumber.from(_e.gas).add(ut)}if(ot.value){const ut=BigNumber.from(ot.value);!ut.isZero()&&!_e.payable&&logger$q.throwError("non-payable method cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:rt.value}),at.value=ut}ot.customData&&(at.customData=shallowCopy(ot.customData)),ot.ccipReadEnabled&&(at.ccipReadEnabled=!!ot.ccipReadEnabled),delete rt.nonce,delete rt.gasLimit,delete rt.gasPrice,delete rt.from,delete rt.value,delete rt.type,delete rt.accessList,delete rt.maxFeePerGas,delete rt.maxPriorityFeePerGas,delete rt.customData,delete rt.ccipReadEnabled;const ct=Object.keys(rt).filter(ut=>rt[ut]!=null);return ct.length&&logger$q.throwError(`cannot override ${ct.map(ut=>JSON.stringify(ut)).join(",")}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:ct}),at})}function buildPopulate(et,_e){return function(...tt){return populateTransaction(et,_e,tt)}}function buildEstimate(et,_e){const tt=et.signer||et.provider;return function(...rt){return __awaiter$b(this,void 0,void 0,function*(){tt||logger$q.throwError("estimate require a provider or signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const nt=yield populateTransaction(et,_e,rt);return yield tt.estimateGas(nt)})}}function addContractWait(et,_e){const tt=_e.wait.bind(_e);_e.wait=rt=>tt(rt).then(nt=>(nt.events=nt.logs.map(it=>{let at=deepCopy(it),ot=null;try{ot=et.interface.parseLog(it)}catch{}return ot&&(at.args=ot.args,at.decode=(ct,ut)=>et.interface.decodeEventLog(ot.eventFragment,ct,ut),at.event=ot.name,at.eventSignature=ot.signature),at.removeListener=()=>et.provider,at.getBlock=()=>et.provider.getBlock(nt.blockHash),at.getTransaction=()=>et.provider.getTransaction(nt.transactionHash),at.getTransactionReceipt=()=>Promise.resolve(nt),at}),nt))}function buildCall(et,_e,tt){const rt=et.signer||et.provider;return function(...nt){return __awaiter$b(this,void 0,void 0,function*(){let it;if(nt.length===_e.inputs.length+1&&typeof nt[nt.length-1]=="object"){const ct=shallowCopy(nt.pop());ct.blockTag!=null&&(it=yield ct.blockTag),delete ct.blockTag,nt.push(ct)}et.deployTransaction!=null&&(yield et._deployed(it));const at=yield populateTransaction(et,_e,nt),ot=yield rt.call(at,it);try{let ct=et.interface.decodeFunctionResult(_e,ot);return tt&&_e.outputs.length===1&&(ct=ct[0]),ct}catch(ct){throw ct.code===Logger.errors.CALL_EXCEPTION&&(ct.address=et.address,ct.args=nt,ct.transaction=at),ct}})}}function buildSend(et,_e){return function(...tt){return __awaiter$b(this,void 0,void 0,function*(){et.signer||logger$q.throwError("sending a transaction requires a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),et.deployTransaction!=null&&(yield et._deployed());const rt=yield populateTransaction(et,_e,tt),nt=yield et.signer.sendTransaction(rt);return addContractWait(et,nt),nt})}}function buildDefault(et,_e,tt){return _e.constant?buildCall(et,_e,tt):buildSend(et,_e)}function getEventTag$1(et){return et.address&&(et.topics==null||et.topics.length===0)?"*":(et.address||"*")+"@"+(et.topics?et.topics.map(_e=>Array.isArray(_e)?_e.join("|"):_e).join(":"):"")}class RunningEvent{constructor(_e,tt){defineReadOnly(this,"tag",_e),defineReadOnly(this,"filter",tt),this._listeners=[]}addListener(_e,tt){this._listeners.push({listener:_e,once:tt})}removeListener(_e){let tt=!1;this._listeners=this._listeners.filter(rt=>tt||rt.listener!==_e?!0:(tt=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(_e=>_e.listener)}listenerCount(){return this._listeners.length}run(_e){const tt=this.listenerCount();return this._listeners=this._listeners.filter(rt=>{const nt=_e.slice();return setTimeout(()=>{rt.listener.apply(this,nt)},0),!rt.once}),tt}prepareEvent(_e){}getEmit(_e){return[_e]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(_e,tt,rt,nt){const it={address:_e};let at=tt.getEventTopic(rt);nt?(at!==nt[0]&&logger$q.throwArgumentError("topic mismatch","topics",nt),it.topics=nt.slice()):it.topics=[at],super(getEventTag$1(it),it),defineReadOnly(this,"address",_e),defineReadOnly(this,"interface",tt),defineReadOnly(this,"fragment",rt)}prepareEvent(_e){super.prepareEvent(_e),_e.event=this.fragment.name,_e.eventSignature=this.fragment.format(),_e.decode=(tt,rt)=>this.interface.decodeEventLog(this.fragment,tt,rt);try{_e.args=this.interface.decodeEventLog(this.fragment,_e.data,_e.topics)}catch(tt){_e.args=null,_e.decodeError=tt}}getEmit(_e){const tt=checkResultErrors(_e.args);if(tt.length)throw tt[0].error;const rt=(_e.args||[]).slice();return rt.push(_e),rt}}class WildcardRunningEvent extends RunningEvent{constructor(_e,tt){super("*",{address:_e}),defineReadOnly(this,"address",_e),defineReadOnly(this,"interface",tt)}prepareEvent(_e){super.prepareEvent(_e);try{const tt=this.interface.parseLog(_e);_e.event=tt.name,_e.eventSignature=tt.signature,_e.decode=(rt,nt)=>this.interface.decodeEventLog(tt.eventFragment,rt,nt),_e.args=tt.args}catch{}}}class BaseContract{constructor(_e,tt,rt){defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(tt)),rt==null?(defineReadOnly(this,"provider",null),defineReadOnly(this,"signer",null)):Signer.isSigner(rt)?(defineReadOnly(this,"provider",rt.provider||null),defineReadOnly(this,"signer",rt)):Provider$1.isProvider(rt)?(defineReadOnly(this,"provider",rt),defineReadOnly(this,"signer",null)):logger$q.throwArgumentError("invalid signer or provider","signerOrProvider",rt),defineReadOnly(this,"callStatic",{}),defineReadOnly(this,"estimateGas",{}),defineReadOnly(this,"functions",{}),defineReadOnly(this,"populateTransaction",{}),defineReadOnly(this,"filters",{});{const at={};Object.keys(this.interface.events).forEach(ot=>{const ct=this.interface.events[ot];defineReadOnly(this.filters,ot,(...ut)=>({address:this.address,topics:this.interface.encodeFilterTopics(ct,ut)})),at[ct.name]||(at[ct.name]=[]),at[ct.name].push(ot)}),Object.keys(at).forEach(ot=>{const ct=at[ot];ct.length===1?defineReadOnly(this.filters,ot,this.filters[ct[0]]):logger$q.warn(`Duplicate definition of ${ot} (${ct.join(", ")})`)})}if(defineReadOnly(this,"_runningEvents",{}),defineReadOnly(this,"_wrappedEmits",{}),_e==null&&logger$q.throwArgumentError("invalid contract address or ENS name","addressOrName",_e),defineReadOnly(this,"address",_e),this.provider)defineReadOnly(this,"resolvedAddress",resolveName(this.provider,_e));else try{defineReadOnly(this,"resolvedAddress",Promise.resolve(getAddress(_e)))}catch{logger$q.throwError("provider is required to use ENS name as contract address",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(at=>{});const nt={},it={};Object.keys(this.interface.functions).forEach(at=>{const ot=this.interface.functions[at];if(it[at]){logger$q.warn(`Duplicate ABI entry for ${JSON.stringify(at)}`);return}it[at]=!0;{const ct=ot.name;nt[`%${ct}`]||(nt[`%${ct}`]=[]),nt[`%${ct}`].push(at)}this[at]==null&&defineReadOnly(this,at,buildDefault(this,ot,!0)),this.functions[at]==null&&defineReadOnly(this.functions,at,buildDefault(this,ot,!1)),this.callStatic[at]==null&&defineReadOnly(this.callStatic,at,buildCall(this,ot,!0)),this.populateTransaction[at]==null&&defineReadOnly(this.populateTransaction,at,buildPopulate(this,ot)),this.estimateGas[at]==null&&defineReadOnly(this.estimateGas,at,buildEstimate(this,ot))}),Object.keys(nt).forEach(at=>{const ot=nt[at];if(ot.length>1)return;at=at.substring(1);const ct=ot[0];try{this[at]==null&&defineReadOnly(this,at,this[ct])}catch{}this.functions[at]==null&&defineReadOnly(this.functions,at,this.functions[ct]),this.callStatic[at]==null&&defineReadOnly(this.callStatic,at,this.callStatic[ct]),this.populateTransaction[at]==null&&defineReadOnly(this.populateTransaction,at,this.populateTransaction[ct]),this.estimateGas[at]==null&&defineReadOnly(this.estimateGas,at,this.estimateGas[ct])})}static getContractAddress(_e){return getContractAddress(_e)}static getInterface(_e){return Interface.isInterface(_e)?_e:new Interface(_e)}deployed(){return this._deployed()}_deployed(_e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,_e).then(tt=>(tt==="0x"&&logger$q.throwError("contract not deployed",Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(_e){this.signer||logger$q.throwError("sending a transactions require a signer",Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const tt=shallowCopy(_e||{});return["from","to"].forEach(function(rt){tt[rt]!=null&&logger$q.throwError("cannot override "+rt,Logger.errors.UNSUPPORTED_OPERATION,{operation:rt})}),tt.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(tt))}connect(_e){typeof _e=="string"&&(_e=new VoidSigner(_e,this.provider));const tt=new this.constructor(this.address,this.interface,_e);return this.deployTransaction&&defineReadOnly(tt,"deployTransaction",this.deployTransaction),tt}attach(_e){return new this.constructor(_e,this.interface,this.signer||this.provider)}static isIndexed(_e){return Indexed.isIndexed(_e)}_normalizeRunningEvent(_e){return this._runningEvents[_e.tag]?this._runningEvents[_e.tag]:_e}_getRunningEvent(_e){if(typeof _e=="string"){if(_e==="error")return this._normalizeRunningEvent(new ErrorRunningEvent);if(_e==="event")return this._normalizeRunningEvent(new RunningEvent("event",null));if(_e==="*")return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));const tt=this.interface.getEvent(_e);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,tt))}if(_e.topics&&_e.topics.length>0){try{const rt=_e.topics[0];if(typeof rt!="string")throw new Error("invalid topic");const nt=this.interface.getEvent(rt);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,nt,_e.topics))}catch{}const tt={address:this.address,topics:_e.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag$1(tt),tt))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(_e){if(_e.listenerCount()===0){delete this._runningEvents[_e.tag];const tt=this._wrappedEmits[_e.tag];tt&&_e.filter&&(this.provider.off(_e.filter,tt),delete this._wrappedEmits[_e.tag])}}_wrapEvent(_e,tt,rt){const nt=deepCopy(tt);return nt.removeListener=()=>{!rt||(_e.removeListener(rt),this._checkRunningEvents(_e))},nt.getBlock=()=>this.provider.getBlock(tt.blockHash),nt.getTransaction=()=>this.provider.getTransaction(tt.transactionHash),nt.getTransactionReceipt=()=>this.provider.getTransactionReceipt(tt.transactionHash),_e.prepareEvent(nt),nt}_addEventListener(_e,tt,rt){if(this.provider||logger$q.throwError("events require a provider or a signer with a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),_e.addListener(tt,rt),this._runningEvents[_e.tag]=_e,!this._wrappedEmits[_e.tag]){const nt=it=>{let at=this._wrapEvent(_e,it,tt);if(at.decodeError==null)try{const ot=_e.getEmit(at);this.emit(_e.filter,...ot)}catch(ot){at.decodeError=ot.error}_e.filter!=null&&this.emit("event",at),at.decodeError!=null&&this.emit("error",at.decodeError,at)};this._wrappedEmits[_e.tag]=nt,_e.filter!=null&&this.provider.on(_e.filter,nt)}}queryFilter(_e,tt,rt){const nt=this._getRunningEvent(_e),it=shallowCopy(nt.filter);return typeof tt=="string"&&isHexString$4(tt,32)?(rt!=null&&logger$q.throwArgumentError("cannot specify toBlock with blockhash","toBlock",rt),it.blockHash=tt):(it.fromBlock=tt!=null?tt:0,it.toBlock=rt!=null?rt:"latest"),this.provider.getLogs(it).then(at=>at.map(ot=>this._wrapEvent(nt,ot,null)))}on(_e,tt){return this._addEventListener(this._getRunningEvent(_e),tt,!1),this}once(_e,tt){return this._addEventListener(this._getRunningEvent(_e),tt,!0),this}emit(_e,...tt){if(!this.provider)return!1;const rt=this._getRunningEvent(_e),nt=rt.run(tt)>0;return this._checkRunningEvents(rt),nt}listenerCount(_e){return this.provider?_e==null?Object.keys(this._runningEvents).reduce((tt,rt)=>tt+this._runningEvents[rt].listenerCount(),0):this._getRunningEvent(_e).listenerCount():0}listeners(_e){if(!this.provider)return[];if(_e==null){const tt=[];for(let rt in this._runningEvents)this._runningEvents[rt].listeners().forEach(nt=>{tt.push(nt)});return tt}return this._getRunningEvent(_e).listeners()}removeAllListeners(_e){if(!this.provider)return this;if(_e==null){for(const rt in this._runningEvents){const nt=this._runningEvents[rt];nt.removeAllListeners(),this._checkRunningEvents(nt)}return this}const tt=this._getRunningEvent(_e);return tt.removeAllListeners(),this._checkRunningEvents(tt),this}off(_e,tt){if(!this.provider)return this;const rt=this._getRunningEvent(_e);return rt.removeListener(tt),this._checkRunningEvents(rt),this}removeListener(_e,tt){return this.off(_e,tt)}}class Contract extends BaseContract{}class ContractFactory$1{constructor(_e,tt,rt){let nt=null;typeof tt=="string"?nt=tt:isBytes(tt)?nt=hexlify(tt):tt&&typeof tt.object=="string"?nt=tt.object:nt="!",nt.substring(0,2)!=="0x"&&(nt="0x"+nt),(!isHexString$4(nt)||nt.length%2)&&logger$q.throwArgumentError("invalid bytecode","bytecode",tt),rt&&!Signer.isSigner(rt)&&logger$q.throwArgumentError("invalid signer","signer",rt),defineReadOnly(this,"bytecode",nt),defineReadOnly(this,"interface",getStatic(new.target,"getInterface")(_e)),defineReadOnly(this,"signer",rt||null)}getDeployTransaction(..._e){let tt={};if(_e.length===this.interface.deploy.inputs.length+1&&typeof _e[_e.length-1]=="object"){tt=shallowCopy(_e.pop());for(const rt in tt)if(!allowedTransactionKeys$1[rt])throw new Error("unknown transaction override "+rt)}return["data","from","to"].forEach(rt=>{tt[rt]!=null&&logger$q.throwError("cannot override "+rt,Logger.errors.UNSUPPORTED_OPERATION,{operation:rt})}),tt.value&&!BigNumber.from(tt.value).isZero()&&!this.interface.deploy.payable&&logger$q.throwError("non-payable constructor cannot override value",Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:tt.value}),logger$q.checkArgumentCount(_e.length,this.interface.deploy.inputs.length," in Contract constructor"),tt.data=hexlify(concat$3([this.bytecode,this.interface.encodeDeploy(_e)])),tt}deploy(..._e){return __awaiter$b(this,void 0,void 0,function*(){let tt={};_e.length===this.interface.deploy.inputs.length+1&&(tt=_e.pop()),logger$q.checkArgumentCount(_e.length,this.interface.deploy.inputs.length," in Contract constructor");const rt=yield resolveAddresses(this.signer,_e,this.interface.deploy.inputs);rt.push(tt);const nt=this.getDeployTransaction(...rt),it=yield this.signer.sendTransaction(nt),at=getStatic(this.constructor,"getContractAddress")(it),ot=getStatic(this.constructor,"getContract")(at,this.interface,this.signer);return addContractWait(ot,it),defineReadOnly(ot,"deployTransaction",it),ot})}attach(_e){return this.constructor.getContract(_e,this.interface,this.signer)}connect(_e){return new this.constructor(this.interface,this.bytecode,_e)}static fromSolidity(_e,tt){_e==null&&logger$q.throwError("missing compiler output",Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof _e=="string"&&(_e=JSON.parse(_e));const rt=_e.abi;let nt=null;return _e.bytecode?nt=_e.bytecode:_e.evm&&_e.evm.bytecode&&(nt=_e.evm.bytecode),new this(rt,nt,tt)}static getInterface(_e){return Contract.getInterface(_e)}static getContractAddress(_e){return getContractAddress(_e)}static getContract(_e,tt,rt){return new Contract(_e,tt,rt)}}class BaseX{constructor(_e){defineReadOnly(this,"alphabet",_e),defineReadOnly(this,"base",_e.length),defineReadOnly(this,"_alphabetMap",{}),defineReadOnly(this,"_leader",_e.charAt(0));for(let tt=0;tt<_e.length;tt++)this._alphabetMap[_e.charAt(tt)]=tt}encode(_e){let tt=arrayify(_e);if(tt.length===0)return"";let rt=[0];for(let it=0;it<tt.length;++it){let at=tt[it];for(let ot=0;ot<rt.length;++ot)at+=rt[ot]<<8,rt[ot]=at%this.base,at=at/this.base|0;for(;at>0;)rt.push(at%this.base),at=at/this.base|0}let nt="";for(let it=0;tt[it]===0&&it<tt.length-1;++it)nt+=this._leader;for(let it=rt.length-1;it>=0;--it)nt+=this.alphabet[rt[it]];return nt}decode(_e){if(typeof _e!="string")throw new TypeError("Expected String");let tt=[];if(_e.length===0)return new Uint8Array(tt);tt.push(0);for(let rt=0;rt<_e.length;rt++){let nt=this._alphabetMap[_e[rt]];if(nt===void 0)throw new Error("Non-base"+this.base+" character");let it=nt;for(let at=0;at<tt.length;++at)it+=tt[at]*this.base,tt[at]=it&255,it>>=8;for(;it>0;)tt.push(it&255),it>>=8}for(let rt=0;_e[rt]===this._leader&&rt<_e.length-1;++rt)tt.push(0);return arrayify(new Uint8Array(tt.reverse()))}}const Base32=new BaseX("abcdefghijklmnopqrstuvwxyz234567"),Base58=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),lib_esm$8=Object.freeze(Object.defineProperty({__proto__:null,BaseX,Base32,Base58},Symbol.toStringTag,{value:"Module"}));var SupportedAlgorithm;(function(et){et.sha256="sha256",et.sha512="sha512"})(SupportedAlgorithm||(SupportedAlgorithm={}));const version$e="sha2/5.7.0",logger$p=new Logger(version$e);function ripemd160$1(et){return"0x"+hash$1.ripemd160().update(arrayify(et)).digest("hex")}function sha256$3(et){return"0x"+hash$1.sha256().update(arrayify(et)).digest("hex")}function sha512$1(et){return"0x"+hash$1.sha512().update(arrayify(et)).digest("hex")}function computeHmac(et,_e,tt){return SupportedAlgorithm[et]||logger$p.throwError("unsupported algorithm "+et,Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:et}),"0x"+hash$1.hmac(hash$1[et],arrayify(_e)).update(arrayify(tt)).digest("hex")}const lib_esm$7=Object.freeze(Object.defineProperty({__proto__:null,computeHmac,ripemd160:ripemd160$1,sha256:sha256$3,sha512:sha512$1,get SupportedAlgorithm(){return SupportedAlgorithm}},Symbol.toStringTag,{value:"Module"}));function pbkdf2$2(et,_e,tt,rt,nt){et=arrayify(et),_e=arrayify(_e);let it,at=1;const ot=new Uint8Array(rt),ct=new Uint8Array(_e.length+4);ct.set(_e);let ut,ft;for(let yt=1;yt<=at;yt++){ct[_e.length]=yt>>24&255,ct[_e.length+1]=yt>>16&255,ct[_e.length+2]=yt>>8&255,ct[_e.length+3]=yt&255;let bt=arrayify(computeHmac(nt,et,ct));it||(it=bt.length,ft=new Uint8Array(it),at=Math.ceil(rt/it),ut=rt-(at-1)*it),ft.set(bt);for(let At=1;At<tt;At++){bt=arrayify(computeHmac(nt,et,bt));for(let St=0;St<it;St++)ft[St]^=bt[St]}const Et=(yt-1)*it,Ct=yt===at?ut:it;ot.set(arrayify(ft).slice(0,Ct),Et)}return hexlify(ot)}const version$d="wordlists/5.7.0",logger$o=new Logger(version$d);class Wordlist{constructor(_e){logger$o.checkAbstract(new.target,Wordlist),defineReadOnly(this,"locale",_e)}split(_e){return _e.toLowerCase().split(/ +/g)}join(_e){return _e.join(" ")}static check(_e){const tt=[];for(let rt=0;rt<2048;rt++){const nt=_e.getWord(rt);if(rt!==_e.getWordIndex(nt))return"0x";tt.push(nt)}return id(tt.join(`
`)+`
`)}static register(_e,tt){tt||(tt=_e.locale)}}const words="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let wordlist=null;function loadWords(et){if(wordlist==null&&(wordlist=words.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Wordlist.check(et)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw wordlist=null,new Error("BIP39 Wordlist for en (English) FAILED")}class LangEn extends Wordlist{constructor(){super("en")}getWord(_e){return loadWords(this),wordlist[_e]}getWordIndex(_e){return loadWords(this),wordlist.indexOf(_e)}}const langEn=new LangEn;Wordlist.register(langEn);const wordlists={en:langEn},version$c="hdnode/5.7.0",logger$n=new Logger(version$c),N$3=BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=toUtf8Bytes("Bitcoin seed"),HardenedBit=2147483648;function getUpperMask(et){return(1<<et)-1<<8-et}function getLowerMask(et){return(1<<et)-1}function bytes32(et){return hexZeroPad(hexlify(et),32)}function base58check(et){return Base58.encode(concat$3([et,hexDataSlice(sha256$3(sha256$3(et)),0,4)]))}function getWordlist(et){if(et==null)return wordlists.en;if(typeof et=="string"){const _e=wordlists[et];return _e==null&&logger$n.throwArgumentError("unknown locale","wordlist",et),_e}return et}const _constructorGuard$1={},defaultPath="m/44'/60'/0'/0/0";class HDNode{constructor(_e,tt,rt,nt,it,at,ot,ct){if(_e!==_constructorGuard$1)throw new Error("HDNode constructor cannot be called directly");if(tt){const ut=new SigningKey(tt);defineReadOnly(this,"privateKey",ut.privateKey),defineReadOnly(this,"publicKey",ut.compressedPublicKey)}else defineReadOnly(this,"privateKey",null),defineReadOnly(this,"publicKey",hexlify(rt));defineReadOnly(this,"parentFingerprint",nt),defineReadOnly(this,"fingerprint",hexDataSlice(ripemd160$1(sha256$3(this.publicKey)),0,4)),defineReadOnly(this,"address",computeAddress(this.publicKey)),defineReadOnly(this,"chainCode",it),defineReadOnly(this,"index",at),defineReadOnly(this,"depth",ot),ct==null?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",null)):typeof ct=="string"?(defineReadOnly(this,"mnemonic",null),defineReadOnly(this,"path",ct)):(defineReadOnly(this,"mnemonic",ct),defineReadOnly(this,"path",ct.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return base58check(concat$3([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",hexlify(this.depth),this.parentFingerprint,hexZeroPad(hexlify(this.index),4),this.chainCode,this.privateKey!=null?concat$3(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(_constructorGuard$1,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(_e){if(_e>4294967295)throw new Error("invalid index - "+String(_e));let tt=this.path;tt&&(tt+="/"+(_e&~HardenedBit));const rt=new Uint8Array(37);if(_e&HardenedBit){if(!this.privateKey)throw new Error("cannot derive child of neutered node");rt.set(arrayify(this.privateKey),1),tt&&(tt+="'")}else rt.set(arrayify(this.publicKey));for(let yt=24;yt>=0;yt-=8)rt[33+(yt>>3)]=_e>>24-yt&255;const nt=arrayify(computeHmac(SupportedAlgorithm.sha512,this.chainCode,rt)),it=nt.slice(0,32),at=nt.slice(32);let ot=null,ct=null;this.privateKey?ot=bytes32(BigNumber.from(it).add(this.privateKey).mod(N$3)):ct=new SigningKey(hexlify(it))._addPoint(this.publicKey);let ut=tt;const ft=this.mnemonic;return ft&&(ut=Object.freeze({phrase:ft.phrase,path:tt,locale:ft.locale||"en"})),new HDNode(_constructorGuard$1,ot,ct,this.fingerprint,bytes32(at),_e,this.depth+1,ut)}derivePath(_e){const tt=_e.split("/");if(tt.length===0||tt[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+_e);tt[0]==="m"&&tt.shift();let rt=this;for(let nt=0;nt<tt.length;nt++){const it=tt[nt];if(it.match(/^[0-9]+'$/)){const at=parseInt(it.substring(0,it.length-1));if(at>=HardenedBit)throw new Error("invalid path index - "+it);rt=rt._derive(HardenedBit+at)}else if(it.match(/^[0-9]+$/)){const at=parseInt(it);if(at>=HardenedBit)throw new Error("invalid path index - "+it);rt=rt._derive(at)}else throw new Error("invalid path component - "+it)}return rt}static _fromSeed(_e,tt){const rt=arrayify(_e);if(rt.length<16||rt.length>64)throw new Error("invalid seed");const nt=arrayify(computeHmac(SupportedAlgorithm.sha512,MasterSecret,rt));return new HDNode(_constructorGuard$1,bytes32(nt.slice(0,32)),null,"0x00000000",bytes32(nt.slice(32)),0,0,tt)}static fromMnemonic(_e,tt,rt){return rt=getWordlist(rt),_e=entropyToMnemonic(mnemonicToEntropy(_e,rt),rt),HDNode._fromSeed(mnemonicToSeed(_e,tt),{phrase:_e,path:"m",locale:rt.locale})}static fromSeed(_e){return HDNode._fromSeed(_e,null)}static fromExtendedKey(_e){const tt=Base58.decode(_e);(tt.length!==82||base58check(tt.slice(0,78))!==_e)&&logger$n.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const rt=tt[4],nt=hexlify(tt.slice(5,9)),it=parseInt(hexlify(tt.slice(9,13)).substring(2),16),at=hexlify(tt.slice(13,45)),ot=tt.slice(45,78);switch(hexlify(tt.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(_constructorGuard$1,null,hexlify(ot),nt,at,it,rt,null);case"0x0488ade4":case"0x04358394 ":if(ot[0]!==0)break;return new HDNode(_constructorGuard$1,hexlify(ot.slice(1)),null,nt,at,it,rt,null)}return logger$n.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(et,_e){_e||(_e="");const tt=toUtf8Bytes("mnemonic"+_e,UnicodeNormalizationForm.NFKD);return pbkdf2$2(toUtf8Bytes(et,UnicodeNormalizationForm.NFKD),tt,2048,64,"sha512")}function mnemonicToEntropy(et,_e){_e=getWordlist(_e),logger$n.checkNormalize();const tt=_e.split(et);if(tt.length%3!==0)throw new Error("invalid mnemonic");const rt=arrayify(new Uint8Array(Math.ceil(11*tt.length/8)));let nt=0;for(let ut=0;ut<tt.length;ut++){let ft=_e.getWordIndex(tt[ut].normalize("NFKD"));if(ft===-1)throw new Error("invalid mnemonic");for(let yt=0;yt<11;yt++)ft&1<<10-yt&&(rt[nt>>3]|=1<<7-nt%8),nt++}const it=32*tt.length/3,at=tt.length/3,ot=getUpperMask(at);if((arrayify(sha256$3(rt.slice(0,it/8)))[0]&ot)!==(rt[rt.length-1]&ot))throw new Error("invalid checksum");return hexlify(rt.slice(0,it/8))}function entropyToMnemonic(et,_e){if(_e=getWordlist(_e),et=arrayify(et),et.length%4!==0||et.length<16||et.length>32)throw new Error("invalid entropy");const tt=[0];let rt=11;for(let at=0;at<et.length;at++)rt>8?(tt[tt.length-1]<<=8,tt[tt.length-1]|=et[at],rt-=8):(tt[tt.length-1]<<=rt,tt[tt.length-1]|=et[at]>>8-rt,tt.push(et[at]&getLowerMask(8-rt)),rt+=3);const nt=et.length/4,it=arrayify(sha256$3(et))[0]&getUpperMask(nt);return tt[tt.length-1]<<=nt,tt[tt.length-1]|=it>>8-nt,_e.join(tt.map(at=>_e.getWord(at)))}function isValidMnemonic(et,_e){try{return mnemonicToEntropy(et,_e),!0}catch{}return!1}function getAccountPath(et){return(typeof et!="number"||et<0||et>=HardenedBit||et%1)&&logger$n.throwArgumentError("invalid account index","index",et),`m/44'/60'/${et}'/0/0`}const lib_esm$6=Object.freeze(Object.defineProperty({__proto__:null,defaultPath,HDNode,mnemonicToSeed,mnemonicToEntropy,entropyToMnemonic,isValidMnemonic,getAccountPath},Symbol.toStringTag,{value:"Module"})),version$b="random/5.7.0",logger$m=new Logger(version$b);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate globalThis object")}const anyGlobal=getGlobal();let crypto$2=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$2||!crypto$2.getRandomValues)&&(logger$m.warn("WARNING: Missing strong random number source"),crypto$2={getRandomValues:function(et){return logger$m.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes$1(et){(et<=0||et>1024||et%1||et!=et)&&logger$m.throwArgumentError("invalid length","length",et);const _e=new Uint8Array(et);return crypto$2.getRandomValues(_e),arrayify(_e)}function shuffled(et){et=et.slice();for(let _e=et.length-1;_e>0;_e--){const tt=Math.floor(Math.random()*(_e+1)),rt=et[_e];et[_e]=et[tt],et[tt]=rt}return et}const lib_esm$5=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:randomBytes$1,shuffled},Symbol.toStringTag,{value:"Module"}));var aesJs={exports:{}};(function(et,_e){(function(tt){function rt(gt){return parseInt(gt)===gt}function nt(gt){if(!rt(gt.length))return!1;for(var lt=0;lt<gt.length;lt++)if(!rt(gt[lt])||gt[lt]<0||gt[lt]>255)return!1;return!0}function it(gt,lt){if(gt.buffer&&ArrayBuffer.isView(gt)&&gt.name==="Uint8Array")return lt&&(gt.slice?gt=gt.slice():gt=Array.prototype.slice.call(gt)),gt;if(Array.isArray(gt)){if(!nt(gt))throw new Error("Array contains invalid value: "+gt);return new Uint8Array(gt)}if(rt(gt.length)&&nt(gt))return new Uint8Array(gt);throw new Error("unsupported array-like object")}function at(gt){return new Uint8Array(gt)}function ot(gt,lt,wt,jt,It){(jt!=null||It!=null)&&(gt.slice?gt=gt.slice(jt,It):gt=Array.prototype.slice.call(gt,jt,It)),lt.set(gt,wt)}var ct=function(){function gt(wt){var jt=[],It=0;for(wt=encodeURI(wt);It<wt.length;){var Wt=wt.charCodeAt(It++);Wt===37?(jt.push(parseInt(wt.substr(It,2),16)),It+=2):jt.push(Wt)}return it(jt)}function lt(wt){for(var jt=[],It=0;It<wt.length;){var Wt=wt[It];Wt<128?(jt.push(String.fromCharCode(Wt)),It++):Wt>191&&Wt<224?(jt.push(String.fromCharCode((Wt&31)<<6|wt[It+1]&63)),It+=2):(jt.push(String.fromCharCode((Wt&15)<<12|(wt[It+1]&63)<<6|wt[It+2]&63)),It+=3)}return jt.join("")}return{toBytes:gt,fromBytes:lt}}(),ut=function(){function gt(jt){for(var It=[],Wt=0;Wt<jt.length;Wt+=2)It.push(parseInt(jt.substr(Wt,2),16));return It}var lt="0123456789abcdef";function wt(jt){for(var It=[],Wt=0;Wt<jt.length;Wt++){var Qt=jt[Wt];It.push(lt[(Qt&240)>>4]+lt[Qt&15])}return It.join("")}return{toBytes:gt,fromBytes:wt}}(),ft={16:10,24:12,32:14},yt=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],bt=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Et=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ct=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],At=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],St=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Tt=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],$t=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],kt=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Pt=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Ot=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Ht=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],qt=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Zt=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],tr=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Dt(gt){for(var lt=[],wt=0;wt<gt.length;wt+=4)lt.push(gt[wt]<<24|gt[wt+1]<<16|gt[wt+2]<<8|gt[wt+3]);return lt}var Rt=function(gt){if(!(this instanceof Rt))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:it(gt,!0)}),this._prepare()};Rt.prototype._prepare=function(){var gt=ft[this.key.length];if(gt==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var lt=0;lt<=gt;lt++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var wt=(gt+1)*4,jt=this.key.length/4,It=Dt(this.key),Wt,lt=0;lt<jt;lt++)Wt=lt>>2,this._Ke[Wt][lt%4]=It[lt],this._Kd[gt-Wt][lt%4]=It[lt];for(var Qt=0,Gt=jt,er;Gt<wt;){if(er=It[jt-1],It[0]^=bt[er>>16&255]<<24^bt[er>>8&255]<<16^bt[er&255]<<8^bt[er>>24&255]^yt[Qt]<<24,Qt+=1,jt!=8)for(var lt=1;lt<jt;lt++)It[lt]^=It[lt-1];else{for(var lt=1;lt<jt/2;lt++)It[lt]^=It[lt-1];er=It[jt/2-1],It[jt/2]^=bt[er&255]^bt[er>>8&255]<<8^bt[er>>16&255]<<16^bt[er>>24&255]<<24;for(var lt=jt/2+1;lt<jt;lt++)It[lt]^=It[lt-1]}for(var lt=0,hr,Vt;lt<jt&&Gt<wt;)hr=Gt>>2,Vt=Gt%4,this._Ke[hr][Vt]=It[lt],this._Kd[gt-hr][Vt]=It[lt++],Gt++}for(var hr=1;hr<gt;hr++)for(var Vt=0;Vt<4;Vt++)er=this._Kd[hr][Vt],this._Kd[hr][Vt]=Ht[er>>24&255]^qt[er>>16&255]^Zt[er>>8&255]^tr[er&255]},Rt.prototype.encrypt=function(gt){if(gt.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var lt=this._Ke.length-1,wt=[0,0,0,0],jt=Dt(gt),It=0;It<4;It++)jt[It]^=this._Ke[0][It];for(var Wt=1;Wt<lt;Wt++){for(var It=0;It<4;It++)wt[It]=Ct[jt[It]>>24&255]^At[jt[(It+1)%4]>>16&255]^St[jt[(It+2)%4]>>8&255]^Tt[jt[(It+3)%4]&255]^this._Ke[Wt][It];jt=wt.slice()}for(var Qt=at(16),Gt,It=0;It<4;It++)Gt=this._Ke[lt][It],Qt[4*It]=(bt[jt[It]>>24&255]^Gt>>24)&255,Qt[4*It+1]=(bt[jt[(It+1)%4]>>16&255]^Gt>>16)&255,Qt[4*It+2]=(bt[jt[(It+2)%4]>>8&255]^Gt>>8)&255,Qt[4*It+3]=(bt[jt[(It+3)%4]&255]^Gt)&255;return Qt},Rt.prototype.decrypt=function(gt){if(gt.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var lt=this._Kd.length-1,wt=[0,0,0,0],jt=Dt(gt),It=0;It<4;It++)jt[It]^=this._Kd[0][It];for(var Wt=1;Wt<lt;Wt++){for(var It=0;It<4;It++)wt[It]=$t[jt[It]>>24&255]^kt[jt[(It+3)%4]>>16&255]^Pt[jt[(It+2)%4]>>8&255]^Ot[jt[(It+1)%4]&255]^this._Kd[Wt][It];jt=wt.slice()}for(var Qt=at(16),Gt,It=0;It<4;It++)Gt=this._Kd[lt][It],Qt[4*It]=(Et[jt[It]>>24&255]^Gt>>24)&255,Qt[4*It+1]=(Et[jt[(It+3)%4]>>16&255]^Gt>>16)&255,Qt[4*It+2]=(Et[jt[(It+2)%4]>>8&255]^Gt>>8)&255,Qt[4*It+3]=(Et[jt[(It+1)%4]&255]^Gt)&255;return Qt};var Nt=function(gt){if(!(this instanceof Nt))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new Rt(gt)};Nt.prototype.encrypt=function(gt){if(gt=it(gt),gt.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var lt=at(gt.length),wt=at(16),jt=0;jt<gt.length;jt+=16)ot(gt,wt,0,jt,jt+16),wt=this._aes.encrypt(wt),ot(wt,lt,jt);return lt},Nt.prototype.decrypt=function(gt){if(gt=it(gt),gt.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var lt=at(gt.length),wt=at(16),jt=0;jt<gt.length;jt+=16)ot(gt,wt,0,jt,jt+16),wt=this._aes.decrypt(wt),ot(wt,lt,jt);return lt};var ht=function(gt,lt){if(!(this instanceof ht))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!lt)lt=at(16);else if(lt.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=it(lt,!0),this._aes=new Rt(gt)};ht.prototype.encrypt=function(gt){if(gt=it(gt),gt.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var lt=at(gt.length),wt=at(16),jt=0;jt<gt.length;jt+=16){ot(gt,wt,0,jt,jt+16);for(var It=0;It<16;It++)wt[It]^=this._lastCipherblock[It];this._lastCipherblock=this._aes.encrypt(wt),ot(this._lastCipherblock,lt,jt)}return lt},ht.prototype.decrypt=function(gt){if(gt=it(gt),gt.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var lt=at(gt.length),wt=at(16),jt=0;jt<gt.length;jt+=16){ot(gt,wt,0,jt,jt+16),wt=this._aes.decrypt(wt);for(var It=0;It<16;It++)lt[jt+It]=wt[It]^this._lastCipherblock[It];ot(gt,this._lastCipherblock,0,jt,jt+16)}return lt};var st=function(gt,lt,wt){if(!(this instanceof st))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!lt)lt=at(16);else if(lt.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");wt||(wt=1),this.segmentSize=wt,this._shiftRegister=it(lt,!0),this._aes=new Rt(gt)};st.prototype.encrypt=function(gt){if(gt.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var lt=it(gt,!0),wt,jt=0;jt<lt.length;jt+=this.segmentSize){wt=this._aes.encrypt(this._shiftRegister);for(var It=0;It<this.segmentSize;It++)lt[jt+It]^=wt[It];ot(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ot(lt,this._shiftRegister,16-this.segmentSize,jt,jt+this.segmentSize)}return lt},st.prototype.decrypt=function(gt){if(gt.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var lt=it(gt,!0),wt,jt=0;jt<lt.length;jt+=this.segmentSize){wt=this._aes.encrypt(this._shiftRegister);for(var It=0;It<this.segmentSize;It++)lt[jt+It]^=wt[It];ot(this._shiftRegister,this._shiftRegister,0,this.segmentSize),ot(gt,this._shiftRegister,16-this.segmentSize,jt,jt+this.segmentSize)}return lt};var dt=function(gt,lt){if(!(this instanceof dt))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!lt)lt=at(16);else if(lt.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=it(lt,!0),this._lastPrecipherIndex=16,this._aes=new Rt(gt)};dt.prototype.encrypt=function(gt){for(var lt=it(gt,!0),wt=0;wt<lt.length;wt++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),lt[wt]^=this._lastPrecipher[this._lastPrecipherIndex++];return lt},dt.prototype.decrypt=dt.prototype.encrypt;var mt=function(gt){if(!(this instanceof mt))throw Error("Counter must be instanitated with `new`");gt!==0&&!gt&&(gt=1),typeof gt=="number"?(this._counter=at(16),this.setValue(gt)):this.setBytes(gt)};mt.prototype.setValue=function(gt){if(typeof gt!="number"||parseInt(gt)!=gt)throw new Error("invalid counter value (must be an integer)");for(var lt=15;lt>=0;--lt)this._counter[lt]=gt%256,gt=gt>>8},mt.prototype.setBytes=function(gt){if(gt=it(gt,!0),gt.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=gt},mt.prototype.increment=function(){for(var gt=15;gt>=0;gt--)if(this._counter[gt]===255)this._counter[gt]=0;else{this._counter[gt]++;break}};var _t=function(gt,lt){if(!(this instanceof _t))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",lt instanceof mt||(lt=new mt(lt)),this._counter=lt,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new Rt(gt)};_t.prototype.encrypt=function(gt){for(var lt=it(gt,!0),wt=0;wt<lt.length;wt++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),lt[wt]^=this._remainingCounter[this._remainingCounterIndex++];return lt},_t.prototype.decrypt=_t.prototype.encrypt;function xt(gt){gt=it(gt,!0);var lt=16-gt.length%16,wt=at(gt.length+lt);ot(gt,wt);for(var jt=gt.length;jt<wt.length;jt++)wt[jt]=lt;return wt}function vt(gt){if(gt=it(gt,!0),gt.length<16)throw new Error("PKCS#7 invalid length");var lt=gt[gt.length-1];if(lt>16)throw new Error("PKCS#7 padding byte out of range");for(var wt=gt.length-lt,jt=0;jt<lt;jt++)if(gt[wt+jt]!==lt)throw new Error("PKCS#7 invalid padding byte");var It=at(wt);return ot(gt,It,0,0,wt),It}var Mt={AES:Rt,Counter:mt,ModeOfOperation:{ecb:Nt,cbc:ht,cfb:st,ofb:dt,ctr:_t},utils:{hex:ut,utf8:ct},padding:{pkcs7:{pad:xt,strip:vt}},_arrayTest:{coerceArray:it,createArray:at,copyArray:ot}};et.exports=Mt})()})(aesJs);const aes$1=aesJs.exports,version$a="json-wallets/5.7.0";function looseArrayify(et){return typeof et=="string"&&et.substring(0,2)!=="0x"&&(et="0x"+et),arrayify(et)}function zpad(et,_e){for(et=String(et);et.length<_e;)et="0"+et;return et}function getPassword(et){return typeof et=="string"?toUtf8Bytes(et,UnicodeNormalizationForm.NFKC):arrayify(et)}function searchPath(et,_e){let tt=et;const rt=_e.toLowerCase().split("/");for(let nt=0;nt<rt.length;nt++){let it=null;for(const at in tt)if(at.toLowerCase()===rt[nt]){it=tt[at];break}if(it===null)return null;tt=it}return tt}function uuidV4(et){const _e=arrayify(et);_e[6]=_e[6]&15|64,_e[8]=_e[8]&63|128;const tt=hexlify(_e);return[tt.substring(2,10),tt.substring(10,14),tt.substring(14,18),tt.substring(18,22),tt.substring(22,34)].join("-")}const logger$l=new Logger(version$a);class CrowdsaleAccount extends Description{isCrowdsaleAccount(_e){return!!(_e&&_e._isCrowdsaleAccount)}}function decrypt$3(et,_e){const tt=JSON.parse(et);_e=getPassword(_e);const rt=getAddress(searchPath(tt,"ethaddr")),nt=looseArrayify(searchPath(tt,"encseed"));(!nt||nt.length%16!==0)&&logger$l.throwArgumentError("invalid encseed","json",et);const it=arrayify(pbkdf2$2(_e,_e,2e3,32,"sha256")).slice(0,16),at=nt.slice(0,16),ot=nt.slice(16),ct=new aes$1.ModeOfOperation.cbc(it,at),ut=aes$1.padding.pkcs7.strip(arrayify(ct.decrypt(ot)));let ft="";for(let Et=0;Et<ut.length;Et++)ft+=String.fromCharCode(ut[Et]);const yt=toUtf8Bytes(ft),bt=keccak256$1(yt);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:rt,privateKey:bt})}function isCrowdsaleWallet(et){let _e=null;try{_e=JSON.parse(et)}catch{return!1}return _e.encseed&&_e.ethaddr}function isKeystoreWallet(et){let _e=null;try{_e=JSON.parse(et)}catch{return!1}return!(!_e.version||parseInt(_e.version)!==_e.version||parseInt(_e.version)!==3)}function getJsonWalletAddress(et){if(isCrowdsaleWallet(et))try{return getAddress(JSON.parse(et).ethaddr)}catch{return null}if(isKeystoreWallet(et))try{return getAddress(JSON.parse(et).address)}catch{return null}return null}var scrypt$1={exports:{}};(function(et,_e){(function(tt){function nt(At){const St=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let Tt=1779033703,$t=3144134277,kt=1013904242,Pt=2773480762,Ot=1359893119,Ht=2600822924,qt=528734635,Zt=1541459225;const tr=new Uint32Array(64);function Dt(_t){let xt=0,vt=_t.length;for(;vt>=64;){let Mt=Tt,gt=$t,lt=kt,wt=Pt,jt=Ot,It=Ht,Wt=qt,Qt=Zt,Gt,er,hr,Vt,Kt;for(er=0;er<16;er++)hr=xt+er*4,tr[er]=(_t[hr]&255)<<24|(_t[hr+1]&255)<<16|(_t[hr+2]&255)<<8|_t[hr+3]&255;for(er=16;er<64;er++)Gt=tr[er-2],Vt=(Gt>>>17|Gt<<32-17)^(Gt>>>19|Gt<<32-19)^Gt>>>10,Gt=tr[er-15],Kt=(Gt>>>7|Gt<<32-7)^(Gt>>>18|Gt<<32-18)^Gt>>>3,tr[er]=(Vt+tr[er-7]|0)+(Kt+tr[er-16]|0)|0;for(er=0;er<64;er++)Vt=(((jt>>>6|jt<<32-6)^(jt>>>11|jt<<32-11)^(jt>>>25|jt<<32-25))+(jt&It^~jt&Wt)|0)+(Qt+(St[er]+tr[er]|0)|0)|0,Kt=((Mt>>>2|Mt<<32-2)^(Mt>>>13|Mt<<32-13)^(Mt>>>22|Mt<<32-22))+(Mt&gt^Mt&lt^gt&lt)|0,Qt=Wt,Wt=It,It=jt,jt=wt+Vt|0,wt=lt,lt=gt,gt=Mt,Mt=Vt+Kt|0;Tt=Tt+Mt|0,$t=$t+gt|0,kt=kt+lt|0,Pt=Pt+wt|0,Ot=Ot+jt|0,Ht=Ht+It|0,qt=qt+Wt|0,Zt=Zt+Qt|0,xt+=64,vt-=64}}Dt(At);let Rt,Nt=At.length%64,ht=At.length/536870912|0,st=At.length<<3,dt=Nt<56?56:120,mt=At.slice(At.length-Nt,At.length);for(mt.push(128),Rt=Nt+1;Rt<dt;Rt++)mt.push(0);return mt.push(ht>>>24&255),mt.push(ht>>>16&255),mt.push(ht>>>8&255),mt.push(ht>>>0&255),mt.push(st>>>24&255),mt.push(st>>>16&255),mt.push(st>>>8&255),mt.push(st>>>0&255),Dt(mt),[Tt>>>24&255,Tt>>>16&255,Tt>>>8&255,Tt>>>0&255,$t>>>24&255,$t>>>16&255,$t>>>8&255,$t>>>0&255,kt>>>24&255,kt>>>16&255,kt>>>8&255,kt>>>0&255,Pt>>>24&255,Pt>>>16&255,Pt>>>8&255,Pt>>>0&255,Ot>>>24&255,Ot>>>16&255,Ot>>>8&255,Ot>>>0&255,Ht>>>24&255,Ht>>>16&255,Ht>>>8&255,Ht>>>0&255,qt>>>24&255,qt>>>16&255,qt>>>8&255,qt>>>0&255,Zt>>>24&255,Zt>>>16&255,Zt>>>8&255,Zt>>>0&255]}function it(At,St,Tt){At=At.length<=64?At:nt(At);const $t=64+St.length+4,kt=new Array($t),Pt=new Array(64);let Ot,Ht=[];for(Ot=0;Ot<64;Ot++)kt[Ot]=54;for(Ot=0;Ot<At.length;Ot++)kt[Ot]^=At[Ot];for(Ot=0;Ot<St.length;Ot++)kt[64+Ot]=St[Ot];for(Ot=$t-4;Ot<$t;Ot++)kt[Ot]=0;for(Ot=0;Ot<64;Ot++)Pt[Ot]=92;for(Ot=0;Ot<At.length;Ot++)Pt[Ot]^=At[Ot];function qt(){for(let Zt=$t-1;Zt>=$t-4;Zt--){if(kt[Zt]++,kt[Zt]<=255)return;kt[Zt]=0}}for(;Tt>=32;)qt(),Ht=Ht.concat(nt(Pt.concat(nt(kt)))),Tt-=32;return Tt>0&&(qt(),Ht=Ht.concat(nt(Pt.concat(nt(kt))).slice(0,Tt))),Ht}function at(At,St,Tt,$t,kt){let Pt;for(ft(At,(2*Tt-1)*16,kt,0,16),Pt=0;Pt<2*Tt;Pt++)ut(At,Pt*16,kt,16),ct(kt,$t),ft(kt,0,At,St+Pt*16,16);for(Pt=0;Pt<Tt;Pt++)ft(At,St+Pt*2*16,At,Pt*16,16);for(Pt=0;Pt<Tt;Pt++)ft(At,St+(Pt*2+1)*16,At,(Pt+Tt)*16,16)}function ot(At,St){return At<<St|At>>>32-St}function ct(At,St){ft(At,0,St,0,16);for(let Tt=8;Tt>0;Tt-=2)St[4]^=ot(St[0]+St[12],7),St[8]^=ot(St[4]+St[0],9),St[12]^=ot(St[8]+St[4],13),St[0]^=ot(St[12]+St[8],18),St[9]^=ot(St[5]+St[1],7),St[13]^=ot(St[9]+St[5],9),St[1]^=ot(St[13]+St[9],13),St[5]^=ot(St[1]+St[13],18),St[14]^=ot(St[10]+St[6],7),St[2]^=ot(St[14]+St[10],9),St[6]^=ot(St[2]+St[14],13),St[10]^=ot(St[6]+St[2],18),St[3]^=ot(St[15]+St[11],7),St[7]^=ot(St[3]+St[15],9),St[11]^=ot(St[7]+St[3],13),St[15]^=ot(St[11]+St[7],18),St[1]^=ot(St[0]+St[3],7),St[2]^=ot(St[1]+St[0],9),St[3]^=ot(St[2]+St[1],13),St[0]^=ot(St[3]+St[2],18),St[6]^=ot(St[5]+St[4],7),St[7]^=ot(St[6]+St[5],9),St[4]^=ot(St[7]+St[6],13),St[5]^=ot(St[4]+St[7],18),St[11]^=ot(St[10]+St[9],7),St[8]^=ot(St[11]+St[10],9),St[9]^=ot(St[8]+St[11],13),St[10]^=ot(St[9]+St[8],18),St[12]^=ot(St[15]+St[14],7),St[13]^=ot(St[12]+St[15],9),St[14]^=ot(St[13]+St[12],13),St[15]^=ot(St[14]+St[13],18);for(let Tt=0;Tt<16;++Tt)At[Tt]+=St[Tt]}function ut(At,St,Tt,$t){for(let kt=0;kt<$t;kt++)Tt[kt]^=At[St+kt]}function ft(At,St,Tt,$t,kt){for(;kt--;)Tt[$t++]=At[St++]}function yt(At){if(!At||typeof At.length!="number")return!1;for(let St=0;St<At.length;St++){const Tt=At[St];if(typeof Tt!="number"||Tt%1||Tt<0||Tt>=256)return!1}return!0}function bt(At,St){if(typeof At!="number"||At%1)throw new Error("invalid "+St);return At}function Et(At,St,Tt,$t,kt,Pt,Ot){if(Tt=bt(Tt,"N"),$t=bt($t,"r"),kt=bt(kt,"p"),Pt=bt(Pt,"dkLen"),Tt===0||(Tt&Tt-1)!==0)throw new Error("N must be power of 2");if(Tt>2147483647/128/$t)throw new Error("N too large");if($t>2147483647/128/kt)throw new Error("r too large");if(!yt(At))throw new Error("password must be an array or buffer");if(At=Array.prototype.slice.call(At),!yt(St))throw new Error("salt must be an array or buffer");St=Array.prototype.slice.call(St);let Ht=it(At,St,kt*128*$t);const qt=new Uint32Array(kt*32*$t);for(let jt=0;jt<qt.length;jt++){const It=jt*4;qt[jt]=(Ht[It+3]&255)<<24|(Ht[It+2]&255)<<16|(Ht[It+1]&255)<<8|(Ht[It+0]&255)<<0}const Zt=new Uint32Array(64*$t),tr=new Uint32Array(32*$t*Tt),Dt=32*$t,Rt=new Uint32Array(16),Nt=new Uint32Array(16),ht=kt*Tt*2;let st=0,dt=null,mt=!1,_t=0,xt=0,vt,Mt;const gt=Ot?parseInt(1e3/$t):4294967295,lt=typeof setImmediate<"u"?setImmediate:setTimeout,wt=function(){if(mt)return Ot(new Error("cancelled"),st/ht);let jt;switch(_t){case 0:Mt=xt*32*$t,ft(qt,Mt,Zt,0,Dt),_t=1,vt=0;case 1:jt=Tt-vt,jt>gt&&(jt=gt);for(let Wt=0;Wt<jt;Wt++)ft(Zt,0,tr,(vt+Wt)*Dt,Dt),at(Zt,Dt,$t,Rt,Nt);if(vt+=jt,st+=jt,Ot){const Wt=parseInt(1e3*st/ht);if(Wt!==dt){if(mt=Ot(null,st/ht),mt)break;dt=Wt}}if(vt<Tt)break;vt=0,_t=2;case 2:jt=Tt-vt,jt>gt&&(jt=gt);for(let Wt=0;Wt<jt;Wt++){const Qt=(2*$t-1)*16,Gt=Zt[Qt]&Tt-1;ut(tr,Gt*Dt,Zt,Dt),at(Zt,Dt,$t,Rt,Nt)}if(vt+=jt,st+=jt,Ot){const Wt=parseInt(1e3*st/ht);if(Wt!==dt){if(mt=Ot(null,st/ht),mt)break;dt=Wt}}if(vt<Tt)break;if(ft(Zt,0,qt,Mt,Dt),xt++,xt<kt){_t=0;break}Ht=[];for(let Wt=0;Wt<qt.length;Wt++)Ht.push(qt[Wt]>>0&255),Ht.push(qt[Wt]>>8&255),Ht.push(qt[Wt]>>16&255),Ht.push(qt[Wt]>>24&255);const It=it(At,Ht,Pt);return Ot&&Ot(null,1,It),It}Ot&&lt(wt)};if(!Ot)for(;;){const jt=wt();if(jt!=null)return jt}wt()}const Ct={scrypt:function(At,St,Tt,$t,kt,Pt,Ot){return new Promise(function(Ht,qt){let Zt=0;Ot&&Ot(0),Et(At,St,Tt,$t,kt,Pt,function(tr,Dt,Rt){if(tr)qt(tr);else if(Rt)Ot&&Zt!==1&&Ot(1),Ht(new Uint8Array(Rt));else if(Ot&&Dt!==Zt)return Zt=Dt,Ot(Dt)})})},syncScrypt:function(At,St,Tt,$t,kt,Pt){return new Uint8Array(Et(At,St,Tt,$t,kt,Pt))}};et.exports=Ct})()})(scrypt$1);const scrypt=scrypt$1.exports;var __awaiter$a=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$k=new Logger(version$a);function hasMnemonic$1(et){return et!=null&&et.mnemonic&&et.mnemonic.phrase}class KeystoreAccount extends Description{isKeystoreAccount(_e){return!!(_e&&_e._isKeystoreAccount)}}function _decrypt(et,_e,tt){if(searchPath(et,"crypto/cipher")==="aes-128-ctr"){const nt=looseArrayify(searchPath(et,"crypto/cipherparams/iv")),it=new aes$1.Counter(nt),at=new aes$1.ModeOfOperation.ctr(_e,it);return arrayify(at.decrypt(tt))}return null}function _getAccount(et,_e){const tt=looseArrayify(searchPath(et,"crypto/ciphertext"));if(hexlify(keccak256$1(concat$3([_e.slice(16,32),tt]))).substring(2)!==searchPath(et,"crypto/mac").toLowerCase())throw new Error("invalid password");const nt=_decrypt(et,_e.slice(0,16),tt);nt||logger$k.throwError("unsupported cipher",Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const it=_e.slice(32,64),at=computeAddress(nt);if(et.address){let ct=et.address.toLowerCase();if(ct.substring(0,2)!=="0x"&&(ct="0x"+ct),getAddress(ct)!==at)throw new Error("address mismatch")}const ot={_isKeystoreAccount:!0,address:at,privateKey:hexlify(nt)};if(searchPath(et,"x-ethers/version")==="0.1"){const ct=looseArrayify(searchPath(et,"x-ethers/mnemonicCiphertext")),ut=looseArrayify(searchPath(et,"x-ethers/mnemonicCounter")),ft=new aes$1.Counter(ut),yt=new aes$1.ModeOfOperation.ctr(it,ft),bt=searchPath(et,"x-ethers/path")||defaultPath,Et=searchPath(et,"x-ethers/locale")||"en",Ct=arrayify(yt.decrypt(ct));try{const At=entropyToMnemonic(Ct,Et),St=HDNode.fromMnemonic(At,null,Et).derivePath(bt);if(St.privateKey!=ot.privateKey)throw new Error("mnemonic mismatch");ot.mnemonic=St.mnemonic}catch(At){if(At.code!==Logger.errors.INVALID_ARGUMENT||At.argument!=="wordlist")throw At}}return new KeystoreAccount(ot)}function pbkdf2Sync(et,_e,tt,rt,nt){return arrayify(pbkdf2$2(et,_e,tt,rt,nt))}function pbkdf2$1(et,_e,tt,rt,nt){return Promise.resolve(pbkdf2Sync(et,_e,tt,rt,nt))}function _computeKdfKey(et,_e,tt,rt,nt){const it=getPassword(_e),at=searchPath(et,"crypto/kdf");if(at&&typeof at=="string"){const ot=function(ct,ut){return logger$k.throwArgumentError("invalid key-derivation function parameters",ct,ut)};if(at.toLowerCase()==="scrypt"){const ct=looseArrayify(searchPath(et,"crypto/kdfparams/salt")),ut=parseInt(searchPath(et,"crypto/kdfparams/n")),ft=parseInt(searchPath(et,"crypto/kdfparams/r")),yt=parseInt(searchPath(et,"crypto/kdfparams/p"));(!ut||!ft||!yt)&&ot("kdf",at),(ut&ut-1)!==0&&ot("N",ut);const bt=parseInt(searchPath(et,"crypto/kdfparams/dklen"));return bt!==32&&ot("dklen",bt),rt(it,ct,ut,ft,yt,64,nt)}else if(at.toLowerCase()==="pbkdf2"){const ct=looseArrayify(searchPath(et,"crypto/kdfparams/salt"));let ut=null;const ft=searchPath(et,"crypto/kdfparams/prf");ft==="hmac-sha256"?ut="sha256":ft==="hmac-sha512"?ut="sha512":ot("prf",ft);const yt=parseInt(searchPath(et,"crypto/kdfparams/c")),bt=parseInt(searchPath(et,"crypto/kdfparams/dklen"));return bt!==32&&ot("dklen",bt),tt(it,ct,yt,bt,ut)}}return logger$k.throwArgumentError("unsupported key-derivation function","kdf",at)}function decryptSync(et,_e){const tt=JSON.parse(et),rt=_computeKdfKey(tt,_e,pbkdf2Sync,scrypt.syncScrypt);return _getAccount(tt,rt)}function decrypt$2(et,_e,tt){return __awaiter$a(this,void 0,void 0,function*(){const rt=JSON.parse(et),nt=yield _computeKdfKey(rt,_e,pbkdf2$1,scrypt.scrypt,tt);return _getAccount(rt,nt)})}function encrypt$2(et,_e,tt,rt){try{if(getAddress(et.address)!==computeAddress(et.privateKey))throw new Error("address/privateKey mismatch");if(hasMnemonic$1(et)){const St=et.mnemonic;if(HDNode.fromMnemonic(St.phrase,null,St.locale).derivePath(St.path||defaultPath).privateKey!=et.privateKey)throw new Error("mnemonic mismatch")}}catch(St){return Promise.reject(St)}typeof tt=="function"&&!rt&&(rt=tt,tt={}),tt||(tt={});const nt=arrayify(et.privateKey),it=getPassword(_e);let at=null,ot=null,ct=null;if(hasMnemonic$1(et)){const St=et.mnemonic;at=arrayify(mnemonicToEntropy(St.phrase,St.locale||"en")),ot=St.path||defaultPath,ct=St.locale||"en"}let ut=tt.client;ut||(ut="ethers.js");let ft=null;tt.salt?ft=arrayify(tt.salt):ft=randomBytes$1(32);let yt=null;if(tt.iv){if(yt=arrayify(tt.iv),yt.length!==16)throw new Error("invalid iv")}else yt=randomBytes$1(16);let bt=null;if(tt.uuid){if(bt=arrayify(tt.uuid),bt.length!==16)throw new Error("invalid uuid")}else bt=randomBytes$1(16);let Et=1<<17,Ct=8,At=1;return tt.scrypt&&(tt.scrypt.N&&(Et=tt.scrypt.N),tt.scrypt.r&&(Ct=tt.scrypt.r),tt.scrypt.p&&(At=tt.scrypt.p)),scrypt.scrypt(it,ft,Et,Ct,At,64,rt).then(St=>{St=arrayify(St);const Tt=St.slice(0,16),$t=St.slice(16,32),kt=St.slice(32,64),Pt=new aes$1.Counter(yt),Ot=new aes$1.ModeOfOperation.ctr(Tt,Pt),Ht=arrayify(Ot.encrypt(nt)),qt=keccak256$1(concat$3([$t,Ht])),Zt={address:et.address.substring(2).toLowerCase(),id:uuidV4(bt),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify(yt).substring(2)},ciphertext:hexlify(Ht).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify(ft).substring(2),n:Et,dklen:32,p:At,r:Ct},mac:qt.substring(2)}};if(at){const tr=randomBytes$1(16),Dt=new aes$1.Counter(tr),Rt=new aes$1.ModeOfOperation.ctr(kt,Dt),Nt=arrayify(Rt.encrypt(at)),ht=new Date,st=ht.getUTCFullYear()+"-"+zpad(ht.getUTCMonth()+1,2)+"-"+zpad(ht.getUTCDate(),2)+"T"+zpad(ht.getUTCHours(),2)+"-"+zpad(ht.getUTCMinutes(),2)+"-"+zpad(ht.getUTCSeconds(),2)+".0Z";Zt["x-ethers"]={client:ut,gethFilename:"UTC--"+st+"--"+Zt.address,mnemonicCounter:hexlify(tr).substring(2),mnemonicCiphertext:hexlify(Nt).substring(2),path:ot,locale:ct,version:"0.1"}}return JSON.stringify(Zt)})}function decryptJsonWallet(et,_e,tt){if(isCrowdsaleWallet(et)){tt&&tt(0);const rt=decrypt$3(et,_e);return tt&&tt(1),Promise.resolve(rt)}return isKeystoreWallet(et)?decrypt$2(et,_e,tt):Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(et,_e){if(isCrowdsaleWallet(et))return decrypt$3(et,_e);if(isKeystoreWallet(et))return decryptSync(et,_e);throw new Error("invalid JSON wallet")}const lib_esm$4=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:decrypt$3,decryptKeystore:decrypt$2,decryptKeystoreSync:decryptSync,encryptKeystore:encrypt$2,isCrowdsaleWallet,isKeystoreWallet,getJsonWalletAddress,decryptJsonWallet,decryptJsonWalletSync},Symbol.toStringTag,{value:"Module"})),version$9="wallet/5.7.0";var __awaiter$9=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$j=new Logger(version$9);function isAccount(et){return et!=null&&isHexString$4(et.privateKey,32)&&et.address!=null}function hasMnemonic(et){const _e=et.mnemonic;return _e&&_e.phrase}class Wallet extends Signer{constructor(_e,tt){if(super(),isAccount(_e)){const rt=new SigningKey(_e.privateKey);if(defineReadOnly(this,"_signingKey",()=>rt),defineReadOnly(this,"address",computeAddress(this.publicKey)),this.address!==getAddress(_e.address)&&logger$j.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hasMnemonic(_e)){const nt=_e.mnemonic;defineReadOnly(this,"_mnemonic",()=>({phrase:nt.phrase,path:nt.path||defaultPath,locale:nt.locale||"en"}));const it=this.mnemonic,at=HDNode.fromMnemonic(it.phrase,null,it.locale).derivePath(it.path);computeAddress(at.privateKey)!==this.address&&logger$j.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else defineReadOnly(this,"_mnemonic",()=>null)}else{if(SigningKey.isSigningKey(_e))_e.curve!=="secp256k1"&&logger$j.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),defineReadOnly(this,"_signingKey",()=>_e);else{typeof _e=="string"&&_e.match(/^[0-9a-f]*$/i)&&_e.length===64&&(_e="0x"+_e);const rt=new SigningKey(_e);defineReadOnly(this,"_signingKey",()=>rt)}defineReadOnly(this,"_mnemonic",()=>null),defineReadOnly(this,"address",computeAddress(this.publicKey))}tt&&!Provider$1.isProvider(tt)&&logger$j.throwArgumentError("invalid provider","provider",tt),defineReadOnly(this,"provider",tt||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(_e){return new Wallet(this,_e)}signTransaction(_e){return resolveProperties(_e).then(tt=>{tt.from!=null&&(getAddress(tt.from)!==this.address&&logger$j.throwArgumentError("transaction from address mismatch","transaction.from",_e.from),delete tt.from);const rt=this._signingKey().signDigest(keccak256$1(serialize$2(tt)));return serialize$2(tt,rt)})}signMessage(_e){return __awaiter$9(this,void 0,void 0,function*(){return joinSignature(this._signingKey().signDigest(hashMessage(_e)))})}_signTypedData(_e,tt,rt){return __awaiter$9(this,void 0,void 0,function*(){const nt=yield TypedDataEncoder.resolveNames(_e,tt,rt,it=>(this.provider==null&&logger$j.throwError("cannot resolve ENS names without a provider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:it}),this.provider.resolveName(it)));return joinSignature(this._signingKey().signDigest(TypedDataEncoder.hash(nt.domain,tt,nt.value)))})}encrypt(_e,tt,rt){if(typeof tt=="function"&&!rt&&(rt=tt,tt={}),rt&&typeof rt!="function")throw new Error("invalid callback");return tt||(tt={}),encrypt$2(this,_e,tt,rt)}static createRandom(_e){let tt=randomBytes$1(16);_e||(_e={}),_e.extraEntropy&&(tt=arrayify(hexDataSlice(keccak256$1(concat$3([tt,_e.extraEntropy])),0,16)));const rt=entropyToMnemonic(tt,_e.locale);return Wallet.fromMnemonic(rt,_e.path,_e.locale)}static fromEncryptedJson(_e,tt,rt){return decryptJsonWallet(_e,tt,rt).then(nt=>new Wallet(nt))}static fromEncryptedJsonSync(_e,tt){return new Wallet(decryptJsonWalletSync(_e,tt))}static fromMnemonic(_e,tt,rt){return tt||(tt=defaultPath),new Wallet(HDNode.fromMnemonic(_e,null,rt).derivePath(tt))}}function verifyMessage(et,_e){return recoverAddress(hashMessage(et),_e)}function verifyTypedData(et,_e,tt,rt){return recoverAddress(TypedDataEncoder.hash(et,_e,tt),rt)}const lib_esm$3=Object.freeze(Object.defineProperty({__proto__:null,Wallet,verifyMessage,verifyTypedData},Symbol.toStringTag,{value:"Module"})),version$8="networks/5.7.1",logger$i=new Logger(version$8);function isRenetworkable(et){return et&&typeof et.renetwork=="function"}function ethDefaultProvider(et){const _e=function(tt,rt){rt==null&&(rt={});const nt=[];if(tt.InfuraProvider&&rt.infura!=="-")try{nt.push(new tt.InfuraProvider(et,rt.infura))}catch{}if(tt.EtherscanProvider&&rt.etherscan!=="-")try{nt.push(new tt.EtherscanProvider(et,rt.etherscan))}catch{}if(tt.AlchemyProvider&&rt.alchemy!=="-")try{nt.push(new tt.AlchemyProvider(et,rt.alchemy))}catch{}if(tt.PocketProvider&&rt.pocket!=="-"){const it=["goerli","ropsten","rinkeby","sepolia"];try{const at=new tt.PocketProvider(et,rt.pocket);at.network&&it.indexOf(at.network.name)===-1&&nt.push(at)}catch{}}if(tt.CloudflareProvider&&rt.cloudflare!=="-")try{nt.push(new tt.CloudflareProvider(et))}catch{}if(tt.AnkrProvider&&rt.ankr!=="-")try{const it=["ropsten"],at=new tt.AnkrProvider(et,rt.ankr);at.network&&it.indexOf(at.network.name)===-1&&nt.push(at)}catch{}if(nt.length===0)return null;if(tt.FallbackProvider){let it=1;return rt.quorum!=null?it=rt.quorum:et==="homestead"&&(it=2),new tt.FallbackProvider(nt,it)}return nt[0]};return _e.renetwork=function(tt){return ethDefaultProvider(tt)},_e}function etcDefaultProvider(et,_e){const tt=function(rt,nt){return rt.JsonRpcProvider?new rt.JsonRpcProvider(et,_e):null};return tt.renetwork=function(rt){return etcDefaultProvider(et,rt)},tt}const homestead={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ethDefaultProvider("homestead")},ropsten={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ethDefaultProvider("ropsten")},classicMordor={chainId:63,name:"classicMordor",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/mordor","classicMordor")},networks={unspecified:{chainId:0,name:"unspecified"},homestead,mainnet:homestead,morden:{chainId:2,name:"morden"},ropsten,testnet:ropsten,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ethDefaultProvider("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ethDefaultProvider("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ethDefaultProvider("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:ethDefaultProvider("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor,classicTestnet:classicMordor,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:etcDefaultProvider("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ethDefaultProvider("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ethDefaultProvider("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function getNetwork(et){if(et==null)return null;if(typeof et=="number"){for(const rt in networks){const nt=networks[rt];if(nt.chainId===et)return{name:nt.name,chainId:nt.chainId,ensAddress:nt.ensAddress||null,_defaultProvider:nt._defaultProvider||null}}return{chainId:et,name:"unknown"}}if(typeof et=="string"){const rt=networks[et];return rt==null?null:{name:rt.name,chainId:rt.chainId,ensAddress:rt.ensAddress,_defaultProvider:rt._defaultProvider||null}}const _e=networks[et.name];if(!_e)return typeof et.chainId!="number"&&logger$i.throwArgumentError("invalid network chainId","network",et),et;et.chainId!==0&&et.chainId!==_e.chainId&&logger$i.throwArgumentError("network chainId mismatch","network",et);let tt=et._defaultProvider||null;return tt==null&&_e._defaultProvider&&(isRenetworkable(_e._defaultProvider)?tt=_e._defaultProvider.renetwork(et):tt=_e._defaultProvider),{name:et.name,chainId:_e.chainId,ensAddress:et.ensAddress||_e.ensAddress||null,_defaultProvider:tt}}const version$7="web/5.7.1";var __awaiter$8=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};function getUrl(et,_e){return __awaiter$8(this,void 0,void 0,function*(){_e==null&&(_e={});const tt={method:_e.method||"GET",headers:_e.headers||{},body:_e.body||void 0};if(_e.skipFetchSetup!==!0&&(tt.mode="cors",tt.cache="no-cache",tt.credentials="same-origin",tt.redirect="follow",tt.referrer="client"),_e.fetchOptions!=null){const at=_e.fetchOptions;at.mode&&(tt.mode=at.mode),at.cache&&(tt.cache=at.cache),at.credentials&&(tt.credentials=at.credentials),at.redirect&&(tt.redirect=at.redirect),at.referrer&&(tt.referrer=at.referrer)}const rt=yield fetch(et,tt),nt=yield rt.arrayBuffer(),it={};return rt.headers.forEach?rt.headers.forEach((at,ot)=>{it[ot.toLowerCase()]=at}):rt.headers.keys().forEach(at=>{it[at.toLowerCase()]=rt.headers.get(at)}),{headers:it,statusCode:rt.status,statusMessage:rt.statusText,body:arrayify(new Uint8Array(nt))}})}var __awaiter$7=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$h=new Logger(version$7);function staller(et){return new Promise(_e=>{setTimeout(_e,et)})}function bodyify(et,_e){if(et==null)return null;if(typeof et=="string")return et;if(isBytesLike(et)){if(_e&&(_e.split("/")[0]==="text"||_e.split(";")[0].trim()==="application/json"))try{return toUtf8String(et)}catch{}return hexlify(et)}return et}function unpercent(et){return toUtf8Bytes(et.replace(/%([0-9a-f][0-9a-f])/gi,(_e,tt)=>String.fromCharCode(parseInt(tt,16))))}function _fetchData(et,_e,tt){const rt=typeof et=="object"&&et.throttleLimit!=null?et.throttleLimit:12;logger$h.assertArgument(rt>0&&rt%1===0,"invalid connection throttle limit","connection.throttleLimit",rt);const nt=typeof et=="object"?et.throttleCallback:null,it=typeof et=="object"&&typeof et.throttleSlotInterval=="number"?et.throttleSlotInterval:100;logger$h.assertArgument(it>0&&it%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",it);const at=typeof et=="object"?!!et.errorPassThrough:!1,ot={};let ct=null;const ut={method:"GET"};let ft=!1,yt=2*60*1e3;if(typeof et=="string")ct=et;else if(typeof et=="object"){if((et==null||et.url==null)&&logger$h.throwArgumentError("missing URL","connection.url",et),ct=et.url,typeof et.timeout=="number"&&et.timeout>0&&(yt=et.timeout),et.headers)for(const Tt in et.headers)ot[Tt.toLowerCase()]={key:Tt,value:String(et.headers[Tt])},["if-none-match","if-modified-since"].indexOf(Tt.toLowerCase())>=0&&(ft=!0);if(ut.allowGzip=!!et.allowGzip,et.user!=null&&et.password!=null){ct.substring(0,6)!=="https:"&&et.allowInsecureAuthentication!==!0&&logger$h.throwError("basic authentication requires a secure https url",Logger.errors.INVALID_ARGUMENT,{argument:"url",url:ct,user:et.user,password:"[REDACTED]"});const Tt=et.user+":"+et.password;ot.authorization={key:"Authorization",value:"Basic "+encode$2(toUtf8Bytes(Tt))}}et.skipFetchSetup!=null&&(ut.skipFetchSetup=!!et.skipFetchSetup),et.fetchOptions!=null&&(ut.fetchOptions=shallowCopy(et.fetchOptions))}const bt=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Et=ct?ct.match(bt):null;if(Et)try{const Tt={statusCode:200,statusMessage:"OK",headers:{"content-type":Et[1]||"text/plain"},body:Et[2]?decode$4(Et[3]):unpercent(Et[3])};let $t=Tt.body;return tt&&($t=tt(Tt.body,Tt)),Promise.resolve($t)}catch(Tt){logger$h.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(Et[1],Et[2]),error:Tt,requestBody:null,requestMethod:"GET",url:ct})}_e&&(ut.method="POST",ut.body=_e,ot["content-type"]==null&&(ot["content-type"]={key:"Content-Type",value:"application/octet-stream"}),ot["content-length"]==null&&(ot["content-length"]={key:"Content-Length",value:String(_e.length)}));const Ct={};Object.keys(ot).forEach(Tt=>{const $t=ot[Tt];Ct[$t.key]=$t.value}),ut.headers=Ct;const At=function(){let Tt=null;return{promise:new Promise(function(Pt,Ot){yt&&(Tt=setTimeout(()=>{Tt!=null&&(Tt=null,Ot(logger$h.makeError("timeout",Logger.errors.TIMEOUT,{requestBody:bodyify(ut.body,Ct["content-type"]),requestMethod:ut.method,timeout:yt,url:ct})))},yt))}),cancel:function(){Tt!=null&&(clearTimeout(Tt),Tt=null)}}}(),St=function(){return __awaiter$7(this,void 0,void 0,function*(){for(let Tt=0;Tt<rt;Tt++){let $t=null;try{if($t=yield getUrl(ct,ut),Tt<rt){if($t.statusCode===301||$t.statusCode===302){const Pt=$t.headers.location||"";if(ut.method==="GET"&&Pt.match(/^https:/)){ct=$t.headers.location;continue}}else if($t.statusCode===429){let Pt=!0;if(nt&&(Pt=yield nt(Tt,ct)),Pt){let Ot=0;const Ht=$t.headers["retry-after"];typeof Ht=="string"&&Ht.match(/^[1-9][0-9]*$/)?Ot=parseInt(Ht)*1e3:Ot=it*parseInt(String(Math.random()*Math.pow(2,Tt))),yield staller(Ot);continue}}}}catch(Pt){$t=Pt.response,$t==null&&(At.cancel(),logger$h.throwError("missing response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(ut.body,Ct["content-type"]),requestMethod:ut.method,serverError:Pt,url:ct}))}let kt=$t.body;if(ft&&$t.statusCode===304?kt=null:!at&&($t.statusCode<200||$t.statusCode>=300)&&(At.cancel(),logger$h.throwError("bad response",Logger.errors.SERVER_ERROR,{status:$t.statusCode,headers:$t.headers,body:bodyify(kt,$t.headers?$t.headers["content-type"]:null),requestBody:bodyify(ut.body,Ct["content-type"]),requestMethod:ut.method,url:ct})),tt)try{const Pt=yield tt(kt,$t);return At.cancel(),Pt}catch(Pt){if(Pt.throttleRetry&&Tt<rt){let Ot=!0;if(nt&&(Ot=yield nt(Tt,ct)),Ot){const Ht=it*parseInt(String(Math.random()*Math.pow(2,Tt)));yield staller(Ht);continue}}At.cancel(),logger$h.throwError("processing response error",Logger.errors.SERVER_ERROR,{body:bodyify(kt,$t.headers?$t.headers["content-type"]:null),error:Pt,requestBody:bodyify(ut.body,Ct["content-type"]),requestMethod:ut.method,url:ct})}return At.cancel(),kt}return logger$h.throwError("failed response",Logger.errors.SERVER_ERROR,{requestBody:bodyify(ut.body,Ct["content-type"]),requestMethod:ut.method,url:ct})})}();return Promise.race([At.promise,St])}function fetchJson(et,_e,tt){let rt=(it,at)=>{let ot=null;if(it!=null)try{ot=JSON.parse(toUtf8String(it))}catch(ct){logger$h.throwError("invalid JSON",Logger.errors.SERVER_ERROR,{body:it,error:ct})}return tt&&(ot=tt(ot,at)),ot},nt=null;if(_e!=null){nt=toUtf8Bytes(_e);const it=typeof et=="string"?{url:et}:shallowCopy(et);it.headers?Object.keys(it.headers).filter(ot=>ot.toLowerCase()==="content-type").length!==0||(it.headers=shallowCopy(it.headers),it.headers["content-type"]="application/json"):it.headers={"content-type":"application/json"},et=it}return _fetchData(et,nt,rt)}function poll(et,_e){return _e||(_e={}),_e=shallowCopy(_e),_e.floor==null&&(_e.floor=0),_e.ceiling==null&&(_e.ceiling=1e4),_e.interval==null&&(_e.interval=250),new Promise(function(tt,rt){let nt=null,it=!1;const at=()=>it?!1:(it=!0,nt&&clearTimeout(nt),!0);_e.timeout&&(nt=setTimeout(()=>{at()&&rt(new Error("timeout"))},_e.timeout));const ot=_e.retryLimit;let ct=0;function ut(){return et().then(function(ft){if(ft!==void 0)at()&&tt(ft);else if(_e.oncePoll)_e.oncePoll.once("poll",ut);else if(_e.onceBlock)_e.onceBlock.once("block",ut);else if(!it){if(ct++,ct>ot){at()&&rt(new Error("retry limit reached"));return}let yt=_e.interval*parseInt(String(Math.random()*Math.pow(2,ct)));yt<_e.floor&&(yt=_e.floor),yt>_e.ceiling&&(yt=_e.ceiling),setTimeout(ut,yt)}return null},function(ft){at()&&rt(ft)})}ut()})}const lib_esm$2=Object.freeze(Object.defineProperty({__proto__:null,_fetchData,fetchJson,poll},Symbol.toStringTag,{value:"Module"}));var ALPHABET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(var z$4=0;z$4<ALPHABET$1.length;z$4++){var x$5=ALPHABET$1.charAt(z$4);if(ALPHABET_MAP[x$5]!==void 0)throw new TypeError(x$5+" is ambiguous");ALPHABET_MAP[x$5]=z$4}function polymodStep(et){var _e=et>>25;return(et&33554431)<<5^-(_e>>0&1)&996825010^-(_e>>1&1)&642813549^-(_e>>2&1)&513874426^-(_e>>3&1)&1027748829^-(_e>>4&1)&705979059}function prefixChk(et){for(var _e=1,tt=0;tt<et.length;++tt){var rt=et.charCodeAt(tt);if(rt<33||rt>126)return"Invalid prefix ("+et+")";_e=polymodStep(_e)^rt>>5}for(_e=polymodStep(_e),tt=0;tt<et.length;++tt){var nt=et.charCodeAt(tt);_e=polymodStep(_e)^nt&31}return _e}function encode$1(et,_e,tt){if(tt=tt||90,et.length+7+_e.length>tt)throw new TypeError("Exceeds length limit");et=et.toLowerCase();var rt=prefixChk(et);if(typeof rt=="string")throw new Error(rt);for(var nt=et+"1",it=0;it<_e.length;++it){var at=_e[it];if(at>>5!==0)throw new Error("Non 5-bit word");rt=polymodStep(rt)^at,nt+=ALPHABET$1.charAt(at)}for(it=0;it<6;++it)rt=polymodStep(rt);for(rt^=1,it=0;it<6;++it){var ot=rt>>(5-it)*5&31;nt+=ALPHABET$1.charAt(ot)}return nt}function __decode(et,_e){if(_e=_e||90,et.length<8)return et+" too short";if(et.length>_e)return"Exceeds length limit";var tt=et.toLowerCase(),rt=et.toUpperCase();if(et!==tt&&et!==rt)return"Mixed-case string "+et;et=tt;var nt=et.lastIndexOf("1");if(nt===-1)return"No separator character for "+et;if(nt===0)return"Missing prefix for "+et;var it=et.slice(0,nt),at=et.slice(nt+1);if(at.length<6)return"Data too short";var ot=prefixChk(it);if(typeof ot=="string")return ot;for(var ct=[],ut=0;ut<at.length;++ut){var ft=at.charAt(ut),yt=ALPHABET_MAP[ft];if(yt===void 0)return"Unknown character "+ft;ot=polymodStep(ot)^yt,!(ut+6>=at.length)&&ct.push(yt)}return ot!==1?"Invalid checksum for "+et:{prefix:it,words:ct}}function decodeUnsafe(){var et=__decode.apply(null,arguments);if(typeof et=="object")return et}function decode$3(et){var _e=__decode.apply(null,arguments);if(typeof _e=="object")return _e;throw new Error(_e)}function convert$3(et,_e,tt,rt){for(var nt=0,it=0,at=(1<<tt)-1,ot=[],ct=0;ct<et.length;++ct)for(nt=nt<<_e|et[ct],it+=_e;it>=tt;)it-=tt,ot.push(nt>>it&at);if(rt)it>0&&ot.push(nt<<tt-it&at);else{if(it>=_e)return"Excess padding";if(nt<<tt-it&at)return"Non-zero padding"}return ot}function toWordsUnsafe(et){var _e=convert$3(et,8,5,!0);if(Array.isArray(_e))return _e}function toWords(et){var _e=convert$3(et,8,5,!0);if(Array.isArray(_e))return _e;throw new Error(_e)}function fromWordsUnsafe(et){var _e=convert$3(et,5,8,!1);if(Array.isArray(_e))return _e}function fromWords(et){var _e=convert$3(et,5,8,!1);if(Array.isArray(_e))return _e;throw new Error(_e)}var bech32={decodeUnsafe,decode:decode$3,encode:encode$1,toWordsUnsafe,toWords,fromWordsUnsafe,fromWords};const version$6="providers/5.7.2",logger$g=new Logger(version$6);class Formatter{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const _e={},tt=this.address.bind(this),rt=this.bigNumber.bind(this),nt=this.blockTag.bind(this),it=this.data.bind(this),at=this.hash.bind(this),ot=this.hex.bind(this),ct=this.number.bind(this),ut=this.type.bind(this),ft=yt=>this.data(yt,!0);return _e.transaction={hash:at,type:ut,accessList:Formatter.allowNull(this.accessList.bind(this),null),blockHash:Formatter.allowNull(at,null),blockNumber:Formatter.allowNull(ct,null),transactionIndex:Formatter.allowNull(ct,null),confirmations:Formatter.allowNull(ct,null),from:tt,gasPrice:Formatter.allowNull(rt),maxPriorityFeePerGas:Formatter.allowNull(rt),maxFeePerGas:Formatter.allowNull(rt),gasLimit:rt,to:Formatter.allowNull(tt,null),value:rt,nonce:ct,data:it,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(ct),creates:Formatter.allowNull(tt,null),raw:Formatter.allowNull(it)},_e.transactionRequest={from:Formatter.allowNull(tt),nonce:Formatter.allowNull(ct),gasLimit:Formatter.allowNull(rt),gasPrice:Formatter.allowNull(rt),maxPriorityFeePerGas:Formatter.allowNull(rt),maxFeePerGas:Formatter.allowNull(rt),to:Formatter.allowNull(tt),value:Formatter.allowNull(rt),data:Formatter.allowNull(ft),type:Formatter.allowNull(ct),accessList:Formatter.allowNull(this.accessList.bind(this),null)},_e.receiptLog={transactionIndex:ct,blockNumber:ct,transactionHash:at,address:tt,topics:Formatter.arrayOf(at),data:it,logIndex:ct,blockHash:at},_e.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(tt,null),transactionIndex:ct,root:Formatter.allowNull(ot),gasUsed:rt,logsBloom:Formatter.allowNull(it),blockHash:at,transactionHash:at,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:ct,confirmations:Formatter.allowNull(ct,null),cumulativeGasUsed:rt,effectiveGasPrice:Formatter.allowNull(rt),status:Formatter.allowNull(ct),type:ut},_e.block={hash:Formatter.allowNull(at),parentHash:at,number:ct,timestamp:ct,nonce:Formatter.allowNull(ot),difficulty:this.difficulty.bind(this),gasLimit:rt,gasUsed:rt,miner:Formatter.allowNull(tt),extraData:it,transactions:Formatter.allowNull(Formatter.arrayOf(at)),baseFeePerGas:Formatter.allowNull(rt)},_e.blockWithTransactions=shallowCopy(_e.block),_e.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this))),_e.filter={fromBlock:Formatter.allowNull(nt,void 0),toBlock:Formatter.allowNull(nt,void 0),blockHash:Formatter.allowNull(at,void 0),address:Formatter.allowNull(tt,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)},_e.filterLog={blockNumber:Formatter.allowNull(ct),blockHash:Formatter.allowNull(at),transactionIndex:ct,removed:Formatter.allowNull(this.boolean.bind(this)),address:tt,data:Formatter.allowFalsish(it,"0x"),topics:Formatter.arrayOf(at),transactionHash:at,logIndex:ct},_e}accessList(_e){return accessListify(_e||[])}number(_e){return _e==="0x"?0:BigNumber.from(_e).toNumber()}type(_e){return _e==="0x"||_e==null?0:BigNumber.from(_e).toNumber()}bigNumber(_e){return BigNumber.from(_e)}boolean(_e){if(typeof _e=="boolean")return _e;if(typeof _e=="string"){if(_e=_e.toLowerCase(),_e==="true")return!0;if(_e==="false")return!1}throw new Error("invalid boolean - "+_e)}hex(_e,tt){return typeof _e=="string"&&(!tt&&_e.substring(0,2)!=="0x"&&(_e="0x"+_e),isHexString$4(_e))?_e.toLowerCase():logger$g.throwArgumentError("invalid hash","value",_e)}data(_e,tt){const rt=this.hex(_e,tt);if(rt.length%2!==0)throw new Error("invalid data; odd-length - "+_e);return rt}address(_e){return getAddress(_e)}callAddress(_e){if(!isHexString$4(_e,32))return null;const tt=getAddress(hexDataSlice(_e,12));return tt===AddressZero?null:tt}contractAddress(_e){return getContractAddress(_e)}blockTag(_e){if(_e==null)return"latest";if(_e==="earliest")return"0x0";switch(_e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return _e}if(typeof _e=="number"||isHexString$4(_e))return hexValue(_e);throw new Error("invalid blockTag")}hash(_e,tt){const rt=this.hex(_e,tt);return hexDataLength(rt)!==32?logger$g.throwArgumentError("invalid hash","value",_e):rt}difficulty(_e){if(_e==null)return null;const tt=BigNumber.from(_e);try{return tt.toNumber()}catch{}return null}uint256(_e){if(!isHexString$4(_e))throw new Error("invalid uint256");return hexZeroPad(_e,32)}_block(_e,tt){_e.author!=null&&_e.miner==null&&(_e.miner=_e.author);const rt=_e._difficulty!=null?_e._difficulty:_e.difficulty,nt=Formatter.check(tt,_e);return nt._difficulty=rt==null?null:BigNumber.from(rt),nt}block(_e){return this._block(_e,this.formats.block)}blockWithTransactions(_e){return this._block(_e,this.formats.blockWithTransactions)}transactionRequest(_e){return Formatter.check(this.formats.transactionRequest,_e)}transactionResponse(_e){_e.gas!=null&&_e.gasLimit==null&&(_e.gasLimit=_e.gas),_e.to&&BigNumber.from(_e.to).isZero()&&(_e.to="0x0000000000000000000000000000000000000000"),_e.input!=null&&_e.data==null&&(_e.data=_e.input),_e.to==null&&_e.creates==null&&(_e.creates=this.contractAddress(_e)),(_e.type===1||_e.type===2)&&_e.accessList==null&&(_e.accessList=[]);const tt=Formatter.check(this.formats.transaction,_e);if(_e.chainId!=null){let rt=_e.chainId;isHexString$4(rt)&&(rt=BigNumber.from(rt).toNumber()),tt.chainId=rt}else{let rt=_e.networkId;rt==null&&tt.v==null&&(rt=_e.chainId),isHexString$4(rt)&&(rt=BigNumber.from(rt).toNumber()),typeof rt!="number"&&tt.v!=null&&(rt=(tt.v-35)/2,rt<0&&(rt=0),rt=parseInt(rt)),typeof rt!="number"&&(rt=0),tt.chainId=rt}return tt.blockHash&&tt.blockHash.replace(/0/g,"")==="x"&&(tt.blockHash=null),tt}transaction(_e){return parse$3(_e)}receiptLog(_e){return Formatter.check(this.formats.receiptLog,_e)}receipt(_e){const tt=Formatter.check(this.formats.receipt,_e);if(tt.root!=null)if(tt.root.length<=4){const rt=BigNumber.from(tt.root).toNumber();rt===0||rt===1?(tt.status!=null&&tt.status!==rt&&logger$g.throwArgumentError("alt-root-status/status mismatch","value",{root:tt.root,status:tt.status}),tt.status=rt,delete tt.root):logger$g.throwArgumentError("invalid alt-root-status","value.root",tt.root)}else tt.root.length!==66&&logger$g.throwArgumentError("invalid root hash","value.root",tt.root);return tt.status!=null&&(tt.byzantium=!0),tt}topics(_e){return Array.isArray(_e)?_e.map(tt=>this.topics(tt)):_e!=null?this.hash(_e,!0):null}filter(_e){return Formatter.check(this.formats.filter,_e)}filterLog(_e){return Formatter.check(this.formats.filterLog,_e)}static check(_e,tt){const rt={};for(const nt in _e)try{const it=_e[nt](tt[nt]);it!==void 0&&(rt[nt]=it)}catch(it){throw it.checkKey=nt,it.checkValue=tt[nt],it}return rt}static allowNull(_e,tt){return function(rt){return rt==null?tt:_e(rt)}}static allowFalsish(_e,tt){return function(rt){return rt?_e(rt):tt}}static arrayOf(_e){return function(tt){if(!Array.isArray(tt))throw new Error("not an array");const rt=[];return tt.forEach(function(nt){rt.push(_e(nt))}),rt}}}function isCommunityResourcable(et){return et&&typeof et.isCommunityResource=="function"}function isCommunityResource(et){return isCommunityResourcable(et)&&et.isCommunityResource()}let throttleMessage=!1;function showThrottleMessage(){throttleMessage||(throttleMessage=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var __awaiter$6=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$f=new Logger(version$6),MAX_CCIP_REDIRECTS=10;function checkTopic(et){return et==null?"null":(hexDataLength(et)!==32&&logger$f.throwArgumentError("invalid topic","topic",et),et.toLowerCase())}function serializeTopics(et){for(et=et.slice();et.length>0&&et[et.length-1]==null;)et.pop();return et.map(_e=>{if(Array.isArray(_e)){const tt={};_e.forEach(nt=>{tt[checkTopic(nt)]=!0});const rt=Object.keys(tt);return rt.sort(),rt.join("|")}else return checkTopic(_e)}).join("&")}function deserializeTopics(et){return et===""?[]:et.split(/&/g).map(_e=>{if(_e==="")return[];const tt=_e.split("|").map(rt=>rt==="null"?null:rt);return tt.length===1?tt[0]:tt})}function getEventTag(et){if(typeof et=="string"){if(et=et.toLowerCase(),hexDataLength(et)===32)return"tx:"+et;if(et.indexOf(":")===-1)return et}else{if(Array.isArray(et))return"filter:*:"+serializeTopics(et);if(ForkEvent.isForkEvent(et))throw logger$f.warn("not implemented"),new Error("not implemented");if(et&&typeof et=="object")return"filter:"+(et.address||"*")+":"+serializeTopics(et.topics||[])}throw new Error("invalid event - "+et)}function getTime(){return new Date().getTime()}function stall$1(et){return new Promise(_e=>{setTimeout(_e,et)})}const PollableEvents=["block","network","pending","poll"];class Event{constructor(_e,tt,rt){defineReadOnly(this,"tag",_e),defineReadOnly(this,"listener",tt),defineReadOnly(this,"once",rt),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const _e=this.tag.split(":");return _e[0]!=="tx"?null:_e[1]}get filter(){const _e=this.tag.split(":");if(_e[0]!=="filter")return null;const tt=_e[1],rt=deserializeTopics(_e[2]),nt={};return rt.length>0&&(nt.topics=rt),tt&&tt!=="*"&&(nt.address=tt),nt}pollable(){return this.tag.indexOf(":")>=0||PollableEvents.indexOf(this.tag)>=0}}const coinInfos={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function bytes32ify(et){return hexZeroPad(BigNumber.from(et).toHexString(),32)}function base58Encode(et){return Base58.encode(concat$3([et,hexDataSlice(sha256$3(sha256$3(et)),0,4)]))}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function _parseString(et,_e){try{return toUtf8String(_parseBytes(et,_e))}catch{}return null}function _parseBytes(et,_e){if(et==="0x")return null;const tt=BigNumber.from(hexDataSlice(et,_e,_e+32)).toNumber(),rt=BigNumber.from(hexDataSlice(et,tt,tt+32)).toNumber();return hexDataSlice(et,tt+32,tt+32+rt)}function getIpfsLink(et){return et.match(/^ipfs:\/\/ipfs\//i)?et=et.substring(12):et.match(/^ipfs:\/\//i)?et=et.substring(7):logger$f.throwArgumentError("unsupported IPFS format","link",et),`https://gateway.ipfs.io/ipfs/${et}`}function numPad(et){const _e=arrayify(et);if(_e.length>32)throw new Error("internal; should not happen");const tt=new Uint8Array(32);return tt.set(_e,32-_e.length),tt}function bytesPad(et){if(et.length%32===0)return et;const _e=new Uint8Array(Math.ceil(et.length/32)*32);return _e.set(et),_e}function encodeBytes(et){const _e=[];let tt=0;for(let rt=0;rt<et.length;rt++)_e.push(null),tt+=32;for(let rt=0;rt<et.length;rt++){const nt=arrayify(et[rt]);_e[rt]=numPad(tt),_e.push(numPad(nt.length)),_e.push(bytesPad(nt)),tt+=32+Math.ceil(nt.length/32)*32}return hexConcat(_e)}class Resolver{constructor(_e,tt,rt,nt){defineReadOnly(this,"provider",_e),defineReadOnly(this,"name",rt),defineReadOnly(this,"address",_e.formatter.address(tt)),defineReadOnly(this,"_resolvedAddress",nt)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(_e=>BigNumber.from(_e).eq(1)).catch(_e=>{if(_e.code===Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,_e})),this._supportsEip2544}_fetch(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){const rt={to:this.address,ccipReadEnabled:!0,data:hexConcat([_e,namehash(this.name),tt||"0x"])};let nt=!1;(yield this.supportsWildcard())&&(nt=!0,rt.data=hexConcat(["0x9061b923",encodeBytes([dnsEncode(this.name),rt.data])]));try{let it=yield this.provider.call(rt);return arrayify(it).length%32===4&&logger$f.throwError("resolver threw error",Logger.errors.CALL_EXCEPTION,{transaction:rt,data:it}),nt&&(it=_parseBytes(it,0)),it}catch(it){if(it.code===Logger.errors.CALL_EXCEPTION)return null;throw it}})}_fetchBytes(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){const rt=yield this._fetch(_e,tt);return rt!=null?_parseBytes(rt,0):null})}_getAddress(_e,tt){const rt=coinInfos[String(_e)];if(rt==null&&logger$f.throwError(`unsupported coin type: ${_e}`,Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${_e})`}),rt.ilk==="eth")return this.provider.formatter.address(tt);const nt=arrayify(tt);if(rt.p2pkh!=null){const it=tt.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(it){const at=parseInt(it[1],16);if(it[2].length===at*2&&at>=1&&at<=75)return base58Encode(concat$3([[rt.p2pkh],"0x"+it[2]]))}}if(rt.p2sh!=null){const it=tt.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(it){const at=parseInt(it[1],16);if(it[2].length===at*2&&at>=1&&at<=75)return base58Encode(concat$3([[rt.p2sh],"0x"+it[2]]))}}if(rt.prefix!=null){const it=nt[1];let at=nt[0];if(at===0?it!==20&&it!==32&&(at=-1):at=-1,at>=0&&nt.length===2+it&&it>=1&&it<=75){const ot=bech32.toWords(nt.slice(2));return ot.unshift(at),bech32.encode(rt.prefix,ot)}}return null}getAddress(_e){return __awaiter$6(this,void 0,void 0,function*(){if(_e==null&&(_e=60),_e===60)try{const nt=yield this._fetch("0x3b3b57de");return nt==="0x"||nt===HashZero?null:this.provider.formatter.callAddress(nt)}catch(nt){if(nt.code===Logger.errors.CALL_EXCEPTION)return null;throw nt}const tt=yield this._fetchBytes("0xf1cb7e06",bytes32ify(_e));if(tt==null||tt==="0x")return null;const rt=this._getAddress(_e,tt);return rt==null&&logger$f.throwError("invalid or unsupported coin data",Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${_e})`,coinType:_e,data:tt}),rt})}getAvatar(){return __awaiter$6(this,void 0,void 0,function*(){const _e=[{type:"name",content:this.name}];try{const tt=yield this.getText("avatar");if(tt==null)return null;for(let rt=0;rt<matchers.length;rt++){const nt=tt.match(matchers[rt]);if(nt==null)continue;const it=nt[1].toLowerCase();switch(it){case"https":return _e.push({type:"url",content:tt}),{linkage:_e,url:tt};case"data":return _e.push({type:"data",content:tt}),{linkage:_e,url:tt};case"ipfs":return _e.push({type:"ipfs",content:tt}),{linkage:_e,url:getIpfsLink(tt)};case"erc721":case"erc1155":{const at=it==="erc721"?"0xc87b56dd":"0x0e89341c";_e.push({type:it,content:tt});const ot=this._resolvedAddress||(yield this.getAddress()),ct=(nt[2]||"").split("/");if(ct.length!==2)return null;const ut=yield this.provider.formatter.address(ct[0]),ft=hexZeroPad(BigNumber.from(ct[1]).toHexString(),32);if(it==="erc721"){const At=this.provider.formatter.callAddress(yield this.provider.call({to:ut,data:hexConcat(["0x6352211e",ft])}));if(ot!==At)return null;_e.push({type:"owner",content:At})}else if(it==="erc1155"){const At=BigNumber.from(yield this.provider.call({to:ut,data:hexConcat(["0x00fdd58e",hexZeroPad(ot,32),ft])}));if(At.isZero())return null;_e.push({type:"balance",content:At.toString()})}const yt={to:this.provider.formatter.address(ct[0]),data:hexConcat([at,ft])};let bt=_parseString(yield this.provider.call(yt),0);if(bt==null)return null;_e.push({type:"metadata-url-base",content:bt}),it==="erc1155"&&(bt=bt.replace("{id}",ft.substring(2)),_e.push({type:"metadata-url-expanded",content:bt})),bt.match(/^ipfs:/i)&&(bt=getIpfsLink(bt)),_e.push({type:"metadata-url",content:bt});const Et=yield fetchJson(bt);if(!Et)return null;_e.push({type:"metadata",content:JSON.stringify(Et)});let Ct=Et.image;if(typeof Ct!="string")return null;if(!Ct.match(/^(https:\/\/|data:)/i)){if(Ct.match(matcherIpfs)==null)return null;_e.push({type:"url-ipfs",content:Ct}),Ct=getIpfsLink(Ct)}return _e.push({type:"url",content:Ct}),{linkage:_e,url:Ct}}}}}catch{}return null})}getContentHash(){return __awaiter$6(this,void 0,void 0,function*(){const _e=yield this._fetchBytes("0xbc1c58d1");if(_e==null||_e==="0x")return null;const tt=_e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(tt){const at=parseInt(tt[3],16);if(tt[4].length===at*2)return"ipfs://"+Base58.encode("0x"+tt[1])}const rt=_e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(rt){const at=parseInt(rt[3],16);if(rt[4].length===at*2)return"ipns://"+Base58.encode("0x"+rt[1])}const nt=_e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(nt&&nt[1].length===32*2)return"bzz://"+nt[1];const it=_e.match(/^0x90b2c605([0-9a-f]*)$/);if(it&&it[1].length===34*2){const at={"=":"","+":"-","/":"_"};return"sia://"+encode$2("0x"+it[1]).replace(/[=+\/]/g,ct=>at[ct])}return logger$f.throwError("invalid or unsupported content hash data",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:_e})})}getText(_e){return __awaiter$6(this,void 0,void 0,function*(){let tt=toUtf8Bytes(_e);tt=concat$3([bytes32ify(64),bytes32ify(tt.length),tt]),tt.length%32!==0&&(tt=concat$3([tt,hexZeroPad("0x",32-_e.length%32)]));const rt=yield this._fetchBytes("0x59d1d43c",hexlify(tt));return rt==null||rt==="0x"?null:toUtf8String(rt)})}}let defaultFormatter=null,nextPollId=1;class BaseProvider extends Provider$1{constructor(_e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),defineReadOnly(this,"anyNetwork",_e==="any"),this.anyNetwork&&(_e=this.detectNetwork()),_e instanceof Promise)this._networkPromise=_e,_e.catch(tt=>{}),this._ready().catch(tt=>{});else{const tt=getStatic(new.target,"getNetwork")(_e);tt?(defineReadOnly(this,"_network",tt),this.emit("network",tt,null)):logger$f.throwArgumentError("invalid network","network",_e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return __awaiter$6(this,void 0,void 0,function*(){if(this._network==null){let _e=null;if(this._networkPromise)try{_e=yield this._networkPromise}catch{}_e==null&&(_e=yield this.detectNetwork()),_e||logger$f.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=_e:defineReadOnly(this,"_network",_e),this.emit("network",_e,null))}return this._network})}get ready(){return poll(()=>this._ready().then(_e=>_e,_e=>{if(!(_e.code===Logger.errors.NETWORK_ERROR&&_e.event==="noNetwork"))throw _e}))}static getFormatter(){return defaultFormatter==null&&(defaultFormatter=new Formatter),defaultFormatter}static getNetwork(_e){return getNetwork(_e==null?"homestead":_e)}ccipReadFetch(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){if(this.disableCcipRead||rt.length===0)return null;const nt=_e.to.toLowerCase(),it=tt.toLowerCase(),at=[];for(let ot=0;ot<rt.length;ot++){const ct=rt[ot],ut=ct.replace("{sender}",nt).replace("{data}",it),ft=ct.indexOf("{data}")>=0?null:JSON.stringify({data:it,sender:nt}),yt=yield fetchJson({url:ut,errorPassThrough:!0},ft,(Et,Ct)=>(Et.status=Ct.statusCode,Et));if(yt.data)return yt.data;const bt=yt.message||"unknown error";if(yt.status>=400&&yt.status<500)return logger$f.throwError(`response not found during CCIP fetch: ${bt}`,Logger.errors.SERVER_ERROR,{url:ct,errorMessage:bt});at.push(bt)}return logger$f.throwError(`error encountered during CCIP fetch: ${at.map(ot=>JSON.stringify(ot)).join(", ")}`,Logger.errors.SERVER_ERROR,{urls:rt,errorMessages:at})})}_getInternalBlockNumber(_e){return __awaiter$6(this,void 0,void 0,function*(){if(yield this._ready(),_e>0)for(;this._internalBlockNumber;){const nt=this._internalBlockNumber;try{const it=yield nt;if(getTime()-it.respTime<=_e)return it.blockNumber;break}catch{if(this._internalBlockNumber===nt)break}}const tt=getTime(),rt=resolveProperties({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(nt=>null,nt=>nt)}).then(({blockNumber:nt,networkError:it})=>{if(it)throw this._internalBlockNumber===rt&&(this._internalBlockNumber=null),it;const at=getTime();return nt=BigNumber.from(nt).toNumber(),nt<this._maxInternalBlockNumber&&(nt=this._maxInternalBlockNumber),this._maxInternalBlockNumber=nt,this._setFastBlockNumber(nt),{blockNumber:nt,reqTime:tt,respTime:at}});return this._internalBlockNumber=rt,rt.catch(nt=>{this._internalBlockNumber===rt&&(this._internalBlockNumber=null)}),(yield rt).blockNumber})}poll(){return __awaiter$6(this,void 0,void 0,function*(){const _e=nextPollId++,tt=[];let rt=null;try{rt=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(nt){this.emit("error",nt);return}if(this._setFastBlockNumber(rt),this.emit("poll",_e,rt),rt===this._lastBlockNumber){this.emit("didPoll",_e);return}if(this._emitted.block===-2&&(this._emitted.block=rt-1),Math.abs(this._emitted.block-rt)>1e3)logger$f.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${rt})`),this.emit("error",logger$f.makeError("network block skew detected",Logger.errors.NETWORK_ERROR,{blockNumber:rt,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",rt);else for(let nt=this._emitted.block+1;nt<=rt;nt++)this.emit("block",nt);this._emitted.block!==rt&&(this._emitted.block=rt,Object.keys(this._emitted).forEach(nt=>{if(nt==="block")return;const it=this._emitted[nt];it!=="pending"&&rt-it>12&&delete this._emitted[nt]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=rt-1),this._events.forEach(nt=>{switch(nt.type){case"tx":{const it=nt.hash;let at=this.getTransactionReceipt(it).then(ot=>(!ot||ot.blockNumber==null||(this._emitted["t:"+it]=ot.blockNumber,this.emit(it,ot)),null)).catch(ot=>{this.emit("error",ot)});tt.push(at);break}case"filter":{if(!nt._inflight){nt._inflight=!0,nt._lastBlockNumber===-2&&(nt._lastBlockNumber=rt-1);const it=nt.filter;it.fromBlock=nt._lastBlockNumber+1,it.toBlock=rt;const at=it.toBlock-this._maxFilterBlockRange;at>it.fromBlock&&(it.fromBlock=at),it.fromBlock<0&&(it.fromBlock=0);const ot=this.getLogs(it).then(ct=>{nt._inflight=!1,ct.length!==0&&ct.forEach(ut=>{ut.blockNumber>nt._lastBlockNumber&&(nt._lastBlockNumber=ut.blockNumber),this._emitted["b:"+ut.blockHash]=ut.blockNumber,this._emitted["t:"+ut.transactionHash]=ut.blockNumber,this.emit(it,ut)})}).catch(ct=>{this.emit("error",ct),nt._inflight=!1});tt.push(ot)}break}}}),this._lastBlockNumber=rt,Promise.all(tt).then(()=>{this.emit("didPoll",_e)}).catch(nt=>{this.emit("error",nt)})})}resetEventsBlock(_e){this._lastBlockNumber=_e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return __awaiter$6(this,void 0,void 0,function*(){return logger$f.throwError("provider does not support network detection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return __awaiter$6(this,void 0,void 0,function*(){const _e=yield this._ready(),tt=yield this.detectNetwork();if(_e.chainId!==tt.chainId){if(this.anyNetwork)return this._network=tt,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",tt,_e),yield stall$1(0),this._network;const rt=logger$f.makeError("underlying network changed",Logger.errors.NETWORK_ERROR,{event:"changed",network:_e,detectedNetwork:tt});throw this.emit("error",rt),rt}return _e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(_e=>{this._setFastBlockNumber(_e)},_e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(_e){_e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!_e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(_e){if(typeof _e!="number"||_e<=0||parseInt(String(_e))!=_e)throw new Error("invalid polling interval");this._pollingInterval=_e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const _e=getTime();return _e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=_e,this._fastBlockNumberPromise=this.getBlockNumber().then(tt=>((this._fastBlockNumber==null||tt>this._fastBlockNumber)&&(this._fastBlockNumber=tt),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(_e){this._fastBlockNumber!=null&&_e<this._fastBlockNumber||(this._fastQueryDate=getTime(),(this._fastBlockNumber==null||_e>this._fastBlockNumber)&&(this._fastBlockNumber=_e,this._fastBlockNumberPromise=Promise.resolve(_e)))}waitForTransaction(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){return this._waitForTransaction(_e,tt==null?1:tt,rt||0,null)})}_waitForTransaction(_e,tt,rt,nt){return __awaiter$6(this,void 0,void 0,function*(){const it=yield this.getTransactionReceipt(_e);return(it?it.confirmations:0)>=tt?it:new Promise((at,ot)=>{const ct=[];let ut=!1;const ft=function(){return ut?!0:(ut=!0,ct.forEach(bt=>{bt()}),!1)},yt=bt=>{bt.confirmations<tt||ft()||at(bt)};if(this.on(_e,yt),ct.push(()=>{this.removeListener(_e,yt)}),nt){let bt=nt.startBlock,Et=null;const Ct=At=>__awaiter$6(this,void 0,void 0,function*(){ut||(yield stall$1(1e3),this.getTransactionCount(nt.from).then(St=>__awaiter$6(this,void 0,void 0,function*(){if(!ut){if(St<=nt.nonce)bt=At;else{{const Tt=yield this.getTransaction(_e);if(Tt&&Tt.blockNumber!=null)return}for(Et==null&&(Et=bt-3,Et<nt.startBlock&&(Et=nt.startBlock));Et<=At;){if(ut)return;const Tt=yield this.getBlockWithTransactions(Et);for(let $t=0;$t<Tt.transactions.length;$t++){const kt=Tt.transactions[$t];if(kt.hash===_e)return;if(kt.from===nt.from&&kt.nonce===nt.nonce){if(ut)return;const Pt=yield this.waitForTransaction(kt.hash,tt);if(ft())return;let Ot="replaced";kt.data===nt.data&&kt.to===nt.to&&kt.value.eq(nt.value)?Ot="repriced":kt.data==="0x"&&kt.from===kt.to&&kt.value.isZero()&&(Ot="cancelled"),ot(logger$f.makeError("transaction was replaced",Logger.errors.TRANSACTION_REPLACED,{cancelled:Ot==="replaced"||Ot==="cancelled",reason:Ot,replacement:this._wrapTransaction(kt),hash:_e,receipt:Pt}));return}}Et++}}ut||this.once("block",Ct)}}),St=>{ut||this.once("block",Ct)}))});if(ut)return;this.once("block",Ct),ct.push(()=>{this.removeListener("block",Ct)})}if(typeof rt=="number"&&rt>0){const bt=setTimeout(()=>{ft()||ot(logger$f.makeError("timeout exceeded",Logger.errors.TIMEOUT,{timeout:rt}))},rt);bt.unref&&bt.unref(),ct.push(()=>{clearTimeout(bt)})}})})}getBlockNumber(){return __awaiter$6(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const _e=yield this.perform("getGasPrice",{});try{return BigNumber.from(_e)}catch(tt){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:_e,error:tt})}})}getBalance(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getBalance",rt);try{return BigNumber.from(nt)}catch(it){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getBalance",params:rt,result:nt,error:it})}})}getTransactionCount(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getTransactionCount",rt);try{return BigNumber.from(nt).toNumber()}catch(it){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:rt,result:nt,error:it})}})}getCode(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(tt)}),nt=yield this.perform("getCode",rt);try{return hexlify(nt)}catch(it){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getCode",params:rt,result:nt,error:it})}})}getStorageAt(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const nt=yield resolveProperties({address:this._getAddress(_e),blockTag:this._getBlockTag(rt),position:Promise.resolve(tt).then(at=>hexValue(at))}),it=yield this.perform("getStorageAt",nt);try{return hexlify(it)}catch(at){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:nt,result:it,error:at})}})}_wrapTransaction(_e,tt,rt){if(tt!=null&&hexDataLength(tt)!==32)throw new Error("invalid response - sendTransaction");const nt=_e;return tt!=null&&_e.hash!==tt&&logger$f.throwError("Transaction hash mismatch from Provider.sendTransaction.",Logger.errors.UNKNOWN_ERROR,{expectedHash:_e.hash,returnedHash:tt}),nt.wait=(it,at)=>__awaiter$6(this,void 0,void 0,function*(){it==null&&(it=1),at==null&&(at=0);let ot;it!==0&&rt!=null&&(ot={data:_e.data,from:_e.from,nonce:_e.nonce,to:_e.to,value:_e.value,startBlock:rt});const ct=yield this._waitForTransaction(_e.hash,it,at,ot);return ct==null&&it===0?null:(this._emitted["t:"+_e.hash]=ct.blockNumber,ct.status===0&&logger$f.throwError("transaction failed",Logger.errors.CALL_EXCEPTION,{transactionHash:_e.hash,transaction:_e,receipt:ct}),ct)}),nt}sendTransaction(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield Promise.resolve(_e).then(it=>hexlify(it)),rt=this.formatter.transaction(_e);rt.confirmations==null&&(rt.confirmations=0);const nt=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const it=yield this.perform("sendTransaction",{signedTransaction:tt});return this._wrapTransaction(rt,it,nt)}catch(it){throw it.transaction=rt,it.transactionHash=rt.hash,it}})}_getTransactionRequest(_e){return __awaiter$6(this,void 0,void 0,function*(){const tt=yield _e,rt={};return["from","to"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?this._getAddress(it):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?BigNumber.from(it):null))}),["type"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it!=null?it:null))}),tt.accessList&&(rt.accessList=this.formatter.accessList(tt.accessList)),["data"].forEach(nt=>{tt[nt]!=null&&(rt[nt]=Promise.resolve(tt[nt]).then(it=>it?hexlify(it):null))}),this.formatter.transactionRequest(yield resolveProperties(rt))})}_getFilter(_e){return __awaiter$6(this,void 0,void 0,function*(){_e=yield _e;const tt={};return _e.address!=null&&(tt.address=this._getAddress(_e.address)),["blockHash","topics"].forEach(rt=>{_e[rt]!=null&&(tt[rt]=_e[rt])}),["fromBlock","toBlock"].forEach(rt=>{_e[rt]!=null&&(tt[rt]=this._getBlockTag(_e[rt]))}),this.formatter.filter(yield resolveProperties(tt))})}_call(_e,tt,rt){return __awaiter$6(this,void 0,void 0,function*(){rt>=MAX_CCIP_REDIRECTS&&logger$f.throwError("CCIP read exceeded maximum redirections",Logger.errors.SERVER_ERROR,{redirects:rt,transaction:_e});const nt=_e.to,it=yield this.perform("call",{transaction:_e,blockTag:tt});if(rt>=0&&tt==="latest"&&nt!=null&&it.substring(0,10)==="0x556f1830"&&hexDataLength(it)%32===4)try{const at=hexDataSlice(it,4),ot=hexDataSlice(at,0,32);BigNumber.from(ot).eq(nt)||logger$f.throwError("CCIP Read sender did not match",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const ct=[],ut=BigNumber.from(hexDataSlice(at,32,64)).toNumber(),ft=BigNumber.from(hexDataSlice(at,ut,ut+32)).toNumber(),yt=hexDataSlice(at,ut+32);for(let Tt=0;Tt<ft;Tt++){const $t=_parseString(yt,Tt*32);$t==null&&logger$f.throwError("CCIP Read contained corrupt URL string",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it}),ct.push($t)}const bt=_parseBytes(at,64);BigNumber.from(hexDataSlice(at,100,128)).isZero()||logger$f.throwError("CCIP Read callback selector included junk",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const Et=hexDataSlice(at,96,100),Ct=_parseBytes(at,128),At=yield this.ccipReadFetch(_e,bt,ct);At==null&&logger$f.throwError("CCIP Read disabled or provided no URLs",Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:_e,data:it});const St={to:nt,data:hexConcat([Et,encodeBytes([At,Ct])])};return this._call(St,tt,rt+1)}catch(at){if(at.code===Logger.errors.SERVER_ERROR)throw at}try{return hexlify(it)}catch(at){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:_e,blockTag:tt},result:it,error:at})}})}call(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const rt=yield resolveProperties({transaction:this._getTransactionRequest(_e),blockTag:this._getBlockTag(tt),ccipReadEnabled:Promise.resolve(_e.ccipReadEnabled)});return this._call(rt.transaction,rt.blockTag,rt.ccipReadEnabled?0:-1)})}estimateGas(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield resolveProperties({transaction:this._getTransactionRequest(_e)}),rt=yield this.perform("estimateGas",tt);try{return BigNumber.from(rt)}catch(nt){return logger$f.throwError("bad result from backend",Logger.errors.SERVER_ERROR,{method:"estimateGas",params:tt,result:rt,error:nt})}})}_getAddress(_e){return __awaiter$6(this,void 0,void 0,function*(){_e=yield _e,typeof _e!="string"&&logger$f.throwArgumentError("invalid address or ENS name","name",_e);const tt=yield this.resolveName(_e);return tt==null&&logger$f.throwError("ENS name not configured",Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(_e)})`}),tt})}_getBlock(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;let rt=-128;const nt={includeTransactions:!!tt};if(isHexString$4(_e,32))nt.blockHash=_e;else try{nt.blockTag=yield this._getBlockTag(_e),isHexString$4(nt.blockTag)&&(rt=parseInt(nt.blockTag.substring(2),16))}catch{logger$f.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",_e)}return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const it=yield this.perform("getBlock",nt);if(it==null)return nt.blockHash!=null&&this._emitted["b:"+nt.blockHash]==null||nt.blockTag!=null&&rt>this._emitted.block?null:void 0;if(tt){let at=null;for(let ct=0;ct<it.transactions.length;ct++){const ut=it.transactions[ct];if(ut.blockNumber==null)ut.confirmations=0;else if(ut.confirmations==null){at==null&&(at=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let ft=at-ut.blockNumber+1;ft<=0&&(ft=1),ut.confirmations=ft}}const ot=this.formatter.blockWithTransactions(it);return ot.transactions=ot.transactions.map(ct=>this._wrapTransaction(ct)),ot}return this.formatter.block(it)}),{oncePoll:this})})}getBlock(_e){return this._getBlock(_e,!1)}getBlockWithTransactions(_e){return this._getBlock(_e,!0)}getTransaction(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;const tt={transactionHash:this.formatter.hash(_e,!0)};return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const rt=yield this.perform("getTransaction",tt);if(rt==null)return this._emitted["t:"+_e]==null?null:void 0;const nt=this.formatter.transactionResponse(rt);if(nt.blockNumber==null)nt.confirmations=0;else if(nt.confirmations==null){let at=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-nt.blockNumber+1;at<=0&&(at=1),nt.confirmations=at}return this._wrapTransaction(nt)}),{oncePoll:this})})}getTransactionReceipt(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork(),_e=yield _e;const tt={transactionHash:this.formatter.hash(_e,!0)};return poll(()=>__awaiter$6(this,void 0,void 0,function*(){const rt=yield this.perform("getTransactionReceipt",tt);if(rt==null)return this._emitted["t:"+_e]==null?null:void 0;if(rt.blockHash==null)return;const nt=this.formatter.receipt(rt);if(nt.blockNumber==null)nt.confirmations=0;else if(nt.confirmations==null){let at=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-nt.blockNumber+1;at<=0&&(at=1),nt.confirmations=at}return nt}),{oncePoll:this})})}getLogs(_e){return __awaiter$6(this,void 0,void 0,function*(){yield this.getNetwork();const tt=yield resolveProperties({filter:this._getFilter(_e)}),rt=yield this.perform("getLogs",tt);return rt.forEach(nt=>{nt.removed==null&&(nt.removed=!1)}),Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(rt)})}getEtherPrice(){return __awaiter$6(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(_e){return __awaiter$6(this,void 0,void 0,function*(){if(_e=yield _e,typeof _e=="number"&&_e<0){_e%1&&logger$f.throwArgumentError("invalid BlockTag","blockTag",_e);let tt=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return tt+=_e,tt<0&&(tt=0),this.formatter.blockTag(tt)}return this.formatter.blockTag(_e)})}getResolver(_e){return __awaiter$6(this,void 0,void 0,function*(){let tt=_e;for(;;){if(tt===""||tt==="."||_e!=="eth"&&tt==="eth")return null;const rt=yield this._getResolver(tt,"getResolver");if(rt!=null){const nt=new Resolver(this,rt,_e);return tt!==_e&&!(yield nt.supportsWildcard())?null:nt}tt=tt.split(".").slice(1).join(".")}})}_getResolver(_e,tt){return __awaiter$6(this,void 0,void 0,function*(){tt==null&&(tt="ENS");const rt=yield this.getNetwork();rt.ensAddress||logger$f.throwError("network does not support ENS",Logger.errors.UNSUPPORTED_OPERATION,{operation:tt,network:rt.name});try{const nt=yield this.call({to:rt.ensAddress,data:"0x0178b8bf"+namehash(_e).substring(2)});return this.formatter.callAddress(nt)}catch{}return null})}resolveName(_e){return __awaiter$6(this,void 0,void 0,function*(){_e=yield _e;try{return Promise.resolve(this.formatter.address(_e))}catch(rt){if(isHexString$4(_e))throw rt}typeof _e!="string"&&logger$f.throwArgumentError("invalid ENS name","name",_e);const tt=yield this.getResolver(_e);return tt?yield tt.getAddress():null})}lookupAddress(_e){return __awaiter$6(this,void 0,void 0,function*(){_e=yield _e,_e=this.formatter.address(_e);const tt=_e.substring(2).toLowerCase()+".addr.reverse",rt=yield this._getResolver(tt,"lookupAddress");if(rt==null)return null;const nt=_parseString(yield this.call({to:rt,data:"0x691f3431"+namehash(tt).substring(2)}),0);return(yield this.resolveName(nt))!=_e?null:nt})}getAvatar(_e){return __awaiter$6(this,void 0,void 0,function*(){let tt=null;if(isHexString$4(_e)){const it=this.formatter.address(_e).substring(2).toLowerCase()+".addr.reverse",at=yield this._getResolver(it,"getAvatar");if(!at)return null;tt=new Resolver(this,at,it);try{const ot=yield tt.getAvatar();if(ot)return ot.url}catch(ot){if(ot.code!==Logger.errors.CALL_EXCEPTION)throw ot}try{const ot=_parseString(yield this.call({to:at,data:"0x691f3431"+namehash(it).substring(2)}),0);tt=yield this.getResolver(ot)}catch(ot){if(ot.code!==Logger.errors.CALL_EXCEPTION)throw ot;return null}}else if(tt=yield this.getResolver(_e),!tt)return null;const rt=yield tt.getAvatar();return rt==null?null:rt.url})}perform(_e,tt){return logger$f.throwError(_e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:_e})}_startEvent(_e){this.polling=this._events.filter(tt=>tt.pollable()).length>0}_stopEvent(_e){this.polling=this._events.filter(tt=>tt.pollable()).length>0}_addEventListener(_e,tt,rt){const nt=new Event(getEventTag(_e),tt,rt);return this._events.push(nt),this._startEvent(nt),this}on(_e,tt){return this._addEventListener(_e,tt,!1)}once(_e,tt){return this._addEventListener(_e,tt,!0)}emit(_e,...tt){let rt=!1,nt=[],it=getEventTag(_e);return this._events=this._events.filter(at=>at.tag!==it?!0:(setTimeout(()=>{at.listener.apply(this,tt)},0),rt=!0,at.once?(nt.push(at),!1):!0)),nt.forEach(at=>{this._stopEvent(at)}),rt}listenerCount(_e){if(!_e)return this._events.length;let tt=getEventTag(_e);return this._events.filter(rt=>rt.tag===tt).length}listeners(_e){if(_e==null)return this._events.map(rt=>rt.listener);let tt=getEventTag(_e);return this._events.filter(rt=>rt.tag===tt).map(rt=>rt.listener)}off(_e,tt){if(tt==null)return this.removeAllListeners(_e);const rt=[];let nt=!1,it=getEventTag(_e);return this._events=this._events.filter(at=>at.tag!==it||at.listener!=tt||nt?!0:(nt=!0,rt.push(at),!1)),rt.forEach(at=>{this._stopEvent(at)}),this}removeAllListeners(_e){let tt=[];if(_e==null)tt=this._events,this._events=[];else{const rt=getEventTag(_e);this._events=this._events.filter(nt=>nt.tag!==rt?!0:(tt.push(nt),!1))}return tt.forEach(rt=>{this._stopEvent(rt)}),this}}var __awaiter$5=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$e=new Logger(version$6),errorGas=["call","estimateGas"];function spelunk(et,_e){if(et==null)return null;if(typeof et.message=="string"&&et.message.match("reverted")){const tt=isHexString$4(et.data)?et.data:null;if(!_e||tt)return{message:et.message,data:tt}}if(typeof et=="object"){for(const tt in et){const rt=spelunk(et[tt],_e);if(rt)return rt}return null}if(typeof et=="string")try{return spelunk(JSON.parse(et),_e)}catch{}return null}function checkError$1(et,_e,tt){const rt=tt.transaction||tt.signedTransaction;if(et==="call"){const it=spelunk(_e,!0);if(it)return it.data;logger$e.throwError("missing revert data in call exception; Transaction reverted without a reason string",Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:rt,error:_e})}if(et==="estimateGas"){let it=spelunk(_e.body,!1);it==null&&(it=spelunk(_e,!1)),it&&logger$e.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:it.message,method:et,transaction:rt,error:_e})}let nt=_e.message;throw _e.code===Logger.errors.SERVER_ERROR&&_e.error&&typeof _e.error.message=="string"?nt=_e.error.message:typeof _e.body=="string"?nt=_e.body:typeof _e.responseText=="string"&&(nt=_e.responseText),nt=(nt||"").toLowerCase(),nt.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger$e.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:_e,method:et,transaction:rt}),nt.match(/nonce (is )?too low/i)&&logger$e.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:_e,method:et,transaction:rt}),nt.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger$e.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:_e,method:et,transaction:rt}),nt.match(/only replay-protected/i)&&logger$e.throwError("legacy pre-eip-155 transactions not supported",Logger.errors.UNSUPPORTED_OPERATION,{error:_e,method:et,transaction:rt}),errorGas.indexOf(et)>=0&&nt.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger$e.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:_e,method:et,transaction:rt}),_e}function timer$1(et){return new Promise(function(_e){setTimeout(_e,et)})}function getResult$1(et){if(et.error){const _e=new Error(et.error.message);throw _e.code=et.error.code,_e.data=et.error.data,_e}return et.result}function getLowerCase(et){return et&&et.toLowerCase()}const _constructorGuard={};class JsonRpcSigner extends Signer{constructor(_e,tt,rt){if(super(),_e!==_constructorGuard)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");defineReadOnly(this,"provider",tt),rt==null&&(rt=0),typeof rt=="string"?(defineReadOnly(this,"_address",this.provider.formatter.address(rt)),defineReadOnly(this,"_index",null)):typeof rt=="number"?(defineReadOnly(this,"_index",rt),defineReadOnly(this,"_address",null)):logger$e.throwArgumentError("invalid address or index","addressOrIndex",rt)}connect(_e){return logger$e.throwError("cannot alter JSON-RPC Signer connection",Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new UncheckedJsonRpcSigner(_constructorGuard,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(_e=>(_e.length<=this._index&&logger$e.throwError("unknown account #"+this._index,Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(_e[this._index])))}sendUncheckedTransaction(_e){_e=shallowCopy(_e);const tt=this.getAddress().then(rt=>(rt&&(rt=rt.toLowerCase()),rt));if(_e.gasLimit==null){const rt=shallowCopy(_e);rt.from=tt,_e.gasLimit=this.provider.estimateGas(rt)}return _e.to!=null&&(_e.to=Promise.resolve(_e.to).then(rt=>__awaiter$5(this,void 0,void 0,function*(){if(rt==null)return null;const nt=yield this.provider.resolveName(rt);return nt==null&&logger$e.throwArgumentError("provided ENS name resolves to null","tx.to",rt),nt}))),resolveProperties({tx:resolveProperties(_e),sender:tt}).then(({tx:rt,sender:nt})=>{rt.from!=null?rt.from.toLowerCase()!==nt&&logger$e.throwArgumentError("from address mismatch","transaction",_e):rt.from=nt;const it=this.provider.constructor.hexlifyTransaction(rt,{from:!0});return this.provider.send("eth_sendTransaction",[it]).then(at=>at,at=>(typeof at.message=="string"&&at.message.match(/user denied/i)&&logger$e.throwError("user rejected transaction",Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:rt}),checkError$1("sendTransaction",at,it)))})}signTransaction(_e){return logger$e.throwError("signing transactions is unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(_e){return __awaiter$5(this,void 0,void 0,function*(){const tt=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),rt=yield this.sendUncheckedTransaction(_e);try{return yield poll(()=>__awaiter$5(this,void 0,void 0,function*(){const nt=yield this.provider.getTransaction(rt);if(nt!==null)return this.provider._wrapTransaction(nt,rt,tt)}),{oncePoll:this.provider})}catch(nt){throw nt.transactionHash=rt,nt}})}signMessage(_e){return __awaiter$5(this,void 0,void 0,function*(){const tt=typeof _e=="string"?toUtf8Bytes(_e):_e,rt=yield this.getAddress();try{return yield this.provider.send("personal_sign",[hexlify(tt),rt.toLowerCase()])}catch(nt){throw typeof nt.message=="string"&&nt.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"signMessage",from:rt,messageData:_e}),nt}})}_legacySignMessage(_e){return __awaiter$5(this,void 0,void 0,function*(){const tt=typeof _e=="string"?toUtf8Bytes(_e):_e,rt=yield this.getAddress();try{return yield this.provider.send("eth_sign",[rt.toLowerCase(),hexlify(tt)])}catch(nt){throw typeof nt.message=="string"&&nt.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:rt,messageData:_e}),nt}})}_signTypedData(_e,tt,rt){return __awaiter$5(this,void 0,void 0,function*(){const nt=yield TypedDataEncoder.resolveNames(_e,tt,rt,at=>this.provider.resolveName(at)),it=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[it.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(nt.domain,tt,nt.value))])}catch(at){throw typeof at.message=="string"&&at.message.match(/user denied/i)&&logger$e.throwError("user rejected signing",Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:it,messageData:{domain:nt.domain,types:tt,value:nt.value}}),at}})}unlock(_e){return __awaiter$5(this,void 0,void 0,function*(){const tt=this.provider,rt=yield this.getAddress();return tt.send("personal_unlockAccount",[rt.toLowerCase(),_e,null])})}}class UncheckedJsonRpcSigner extends JsonRpcSigner{sendTransaction(_e){return this.sendUncheckedTransaction(_e).then(tt=>({hash:tt,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:rt=>this.provider.waitForTransaction(tt,rt)}))}}const allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class JsonRpcProvider$1 extends BaseProvider{constructor(_e,tt){let rt=tt;rt==null&&(rt=new Promise((nt,it)=>{setTimeout(()=>{this.detectNetwork().then(at=>{nt(at)},at=>{it(at)})},0)})),super(rt),_e||(_e=getStatic(this.constructor,"defaultUrl")()),typeof _e=="string"?defineReadOnly(this,"connection",Object.freeze({url:_e})):defineReadOnly(this,"connection",Object.freeze(shallowCopy(_e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return __awaiter$5(this,void 0,void 0,function*(){yield timer$1(0);let _e=null;try{_e=yield this.send("eth_chainId",[])}catch{try{_e=yield this.send("net_version",[])}catch{}}if(_e!=null){const tt=getStatic(this.constructor,"getNetwork");try{return tt(BigNumber.from(_e).toNumber())}catch(rt){return logger$e.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{chainId:_e,event:"invalidNetwork",serverError:rt})}}return logger$e.throwError("could not detect network",Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(_e){return new JsonRpcSigner(_constructorGuard,this,_e)}getUncheckedSigner(_e){return this.getSigner(_e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(_e=>_e.map(tt=>this.formatter.address(tt)))}send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:deepCopy(rt),provider:this});const nt=["eth_chainId","eth_blockNumber"].indexOf(_e)>=0;if(nt&&this._cache[_e])return this._cache[_e];const it=fetchJson(this.connection,JSON.stringify(rt),getResult$1).then(at=>(this.emit("debug",{action:"response",request:rt,response:at,provider:this}),at),at=>{throw this.emit("debug",{action:"response",error:at,request:rt,provider:this}),at});return nt&&(this._cache[_e]=it,setTimeout(()=>{this._cache[_e]=null},0)),it}prepareRequest(_e,tt){switch(_e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[getLowerCase(tt.address),tt.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[getLowerCase(tt.address),tt.blockTag]];case"getCode":return["eth_getCode",[getLowerCase(tt.address),tt.blockTag]];case"getStorageAt":return["eth_getStorageAt",[getLowerCase(tt.address),hexZeroPad(tt.position,32),tt.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[tt.signedTransaction]];case"getBlock":return tt.blockTag?["eth_getBlockByNumber",[tt.blockTag,!!tt.includeTransactions]]:tt.blockHash?["eth_getBlockByHash",[tt.blockHash,!!tt.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[tt.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[tt.transactionHash]];case"call":return["eth_call",[getStatic(this.constructor,"hexlifyTransaction")(tt.transaction,{from:!0}),tt.blockTag]];case"estimateGas":return["eth_estimateGas",[getStatic(this.constructor,"hexlifyTransaction")(tt.transaction,{from:!0})]];case"getLogs":return tt.filter&&tt.filter.address!=null&&(tt.filter.address=getLowerCase(tt.filter.address)),["eth_getLogs",[tt.filter]]}return null}perform(_e,tt){return __awaiter$5(this,void 0,void 0,function*(){if(_e==="call"||_e==="estimateGas"){const nt=tt.transaction;if(nt&&nt.type!=null&&BigNumber.from(nt.type).isZero()&&nt.maxFeePerGas==null&&nt.maxPriorityFeePerGas==null){const it=yield this.getFeeData();it.maxFeePerGas==null&&it.maxPriorityFeePerGas==null&&(tt=shallowCopy(tt),tt.transaction=shallowCopy(nt),delete tt.transaction.type)}}const rt=this.prepareRequest(_e,tt);rt==null&&logger$e.throwError(_e+" not implemented",Logger.errors.NOT_IMPLEMENTED,{operation:_e});try{return yield this.send(rt[0],rt[1])}catch(nt){return checkError$1(_e,nt,tt)}})}_startEvent(_e){_e.tag==="pending"&&this._startPending(),super._startEvent(_e)}_startPending(){if(this._pendingFilter!=null)return;const _e=this,tt=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=tt,tt.then(function(rt){function nt(){_e.send("eth_getFilterChanges",[rt]).then(function(it){if(_e._pendingFilter!=tt)return null;let at=Promise.resolve();return it.forEach(function(ot){_e._emitted["t:"+ot.toLowerCase()]="pending",at=at.then(function(){return _e.getTransaction(ot).then(function(ct){return _e.emit("pending",ct),null})})}),at.then(function(){return timer$1(1e3)})}).then(function(){if(_e._pendingFilter!=tt){_e.send("eth_uninstallFilter",[rt]);return}return setTimeout(function(){nt()},0),null}).catch(it=>{})}return nt(),rt}).catch(rt=>{})}_stopEvent(_e){_e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(_e)}static hexlifyTransaction(_e,tt){const rt=shallowCopy(allowedTransactionKeys);if(tt)for(const it in tt)tt[it]&&(rt[it]=!0);checkProperties(_e,rt);const nt={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(it){if(_e[it]==null)return;const at=hexValue(BigNumber.from(_e[it]));it==="gasLimit"&&(it="gas"),nt[it]=at}),["from","to","data"].forEach(function(it){_e[it]!=null&&(nt[it]=hexlify(_e[it]))}),_e.accessList&&(nt.accessList=accessListify(_e.accessList)),nt}}let WS$1=null;try{if(WS$1=WebSocket,WS$1==null)throw new Error("inject please")}catch{const _e=new Logger(version$6);WS$1=function(){_e.throwError("WebSockets not supported in this environment",Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$d=new Logger(version$6);let NextId=1;class WebSocketProvider extends JsonRpcProvider$1{constructor(_e,tt){tt==="any"&&logger$d.throwError("WebSocketProvider does not support 'any' network yet",Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof _e=="string"?super(_e,tt):super("_websocket",tt),this._pollingInterval=-1,this._wsReady=!1,typeof _e=="string"?defineReadOnly(this,"_websocket",new WS$1(this.connection.url)):defineReadOnly(this,"_websocket",_e),defineReadOnly(this,"_requests",{}),defineReadOnly(this,"_subs",{}),defineReadOnly(this,"_subIds",{}),defineReadOnly(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(nt=>{this.websocket.send(this._requests[nt].payload)})},this.websocket.onmessage=nt=>{const it=nt.data,at=JSON.parse(it);if(at.id!=null){const ot=String(at.id),ct=this._requests[ot];if(delete this._requests[ot],at.result!==void 0)ct.callback(null,at.result),this.emit("debug",{action:"response",request:JSON.parse(ct.payload),response:at.result,provider:this});else{let ut=null;at.error?(ut=new Error(at.error.message||"unknown error"),defineReadOnly(ut,"code",at.error.code||null),defineReadOnly(ut,"response",it)):ut=new Error("unknown error"),ct.callback(ut,void 0),this.emit("debug",{action:"response",error:ut,request:JSON.parse(ct.payload),provider:this})}}else if(at.method==="eth_subscription"){const ot=this._subs[at.params.subscription];ot&&ot.processFunc(at.params.result)}else console.warn("this should not happen")};const rt=setInterval(()=>{this.emit("poll")},1e3);rt.unref&&rt.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(_e){logger$d.throwError("cannot reset events block on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(_e){logger$d.throwError("cannot set polling interval on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return __awaiter$4(this,void 0,void 0,function*(){return null})}set polling(_e){!_e||logger$d.throwError("cannot set polling on WebSocketProvider",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(_e,tt){const rt=NextId++;return new Promise((nt,it)=>{function at(ct,ut){return ct?it(ct):nt(ut)}const ot=JSON.stringify({method:_e,params:tt,id:rt,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(ot),provider:this}),this._requests[String(rt)]={callback:at,payload:ot},this._wsReady&&this.websocket.send(ot)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(_e,tt,rt){return __awaiter$4(this,void 0,void 0,function*(){let nt=this._subIds[_e];nt==null&&(nt=Promise.all(tt).then(at=>this.send("eth_subscribe",at)),this._subIds[_e]=nt);const it=yield nt;this._subs[it]={tag:_e,processFunc:rt}})}_startEvent(_e){switch(_e.type){case"block":this._subscribe("block",["newHeads"],tt=>{const rt=BigNumber.from(tt.number).toNumber();this._emitted.block=rt,this.emit("block",rt)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],tt=>{this.emit("pending",tt)});break;case"filter":this._subscribe(_e.tag,["logs",this._getFilter(_e.filter)],tt=>{tt.removed==null&&(tt.removed=!1),this.emit(_e.filter,this.formatter.filterLog(tt))});break;case"tx":{const tt=rt=>{const nt=rt.hash;this.getTransactionReceipt(nt).then(it=>{!it||this.emit(nt,it)})};tt(_e),this._subscribe("tx",["newHeads"],rt=>{this._events.filter(nt=>nt.type==="tx").forEach(tt)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",_e);break}}_stopEvent(_e){let tt=_e.tag;if(_e.type==="tx"){if(this._events.filter(nt=>nt.type==="tx").length)return;tt="tx"}else if(this.listenerCount(_e.event))return;const rt=this._subIds[tt];!rt||(delete this._subIds[tt],rt.then(nt=>{!this._subs[nt]||(delete this._subs[nt],this.send("eth_unsubscribe",[nt]))}))}destroy(){return __awaiter$4(this,void 0,void 0,function*(){this.websocket.readyState===WS$1.CONNECTING&&(yield new Promise(_e=>{this.websocket.onopen=function(){_e(!0)},this.websocket.onerror=function(){_e(!1)}})),this.websocket.close(1e3)})}}var __awaiter$3=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$c=new Logger(version$6);class StaticJsonRpcProvider extends JsonRpcProvider$1{detectNetwork(){const _e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return __awaiter$3(this,void 0,void 0,function*(){let tt=this.network;return tt==null&&(tt=yield _e.detectNetwork.call(this),tt||logger$c.throwError("no network detected",Logger.errors.UNKNOWN_ERROR,{}),this._network==null&&(defineReadOnly(this,"_network",tt),this.emit("network",tt,null))),tt})}}class UrlJsonRpcProvider extends StaticJsonRpcProvider{constructor(_e,tt){logger$c.checkAbstract(new.target,UrlJsonRpcProvider),_e=getStatic(new.target,"getNetwork")(_e),tt=getStatic(new.target,"getApiKey")(tt);const rt=getStatic(new.target,"getUrl")(_e,tt);super(rt,_e),typeof tt=="string"?defineReadOnly(this,"apiKey",tt):tt!=null&&Object.keys(tt).forEach(nt=>{defineReadOnly(this,nt,tt[nt])})}_startPending(){logger$c.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(_e){return logger$c.throwError("API provider does not support signing",Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(_e){return _e}static getUrl(_e,tt){return logger$c.throwError("not implemented; sub-classes must override getUrl",Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const logger$b=new Logger(version$6),defaultApiKey$2="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class AlchemyWebSocketProvider extends WebSocketProvider{constructor(_e,tt){const rt=new AlchemyProvider(_e,tt),nt=rt.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(nt,rt.network),defineReadOnly(this,"apiKey",rt.apiKey)}isCommunityResource(){return this.apiKey===defaultApiKey$2}}class AlchemyProvider extends UrlJsonRpcProvider{static getWebSocketProvider(_e,tt){return new AlchemyWebSocketProvider(_e,tt)}static getApiKey(_e){return _e==null?defaultApiKey$2:(_e&&typeof _e!="string"&&logger$b.throwArgumentError("invalid apiKey","apiKey",_e),_e)}static getUrl(_e,tt){let rt=null;switch(_e.name){case"homestead":rt="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":rt="eth-goerli.g.alchemy.com/v2/";break;case"matic":rt="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":rt="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":rt="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":rt="arb-goerli.g.alchemy.com/v2/";break;case"optimism":rt="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":rt="opt-goerli.g.alchemy.com/v2/";break;default:logger$b.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+rt+tt,throttleCallback:(nt,it)=>(tt===defaultApiKey$2&&showThrottleMessage(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===defaultApiKey$2}}const logger$a=new Logger(version$6),defaultApiKey$1="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost(et){switch(et){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return logger$a.throwArgumentError("unsupported network","name",et)}class AnkrProvider extends UrlJsonRpcProvider{isCommunityResource(){return this.apiKey===defaultApiKey$1}static getApiKey(_e){return _e==null?defaultApiKey$1:_e}static getUrl(_e,tt){tt==null&&(tt=defaultApiKey$1);const rt={allowGzip:!0,url:"https://"+getHost(_e.name)+tt,throttleCallback:(nt,it)=>(tt.apiKey===defaultApiKey$1&&showThrottleMessage(),Promise.resolve(!0))};return tt.projectSecret!=null&&(rt.user="",rt.password=tt.projectSecret),rt}}var __awaiter$2=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$9=new Logger(version$6);class CloudflareProvider extends UrlJsonRpcProvider{static getApiKey(_e){return _e!=null&&logger$9.throwArgumentError("apiKey not supported for cloudflare","apiKey",_e),null}static getUrl(_e,tt){let rt=null;switch(_e.name){case"homestead":rt="https://cloudflare-eth.com/";break;default:logger$9.throwArgumentError("unsupported network","network",arguments[0])}return rt}perform(_e,tt){const rt=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$2(this,void 0,void 0,function*(){return _e==="getBlockNumber"?(yield rt.perform.call(this,"getBlock",{blockTag:"latest"})).number:rt.perform.call(this,_e,tt)})}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$8=new Logger(version$6);function getTransactionPostData(et){const _e={};for(let tt in et){if(et[tt]==null)continue;let rt=et[tt];tt==="type"&&rt===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[tt]?rt=hexValue(hexlify(rt)):tt==="accessList"?rt="["+accessListify(rt).map(nt=>`{address:"${nt.address}",storageKeys:["${nt.storageKeys.join('","')}"]}`).join(",")+"]":rt=hexlify(rt),_e[tt]=rt)}return _e}function getResult(et){if(et.status==0&&(et.message==="No records found"||et.message==="No transactions found"))return et.result;if(et.status!=1||typeof et.message!="string"||!et.message.match(/^OK/)){const _e=new Error("invalid response");throw _e.result=JSON.stringify(et),(et.result||"").toLowerCase().indexOf("rate limit")>=0&&(_e.throttleRetry=!0),_e}return et.result}function getJsonResult(et){if(et&&et.status==0&&et.message=="NOTOK"&&(et.result||"").toLowerCase().indexOf("rate limit")>=0){const _e=new Error("throttled response");throw _e.result=JSON.stringify(et),_e.throttleRetry=!0,_e}if(et.jsonrpc!="2.0"){const _e=new Error("invalid response");throw _e.result=JSON.stringify(et),_e}if(et.error){const _e=new Error(et.error.message||"unknown error");throw et.error.code&&(_e.code=et.error.code),et.error.data&&(_e.data=et.error.data),_e}return et.result}function checkLogTag(et){if(et==="pending")throw new Error("pending not supported");return et==="latest"?et:parseInt(et.substring(2),16)}function checkError(et,_e,tt){if(et==="call"&&_e.code===Logger.errors.SERVER_ERROR){const nt=_e.error;if(nt&&(nt.message.match(/reverted/i)||nt.message.match(/VM execution error/i))){let it=nt.data;if(it&&(it="0x"+it.replace(/^.*0x/i,"")),isHexString$4(it))return it;logger$8.throwError("missing revert data in call exception",Logger.errors.CALL_EXCEPTION,{error:_e,data:"0x"})}}let rt=_e.message;throw _e.code===Logger.errors.SERVER_ERROR&&(_e.error&&typeof _e.error.message=="string"?rt=_e.error.message:typeof _e.body=="string"?rt=_e.body:typeof _e.responseText=="string"&&(rt=_e.responseText)),rt=(rt||"").toLowerCase(),rt.match(/insufficient funds/)&&logger$8.throwError("insufficient funds for intrinsic transaction cost",Logger.errors.INSUFFICIENT_FUNDS,{error:_e,method:et,transaction:tt}),rt.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&logger$8.throwError("nonce has already been used",Logger.errors.NONCE_EXPIRED,{error:_e,method:et,transaction:tt}),rt.match(/another transaction with same nonce/)&&logger$8.throwError("replacement fee too low",Logger.errors.REPLACEMENT_UNDERPRICED,{error:_e,method:et,transaction:tt}),rt.match(/execution failed due to an exception|execution reverted/)&&logger$8.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:_e,method:et,transaction:tt}),_e}class EtherscanProvider extends BaseProvider{constructor(_e,tt){super(_e),defineReadOnly(this,"baseUrl",this.getBaseUrl()),defineReadOnly(this,"apiKey",tt||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return logger$8.throwArgumentError("unsupported network","network",this.network.name)}getUrl(_e,tt){const rt=Object.keys(tt).reduce((it,at)=>{const ot=tt[at];return ot!=null&&(it+=`&${at}=${ot}`),it},""),nt=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${_e}${rt}${nt}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(_e,tt){return tt.module=_e,tt.apikey=this.apiKey,tt}fetch(_e,tt,rt){return __awaiter$1(this,void 0,void 0,function*(){const nt=rt?this.getPostUrl():this.getUrl(_e,tt),it=rt?this.getPostData(_e,tt):null,at=_e==="proxy"?getJsonResult:getResult;this.emit("debug",{action:"request",request:nt,provider:this});const ot={url:nt,throttleSlotInterval:1e3,throttleCallback:(ft,yt)=>(this.isCommunityResource()&&showThrottleMessage(),Promise.resolve(!0))};let ct=null;it&&(ot.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},ct=Object.keys(it).map(ft=>`${ft}=${it[ft]}`).join("&"));const ut=yield fetchJson(ot,ct,at||getJsonResult);return this.emit("debug",{action:"response",request:nt,response:deepCopy(ut),provider:this}),ut})}detectNetwork(){return __awaiter$1(this,void 0,void 0,function*(){return this.network})}perform(_e,tt){const rt=Object.create(null,{perform:{get:()=>super.perform}});return __awaiter$1(this,void 0,void 0,function*(){switch(_e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:tt.address,tag:tt.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:tt.address,tag:tt.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:tt.address,tag:tt.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:tt.address,position:tt.position,tag:tt.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:tt.signedTransaction},!0).catch(nt=>checkError("sendTransaction",nt,tt.signedTransaction));case"getBlock":if(tt.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:tt.blockTag,boolean:tt.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:tt.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:tt.transactionHash});case"call":{if(tt.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const nt=getTransactionPostData(tt.transaction);nt.module="proxy",nt.action="eth_call";try{return yield this.fetch("proxy",nt,!0)}catch(it){return checkError("call",it,tt.transaction)}}case"estimateGas":{const nt=getTransactionPostData(tt.transaction);nt.module="proxy",nt.action="eth_estimateGas";try{return yield this.fetch("proxy",nt,!0)}catch(it){return checkError("estimateGas",it,tt.transaction)}}case"getLogs":{const nt={action:"getLogs"};if(tt.filter.fromBlock&&(nt.fromBlock=checkLogTag(tt.filter.fromBlock)),tt.filter.toBlock&&(nt.toBlock=checkLogTag(tt.filter.toBlock)),tt.filter.address&&(nt.address=tt.filter.address),tt.filter.topics&&tt.filter.topics.length>0&&(tt.filter.topics.length>1&&logger$8.throwError("unsupported topic count",Logger.errors.UNSUPPORTED_OPERATION,{topics:tt.filter.topics}),tt.filter.topics.length===1)){const ot=tt.filter.topics[0];(typeof ot!="string"||ot.length!==66)&&logger$8.throwError("unsupported topic format",Logger.errors.UNSUPPORTED_OPERATION,{topic0:ot}),nt.topic0=ot}const it=yield this.fetch("logs",nt);let at={};for(let ot=0;ot<it.length;ot++){const ct=it[ot];if(ct.blockHash==null){if(at[ct.blockNumber]==null){const ut=yield this.getBlock(ct.blockNumber);ut&&(at[ct.blockNumber]=ut.hash)}ct.blockHash=at[ct.blockNumber]}}return it}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return rt.perform.call(this,_e,tt)})}getHistory(_e,tt,rt){return __awaiter$1(this,void 0,void 0,function*(){const nt={action:"txlist",address:yield this.resolveName(_e),startblock:tt==null?0:tt,endblock:rt==null?99999999:rt,sort:"asc"};return(yield this.fetch("account",nt)).map(at=>{["contractAddress","to"].forEach(function(ct){at[ct]==""&&delete at[ct]}),at.creates==null&&at.contractAddress!=null&&(at.creates=at.contractAddress);const ot=this.formatter.transactionResponse(at);return at.timeStamp&&(ot.timestamp=parseInt(at.timeStamp)),ot})})}isCommunityResource(){return this.apiKey==null}}var __awaiter=globalThis&&globalThis.__awaiter||function(et,_e,tt,rt){function nt(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function ot(ft){try{ut(rt.next(ft))}catch(yt){at(yt)}}function ct(ft){try{ut(rt.throw(ft))}catch(yt){at(yt)}}function ut(ft){ft.done?it(ft.value):nt(ft.value).then(ot,ct)}ut((rt=rt.apply(et,_e||[])).next())})};const logger$7=new Logger(version$6);function now(){return new Date().getTime()}function checkNetworks(et){let _e=null;for(let tt=0;tt<et.length;tt++){const rt=et[tt];if(rt==null)return null;_e?_e.name===rt.name&&_e.chainId===rt.chainId&&(_e.ensAddress===rt.ensAddress||_e.ensAddress==null&&rt.ensAddress==null)||logger$7.throwArgumentError("provider mismatch","networks",et):_e=rt}return _e}function median(et,_e){et=et.slice().sort();const tt=Math.floor(et.length/2);if(et.length%2)return et[tt];const rt=et[tt-1],nt=et[tt];return _e!=null&&Math.abs(rt-nt)>_e?null:(rt+nt)/2}function serialize$1(et){if(et===null)return"null";if(typeof et=="number"||typeof et=="boolean")return JSON.stringify(et);if(typeof et=="string")return et;if(BigNumber.isBigNumber(et))return et.toString();if(Array.isArray(et))return JSON.stringify(et.map(_e=>serialize$1(_e)));if(typeof et=="object"){const _e=Object.keys(et);return _e.sort(),"{"+_e.map(tt=>{let rt=et[tt];return typeof rt=="function"?rt="[function]":rt=serialize$1(rt),JSON.stringify(tt)+":"+rt}).join(",")+"}"}throw new Error("unknown value type: "+typeof et)}let nextRid=1;function stall(et){let _e=null,tt=null,rt=new Promise(at=>{_e=function(){tt&&(clearTimeout(tt),tt=null),at()},tt=setTimeout(_e,et)});const nt=at=>(rt=rt.then(at),rt);function it(){return rt}return{cancel:_e,getPromise:it,wait:nt}}const ForwardErrors=[Logger.errors.CALL_EXCEPTION,Logger.errors.INSUFFICIENT_FUNDS,Logger.errors.NONCE_EXPIRED,Logger.errors.REPLACEMENT_UNDERPRICED,Logger.errors.UNPREDICTABLE_GAS_LIMIT],ForwardProperties=["address","args","errorArgs","errorSignature","method","transaction"];function exposeDebugConfig(et,_e){const tt={weight:et.weight};return Object.defineProperty(tt,"provider",{get:()=>et.provider}),et.start&&(tt.start=et.start),_e&&(tt.duration=_e-et.start),et.done&&(et.error?tt.error=et.error:tt.result=et.result||null),tt}function normalizedTally(et,_e){return function(tt){const rt={};tt.forEach(it=>{const at=et(it.result);rt[at]||(rt[at]={count:0,result:it.result}),rt[at].count++});const nt=Object.keys(rt);for(let it=0;it<nt.length;it++){const at=rt[nt[it]];if(at.count>=_e)return at.result}}}function getProcessFunc(et,_e,tt){let rt=serialize$1;switch(_e){case"getBlockNumber":return function(nt){const it=nt.map(ot=>ot.result);let at=median(nt.map(ot=>ot.result),2);if(at!=null)return at=Math.ceil(at),it.indexOf(at+1)>=0&&at++,at>=et._highestBlockNumber&&(et._highestBlockNumber=at),et._highestBlockNumber};case"getGasPrice":return function(nt){const it=nt.map(at=>at.result);return it.sort(),it[Math.floor(it.length/2)]};case"getEtherPrice":return function(nt){return median(nt.map(it=>it.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":rt=function(nt){return nt==null?null:(nt=shallowCopy(nt),nt.confirmations=-1,serialize$1(nt))};break;case"getBlock":tt.includeTransactions?rt=function(nt){return nt==null?null:(nt=shallowCopy(nt),nt.transactions=nt.transactions.map(it=>(it=shallowCopy(it),it.confirmations=-1,it)),serialize$1(nt))}:rt=function(nt){return nt==null?null:serialize$1(nt)};break;default:throw new Error("unknown method: "+_e)}return normalizedTally(rt,et.quorum)}function waitForSync(et,_e){return __awaiter(this,void 0,void 0,function*(){const tt=et.provider;return tt.blockNumber!=null&&tt.blockNumber>=_e||_e===-1?tt:poll(()=>new Promise((rt,nt)=>{setTimeout(function(){return tt.blockNumber>=_e?rt(tt):et.cancelled?rt(null):rt(void 0)},0)}),{oncePoll:tt})})}function getRunner(et,_e,tt,rt){return __awaiter(this,void 0,void 0,function*(){let nt=et.provider;switch(tt){case"getBlockNumber":case"getGasPrice":return nt[tt]();case"getEtherPrice":if(nt.getEtherPrice)return nt.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt[tt](rt.address,rt.blockTag||"latest");case"getStorageAt":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt.getStorageAt(rt.address,rt.position,rt.blockTag||"latest");case"getBlock":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),nt[rt.includeTransactions?"getBlockWithTransactions":"getBlock"](rt.blockTag||rt.blockHash);case"call":case"estimateGas":return rt.blockTag&&isHexString$4(rt.blockTag)&&(nt=yield waitForSync(et,_e)),tt==="call"&&rt.blockTag?nt[tt](rt.transaction,rt.blockTag):nt[tt](rt.transaction);case"getTransaction":case"getTransactionReceipt":return nt[tt](rt.transactionHash);case"getLogs":{let it=rt.filter;return(it.fromBlock&&isHexString$4(it.fromBlock)||it.toBlock&&isHexString$4(it.toBlock))&&(nt=yield waitForSync(et,_e)),nt.getLogs(it)}}return logger$7.throwError("unknown method error",Logger.errors.UNKNOWN_ERROR,{method:tt,params:rt})})}class FallbackProvider extends BaseProvider{constructor(_e,tt){_e.length===0&&logger$7.throwArgumentError("missing providers","providers",_e);const rt=_e.map((at,ot)=>{if(Provider$1.isProvider(at)){const ft=isCommunityResource(at)?2e3:750;return Object.freeze({provider:at,weight:1,stallTimeout:ft,priority:1})}const ct=shallowCopy(at);ct.priority==null&&(ct.priority=1),ct.stallTimeout==null&&(ct.stallTimeout=isCommunityResource(at)?2e3:750),ct.weight==null&&(ct.weight=1);const ut=ct.weight;return(ut%1||ut>512||ut<1)&&logger$7.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${ot}].weight`,ut),Object.freeze(ct)}),nt=rt.reduce((at,ot)=>at+ot.weight,0);tt==null?tt=nt/2:tt>nt&&logger$7.throwArgumentError("quorum will always fail; larger than total weight","quorum",tt);let it=checkNetworks(rt.map(at=>at.provider.network));it==null&&(it=new Promise((at,ot)=>{setTimeout(()=>{this.detectNetwork().then(at,ot)},0)})),super(it),defineReadOnly(this,"providerConfigs",Object.freeze(rt)),defineReadOnly(this,"quorum",tt),this._highestBlockNumber=-1}detectNetwork(){return __awaiter(this,void 0,void 0,function*(){const _e=yield Promise.all(this.providerConfigs.map(tt=>tt.provider.getNetwork()));return checkNetworks(_e)})}perform(_e,tt){return __awaiter(this,void 0,void 0,function*(){if(_e==="sendTransaction"){const ct=yield Promise.all(this.providerConfigs.map(ut=>ut.provider.sendTransaction(tt.signedTransaction).then(ft=>ft.hash,ft=>ft)));for(let ut=0;ut<ct.length;ut++){const ft=ct[ut];if(typeof ft=="string")return ft}throw ct[0]}this._highestBlockNumber===-1&&_e!=="getBlockNumber"&&(yield this.getBlockNumber());const rt=getProcessFunc(this,_e,tt),nt=shuffled(this.providerConfigs.map(shallowCopy));nt.sort((ct,ut)=>ct.priority-ut.priority);const it=this._highestBlockNumber;let at=0,ot=!0;for(;;){const ct=now();let ut=nt.filter(Et=>Et.runner&&ct-Et.start<Et.stallTimeout).reduce((Et,Ct)=>Et+Ct.weight,0);for(;ut<this.quorum&&at<nt.length;){const Et=nt[at++],Ct=nextRid++;Et.start=now(),Et.staller=stall(Et.stallTimeout),Et.staller.wait(()=>{Et.staller=null}),Et.runner=getRunner(Et,it,_e,tt).then(At=>{Et.done=!0,Et.result=At,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:Ct,backend:exposeDebugConfig(Et,now()),request:{method:_e,params:deepCopy(tt)},provider:this})},At=>{Et.done=!0,Et.error=At,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:Ct,backend:exposeDebugConfig(Et,now()),request:{method:_e,params:deepCopy(tt)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:Ct,backend:exposeDebugConfig(Et,null),request:{method:_e,params:deepCopy(tt)},provider:this}),ut+=Et.weight}const ft=[];nt.forEach(Et=>{Et.done||!Et.runner||(ft.push(Et.runner),Et.staller&&ft.push(Et.staller.getPromise()))}),ft.length&&(yield Promise.race(ft));const yt=nt.filter(Et=>Et.done&&Et.error==null);if(yt.length>=this.quorum){const Et=rt(yt);if(Et!==void 0)return nt.forEach(Ct=>{Ct.staller&&Ct.staller.cancel(),Ct.cancelled=!0}),Et;ot||(yield stall(100).getPromise()),ot=!1}const bt=nt.reduce((Et,Ct)=>{if(!Ct.done||Ct.error==null)return Et;const At=Ct.error.code;return ForwardErrors.indexOf(At)>=0&&(Et[At]||(Et[At]={error:Ct.error,weight:0}),Et[At].weight+=Ct.weight),Et},{});if(Object.keys(bt).forEach(Et=>{const Ct=bt[Et];if(Ct.weight<this.quorum)return;nt.forEach(Tt=>{Tt.staller&&Tt.staller.cancel(),Tt.cancelled=!0});const At=Ct.error,St={};ForwardProperties.forEach(Tt=>{At[Tt]!=null&&(St[Tt]=At[Tt])}),logger$7.throwError(At.reason||At.message,Et,St)}),nt.filter(Et=>!Et.done).length===0)break}return nt.forEach(ct=>{ct.staller&&ct.staller.cancel(),ct.cancelled=!0}),logger$7.throwError("failed to meet quorum",Logger.errors.SERVER_ERROR,{method:_e,params:tt,results:nt.map(ct=>exposeDebugConfig(ct)),provider:this})})}}const IpcProvider=null,logger$6=new Logger(version$6),defaultProjectId="84842078b09946638c03157f83405213";class InfuraWebSocketProvider extends WebSocketProvider{constructor(_e,tt){const rt=new InfuraProvider(_e,tt),nt=rt.connection;nt.password&&logger$6.throwError("INFURA WebSocket project secrets unsupported",Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const it=nt.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(it,_e),defineReadOnly(this,"apiKey",rt.projectId),defineReadOnly(this,"projectId",rt.projectId),defineReadOnly(this,"projectSecret",rt.projectSecret)}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends UrlJsonRpcProvider{static getWebSocketProvider(_e,tt){return new InfuraWebSocketProvider(_e,tt)}static getApiKey(_e){const tt={apiKey:defaultProjectId,projectId:defaultProjectId,projectSecret:null};return _e==null||(typeof _e=="string"?tt.projectId=_e:_e.projectSecret!=null?(logger$6.assertArgument(typeof _e.projectId=="string","projectSecret requires a projectId","projectId",_e.projectId),logger$6.assertArgument(typeof _e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),tt.projectId=_e.projectId,tt.projectSecret=_e.projectSecret):_e.projectId&&(tt.projectId=_e.projectId),tt.apiKey=tt.projectId),tt}static getUrl(_e,tt){let rt=null;switch(_e?_e.name:"unknown"){case"homestead":rt="mainnet.infura.io";break;case"goerli":rt="goerli.infura.io";break;case"sepolia":rt="sepolia.infura.io";break;case"matic":rt="polygon-mainnet.infura.io";break;case"maticmum":rt="polygon-mumbai.infura.io";break;case"optimism":rt="optimism-mainnet.infura.io";break;case"optimism-goerli":rt="optimism-goerli.infura.io";break;case"arbitrum":rt="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":rt="arbitrum-goerli.infura.io";break;default:logger$6.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:_e})}const nt={allowGzip:!0,url:"https://"+rt+"/v3/"+tt.projectId,throttleCallback:(it,at)=>(tt.projectId===defaultProjectId&&showThrottleMessage(),Promise.resolve(!0))};return tt.projectSecret!=null&&(nt.user="",nt.password=tt.projectSecret),nt}isCommunityResource(){return this.projectId===defaultProjectId}}class JsonRpcBatchProvider extends JsonRpcProvider$1{send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const nt={request:rt,resolve:null,reject:null},it=new Promise((at,ot)=>{nt.resolve=at,nt.reject=ot});return this._pendingBatch.push(nt),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const at=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const ot=at.map(ct=>ct.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(ot),provider:this}),fetchJson(this.connection,JSON.stringify(ot)).then(ct=>{this.emit("debug",{action:"response",request:ot,response:ct,provider:this}),at.forEach((ut,ft)=>{const yt=ct[ft];if(yt.error){const bt=new Error(yt.error.message);bt.code=yt.error.code,bt.data=yt.error.data,ut.reject(bt)}else ut.resolve(yt.result)})},ct=>{this.emit("debug",{action:"response",error:ct,request:ot,provider:this}),at.forEach(ut=>{ut.reject(ct)})})},10)),it}}const logger$5=new Logger(version$6),defaultApiKey="ETHERS_JS_SHARED";class NodesmithProvider extends UrlJsonRpcProvider{static getApiKey(_e){return _e&&typeof _e!="string"&&logger$5.throwArgumentError("invalid apiKey","apiKey",_e),_e||defaultApiKey}static getUrl(_e,tt){logger$5.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let rt=null;switch(_e.name){case"homestead":rt="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":rt="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":rt="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":rt="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":rt="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:logger$5.throwArgumentError("unsupported network","network",arguments[0])}return rt+"?apiKey="+tt}}const logger$4=new Logger(version$6),defaultApplicationId="62e1ad51b37b8e00394bda3b";class PocketProvider extends UrlJsonRpcProvider{static getApiKey(_e){const tt={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return _e==null?tt.applicationId=defaultApplicationId:typeof _e=="string"?tt.applicationId=_e:_e.applicationSecretKey!=null?(tt.applicationId=_e.applicationId,tt.applicationSecretKey=_e.applicationSecretKey):_e.applicationId?tt.applicationId=_e.applicationId:logger$4.throwArgumentError("unsupported PocketProvider apiKey","apiKey",_e),tt}static getUrl(_e,tt){let rt=null;switch(_e?_e.name:"unknown"){case"goerli":rt="eth-goerli.gateway.pokt.network";break;case"homestead":rt="eth-mainnet.gateway.pokt.network";break;case"kovan":rt="poa-kovan.gateway.pokt.network";break;case"matic":rt="poly-mainnet.gateway.pokt.network";break;case"maticmum":rt="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":rt="eth-rinkeby.gateway.pokt.network";break;case"ropsten":rt="eth-ropsten.gateway.pokt.network";break;default:logger$4.throwError("unsupported network",Logger.errors.INVALID_ARGUMENT,{argument:"network",value:_e})}const nt=`https://${rt}/v1/lb/${tt.applicationId}`,it={headers:{},url:nt};return tt.applicationSecretKey!=null&&(it.user="",it.password=tt.applicationSecretKey),it}isCommunityResource(){return this.applicationId===defaultApplicationId}}const logger$3=new Logger(version$6);let _nextId=1;function buildWeb3LegacyFetcher(et,_e){const tt="Web3LegacyFetcher";return function(rt,nt){const it={method:rt,params:nt,id:_nextId++,jsonrpc:"2.0"};return new Promise((at,ot)=>{this.emit("debug",{action:"request",fetcher:tt,request:deepCopy(it),provider:this}),_e(it,(ct,ut)=>{if(ct)return this.emit("debug",{action:"response",fetcher:tt,error:ct,request:it,provider:this}),ot(ct);if(this.emit("debug",{action:"response",fetcher:tt,request:it,response:ut,provider:this}),ut.error){const ft=new Error(ut.error.message);return ft.code=ut.error.code,ft.data=ut.error.data,ot(ft)}at(ut.result)})})}}function buildEip1193Fetcher(et){return function(_e,tt){tt==null&&(tt=[]);const rt={method:_e,params:tt};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:deepCopy(rt),provider:this}),et.request(rt).then(nt=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:rt,response:nt,provider:this}),nt),nt=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:rt,error:nt,provider:this}),nt})}}class Web3Provider extends JsonRpcProvider$1{constructor(_e,tt){_e==null&&logger$3.throwArgumentError("missing provider","provider",_e);let rt=null,nt=null,it=null;typeof _e=="function"?(rt="unknown:",nt=_e):(rt=_e.host||_e.path||"",!rt&&_e.isMetaMask&&(rt="metamask"),it=_e,_e.request?(rt===""&&(rt="eip-1193:"),nt=buildEip1193Fetcher(_e)):_e.sendAsync?nt=buildWeb3LegacyFetcher(_e,_e.sendAsync.bind(_e)):_e.send?nt=buildWeb3LegacyFetcher(_e,_e.send.bind(_e)):logger$3.throwArgumentError("unsupported provider","provider",_e),rt||(rt="unknown:")),super(rt,tt),defineReadOnly(this,"jsonRpcFetchFunc",nt),defineReadOnly(this,"provider",it)}send(_e,tt){return this.jsonRpcFetchFunc(_e,tt)}}const logger$2=new Logger(version$6);function getDefaultProvider(et,_e){if(et==null&&(et="homestead"),typeof et=="string"){const rt=et.match(/^(ws|http)s?:/i);if(rt)switch(rt[1].toLowerCase()){case"http":case"https":return new JsonRpcProvider$1(et);case"ws":case"wss":return new WebSocketProvider(et);default:logger$2.throwArgumentError("unsupported URL scheme","network",et)}}const tt=getNetwork(et);return(!tt||!tt._defaultProvider)&&logger$2.throwError("unsupported getDefaultProvider network",Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:et}),tt._defaultProvider({FallbackProvider,AlchemyProvider,AnkrProvider,CloudflareProvider,EtherscanProvider,InfuraProvider,JsonRpcProvider:JsonRpcProvider$1,NodesmithProvider,PocketProvider,Web3Provider,IpcProvider},_e)}const version$5="solidity/5.7.0",regexBytes=new RegExp("^bytes([0-9]+)$"),regexNumber=new RegExp("^(u?int)([0-9]*)$"),regexArray=new RegExp("^(.*)\\[([0-9]*)\\]$"),Zeros="0000000000000000000000000000000000000000000000000000000000000000",logger$1=new Logger(version$5);function _pack(et,_e,tt){switch(et){case"address":return tt?zeroPad(_e,32):arrayify(_e);case"string":return toUtf8Bytes(_e);case"bytes":return arrayify(_e);case"bool":return _e=_e?"0x01":"0x00",tt?zeroPad(_e,32):arrayify(_e)}let rt=et.match(regexNumber);if(rt){let nt=parseInt(rt[2]||"256");return(rt[2]&&String(nt)!==rt[2]||nt%8!==0||nt===0||nt>256)&&logger$1.throwArgumentError("invalid number type","type",et),tt&&(nt=256),_e=BigNumber.from(_e).toTwos(nt),zeroPad(_e,nt/8)}if(rt=et.match(regexBytes),rt){const nt=parseInt(rt[1]);return(String(nt)!==rt[1]||nt===0||nt>32)&&logger$1.throwArgumentError("invalid bytes type","type",et),arrayify(_e).byteLength!==nt&&logger$1.throwArgumentError(`invalid value for ${et}`,"value",_e),tt?arrayify((_e+Zeros).substring(0,66)):_e}if(rt=et.match(regexArray),rt&&Array.isArray(_e)){const nt=rt[1];parseInt(rt[2]||String(_e.length))!=_e.length&&logger$1.throwArgumentError(`invalid array length for ${et}`,"value",_e);const at=[];return _e.forEach(function(ot){at.push(_pack(nt,ot,!0))}),concat$3(at)}return logger$1.throwArgumentError("invalid type","type",et)}function pack(et,_e){et.length!=_e.length&&logger$1.throwArgumentError("wrong number of values; expected ${ types.length }","values",_e);const tt=[];return et.forEach(function(rt,nt){tt.push(_pack(rt,_e[nt]))}),hexlify(concat$3(tt))}function keccak256(et,_e){return keccak256$1(pack(et,_e))}function sha256$2(et,_e){return sha256$3(pack(et,_e))}const lib_esm$1=Object.freeze(Object.defineProperty({__proto__:null,pack,keccak256,sha256:sha256$2},Symbol.toStringTag,{value:"Module"})),version$4="units/5.7.0",logger=new Logger(version$4),names$1=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(et){const _e=String(et).split(".");(_e.length>2||!_e[0].match(/^-?[0-9]*$/)||_e[1]&&!_e[1].match(/^[0-9]*$/)||et==="."||et==="-.")&&logger.throwArgumentError("invalid value","value",et);let tt=_e[0],rt="";for(tt.substring(0,1)==="-"&&(rt="-",tt=tt.substring(1));tt.substring(0,1)==="0";)tt=tt.substring(1);tt===""&&(tt="0");let nt="";for(_e.length===2&&(nt="."+(_e[1]||"0"));nt.length>2&&nt[nt.length-1]==="0";)nt=nt.substring(0,nt.length-1);const it=[];for(;tt.length;)if(tt.length<=3){it.unshift(tt);break}else{const at=tt.length-3;it.unshift(tt.substring(at)),tt=tt.substring(0,at)}return rt+it.join(",")+nt}function formatUnits(et,_e){if(typeof _e=="string"){const tt=names$1.indexOf(_e);tt!==-1&&(_e=3*tt)}return formatFixed(et,_e!=null?_e:18)}function parseUnits(et,_e){if(typeof et!="string"&&logger.throwArgumentError("value must be a string","value",et),typeof _e=="string"){const tt=names$1.indexOf(_e);tt!==-1&&(_e=3*tt)}return parseFixed(et,_e!=null?_e:18)}function formatEther(et){return formatUnits(et,18)}function parseEther(et){return parseUnits(et,18)}const lib_esm=Object.freeze(Object.defineProperty({__proto__:null,commify,formatUnits,parseUnits,formatEther,parseEther},Symbol.toStringTag,{value:"Module"})),version$3="ethers/5.7.2";new Logger(version$3);var bn$2={exports:{}};(function(et){(function(_e,tt){function rt(ht,st){if(!ht)throw new Error(st||"Assertion failed")}function nt(ht,st){ht.super_=st;var dt=function(){};dt.prototype=st.prototype,ht.prototype=new dt,ht.prototype.constructor=ht}function it(ht,st,dt){if(it.isBN(ht))return ht;this.negative=0,this.words=null,this.length=0,this.red=null,ht!==null&&((st==="le"||st==="be")&&(dt=st,st=10),this._init(ht||0,st||10,dt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=require$$0$4.Buffer}catch{}it.isBN=function(st){return st instanceof it?!0:st!==null&&typeof st=="object"&&st.constructor.wordSize===it.wordSize&&Array.isArray(st.words)},it.max=function(st,dt){return st.cmp(dt)>0?st:dt},it.min=function(st,dt){return st.cmp(dt)<0?st:dt},it.prototype._init=function(st,dt,mt){if(typeof st=="number")return this._initNumber(st,dt,mt);if(typeof st=="object")return this._initArray(st,dt,mt);dt==="hex"&&(dt=16),rt(dt===(dt|0)&&dt>=2&&dt<=36),st=st.toString().replace(/\s+/g,"");var _t=0;st[0]==="-"&&(_t++,this.negative=1),_t<st.length&&(dt===16?this._parseHex(st,_t,mt):(this._parseBase(st,dt,_t),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},it.prototype._initNumber=function(st,dt,mt){st<0&&(this.negative=1,st=-st),st<67108864?(this.words=[st&67108863],this.length=1):st<4503599627370496?(this.words=[st&67108863,st/67108864&67108863],this.length=2):(rt(st<9007199254740992),this.words=[st&67108863,st/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},it.prototype._initArray=function(st,dt,mt){if(rt(typeof st.length=="number"),st.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(st.length/3),this.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)this.words[_t]=0;var xt,vt,Mt=0;if(mt==="be")for(_t=st.length-1,xt=0;_t>=0;_t-=3)vt=st[_t]|st[_t-1]<<8|st[_t-2]<<16,this.words[xt]|=vt<<Mt&67108863,this.words[xt+1]=vt>>>26-Mt&67108863,Mt+=24,Mt>=26&&(Mt-=26,xt++);else if(mt==="le")for(_t=0,xt=0;_t<st.length;_t+=3)vt=st[_t]|st[_t+1]<<8|st[_t+2]<<16,this.words[xt]|=vt<<Mt&67108863,this.words[xt+1]=vt>>>26-Mt&67108863,Mt+=24,Mt>=26&&(Mt-=26,xt++);return this._strip()};function ot(ht,st){var dt=ht.charCodeAt(st);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;rt(!1,"Invalid character in "+ht)}function ct(ht,st,dt){var mt=ot(ht,dt);return dt-1>=st&&(mt|=ot(ht,dt-1)<<4),mt}it.prototype._parseHex=function(st,dt,mt){this.length=Math.ceil((st.length-dt)/6),this.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)this.words[_t]=0;var xt=0,vt=0,Mt;if(mt==="be")for(_t=st.length-1;_t>=dt;_t-=2)Mt=ct(st,dt,_t)<<xt,this.words[vt]|=Mt&67108863,xt>=18?(xt-=18,vt+=1,this.words[vt]|=Mt>>>26):xt+=8;else{var gt=st.length-dt;for(_t=gt%2===0?dt+1:dt;_t<st.length;_t+=2)Mt=ct(st,dt,_t)<<xt,this.words[vt]|=Mt&67108863,xt>=18?(xt-=18,vt+=1,this.words[vt]|=Mt>>>26):xt+=8}this._strip()};function ut(ht,st,dt,mt){for(var _t=0,xt=0,vt=Math.min(ht.length,dt),Mt=st;Mt<vt;Mt++){var gt=ht.charCodeAt(Mt)-48;_t*=mt,gt>=49?xt=gt-49+10:gt>=17?xt=gt-17+10:xt=gt,rt(gt>=0&&xt<mt,"Invalid character"),_t+=xt}return _t}it.prototype._parseBase=function(st,dt,mt){this.words=[0],this.length=1;for(var _t=0,xt=1;xt<=67108863;xt*=dt)_t++;_t--,xt=xt/dt|0;for(var vt=st.length-mt,Mt=vt%_t,gt=Math.min(vt,vt-Mt)+mt,lt=0,wt=mt;wt<gt;wt+=_t)lt=ut(st,wt,wt+_t,dt),this.imuln(xt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt);if(Mt!==0){var jt=1;for(lt=ut(st,wt,st.length,dt),wt=0;wt<Mt;wt++)jt*=dt;this.imuln(jt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt)}this._strip()},it.prototype.copy=function(st){st.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)st.words[dt]=this.words[dt];st.length=this.length,st.negative=this.negative,st.red=this.red};function ft(ht,st){ht.words=st.words,ht.length=st.length,ht.negative=st.negative,ht.red=st.red}if(it.prototype._move=function(st){ft(st,this)},it.prototype.clone=function(){var st=new it(null);return this.copy(st),st},it.prototype._expand=function(st){for(;this.length<st;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=yt}catch{it.prototype.inspect=yt}else it.prototype.inspect=yt;function yt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var bt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Et=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ct=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(st,dt){st=st||10,dt=dt|0||1;var mt;if(st===16||st==="hex"){mt="";for(var _t=0,xt=0,vt=0;vt<this.length;vt++){var Mt=this.words[vt],gt=((Mt<<_t|xt)&16777215).toString(16);xt=Mt>>>24-_t&16777215,_t+=2,_t>=26&&(_t-=26,vt--),xt!==0||vt!==this.length-1?mt=bt[6-gt.length]+gt+mt:mt=gt+mt}for(xt!==0&&(mt=xt.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(st===(st|0)&&st>=2&&st<=36){var lt=Et[st],wt=Ct[st];mt="";var jt=this.clone();for(jt.negative=0;!jt.isZero();){var It=jt.modrn(wt).toString(st);jt=jt.idivn(wt),jt.isZero()?mt=It+mt:mt=bt[lt-It.length]+It+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var st=this.words[0];return this.length===2?st+=this.words[1]*67108864:this.length===3&&this.words[2]===1?st+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-st:st},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(st,dt){return this.toArrayLike(at,st,dt)}),it.prototype.toArray=function(st,dt){return this.toArrayLike(Array,st,dt)};var At=function(st,dt){return st.allocUnsafe?st.allocUnsafe(dt):new st(dt)};it.prototype.toArrayLike=function(st,dt,mt){this._strip();var _t=this.byteLength(),xt=mt||Math.max(1,_t);rt(_t<=xt,"byte array longer than desired length"),rt(xt>0,"Requested array length <= 0");var vt=At(st,xt),Mt=dt==="le"?"LE":"BE";return this["_toArrayLike"+Mt](vt,_t),vt},it.prototype._toArrayLikeLE=function(st,dt){for(var mt=0,_t=0,xt=0,vt=0;xt<this.length;xt++){var Mt=this.words[xt]<<vt|_t;st[mt++]=Mt&255,mt<st.length&&(st[mt++]=Mt>>8&255),mt<st.length&&(st[mt++]=Mt>>16&255),vt===6?(mt<st.length&&(st[mt++]=Mt>>24&255),_t=0,vt=0):(_t=Mt>>>24,vt+=2)}if(mt<st.length)for(st[mt++]=_t;mt<st.length;)st[mt++]=0},it.prototype._toArrayLikeBE=function(st,dt){for(var mt=st.length-1,_t=0,xt=0,vt=0;xt<this.length;xt++){var Mt=this.words[xt]<<vt|_t;st[mt--]=Mt&255,mt>=0&&(st[mt--]=Mt>>8&255),mt>=0&&(st[mt--]=Mt>>16&255),vt===6?(mt>=0&&(st[mt--]=Mt>>24&255),_t=0,vt=0):(_t=Mt>>>24,vt+=2)}if(mt>=0)for(st[mt--]=_t;mt>=0;)st[mt--]=0},Math.clz32?it.prototype._countBits=function(st){return 32-Math.clz32(st)}:it.prototype._countBits=function(st){var dt=st,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},it.prototype._zeroBits=function(st){if(st===0)return 26;var dt=st,mt=0;return(dt&8191)===0&&(mt+=13,dt>>>=13),(dt&127)===0&&(mt+=7,dt>>>=7),(dt&15)===0&&(mt+=4,dt>>>=4),(dt&3)===0&&(mt+=2,dt>>>=2),(dt&1)===0&&mt++,mt},it.prototype.bitLength=function(){var st=this.words[this.length-1],dt=this._countBits(st);return(this.length-1)*26+dt};function St(ht){for(var st=new Array(ht.bitLength()),dt=0;dt<st.length;dt++){var mt=dt/26|0,_t=dt%26;st[dt]=ht.words[mt]>>>_t&1}return st}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var st=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(st+=mt,mt!==26)break}return st},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(st){return this.negative!==0?this.abs().inotn(st).iaddn(1):this.clone()},it.prototype.fromTwos=function(st){return this.testn(st-1)?this.notn(st).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(st){for(;this.length<st.length;)this.words[this.length++]=0;for(var dt=0;dt<st.length;dt++)this.words[dt]=this.words[dt]|st.words[dt];return this._strip()},it.prototype.ior=function(st){return rt((this.negative|st.negative)===0),this.iuor(st)},it.prototype.or=function(st){return this.length>st.length?this.clone().ior(st):st.clone().ior(this)},it.prototype.uor=function(st){return this.length>st.length?this.clone().iuor(st):st.clone().iuor(this)},it.prototype.iuand=function(st){var dt;this.length>st.length?dt=st:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&st.words[mt];return this.length=dt.length,this._strip()},it.prototype.iand=function(st){return rt((this.negative|st.negative)===0),this.iuand(st)},it.prototype.and=function(st){return this.length>st.length?this.clone().iand(st):st.clone().iand(this)},it.prototype.uand=function(st){return this.length>st.length?this.clone().iuand(st):st.clone().iuand(this)},it.prototype.iuxor=function(st){var dt,mt;this.length>st.length?(dt=this,mt=st):(dt=st,mt=this);for(var _t=0;_t<mt.length;_t++)this.words[_t]=dt.words[_t]^mt.words[_t];if(this!==dt)for(;_t<dt.length;_t++)this.words[_t]=dt.words[_t];return this.length=dt.length,this._strip()},it.prototype.ixor=function(st){return rt((this.negative|st.negative)===0),this.iuxor(st)},it.prototype.xor=function(st){return this.length>st.length?this.clone().ixor(st):st.clone().ixor(this)},it.prototype.uxor=function(st){return this.length>st.length?this.clone().iuxor(st):st.clone().iuxor(this)},it.prototype.inotn=function(st){rt(typeof st=="number"&&st>=0);var dt=Math.ceil(st/26)|0,mt=st%26;this._expand(dt),mt>0&&dt--;for(var _t=0;_t<dt;_t++)this.words[_t]=~this.words[_t]&67108863;return mt>0&&(this.words[_t]=~this.words[_t]&67108863>>26-mt),this._strip()},it.prototype.notn=function(st){return this.clone().inotn(st)},it.prototype.setn=function(st,dt){rt(typeof st=="number"&&st>=0);var mt=st/26|0,_t=st%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<_t:this.words[mt]=this.words[mt]&~(1<<_t),this._strip()},it.prototype.iadd=function(st){var dt;if(this.negative!==0&&st.negative===0)return this.negative=0,dt=this.isub(st),this.negative^=1,this._normSign();if(this.negative===0&&st.negative!==0)return st.negative=0,dt=this.isub(st),st.negative=1,dt._normSign();var mt,_t;this.length>st.length?(mt=this,_t=st):(mt=st,_t=this);for(var xt=0,vt=0;vt<_t.length;vt++)dt=(mt.words[vt]|0)+(_t.words[vt]|0)+xt,this.words[vt]=dt&67108863,xt=dt>>>26;for(;xt!==0&&vt<mt.length;vt++)dt=(mt.words[vt]|0)+xt,this.words[vt]=dt&67108863,xt=dt>>>26;if(this.length=mt.length,xt!==0)this.words[this.length]=xt,this.length++;else if(mt!==this)for(;vt<mt.length;vt++)this.words[vt]=mt.words[vt];return this},it.prototype.add=function(st){var dt;return st.negative!==0&&this.negative===0?(st.negative=0,dt=this.sub(st),st.negative^=1,dt):st.negative===0&&this.negative!==0?(this.negative=0,dt=st.sub(this),this.negative=1,dt):this.length>st.length?this.clone().iadd(st):st.clone().iadd(this)},it.prototype.isub=function(st){if(st.negative!==0){st.negative=0;var dt=this.iadd(st);return st.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(st),this.negative=1,this._normSign();var mt=this.cmp(st);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _t,xt;mt>0?(_t=this,xt=st):(_t=st,xt=this);for(var vt=0,Mt=0;Mt<xt.length;Mt++)dt=(_t.words[Mt]|0)-(xt.words[Mt]|0)+vt,vt=dt>>26,this.words[Mt]=dt&67108863;for(;vt!==0&&Mt<_t.length;Mt++)dt=(_t.words[Mt]|0)+vt,vt=dt>>26,this.words[Mt]=dt&67108863;if(vt===0&&Mt<_t.length&&_t!==this)for(;Mt<_t.length;Mt++)this.words[Mt]=_t.words[Mt];return this.length=Math.max(this.length,Mt),_t!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(st){return this.clone().isub(st)};function Tt(ht,st,dt){dt.negative=st.negative^ht.negative;var mt=ht.length+st.length|0;dt.length=mt,mt=mt-1|0;var _t=ht.words[0]|0,xt=st.words[0]|0,vt=_t*xt,Mt=vt&67108863,gt=vt/67108864|0;dt.words[0]=Mt;for(var lt=1;lt<mt;lt++){for(var wt=gt>>>26,jt=gt&67108863,It=Math.min(lt,st.length-1),Wt=Math.max(0,lt-ht.length+1);Wt<=It;Wt++){var Qt=lt-Wt|0;_t=ht.words[Qt]|0,xt=st.words[Wt]|0,vt=_t*xt+jt,wt+=vt/67108864|0,jt=vt&67108863}dt.words[lt]=jt|0,gt=wt|0}return gt!==0?dt.words[lt]=gt|0:dt.length--,dt._strip()}var $t=function(st,dt,mt){var _t=st.words,xt=dt.words,vt=mt.words,Mt=0,gt,lt,wt,jt=_t[0]|0,It=jt&8191,Wt=jt>>>13,Qt=_t[1]|0,Gt=Qt&8191,er=Qt>>>13,hr=_t[2]|0,Vt=hr&8191,Kt=hr>>>13,lr=_t[3]|0,ir=lr&8191,ur=lr>>>13,Xt=_t[4]|0,Ft=Xt&8191,Ut=Xt>>>13,Yt=_t[5]|0,rr=Yt&8191,ar=Yt>>>13,br=_t[6]|0,dr=br&8191,pr=br>>>13,Lr=_t[7]|0,mr=Lr&8191,zt=Lr>>>13,Lt=_t[8]|0,Bt=Lt&8191,Jt=Lt>>>13,cr=_t[9]|0,nr=cr&8191,sr=cr>>>13,Fr=xt[0]|0,vr=Fr&8191,gr=Fr>>>13,Dr=xt[1]|0,yr=Dr&8191,Sr=Dr>>>13,Vr=xt[2]|0,Tr=Vr&8191,wr=Vr>>>13,Zr=xt[3]|0,Cr=Zr&8191,Ar=Zr>>>13,Kr=xt[4]|0,Mr=Kr&8191,$r=Kr>>>13,Gr=xt[5]|0,Rr=Gr&8191,_r=Gr>>>13,Ur=xt[6]|0,xr=Ur&8191,Er=Ur>>>13,Qr=xt[7]|0,kr=Qr&8191,Ir=Qr>>>13,Yr=xt[8]|0,Pr=Yr&8191,Nr=Yr>>>13,Jr=xt[9]|0,Or=Jr&8191,Br=Jr>>>13;mt.negative=st.negative^dt.negative,mt.length=19,gt=Math.imul(It,vr),lt=Math.imul(It,gr),lt=lt+Math.imul(Wt,vr)|0,wt=Math.imul(Wt,gr);var jr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(jr>>>26)|0,jr&=67108863,gt=Math.imul(Gt,vr),lt=Math.imul(Gt,gr),lt=lt+Math.imul(er,vr)|0,wt=Math.imul(er,gr),gt=gt+Math.imul(It,yr)|0,lt=lt+Math.imul(It,Sr)|0,lt=lt+Math.imul(Wt,yr)|0,wt=wt+Math.imul(Wt,Sr)|0;var Wr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,gt=Math.imul(Vt,vr),lt=Math.imul(Vt,gr),lt=lt+Math.imul(Kt,vr)|0,wt=Math.imul(Kt,gr),gt=gt+Math.imul(Gt,yr)|0,lt=lt+Math.imul(Gt,Sr)|0,lt=lt+Math.imul(er,yr)|0,wt=wt+Math.imul(er,Sr)|0,gt=gt+Math.imul(It,Tr)|0,lt=lt+Math.imul(It,wr)|0,lt=lt+Math.imul(Wt,Tr)|0,wt=wt+Math.imul(Wt,wr)|0;var Hr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,gt=Math.imul(ir,vr),lt=Math.imul(ir,gr),lt=lt+Math.imul(ur,vr)|0,wt=Math.imul(ur,gr),gt=gt+Math.imul(Vt,yr)|0,lt=lt+Math.imul(Vt,Sr)|0,lt=lt+Math.imul(Kt,yr)|0,wt=wt+Math.imul(Kt,Sr)|0,gt=gt+Math.imul(Gt,Tr)|0,lt=lt+Math.imul(Gt,wr)|0,lt=lt+Math.imul(er,Tr)|0,wt=wt+Math.imul(er,wr)|0,gt=gt+Math.imul(It,Cr)|0,lt=lt+Math.imul(It,Ar)|0,lt=lt+Math.imul(Wt,Cr)|0,wt=wt+Math.imul(Wt,Ar)|0;var zr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(zr>>>26)|0,zr&=67108863,gt=Math.imul(Ft,vr),lt=Math.imul(Ft,gr),lt=lt+Math.imul(Ut,vr)|0,wt=Math.imul(Ut,gr),gt=gt+Math.imul(ir,yr)|0,lt=lt+Math.imul(ir,Sr)|0,lt=lt+Math.imul(ur,yr)|0,wt=wt+Math.imul(ur,Sr)|0,gt=gt+Math.imul(Vt,Tr)|0,lt=lt+Math.imul(Vt,wr)|0,lt=lt+Math.imul(Kt,Tr)|0,wt=wt+Math.imul(Kt,wr)|0,gt=gt+Math.imul(Gt,Cr)|0,lt=lt+Math.imul(Gt,Ar)|0,lt=lt+Math.imul(er,Cr)|0,wt=wt+Math.imul(er,Ar)|0,gt=gt+Math.imul(It,Mr)|0,lt=lt+Math.imul(It,$r)|0,lt=lt+Math.imul(Wt,Mr)|0,wt=wt+Math.imul(Wt,$r)|0;var qr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(qr>>>26)|0,qr&=67108863,gt=Math.imul(rr,vr),lt=Math.imul(rr,gr),lt=lt+Math.imul(ar,vr)|0,wt=Math.imul(ar,gr),gt=gt+Math.imul(Ft,yr)|0,lt=lt+Math.imul(Ft,Sr)|0,lt=lt+Math.imul(Ut,yr)|0,wt=wt+Math.imul(Ut,Sr)|0,gt=gt+Math.imul(ir,Tr)|0,lt=lt+Math.imul(ir,wr)|0,lt=lt+Math.imul(ur,Tr)|0,wt=wt+Math.imul(ur,wr)|0,gt=gt+Math.imul(Vt,Cr)|0,lt=lt+Math.imul(Vt,Ar)|0,lt=lt+Math.imul(Kt,Cr)|0,wt=wt+Math.imul(Kt,Ar)|0,gt=gt+Math.imul(Gt,Mr)|0,lt=lt+Math.imul(Gt,$r)|0,lt=lt+Math.imul(er,Mr)|0,wt=wt+Math.imul(er,$r)|0,gt=gt+Math.imul(It,Rr)|0,lt=lt+Math.imul(It,_r)|0,lt=lt+Math.imul(Wt,Rr)|0,wt=wt+Math.imul(Wt,_r)|0;var Xr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,gt=Math.imul(dr,vr),lt=Math.imul(dr,gr),lt=lt+Math.imul(pr,vr)|0,wt=Math.imul(pr,gr),gt=gt+Math.imul(rr,yr)|0,lt=lt+Math.imul(rr,Sr)|0,lt=lt+Math.imul(ar,yr)|0,wt=wt+Math.imul(ar,Sr)|0,gt=gt+Math.imul(Ft,Tr)|0,lt=lt+Math.imul(Ft,wr)|0,lt=lt+Math.imul(Ut,Tr)|0,wt=wt+Math.imul(Ut,wr)|0,gt=gt+Math.imul(ir,Cr)|0,lt=lt+Math.imul(ir,Ar)|0,lt=lt+Math.imul(ur,Cr)|0,wt=wt+Math.imul(ur,Ar)|0,gt=gt+Math.imul(Vt,Mr)|0,lt=lt+Math.imul(Vt,$r)|0,lt=lt+Math.imul(Kt,Mr)|0,wt=wt+Math.imul(Kt,$r)|0,gt=gt+Math.imul(Gt,Rr)|0,lt=lt+Math.imul(Gt,_r)|0,lt=lt+Math.imul(er,Rr)|0,wt=wt+Math.imul(er,_r)|0,gt=gt+Math.imul(It,xr)|0,lt=lt+Math.imul(It,Er)|0,lt=lt+Math.imul(Wt,xr)|0,wt=wt+Math.imul(Wt,Er)|0;var tn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(tn>>>26)|0,tn&=67108863,gt=Math.imul(mr,vr),lt=Math.imul(mr,gr),lt=lt+Math.imul(zt,vr)|0,wt=Math.imul(zt,gr),gt=gt+Math.imul(dr,yr)|0,lt=lt+Math.imul(dr,Sr)|0,lt=lt+Math.imul(pr,yr)|0,wt=wt+Math.imul(pr,Sr)|0,gt=gt+Math.imul(rr,Tr)|0,lt=lt+Math.imul(rr,wr)|0,lt=lt+Math.imul(ar,Tr)|0,wt=wt+Math.imul(ar,wr)|0,gt=gt+Math.imul(Ft,Cr)|0,lt=lt+Math.imul(Ft,Ar)|0,lt=lt+Math.imul(Ut,Cr)|0,wt=wt+Math.imul(Ut,Ar)|0,gt=gt+Math.imul(ir,Mr)|0,lt=lt+Math.imul(ir,$r)|0,lt=lt+Math.imul(ur,Mr)|0,wt=wt+Math.imul(ur,$r)|0,gt=gt+Math.imul(Vt,Rr)|0,lt=lt+Math.imul(Vt,_r)|0,lt=lt+Math.imul(Kt,Rr)|0,wt=wt+Math.imul(Kt,_r)|0,gt=gt+Math.imul(Gt,xr)|0,lt=lt+Math.imul(Gt,Er)|0,lt=lt+Math.imul(er,xr)|0,wt=wt+Math.imul(er,Er)|0,gt=gt+Math.imul(It,kr)|0,lt=lt+Math.imul(It,Ir)|0,lt=lt+Math.imul(Wt,kr)|0,wt=wt+Math.imul(Wt,Ir)|0;var rn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(rn>>>26)|0,rn&=67108863,gt=Math.imul(Bt,vr),lt=Math.imul(Bt,gr),lt=lt+Math.imul(Jt,vr)|0,wt=Math.imul(Jt,gr),gt=gt+Math.imul(mr,yr)|0,lt=lt+Math.imul(mr,Sr)|0,lt=lt+Math.imul(zt,yr)|0,wt=wt+Math.imul(zt,Sr)|0,gt=gt+Math.imul(dr,Tr)|0,lt=lt+Math.imul(dr,wr)|0,lt=lt+Math.imul(pr,Tr)|0,wt=wt+Math.imul(pr,wr)|0,gt=gt+Math.imul(rr,Cr)|0,lt=lt+Math.imul(rr,Ar)|0,lt=lt+Math.imul(ar,Cr)|0,wt=wt+Math.imul(ar,Ar)|0,gt=gt+Math.imul(Ft,Mr)|0,lt=lt+Math.imul(Ft,$r)|0,lt=lt+Math.imul(Ut,Mr)|0,wt=wt+Math.imul(Ut,$r)|0,gt=gt+Math.imul(ir,Rr)|0,lt=lt+Math.imul(ir,_r)|0,lt=lt+Math.imul(ur,Rr)|0,wt=wt+Math.imul(ur,_r)|0,gt=gt+Math.imul(Vt,xr)|0,lt=lt+Math.imul(Vt,Er)|0,lt=lt+Math.imul(Kt,xr)|0,wt=wt+Math.imul(Kt,Er)|0,gt=gt+Math.imul(Gt,kr)|0,lt=lt+Math.imul(Gt,Ir)|0,lt=lt+Math.imul(er,kr)|0,wt=wt+Math.imul(er,Ir)|0,gt=gt+Math.imul(It,Pr)|0,lt=lt+Math.imul(It,Nr)|0,lt=lt+Math.imul(Wt,Pr)|0,wt=wt+Math.imul(Wt,Nr)|0;var nn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(nn>>>26)|0,nn&=67108863,gt=Math.imul(nr,vr),lt=Math.imul(nr,gr),lt=lt+Math.imul(sr,vr)|0,wt=Math.imul(sr,gr),gt=gt+Math.imul(Bt,yr)|0,lt=lt+Math.imul(Bt,Sr)|0,lt=lt+Math.imul(Jt,yr)|0,wt=wt+Math.imul(Jt,Sr)|0,gt=gt+Math.imul(mr,Tr)|0,lt=lt+Math.imul(mr,wr)|0,lt=lt+Math.imul(zt,Tr)|0,wt=wt+Math.imul(zt,wr)|0,gt=gt+Math.imul(dr,Cr)|0,lt=lt+Math.imul(dr,Ar)|0,lt=lt+Math.imul(pr,Cr)|0,wt=wt+Math.imul(pr,Ar)|0,gt=gt+Math.imul(rr,Mr)|0,lt=lt+Math.imul(rr,$r)|0,lt=lt+Math.imul(ar,Mr)|0,wt=wt+Math.imul(ar,$r)|0,gt=gt+Math.imul(Ft,Rr)|0,lt=lt+Math.imul(Ft,_r)|0,lt=lt+Math.imul(Ut,Rr)|0,wt=wt+Math.imul(Ut,_r)|0,gt=gt+Math.imul(ir,xr)|0,lt=lt+Math.imul(ir,Er)|0,lt=lt+Math.imul(ur,xr)|0,wt=wt+Math.imul(ur,Er)|0,gt=gt+Math.imul(Vt,kr)|0,lt=lt+Math.imul(Vt,Ir)|0,lt=lt+Math.imul(Kt,kr)|0,wt=wt+Math.imul(Kt,Ir)|0,gt=gt+Math.imul(Gt,Pr)|0,lt=lt+Math.imul(Gt,Nr)|0,lt=lt+Math.imul(er,Pr)|0,wt=wt+Math.imul(er,Nr)|0,gt=gt+Math.imul(It,Or)|0,lt=lt+Math.imul(It,Br)|0,lt=lt+Math.imul(Wt,Or)|0,wt=wt+Math.imul(Wt,Br)|0;var an=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(an>>>26)|0,an&=67108863,gt=Math.imul(nr,yr),lt=Math.imul(nr,Sr),lt=lt+Math.imul(sr,yr)|0,wt=Math.imul(sr,Sr),gt=gt+Math.imul(Bt,Tr)|0,lt=lt+Math.imul(Bt,wr)|0,lt=lt+Math.imul(Jt,Tr)|0,wt=wt+Math.imul(Jt,wr)|0,gt=gt+Math.imul(mr,Cr)|0,lt=lt+Math.imul(mr,Ar)|0,lt=lt+Math.imul(zt,Cr)|0,wt=wt+Math.imul(zt,Ar)|0,gt=gt+Math.imul(dr,Mr)|0,lt=lt+Math.imul(dr,$r)|0,lt=lt+Math.imul(pr,Mr)|0,wt=wt+Math.imul(pr,$r)|0,gt=gt+Math.imul(rr,Rr)|0,lt=lt+Math.imul(rr,_r)|0,lt=lt+Math.imul(ar,Rr)|0,wt=wt+Math.imul(ar,_r)|0,gt=gt+Math.imul(Ft,xr)|0,lt=lt+Math.imul(Ft,Er)|0,lt=lt+Math.imul(Ut,xr)|0,wt=wt+Math.imul(Ut,Er)|0,gt=gt+Math.imul(ir,kr)|0,lt=lt+Math.imul(ir,Ir)|0,lt=lt+Math.imul(ur,kr)|0,wt=wt+Math.imul(ur,Ir)|0,gt=gt+Math.imul(Vt,Pr)|0,lt=lt+Math.imul(Vt,Nr)|0,lt=lt+Math.imul(Kt,Pr)|0,wt=wt+Math.imul(Kt,Nr)|0,gt=gt+Math.imul(Gt,Or)|0,lt=lt+Math.imul(Gt,Br)|0,lt=lt+Math.imul(er,Or)|0,wt=wt+Math.imul(er,Br)|0;var on=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(on>>>26)|0,on&=67108863,gt=Math.imul(nr,Tr),lt=Math.imul(nr,wr),lt=lt+Math.imul(sr,Tr)|0,wt=Math.imul(sr,wr),gt=gt+Math.imul(Bt,Cr)|0,lt=lt+Math.imul(Bt,Ar)|0,lt=lt+Math.imul(Jt,Cr)|0,wt=wt+Math.imul(Jt,Ar)|0,gt=gt+Math.imul(mr,Mr)|0,lt=lt+Math.imul(mr,$r)|0,lt=lt+Math.imul(zt,Mr)|0,wt=wt+Math.imul(zt,$r)|0,gt=gt+Math.imul(dr,Rr)|0,lt=lt+Math.imul(dr,_r)|0,lt=lt+Math.imul(pr,Rr)|0,wt=wt+Math.imul(pr,_r)|0,gt=gt+Math.imul(rr,xr)|0,lt=lt+Math.imul(rr,Er)|0,lt=lt+Math.imul(ar,xr)|0,wt=wt+Math.imul(ar,Er)|0,gt=gt+Math.imul(Ft,kr)|0,lt=lt+Math.imul(Ft,Ir)|0,lt=lt+Math.imul(Ut,kr)|0,wt=wt+Math.imul(Ut,Ir)|0,gt=gt+Math.imul(ir,Pr)|0,lt=lt+Math.imul(ir,Nr)|0,lt=lt+Math.imul(ur,Pr)|0,wt=wt+Math.imul(ur,Nr)|0,gt=gt+Math.imul(Vt,Or)|0,lt=lt+Math.imul(Vt,Br)|0,lt=lt+Math.imul(Kt,Or)|0,wt=wt+Math.imul(Kt,Br)|0;var sn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(sn>>>26)|0,sn&=67108863,gt=Math.imul(nr,Cr),lt=Math.imul(nr,Ar),lt=lt+Math.imul(sr,Cr)|0,wt=Math.imul(sr,Ar),gt=gt+Math.imul(Bt,Mr)|0,lt=lt+Math.imul(Bt,$r)|0,lt=lt+Math.imul(Jt,Mr)|0,wt=wt+Math.imul(Jt,$r)|0,gt=gt+Math.imul(mr,Rr)|0,lt=lt+Math.imul(mr,_r)|0,lt=lt+Math.imul(zt,Rr)|0,wt=wt+Math.imul(zt,_r)|0,gt=gt+Math.imul(dr,xr)|0,lt=lt+Math.imul(dr,Er)|0,lt=lt+Math.imul(pr,xr)|0,wt=wt+Math.imul(pr,Er)|0,gt=gt+Math.imul(rr,kr)|0,lt=lt+Math.imul(rr,Ir)|0,lt=lt+Math.imul(ar,kr)|0,wt=wt+Math.imul(ar,Ir)|0,gt=gt+Math.imul(Ft,Pr)|0,lt=lt+Math.imul(Ft,Nr)|0,lt=lt+Math.imul(Ut,Pr)|0,wt=wt+Math.imul(Ut,Nr)|0,gt=gt+Math.imul(ir,Or)|0,lt=lt+Math.imul(ir,Br)|0,lt=lt+Math.imul(ur,Or)|0,wt=wt+Math.imul(ur,Br)|0;var cn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(cn>>>26)|0,cn&=67108863,gt=Math.imul(nr,Mr),lt=Math.imul(nr,$r),lt=lt+Math.imul(sr,Mr)|0,wt=Math.imul(sr,$r),gt=gt+Math.imul(Bt,Rr)|0,lt=lt+Math.imul(Bt,_r)|0,lt=lt+Math.imul(Jt,Rr)|0,wt=wt+Math.imul(Jt,_r)|0,gt=gt+Math.imul(mr,xr)|0,lt=lt+Math.imul(mr,Er)|0,lt=lt+Math.imul(zt,xr)|0,wt=wt+Math.imul(zt,Er)|0,gt=gt+Math.imul(dr,kr)|0,lt=lt+Math.imul(dr,Ir)|0,lt=lt+Math.imul(pr,kr)|0,wt=wt+Math.imul(pr,Ir)|0,gt=gt+Math.imul(rr,Pr)|0,lt=lt+Math.imul(rr,Nr)|0,lt=lt+Math.imul(ar,Pr)|0,wt=wt+Math.imul(ar,Nr)|0,gt=gt+Math.imul(Ft,Or)|0,lt=lt+Math.imul(Ft,Br)|0,lt=lt+Math.imul(Ut,Or)|0,wt=wt+Math.imul(Ut,Br)|0;var ln=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(ln>>>26)|0,ln&=67108863,gt=Math.imul(nr,Rr),lt=Math.imul(nr,_r),lt=lt+Math.imul(sr,Rr)|0,wt=Math.imul(sr,_r),gt=gt+Math.imul(Bt,xr)|0,lt=lt+Math.imul(Bt,Er)|0,lt=lt+Math.imul(Jt,xr)|0,wt=wt+Math.imul(Jt,Er)|0,gt=gt+Math.imul(mr,kr)|0,lt=lt+Math.imul(mr,Ir)|0,lt=lt+Math.imul(zt,kr)|0,wt=wt+Math.imul(zt,Ir)|0,gt=gt+Math.imul(dr,Pr)|0,lt=lt+Math.imul(dr,Nr)|0,lt=lt+Math.imul(pr,Pr)|0,wt=wt+Math.imul(pr,Nr)|0,gt=gt+Math.imul(rr,Or)|0,lt=lt+Math.imul(rr,Br)|0,lt=lt+Math.imul(ar,Or)|0,wt=wt+Math.imul(ar,Br)|0;var un=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(un>>>26)|0,un&=67108863,gt=Math.imul(nr,xr),lt=Math.imul(nr,Er),lt=lt+Math.imul(sr,xr)|0,wt=Math.imul(sr,Er),gt=gt+Math.imul(Bt,kr)|0,lt=lt+Math.imul(Bt,Ir)|0,lt=lt+Math.imul(Jt,kr)|0,wt=wt+Math.imul(Jt,Ir)|0,gt=gt+Math.imul(mr,Pr)|0,lt=lt+Math.imul(mr,Nr)|0,lt=lt+Math.imul(zt,Pr)|0,wt=wt+Math.imul(zt,Nr)|0,gt=gt+Math.imul(dr,Or)|0,lt=lt+Math.imul(dr,Br)|0,lt=lt+Math.imul(pr,Or)|0,wt=wt+Math.imul(pr,Br)|0;var dn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(dn>>>26)|0,dn&=67108863,gt=Math.imul(nr,kr),lt=Math.imul(nr,Ir),lt=lt+Math.imul(sr,kr)|0,wt=Math.imul(sr,Ir),gt=gt+Math.imul(Bt,Pr)|0,lt=lt+Math.imul(Bt,Nr)|0,lt=lt+Math.imul(Jt,Pr)|0,wt=wt+Math.imul(Jt,Nr)|0,gt=gt+Math.imul(mr,Or)|0,lt=lt+Math.imul(mr,Br)|0,lt=lt+Math.imul(zt,Or)|0,wt=wt+Math.imul(zt,Br)|0;var fn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(fn>>>26)|0,fn&=67108863,gt=Math.imul(nr,Pr),lt=Math.imul(nr,Nr),lt=lt+Math.imul(sr,Pr)|0,wt=Math.imul(sr,Nr),gt=gt+Math.imul(Bt,Or)|0,lt=lt+Math.imul(Bt,Br)|0,lt=lt+Math.imul(Jt,Or)|0,wt=wt+Math.imul(Jt,Br)|0;var hn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,gt=Math.imul(nr,Or),lt=Math.imul(nr,Br),lt=lt+Math.imul(sr,Or)|0,wt=Math.imul(sr,Br);var pn=(Mt+gt|0)+((lt&8191)<<13)|0;return Mt=(wt+(lt>>>13)|0)+(pn>>>26)|0,pn&=67108863,vt[0]=jr,vt[1]=Wr,vt[2]=Hr,vt[3]=zr,vt[4]=qr,vt[5]=Xr,vt[6]=tn,vt[7]=rn,vt[8]=nn,vt[9]=an,vt[10]=on,vt[11]=sn,vt[12]=cn,vt[13]=ln,vt[14]=un,vt[15]=dn,vt[16]=fn,vt[17]=hn,vt[18]=pn,Mt!==0&&(vt[19]=Mt,mt.length++),mt};Math.imul||($t=Tt);function kt(ht,st,dt){dt.negative=st.negative^ht.negative,dt.length=ht.length+st.length;for(var mt=0,_t=0,xt=0;xt<dt.length-1;xt++){var vt=_t;_t=0;for(var Mt=mt&67108863,gt=Math.min(xt,st.length-1),lt=Math.max(0,xt-ht.length+1);lt<=gt;lt++){var wt=xt-lt,jt=ht.words[wt]|0,It=st.words[lt]|0,Wt=jt*It,Qt=Wt&67108863;vt=vt+(Wt/67108864|0)|0,Qt=Qt+Mt|0,Mt=Qt&67108863,vt=vt+(Qt>>>26)|0,_t+=vt>>>26,vt&=67108863}dt.words[xt]=Mt,mt=vt,vt=_t}return mt!==0?dt.words[xt]=mt:dt.length--,dt._strip()}function Pt(ht,st,dt){return kt(ht,st,dt)}it.prototype.mulTo=function(st,dt){var mt,_t=this.length+st.length;return this.length===10&&st.length===10?mt=$t(this,st,dt):_t<63?mt=Tt(this,st,dt):_t<1024?mt=kt(this,st,dt):mt=Pt(this,st,dt),mt},it.prototype.mul=function(st){var dt=new it(null);return dt.words=new Array(this.length+st.length),this.mulTo(st,dt)},it.prototype.mulf=function(st){var dt=new it(null);return dt.words=new Array(this.length+st.length),Pt(this,st,dt)},it.prototype.imul=function(st){return this.clone().mulTo(st,this)},it.prototype.imuln=function(st){var dt=st<0;dt&&(st=-st),rt(typeof st=="number"),rt(st<67108864);for(var mt=0,_t=0;_t<this.length;_t++){var xt=(this.words[_t]|0)*st,vt=(xt&67108863)+(mt&67108863);mt>>=26,mt+=xt/67108864|0,mt+=vt>>>26,this.words[_t]=vt&67108863}return mt!==0&&(this.words[_t]=mt,this.length++),dt?this.ineg():this},it.prototype.muln=function(st){return this.clone().imuln(st)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(st){var dt=St(st);if(dt.length===0)return new it(1);for(var mt=this,_t=0;_t<dt.length&&dt[_t]===0;_t++,mt=mt.sqr());if(++_t<dt.length)for(var xt=mt.sqr();_t<dt.length;_t++,xt=xt.sqr())dt[_t]!==0&&(mt=mt.mul(xt));return mt},it.prototype.iushln=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26,_t=67108863>>>26-dt<<26-dt,xt;if(dt!==0){var vt=0;for(xt=0;xt<this.length;xt++){var Mt=this.words[xt]&_t,gt=(this.words[xt]|0)-Mt<<dt;this.words[xt]=gt|vt,vt=Mt>>>26-dt}vt&&(this.words[xt]=vt,this.length++)}if(mt!==0){for(xt=this.length-1;xt>=0;xt--)this.words[xt+mt]=this.words[xt];for(xt=0;xt<mt;xt++)this.words[xt]=0;this.length+=mt}return this._strip()},it.prototype.ishln=function(st){return rt(this.negative===0),this.iushln(st)},it.prototype.iushrn=function(st,dt,mt){rt(typeof st=="number"&&st>=0);var _t;dt?_t=(dt-dt%26)/26:_t=0;var xt=st%26,vt=Math.min((st-xt)/26,this.length),Mt=67108863^67108863>>>xt<<xt,gt=mt;if(_t-=vt,_t=Math.max(0,_t),gt){for(var lt=0;lt<vt;lt++)gt.words[lt]=this.words[lt];gt.length=vt}if(vt!==0)if(this.length>vt)for(this.length-=vt,lt=0;lt<this.length;lt++)this.words[lt]=this.words[lt+vt];else this.words[0]=0,this.length=1;var wt=0;for(lt=this.length-1;lt>=0&&(wt!==0||lt>=_t);lt--){var jt=this.words[lt]|0;this.words[lt]=wt<<26-xt|jt>>>xt,wt=jt&Mt}return gt&&wt!==0&&(gt.words[gt.length++]=wt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(st,dt,mt){return rt(this.negative===0),this.iushrn(st,dt,mt)},it.prototype.shln=function(st){return this.clone().ishln(st)},it.prototype.ushln=function(st){return this.clone().iushln(st)},it.prototype.shrn=function(st){return this.clone().ishrn(st)},it.prototype.ushrn=function(st){return this.clone().iushrn(st)},it.prototype.testn=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26,_t=1<<dt;if(this.length<=mt)return!1;var xt=this.words[mt];return!!(xt&_t)},it.prototype.imaskn=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var _t=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=_t}return this._strip()},it.prototype.maskn=function(st){return this.clone().imaskn(st)},it.prototype.iaddn=function(st){return rt(typeof st=="number"),rt(st<67108864),st<0?this.isubn(-st):this.negative!==0?this.length===1&&(this.words[0]|0)<=st?(this.words[0]=st-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(st),this.negative=1,this):this._iaddn(st)},it.prototype._iaddn=function(st){this.words[0]+=st;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(st){if(rt(typeof st=="number"),rt(st<67108864),st<0)return this.iaddn(-st);if(this.negative!==0)return this.negative=0,this.iaddn(st),this.negative=1,this;if(this.words[0]-=st,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},it.prototype.addn=function(st){return this.clone().iaddn(st)},it.prototype.subn=function(st){return this.clone().isubn(st)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(st,dt,mt){var _t=st.length+mt,xt;this._expand(_t);var vt,Mt=0;for(xt=0;xt<st.length;xt++){vt=(this.words[xt+mt]|0)+Mt;var gt=(st.words[xt]|0)*dt;vt-=gt&67108863,Mt=(vt>>26)-(gt/67108864|0),this.words[xt+mt]=vt&67108863}for(;xt<this.length-mt;xt++)vt=(this.words[xt+mt]|0)+Mt,Mt=vt>>26,this.words[xt+mt]=vt&67108863;if(Mt===0)return this._strip();for(rt(Mt===-1),Mt=0,xt=0;xt<this.length;xt++)vt=-(this.words[xt]|0)+Mt,Mt=vt>>26,this.words[xt]=vt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(st,dt){var mt=this.length-st.length,_t=this.clone(),xt=st,vt=xt.words[xt.length-1]|0,Mt=this._countBits(vt);mt=26-Mt,mt!==0&&(xt=xt.ushln(mt),_t.iushln(mt),vt=xt.words[xt.length-1]|0);var gt=_t.length-xt.length,lt;if(dt!=="mod"){lt=new it(null),lt.length=gt+1,lt.words=new Array(lt.length);for(var wt=0;wt<lt.length;wt++)lt.words[wt]=0}var jt=_t.clone()._ishlnsubmul(xt,1,gt);jt.negative===0&&(_t=jt,lt&&(lt.words[gt]=1));for(var It=gt-1;It>=0;It--){var Wt=(_t.words[xt.length+It]|0)*67108864+(_t.words[xt.length+It-1]|0);for(Wt=Math.min(Wt/vt|0,67108863),_t._ishlnsubmul(xt,Wt,It);_t.negative!==0;)Wt--,_t.negative=0,_t._ishlnsubmul(xt,1,It),_t.isZero()||(_t.negative^=1);lt&&(lt.words[It]=Wt)}return lt&&lt._strip(),_t._strip(),dt!=="div"&&mt!==0&&_t.iushrn(mt),{div:lt||null,mod:_t}},it.prototype.divmod=function(st,dt,mt){if(rt(!st.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var _t,xt,vt;return this.negative!==0&&st.negative===0?(vt=this.neg().divmod(st,dt),dt!=="mod"&&(_t=vt.div.neg()),dt!=="div"&&(xt=vt.mod.neg(),mt&&xt.negative!==0&&xt.iadd(st)),{div:_t,mod:xt}):this.negative===0&&st.negative!==0?(vt=this.divmod(st.neg(),dt),dt!=="mod"&&(_t=vt.div.neg()),{div:_t,mod:vt.mod}):(this.negative&st.negative)!==0?(vt=this.neg().divmod(st.neg(),dt),dt!=="div"&&(xt=vt.mod.neg(),mt&&xt.negative!==0&&xt.isub(st)),{div:vt.div,mod:xt}):st.length>this.length||this.cmp(st)<0?{div:new it(0),mod:this}:st.length===1?dt==="div"?{div:this.divn(st.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modrn(st.words[0]))}:{div:this.divn(st.words[0]),mod:new it(this.modrn(st.words[0]))}:this._wordDiv(st,dt)},it.prototype.div=function(st){return this.divmod(st,"div",!1).div},it.prototype.mod=function(st){return this.divmod(st,"mod",!1).mod},it.prototype.umod=function(st){return this.divmod(st,"mod",!0).mod},it.prototype.divRound=function(st){var dt=this.divmod(st);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(st):dt.mod,_t=st.ushrn(1),xt=st.andln(1),vt=mt.cmp(_t);return vt<0||xt===1&&vt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modrn=function(st){var dt=st<0;dt&&(st=-st),rt(st<=67108863);for(var mt=(1<<26)%st,_t=0,xt=this.length-1;xt>=0;xt--)_t=(mt*_t+(this.words[xt]|0))%st;return dt?-_t:_t},it.prototype.modn=function(st){return this.modrn(st)},it.prototype.idivn=function(st){var dt=st<0;dt&&(st=-st),rt(st<=67108863);for(var mt=0,_t=this.length-1;_t>=0;_t--){var xt=(this.words[_t]|0)+mt*67108864;this.words[_t]=xt/st|0,mt=xt%st}return this._strip(),dt?this.ineg():this},it.prototype.divn=function(st){return this.clone().idivn(st)},it.prototype.egcd=function(st){rt(st.negative===0),rt(!st.isZero());var dt=this,mt=st.clone();dt.negative!==0?dt=dt.umod(st):dt=dt.clone();for(var _t=new it(1),xt=new it(0),vt=new it(0),Mt=new it(1),gt=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++gt;for(var lt=mt.clone(),wt=dt.clone();!dt.isZero();){for(var jt=0,It=1;(dt.words[0]&It)===0&&jt<26;++jt,It<<=1);if(jt>0)for(dt.iushrn(jt);jt-- >0;)(_t.isOdd()||xt.isOdd())&&(_t.iadd(lt),xt.isub(wt)),_t.iushrn(1),xt.iushrn(1);for(var Wt=0,Qt=1;(mt.words[0]&Qt)===0&&Wt<26;++Wt,Qt<<=1);if(Wt>0)for(mt.iushrn(Wt);Wt-- >0;)(vt.isOdd()||Mt.isOdd())&&(vt.iadd(lt),Mt.isub(wt)),vt.iushrn(1),Mt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),_t.isub(vt),xt.isub(Mt)):(mt.isub(dt),vt.isub(_t),Mt.isub(xt))}return{a:vt,b:Mt,gcd:mt.iushln(gt)}},it.prototype._invmp=function(st){rt(st.negative===0),rt(!st.isZero());var dt=this,mt=st.clone();dt.negative!==0?dt=dt.umod(st):dt=dt.clone();for(var _t=new it(1),xt=new it(0),vt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var Mt=0,gt=1;(dt.words[0]&gt)===0&&Mt<26;++Mt,gt<<=1);if(Mt>0)for(dt.iushrn(Mt);Mt-- >0;)_t.isOdd()&&_t.iadd(vt),_t.iushrn(1);for(var lt=0,wt=1;(mt.words[0]&wt)===0&&lt<26;++lt,wt<<=1);if(lt>0)for(mt.iushrn(lt);lt-- >0;)xt.isOdd()&&xt.iadd(vt),xt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),_t.isub(xt)):(mt.isub(dt),xt.isub(_t))}var jt;return dt.cmpn(1)===0?jt=_t:jt=xt,jt.cmpn(0)<0&&jt.iadd(st),jt},it.prototype.gcd=function(st){if(this.isZero())return st.abs();if(st.isZero())return this.abs();var dt=this.clone(),mt=st.clone();dt.negative=0,mt.negative=0;for(var _t=0;dt.isEven()&&mt.isEven();_t++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var xt=dt.cmp(mt);if(xt<0){var vt=dt;dt=mt,mt=vt}else if(xt===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(_t)},it.prototype.invm=function(st){return this.egcd(st).a.umod(st)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(st){return this.words[0]&st},it.prototype.bincn=function(st){rt(typeof st=="number");var dt=st%26,mt=(st-dt)/26,_t=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=_t,this;for(var xt=_t,vt=mt;xt!==0&&vt<this.length;vt++){var Mt=this.words[vt]|0;Mt+=xt,xt=Mt>>>26,Mt&=67108863,this.words[vt]=Mt}return xt!==0&&(this.words[vt]=xt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(st){var dt=st<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(st=-st),rt(st<=67108863,"Number is too big");var _t=this.words[0]|0;mt=_t===st?0:_t<st?-1:1}return this.negative!==0?-mt|0:mt},it.prototype.cmp=function(st){if(this.negative!==0&&st.negative===0)return-1;if(this.negative===0&&st.negative!==0)return 1;var dt=this.ucmp(st);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(st){if(this.length>st.length)return 1;if(this.length<st.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var _t=this.words[mt]|0,xt=st.words[mt]|0;if(_t!==xt){_t<xt?dt=-1:_t>xt&&(dt=1);break}}return dt},it.prototype.gtn=function(st){return this.cmpn(st)===1},it.prototype.gt=function(st){return this.cmp(st)===1},it.prototype.gten=function(st){return this.cmpn(st)>=0},it.prototype.gte=function(st){return this.cmp(st)>=0},it.prototype.ltn=function(st){return this.cmpn(st)===-1},it.prototype.lt=function(st){return this.cmp(st)===-1},it.prototype.lten=function(st){return this.cmpn(st)<=0},it.prototype.lte=function(st){return this.cmp(st)<=0},it.prototype.eqn=function(st){return this.cmpn(st)===0},it.prototype.eq=function(st){return this.cmp(st)===0},it.red=function(st){return new Rt(st)},it.prototype.toRed=function(st){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),st.convertTo(this)._forceRed(st)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(st){return this.red=st,this},it.prototype.forceRed=function(st){return rt(!this.red,"Already a number in reduction context"),this._forceRed(st)},it.prototype.redAdd=function(st){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,st)},it.prototype.redIAdd=function(st){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,st)},it.prototype.redSub=function(st){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,st)},it.prototype.redISub=function(st){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,st)},it.prototype.redShl=function(st){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,st)},it.prototype.redMul=function(st){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,st),this.red.mul(this,st)},it.prototype.redIMul=function(st){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,st),this.red.imul(this,st)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(st){return rt(this.red&&!st.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,st)};var Ot={k256:null,p224:null,p192:null,p25519:null};function Ht(ht,st){this.name=ht,this.p=new it(st,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ht.prototype._tmp=function(){var st=new it(null);return st.words=new Array(Math.ceil(this.n/13)),st},Ht.prototype.ireduce=function(st){var dt=st,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var _t=mt<this.n?-1:dt.ucmp(this.p);return _t===0?(dt.words[0]=0,dt.length=1):_t>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Ht.prototype.split=function(st,dt){st.iushrn(this.n,0,dt)},Ht.prototype.imulK=function(st){return st.imul(this.k)};function qt(){Ht.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(qt,Ht),qt.prototype.split=function(st,dt){for(var mt=4194303,_t=Math.min(st.length,9),xt=0;xt<_t;xt++)dt.words[xt]=st.words[xt];if(dt.length=_t,st.length<=9){st.words[0]=0,st.length=1;return}var vt=st.words[9];for(dt.words[dt.length++]=vt&mt,xt=10;xt<st.length;xt++){var Mt=st.words[xt]|0;st.words[xt-10]=(Mt&mt)<<4|vt>>>22,vt=Mt}vt>>>=22,st.words[xt-10]=vt,vt===0&&st.length>10?st.length-=10:st.length-=9},qt.prototype.imulK=function(st){st.words[st.length]=0,st.words[st.length+1]=0,st.length+=2;for(var dt=0,mt=0;mt<st.length;mt++){var _t=st.words[mt]|0;dt+=_t*977,st.words[mt]=dt&67108863,dt=_t*64+(dt/67108864|0)}return st.words[st.length-1]===0&&(st.length--,st.words[st.length-1]===0&&st.length--),st};function Zt(){Ht.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Zt,Ht);function tr(){Ht.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(tr,Ht);function Dt(){Ht.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(Dt,Ht),Dt.prototype.imulK=function(st){for(var dt=0,mt=0;mt<st.length;mt++){var _t=(st.words[mt]|0)*19+dt,xt=_t&67108863;_t>>>=26,st.words[mt]=xt,dt=_t}return dt!==0&&(st.words[st.length++]=dt),st},it._prime=function(st){if(Ot[st])return Ot[st];var dt;if(st==="k256")dt=new qt;else if(st==="p224")dt=new Zt;else if(st==="p192")dt=new tr;else if(st==="p25519")dt=new Dt;else throw new Error("Unknown prime "+st);return Ot[st]=dt,dt};function Rt(ht){if(typeof ht=="string"){var st=it._prime(ht);this.m=st.p,this.prime=st}else rt(ht.gtn(1),"modulus must be greater than 1"),this.m=ht,this.prime=null}Rt.prototype._verify1=function(st){rt(st.negative===0,"red works only with positives"),rt(st.red,"red works only with red numbers")},Rt.prototype._verify2=function(st,dt){rt((st.negative|dt.negative)===0,"red works only with positives"),rt(st.red&&st.red===dt.red,"red works only with red numbers")},Rt.prototype.imod=function(st){return this.prime?this.prime.ireduce(st)._forceRed(this):(ft(st,st.umod(this.m)._forceRed(this)),st)},Rt.prototype.neg=function(st){return st.isZero()?st.clone():this.m.sub(st)._forceRed(this)},Rt.prototype.add=function(st,dt){this._verify2(st,dt);var mt=st.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},Rt.prototype.iadd=function(st,dt){this._verify2(st,dt);var mt=st.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},Rt.prototype.sub=function(st,dt){this._verify2(st,dt);var mt=st.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},Rt.prototype.isub=function(st,dt){this._verify2(st,dt);var mt=st.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},Rt.prototype.shl=function(st,dt){return this._verify1(st),this.imod(st.ushln(dt))},Rt.prototype.imul=function(st,dt){return this._verify2(st,dt),this.imod(st.imul(dt))},Rt.prototype.mul=function(st,dt){return this._verify2(st,dt),this.imod(st.mul(dt))},Rt.prototype.isqr=function(st){return this.imul(st,st.clone())},Rt.prototype.sqr=function(st){return this.mul(st,st)},Rt.prototype.sqrt=function(st){if(st.isZero())return st.clone();var dt=this.m.andln(3);if(rt(dt%2===1),dt===3){var mt=this.m.add(new it(1)).iushrn(2);return this.pow(st,mt)}for(var _t=this.m.subn(1),xt=0;!_t.isZero()&&_t.andln(1)===0;)xt++,_t.iushrn(1);rt(!_t.isZero());var vt=new it(1).toRed(this),Mt=vt.redNeg(),gt=this.m.subn(1).iushrn(1),lt=this.m.bitLength();for(lt=new it(2*lt*lt).toRed(this);this.pow(lt,gt).cmp(Mt)!==0;)lt.redIAdd(Mt);for(var wt=this.pow(lt,_t),jt=this.pow(st,_t.addn(1).iushrn(1)),It=this.pow(st,_t),Wt=xt;It.cmp(vt)!==0;){for(var Qt=It,Gt=0;Qt.cmp(vt)!==0;Gt++)Qt=Qt.redSqr();rt(Gt<Wt);var er=this.pow(wt,new it(1).iushln(Wt-Gt-1));jt=jt.redMul(er),wt=er.redSqr(),It=It.redMul(wt),Wt=Gt}return jt},Rt.prototype.invm=function(st){var dt=st._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Rt.prototype.pow=function(st,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return st.clone();var mt=4,_t=new Array(1<<mt);_t[0]=new it(1).toRed(this),_t[1]=st;for(var xt=2;xt<_t.length;xt++)_t[xt]=this.mul(_t[xt-1],st);var vt=_t[0],Mt=0,gt=0,lt=dt.bitLength()%26;for(lt===0&&(lt=26),xt=dt.length-1;xt>=0;xt--){for(var wt=dt.words[xt],jt=lt-1;jt>=0;jt--){var It=wt>>jt&1;if(vt!==_t[0]&&(vt=this.sqr(vt)),It===0&&Mt===0){gt=0;continue}Mt<<=1,Mt|=It,gt++,!(gt!==mt&&(xt!==0||jt!==0))&&(vt=this.mul(vt,_t[Mt]),gt=0,Mt=0)}lt=26}return vt},Rt.prototype.convertTo=function(st){var dt=st.umod(this.m);return dt===st?dt.clone():dt},Rt.prototype.convertFrom=function(st){var dt=st.clone();return dt.red=null,dt},it.mont=function(st){return new Nt(st)};function Nt(ht){Rt.call(this,ht),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Nt,Rt),Nt.prototype.convertTo=function(st){return this.imod(st.ushln(this.shift))},Nt.prototype.convertFrom=function(st){var dt=this.imod(st.mul(this.rinv));return dt.red=null,dt},Nt.prototype.imul=function(st,dt){if(st.isZero()||dt.isZero())return st.words[0]=0,st.length=1,st;var mt=st.imul(dt),_t=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xt=mt.isub(_t).iushrn(this.shift),vt=xt;return xt.cmp(this.m)>=0?vt=xt.isub(this.m):xt.cmpn(0)<0&&(vt=xt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.mul=function(st,dt){if(st.isZero()||dt.isZero())return new it(0)._forceRed(this);var mt=st.mul(dt),_t=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xt=mt.isub(_t).iushrn(this.shift),vt=xt;return xt.cmp(this.m)>=0?vt=xt.isub(this.m):xt.cmpn(0)<0&&(vt=xt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.invm=function(st){var dt=this.imod(st._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(et,commonjsGlobal)})(bn$2);const BN$3=bn$2.exports;var util$6;(function(et){et.assertEqual=nt=>nt;function _e(nt){}et.assertIs=_e;function tt(nt){throw new Error}et.assertNever=tt,et.arrayToEnum=nt=>{const it={};for(const at of nt)it[at]=at;return it},et.getValidEnumValues=nt=>{const it=et.objectKeys(nt).filter(ot=>typeof nt[nt[ot]]!="number"),at={};for(const ot of it)at[ot]=nt[ot];return et.objectValues(at)},et.objectValues=nt=>et.objectKeys(nt).map(function(it){return nt[it]}),et.objectKeys=typeof Object.keys=="function"?nt=>Object.keys(nt):nt=>{const it=[];for(const at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&it.push(at);return it},et.find=(nt,it)=>{for(const at of nt)if(it(at))return at},et.isInteger=typeof Number.isInteger=="function"?nt=>Number.isInteger(nt):nt=>typeof nt=="number"&&isFinite(nt)&&Math.floor(nt)===nt;function rt(nt,it=" | "){return nt.map(at=>typeof at=="string"?`'${at}'`:at).join(it)}et.joinValues=rt,et.jsonStringifyReplacer=(nt,it)=>typeof it=="bigint"?it.toString():it})(util$6||(util$6={}));const ZodParsedType=util$6.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=et=>{switch(typeof et){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(et)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(et)?ZodParsedType.array:et===null?ZodParsedType.null:et.then&&typeof et.then=="function"&&et.catch&&typeof et.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&et instanceof Map?ZodParsedType.map:typeof Set<"u"&&et instanceof Set?ZodParsedType.set:typeof Date<"u"&&et instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$6.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=et=>JSON.stringify(et,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(_e){super(),this.issues=[],this.addIssue=rt=>{this.issues=[...this.issues,rt]},this.addIssues=(rt=[])=>{this.issues=[...this.issues,...rt]};const tt=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,tt):this.__proto__=tt,this.name="ZodError",this.issues=_e}get errors(){return this.issues}format(_e){const tt=_e||function(it){return it.message},rt={_errors:[]},nt=it=>{for(const at of it.issues)if(at.code==="invalid_union")at.unionErrors.map(nt);else if(at.code==="invalid_return_type")nt(at.returnTypeError);else if(at.code==="invalid_arguments")nt(at.argumentsError);else if(at.path.length===0)rt._errors.push(tt(at));else{let ot=rt,ct=0;for(;ct<at.path.length;){const ut=at.path[ct];ct===at.path.length-1?(ot[ut]=ot[ut]||{_errors:[]},ot[ut]._errors.push(tt(at))):ot[ut]=ot[ut]||{_errors:[]},ot=ot[ut],ct++}}};return nt(this),rt}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$6.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(_e=tt=>tt.message){const tt={},rt=[];for(const nt of this.issues)nt.path.length>0?(tt[nt.path[0]]=tt[nt.path[0]]||[],tt[nt.path[0]].push(_e(nt))):rt.push(_e(nt));return{formErrors:rt,fieldErrors:tt}}get formErrors(){return this.flatten()}}ZodError.create=et=>new ZodError(et);const errorMap=(et,_e)=>{let tt;switch(et.code){case ZodIssueCode.invalid_type:et.received===ZodParsedType.undefined?tt="Required":tt=`Expected ${et.expected}, received ${et.received}`;break;case ZodIssueCode.invalid_literal:tt=`Invalid literal value, expected ${JSON.stringify(et.expected,util$6.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:tt=`Unrecognized key(s) in object: ${util$6.joinValues(et.keys,", ")}`;break;case ZodIssueCode.invalid_union:tt="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:tt=`Invalid discriminator value. Expected ${util$6.joinValues(et.options)}`;break;case ZodIssueCode.invalid_enum_value:tt=`Invalid enum value. Expected ${util$6.joinValues(et.options)}, received '${et.received}'`;break;case ZodIssueCode.invalid_arguments:tt="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:tt="Invalid function return type";break;case ZodIssueCode.invalid_date:tt="Invalid date";break;case ZodIssueCode.invalid_string:typeof et.validation=="object"?"startsWith"in et.validation?tt=`Invalid input: must start with "${et.validation.startsWith}"`:"endsWith"in et.validation?tt=`Invalid input: must end with "${et.validation.endsWith}"`:util$6.assertNever(et.validation):et.validation!=="regex"?tt=`Invalid ${et.validation}`:tt="Invalid";break;case ZodIssueCode.too_small:et.type==="array"?tt=`Array must contain ${et.exact?"exactly":et.inclusive?"at least":"more than"} ${et.minimum} element(s)`:et.type==="string"?tt=`String must contain ${et.exact?"exactly":et.inclusive?"at least":"over"} ${et.minimum} character(s)`:et.type==="number"?tt=`Number must be ${et.exact?"exactly equal to ":et.inclusive?"greater than or equal to ":"greater than "}${et.minimum}`:et.type==="date"?tt=`Date must be ${et.exact?"exactly equal to ":et.inclusive?"greater than or equal to ":"greater than "}${new Date(et.minimum)}`:tt="Invalid input";break;case ZodIssueCode.too_big:et.type==="array"?tt=`Array must contain ${et.exact?"exactly":et.inclusive?"at most":"less than"} ${et.maximum} element(s)`:et.type==="string"?tt=`String must contain ${et.exact?"exactly":et.inclusive?"at most":"under"} ${et.maximum} character(s)`:et.type==="number"?tt=`Number must be ${et.exact?"exactly":et.inclusive?"less than or equal to":"less than"} ${et.maximum}`:et.type==="date"?tt=`Date must be ${et.exact?"exactly":et.inclusive?"smaller than or equal to":"smaller than"} ${new Date(et.maximum)}`:tt="Invalid input";break;case ZodIssueCode.custom:tt="Invalid input";break;case ZodIssueCode.invalid_intersection_types:tt="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:tt=`Number must be a multiple of ${et.multipleOf}`;break;case ZodIssueCode.not_finite:tt="Number must be finite";break;default:tt=_e.defaultError,util$6.assertNever(et)}return{message:tt}};let overrideErrorMap=errorMap;function setErrorMap(et){overrideErrorMap=et}function getErrorMap(){return overrideErrorMap}const makeIssue=et=>{const{data:_e,path:tt,errorMaps:rt,issueData:nt}=et,it=[...tt,...nt.path||[]],at={...nt,path:it};let ot="";const ct=rt.filter(ut=>!!ut).slice().reverse();for(const ut of ct)ot=ut(at,{data:_e,defaultError:ot}).message;return{...nt,path:it,message:nt.message||ot}},EMPTY_PATH=[];function addIssueToContext(et,_e){const tt=makeIssue({issueData:_e,data:et.data,path:et.path,errorMaps:[et.common.contextualErrorMap,et.schemaErrorMap,getErrorMap(),errorMap].filter(rt=>!!rt)});et.common.issues.push(tt)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(_e,tt){const rt=[];for(const nt of tt){if(nt.status==="aborted")return INVALID;nt.status==="dirty"&&_e.dirty(),rt.push(nt.value)}return{status:_e.value,value:rt}}static async mergeObjectAsync(_e,tt){const rt=[];for(const nt of tt)rt.push({key:await nt.key,value:await nt.value});return ParseStatus.mergeObjectSync(_e,rt)}static mergeObjectSync(_e,tt){const rt={};for(const nt of tt){const{key:it,value:at}=nt;if(it.status==="aborted"||at.status==="aborted")return INVALID;it.status==="dirty"&&_e.dirty(),at.status==="dirty"&&_e.dirty(),(typeof at.value<"u"||nt.alwaysSet)&&(rt[it.value]=at.value)}return{status:_e.value,value:rt}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=et=>({status:"dirty",value:et}),OK=et=>({status:"valid",value:et}),isAborted=et=>et.status==="aborted",isDirty=et=>et.status==="dirty",isValid=et=>et.status==="valid",isAsync=et=>typeof Promise<"u"&&et instanceof Promise;var errorUtil;(function(et){et.errToObj=_e=>typeof _e=="string"?{message:_e}:_e||{},et.toString=_e=>typeof _e=="string"?_e:_e==null?void 0:_e.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(_e,tt,rt,nt){this.parent=_e,this.data=tt,this._path=rt,this._key=nt}get path(){return this._path.concat(this._key)}}const handleResult=(et,_e)=>{if(isValid(_e))return{success:!0,data:_e.value};if(!et.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new ZodError(et.common.issues)}};function processCreateParams(et){if(!et)return{};const{errorMap:_e,invalid_type_error:tt,required_error:rt,description:nt}=et;if(_e&&(tt||rt))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return _e?{errorMap:_e,description:nt}:{errorMap:(at,ot)=>at.code!=="invalid_type"?{message:ot.defaultError}:typeof ot.data>"u"?{message:rt!=null?rt:ot.defaultError}:{message:tt!=null?tt:ot.defaultError},description:nt}}class ZodType{constructor(_e){this.spa=this.safeParseAsync,this._def=_e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(_e){return getParsedType(_e.data)}_getOrReturnCtx(_e,tt){return tt||{common:_e.parent.common,data:_e.data,parsedType:getParsedType(_e.data),schemaErrorMap:this._def.errorMap,path:_e.path,parent:_e.parent}}_processInputParams(_e){return{status:new ParseStatus,ctx:{common:_e.parent.common,data:_e.data,parsedType:getParsedType(_e.data),schemaErrorMap:this._def.errorMap,path:_e.path,parent:_e.parent}}}_parseSync(_e){const tt=this._parse(_e);if(isAsync(tt))throw new Error("Synchronous parse encountered promise.");return tt}_parseAsync(_e){const tt=this._parse(_e);return Promise.resolve(tt)}parse(_e,tt){const rt=this.safeParse(_e,tt);if(rt.success)return rt.data;throw rt.error}safeParse(_e,tt){var rt;const nt={common:{issues:[],async:(rt=tt==null?void 0:tt.async)!==null&&rt!==void 0?rt:!1,contextualErrorMap:tt==null?void 0:tt.errorMap},path:(tt==null?void 0:tt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_e,parsedType:getParsedType(_e)},it=this._parseSync({data:_e,path:nt.path,parent:nt});return handleResult(nt,it)}async parseAsync(_e,tt){const rt=await this.safeParseAsync(_e,tt);if(rt.success)return rt.data;throw rt.error}async safeParseAsync(_e,tt){const rt={common:{issues:[],contextualErrorMap:tt==null?void 0:tt.errorMap,async:!0},path:(tt==null?void 0:tt.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:_e,parsedType:getParsedType(_e)},nt=this._parse({data:_e,path:rt.path,parent:rt}),it=await(isAsync(nt)?nt:Promise.resolve(nt));return handleResult(rt,it)}refine(_e,tt){const rt=nt=>typeof tt=="string"||typeof tt>"u"?{message:tt}:typeof tt=="function"?tt(nt):tt;return this._refinement((nt,it)=>{const at=_e(nt),ot=()=>it.addIssue({code:ZodIssueCode.custom,...rt(nt)});return typeof Promise<"u"&&at instanceof Promise?at.then(ct=>ct?!0:(ot(),!1)):at?!0:(ot(),!1)})}refinement(_e,tt){return this._refinement((rt,nt)=>_e(rt)?!0:(nt.addIssue(typeof tt=="function"?tt(rt,nt):tt),!1))}_refinement(_e){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:_e}})}superRefine(_e){return this._refinement(_e)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(_e){return ZodUnion.create([this,_e],this._def)}and(_e){return ZodIntersection.create(this,_e,this._def)}transform(_e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:_e}})}default(_e){const tt=typeof _e=="function"?_e:()=>_e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:tt,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(_e){const tt=typeof _e=="function"?_e:()=>_e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:tt,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(_e){const tt=this.constructor;return new tt({...this._def,description:_e})}pipe(_e){return ZodPipeline.create(this,_e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|([^-]([a-zA-Z0-9-]*\.)+[a-zA-Z]{2,}))$/,datetimeRegex=et=>et.precision?et.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${et.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${et.precision}}Z$`):et.precision===0?et.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):et.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(_e,tt,rt)=>this.refinement(nt=>_e.test(nt),{validation:tt,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(rt)}),this.nonempty=_e=>this.min(1,errorUtil.errToObj(_e)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(_e){if(this._def.coerce&&(_e.data=String(_e.data)),this._getType(_e)!==ZodParsedType.string){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:it.parsedType}),INVALID}const rt=new ParseStatus;let nt;for(const it of this._def.checks)if(it.kind==="min")_e.data.length<it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,exact:!1,message:it.message}),rt.dirty());else if(it.kind==="max")_e.data.length>it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,exact:!1,message:it.message}),rt.dirty());else if(it.kind==="length"){const at=_e.data.length>it.value,ot=_e.data.length<it.value;(at||ot)&&(nt=this._getOrReturnCtx(_e,nt),at?addIssueToContext(nt,{code:ZodIssueCode.too_big,maximum:it.value,type:"string",inclusive:!0,exact:!0,message:it.message}):ot&&addIssueToContext(nt,{code:ZodIssueCode.too_small,minimum:it.value,type:"string",inclusive:!0,exact:!0,message:it.message}),rt.dirty())}else if(it.kind==="email")emailRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"email",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="uuid")uuidRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"uuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid")cuidRegex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"cuid",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="cuid2")cuid2Regex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty());else if(it.kind==="url")try{new URL(_e.data)}catch{nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"url",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty()}else it.kind==="regex"?(it.regex.lastIndex=0,it.regex.test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{validation:"regex",code:ZodIssueCode.invalid_string,message:it.message}),rt.dirty())):it.kind==="trim"?_e.data=_e.data.trim():it.kind==="startsWith"?_e.data.startsWith(it.value)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{startsWith:it.value},message:it.message}),rt.dirty()):it.kind==="endsWith"?_e.data.endsWith(it.value)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:{endsWith:it.value},message:it.message}),rt.dirty()):it.kind==="datetime"?datetimeRegex(it).test(_e.data)||(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.invalid_string,validation:"datetime",message:it.message}),rt.dirty()):util$6.assertNever(it);return{status:rt.value,value:_e.data}}_addCheck(_e){return new ZodString({...this._def,checks:[...this._def.checks,_e]})}email(_e){return this._addCheck({kind:"email",...errorUtil.errToObj(_e)})}url(_e){return this._addCheck({kind:"url",...errorUtil.errToObj(_e)})}uuid(_e){return this._addCheck({kind:"uuid",...errorUtil.errToObj(_e)})}cuid(_e){return this._addCheck({kind:"cuid",...errorUtil.errToObj(_e)})}cuid2(_e){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(_e)})}datetime(_e){var tt;return typeof _e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:_e}):this._addCheck({kind:"datetime",precision:typeof(_e==null?void 0:_e.precision)>"u"?null:_e==null?void 0:_e.precision,offset:(tt=_e==null?void 0:_e.offset)!==null&&tt!==void 0?tt:!1,...errorUtil.errToObj(_e==null?void 0:_e.message)})}regex(_e,tt){return this._addCheck({kind:"regex",regex:_e,...errorUtil.errToObj(tt)})}startsWith(_e,tt){return this._addCheck({kind:"startsWith",value:_e,...errorUtil.errToObj(tt)})}endsWith(_e,tt){return this._addCheck({kind:"endsWith",value:_e,...errorUtil.errToObj(tt)})}min(_e,tt){return this._addCheck({kind:"min",value:_e,...errorUtil.errToObj(tt)})}max(_e,tt){return this._addCheck({kind:"max",value:_e,...errorUtil.errToObj(tt)})}length(_e,tt){return this._addCheck({kind:"length",value:_e,...errorUtil.errToObj(tt)})}get isDatetime(){return!!this._def.checks.find(_e=>_e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(_e=>_e.kind==="email")}get isURL(){return!!this._def.checks.find(_e=>_e.kind==="url")}get isUUID(){return!!this._def.checks.find(_e=>_e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(_e=>_e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(_e=>_e.kind==="cuid2")}get minLength(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e}get maxLength(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e}}ZodString.create=et=>{var _e;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(_e=et==null?void 0:et.coerce)!==null&&_e!==void 0?_e:!1,...processCreateParams(et)})};function floatSafeRemainder(et,_e){const tt=(et.toString().split(".")[1]||"").length,rt=(_e.toString().split(".")[1]||"").length,nt=tt>rt?tt:rt,it=parseInt(et.toFixed(nt).replace(".","")),at=parseInt(_e.toFixed(nt).replace(".",""));return it%at/Math.pow(10,nt)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(_e){if(this._def.coerce&&(_e.data=Number(_e.data)),this._getType(_e)!==ZodParsedType.number){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:it.parsedType}),INVALID}let rt;const nt=new ParseStatus;for(const it of this._def.checks)it.kind==="int"?util$6.isInteger(_e.data)||(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:it.message}),nt.dirty()):it.kind==="min"?(it.inclusive?_e.data<it.value:_e.data<=it.value)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:it.value,type:"number",inclusive:it.inclusive,exact:!1,message:it.message}),nt.dirty()):it.kind==="max"?(it.inclusive?_e.data>it.value:_e.data>=it.value)&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:it.value,type:"number",inclusive:it.inclusive,exact:!1,message:it.message}),nt.dirty()):it.kind==="multipleOf"?floatSafeRemainder(_e.data,it.value)!==0&&(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.not_multiple_of,multipleOf:it.value,message:it.message}),nt.dirty()):it.kind==="finite"?Number.isFinite(_e.data)||(rt=this._getOrReturnCtx(_e,rt),addIssueToContext(rt,{code:ZodIssueCode.not_finite,message:it.message}),nt.dirty()):util$6.assertNever(it);return{status:nt.value,value:_e.data}}gte(_e,tt){return this.setLimit("min",_e,!0,errorUtil.toString(tt))}gt(_e,tt){return this.setLimit("min",_e,!1,errorUtil.toString(tt))}lte(_e,tt){return this.setLimit("max",_e,!0,errorUtil.toString(tt))}lt(_e,tt){return this.setLimit("max",_e,!1,errorUtil.toString(tt))}setLimit(_e,tt,rt,nt){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:_e,value:tt,inclusive:rt,message:errorUtil.toString(nt)}]})}_addCheck(_e){return new ZodNumber({...this._def,checks:[...this._def.checks,_e]})}int(_e){return this._addCheck({kind:"int",message:errorUtil.toString(_e)})}positive(_e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(_e)})}negative(_e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(_e)})}nonpositive(_e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(_e)})}nonnegative(_e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(_e)})}multipleOf(_e,tt){return this._addCheck({kind:"multipleOf",value:_e,message:errorUtil.toString(tt)})}finite(_e){return this._addCheck({kind:"finite",message:errorUtil.toString(_e)})}get minValue(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e}get maxValue(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e}get isInt(){return!!this._def.checks.find(_e=>_e.kind==="int"||_e.kind==="multipleOf"&&util$6.isInteger(_e.value))}get isFinite(){let _e=null,tt=null;for(const rt of this._def.checks){if(rt.kind==="finite"||rt.kind==="int"||rt.kind==="multipleOf")return!0;rt.kind==="min"?(tt===null||rt.value>tt)&&(tt=rt.value):rt.kind==="max"&&(_e===null||rt.value<_e)&&(_e=rt.value)}return Number.isFinite(tt)&&Number.isFinite(_e)}}ZodNumber.create=et=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(et==null?void 0:et.coerce)||!1,...processCreateParams(et)});class ZodBigInt extends ZodType{_parse(_e){if(this._def.coerce&&(_e.data=BigInt(_e.data)),this._getType(_e)!==ZodParsedType.bigint){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodBigInt.create=et=>{var _e;return new ZodBigInt({typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(_e=et==null?void 0:et.coerce)!==null&&_e!==void 0?_e:!1,...processCreateParams(et)})};class ZodBoolean extends ZodType{_parse(_e){if(this._def.coerce&&(_e.data=Boolean(_e.data)),this._getType(_e)!==ZodParsedType.boolean){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodBoolean.create=et=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(et==null?void 0:et.coerce)||!1,...processCreateParams(et)});class ZodDate extends ZodType{_parse(_e){if(this._def.coerce&&(_e.data=new Date(_e.data)),this._getType(_e)!==ZodParsedType.date){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:it.parsedType}),INVALID}if(isNaN(_e.data.getTime())){const it=this._getOrReturnCtx(_e);return addIssueToContext(it,{code:ZodIssueCode.invalid_date}),INVALID}const rt=new ParseStatus;let nt;for(const it of this._def.checks)it.kind==="min"?_e.data.getTime()<it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_small,message:it.message,inclusive:!0,exact:!1,minimum:it.value,type:"date"}),rt.dirty()):it.kind==="max"?_e.data.getTime()>it.value&&(nt=this._getOrReturnCtx(_e,nt),addIssueToContext(nt,{code:ZodIssueCode.too_big,message:it.message,inclusive:!0,exact:!1,maximum:it.value,type:"date"}),rt.dirty()):util$6.assertNever(it);return{status:rt.value,value:new Date(_e.data.getTime())}}_addCheck(_e){return new ZodDate({...this._def,checks:[...this._def.checks,_e]})}min(_e,tt){return this._addCheck({kind:"min",value:_e.getTime(),message:errorUtil.toString(tt)})}max(_e,tt){return this._addCheck({kind:"max",value:_e.getTime(),message:errorUtil.toString(tt)})}get minDate(){let _e=null;for(const tt of this._def.checks)tt.kind==="min"&&(_e===null||tt.value>_e)&&(_e=tt.value);return _e!=null?new Date(_e):null}get maxDate(){let _e=null;for(const tt of this._def.checks)tt.kind==="max"&&(_e===null||tt.value<_e)&&(_e=tt.value);return _e!=null?new Date(_e):null}}ZodDate.create=et=>new ZodDate({checks:[],coerce:(et==null?void 0:et.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(et)});class ZodSymbol extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.symbol){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodSymbol.create=et=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(et)});class ZodUndefined extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodUndefined.create=et=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(et)});class ZodNull extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.null){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodNull.create=et=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(et)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(_e){return OK(_e.data)}}ZodAny.create=et=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(et)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(_e){return OK(_e.data)}}ZodUnknown.create=et=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(et)});class ZodNever extends ZodType{_parse(_e){const tt=this._getOrReturnCtx(_e);return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:tt.parsedType}),INVALID}}ZodNever.create=et=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(et)});class ZodVoid extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.undefined){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:rt.parsedType}),INVALID}return OK(_e.data)}}ZodVoid.create=et=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(et)});class ZodArray extends ZodType{_parse(_e){const{ctx:tt,status:rt}=this._processInputParams(_e),nt=this._def;if(tt.parsedType!==ZodParsedType.array)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:tt.parsedType}),INVALID;if(nt.exactLength!==null){const at=tt.data.length>nt.exactLength.value,ot=tt.data.length<nt.exactLength.value;(at||ot)&&(addIssueToContext(tt,{code:at?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:ot?nt.exactLength.value:void 0,maximum:at?nt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:nt.exactLength.message}),rt.dirty())}if(nt.minLength!==null&&tt.data.length<nt.minLength.value&&(addIssueToContext(tt,{code:ZodIssueCode.too_small,minimum:nt.minLength.value,type:"array",inclusive:!0,exact:!1,message:nt.minLength.message}),rt.dirty()),nt.maxLength!==null&&tt.data.length>nt.maxLength.value&&(addIssueToContext(tt,{code:ZodIssueCode.too_big,maximum:nt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:nt.maxLength.message}),rt.dirty()),tt.common.async)return Promise.all([...tt.data].map((at,ot)=>nt.type._parseAsync(new ParseInputLazyPath(tt,at,tt.path,ot)))).then(at=>ParseStatus.mergeArray(rt,at));const it=[...tt.data].map((at,ot)=>nt.type._parseSync(new ParseInputLazyPath(tt,at,tt.path,ot)));return ParseStatus.mergeArray(rt,it)}get element(){return this._def.type}min(_e,tt){return new ZodArray({...this._def,minLength:{value:_e,message:errorUtil.toString(tt)}})}max(_e,tt){return new ZodArray({...this._def,maxLength:{value:_e,message:errorUtil.toString(tt)}})}length(_e,tt){return new ZodArray({...this._def,exactLength:{value:_e,message:errorUtil.toString(tt)}})}nonempty(_e){return this.min(1,_e)}}ZodArray.create=(et,_e)=>new ZodArray({type:et,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(_e)});var objectUtil;(function(et){et.mergeShapes=(_e,tt)=>({..._e,...tt})})(objectUtil||(objectUtil={}));function deepPartialify(et){if(et instanceof ZodObject){const _e={};for(const tt in et.shape){const rt=et.shape[tt];_e[tt]=ZodOptional.create(deepPartialify(rt))}return new ZodObject({...et._def,shape:()=>_e})}else return et instanceof ZodArray?ZodArray.create(deepPartialify(et.element)):et instanceof ZodOptional?ZodOptional.create(deepPartialify(et.unwrap())):et instanceof ZodNullable?ZodNullable.create(deepPartialify(et.unwrap())):et instanceof ZodTuple?ZodTuple.create(et.items.map(_e=>deepPartialify(_e))):et}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const _e=this._def.shape(),tt=util$6.objectKeys(_e);return this._cached={shape:_e,keys:tt}}_parse(_e){if(this._getType(_e)!==ZodParsedType.object){const ut=this._getOrReturnCtx(_e);return addIssueToContext(ut,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ut.parsedType}),INVALID}const{status:rt,ctx:nt}=this._processInputParams(_e),{shape:it,keys:at}=this._getCached(),ot=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ut in nt.data)at.includes(ut)||ot.push(ut);const ct=[];for(const ut of at){const ft=it[ut],yt=nt.data[ut];ct.push({key:{status:"valid",value:ut},value:ft._parse(new ParseInputLazyPath(nt,yt,nt.path,ut)),alwaysSet:ut in nt.data})}if(this._def.catchall instanceof ZodNever){const ut=this._def.unknownKeys;if(ut==="passthrough")for(const ft of ot)ct.push({key:{status:"valid",value:ft},value:{status:"valid",value:nt.data[ft]}});else if(ut==="strict")ot.length>0&&(addIssueToContext(nt,{code:ZodIssueCode.unrecognized_keys,keys:ot}),rt.dirty());else if(ut!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ut=this._def.catchall;for(const ft of ot){const yt=nt.data[ft];ct.push({key:{status:"valid",value:ft},value:ut._parse(new ParseInputLazyPath(nt,yt,nt.path,ft)),alwaysSet:ft in nt.data})}}return nt.common.async?Promise.resolve().then(async()=>{const ut=[];for(const ft of ct){const yt=await ft.key;ut.push({key:yt,value:await ft.value,alwaysSet:ft.alwaysSet})}return ut}).then(ut=>ParseStatus.mergeObjectSync(rt,ut)):ParseStatus.mergeObjectSync(rt,ct)}get shape(){return this._def.shape()}strict(_e){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",..._e!==void 0?{errorMap:(tt,rt)=>{var nt,it,at,ot;const ct=(at=(it=(nt=this._def).errorMap)===null||it===void 0?void 0:it.call(nt,tt,rt).message)!==null&&at!==void 0?at:rt.defaultError;return tt.code==="unrecognized_keys"?{message:(ot=errorUtil.errToObj(_e).message)!==null&&ot!==void 0?ot:ct}:{message:ct}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(_e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),..._e})})}merge(_e){return new ZodObject({unknownKeys:_e._def.unknownKeys,catchall:_e._def.catchall,shape:()=>objectUtil.mergeShapes(this._def.shape(),_e._def.shape()),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(_e,tt){return this.augment({[_e]:tt})}catchall(_e){return new ZodObject({...this._def,catchall:_e})}pick(_e){const tt={};return util$6.objectKeys(_e).forEach(rt=>{_e[rt]&&this.shape[rt]&&(tt[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>tt})}omit(_e){const tt={};return util$6.objectKeys(this.shape).forEach(rt=>{_e[rt]||(tt[rt]=this.shape[rt])}),new ZodObject({...this._def,shape:()=>tt})}deepPartial(){return deepPartialify(this)}partial(_e){const tt={};return util$6.objectKeys(this.shape).forEach(rt=>{const nt=this.shape[rt];_e&&!_e[rt]?tt[rt]=nt:tt[rt]=nt.optional()}),new ZodObject({...this._def,shape:()=>tt})}required(_e){const tt={};return util$6.objectKeys(this.shape).forEach(rt=>{if(_e&&!_e[rt])tt[rt]=this.shape[rt];else{let it=this.shape[rt];for(;it instanceof ZodOptional;)it=it._def.innerType;tt[rt]=it}}),new ZodObject({...this._def,shape:()=>tt})}keyof(){return createZodEnum(util$6.objectKeys(this.shape))}}ZodObject.create=(et,_e)=>new ZodObject({shape:()=>et,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});ZodObject.strictCreate=(et,_e)=>new ZodObject({shape:()=>et,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});ZodObject.lazycreate=(et,_e)=>new ZodObject({shape:et,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(_e)});class ZodUnion extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt=this._def.options;function nt(it){for(const ot of it)if(ot.result.status==="valid")return ot.result;for(const ot of it)if(ot.result.status==="dirty")return tt.common.issues.push(...ot.ctx.common.issues),ot.result;const at=it.map(ot=>new ZodError(ot.ctx.common.issues));return addIssueToContext(tt,{code:ZodIssueCode.invalid_union,unionErrors:at}),INVALID}if(tt.common.async)return Promise.all(rt.map(async it=>{const at={...tt,common:{...tt.common,issues:[]},parent:null};return{result:await it._parseAsync({data:tt.data,path:tt.path,parent:at}),ctx:at}})).then(nt);{let it;const at=[];for(const ct of rt){const ut={...tt,common:{...tt.common,issues:[]},parent:null},ft=ct._parseSync({data:tt.data,path:tt.path,parent:ut});if(ft.status==="valid")return ft;ft.status==="dirty"&&!it&&(it={result:ft,ctx:ut}),ut.common.issues.length&&at.push(ut.common.issues)}if(it)return tt.common.issues.push(...it.ctx.common.issues),it.result;const ot=at.map(ct=>new ZodError(ct));return addIssueToContext(tt,{code:ZodIssueCode.invalid_union,unionErrors:ot}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(et,_e)=>new ZodUnion({options:et,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(_e)});const getDiscriminator=et=>et instanceof ZodLazy?getDiscriminator(et.schema):et instanceof ZodEffects?getDiscriminator(et.innerType()):et instanceof ZodLiteral?[et.value]:et instanceof ZodEnum?et.options:et instanceof ZodNativeEnum?Object.keys(et.enum):et instanceof ZodDefault?getDiscriminator(et._def.innerType):et instanceof ZodUndefined?[void 0]:et instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.object)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:tt.parsedType}),INVALID;const rt=this.discriminator,nt=tt.data[rt],it=this.optionsMap.get(nt);return it?tt.common.async?it._parseAsync({data:tt.data,path:tt.path,parent:tt}):it._parseSync({data:tt.data,path:tt.path,parent:tt}):(addIssueToContext(tt,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[rt]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(_e,tt,rt){const nt=new Map;for(const it of tt){const at=getDiscriminator(it.shape[_e]);if(!at)throw new Error(`A discriminator value for key \`${_e}\` could not be extracted from all schema options`);for(const ot of at){if(nt.has(ot))throw new Error(`Discriminator property ${String(_e)} has duplicate value ${String(ot)}`);nt.set(ot,it)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:_e,options:tt,optionsMap:nt,...processCreateParams(rt)})}}function mergeValues(et,_e){const tt=getParsedType(et),rt=getParsedType(_e);if(et===_e)return{valid:!0,data:et};if(tt===ZodParsedType.object&&rt===ZodParsedType.object){const nt=util$6.objectKeys(_e),it=util$6.objectKeys(et).filter(ot=>nt.indexOf(ot)!==-1),at={...et,..._e};for(const ot of it){const ct=mergeValues(et[ot],_e[ot]);if(!ct.valid)return{valid:!1};at[ot]=ct.data}return{valid:!0,data:at}}else if(tt===ZodParsedType.array&&rt===ZodParsedType.array){if(et.length!==_e.length)return{valid:!1};const nt=[];for(let it=0;it<et.length;it++){const at=et[it],ot=_e[it],ct=mergeValues(at,ot);if(!ct.valid)return{valid:!1};nt.push(ct.data)}return{valid:!0,data:nt}}else return tt===ZodParsedType.date&&rt===ZodParsedType.date&&+et==+_e?{valid:!0,data:et}:{valid:!1}}class ZodIntersection extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e),nt=(it,at)=>{if(isAborted(it)||isAborted(at))return INVALID;const ot=mergeValues(it.value,at.value);return ot.valid?((isDirty(it)||isDirty(at))&&tt.dirty(),{status:tt.value,value:ot.data}):(addIssueToContext(rt,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return rt.common.async?Promise.all([this._def.left._parseAsync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseAsync({data:rt.data,path:rt.path,parent:rt})]).then(([it,at])=>nt(it,at)):nt(this._def.left._parseSync({data:rt.data,path:rt.path,parent:rt}),this._def.right._parseSync({data:rt.data,path:rt.path,parent:rt}))}}ZodIntersection.create=(et,_e,tt)=>new ZodIntersection({left:et,right:_e,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(tt)});class ZodTuple extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.array)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:rt.parsedType}),INVALID;if(rt.data.length<this._def.items.length)return addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&rt.data.length>this._def.items.length&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt.dirty());const it=[...rt.data].map((at,ot)=>{const ct=this._def.items[ot]||this._def.rest;return ct?ct._parse(new ParseInputLazyPath(rt,at,rt.path,ot)):null}).filter(at=>!!at);return rt.common.async?Promise.all(it).then(at=>ParseStatus.mergeArray(tt,at)):ParseStatus.mergeArray(tt,it)}get items(){return this._def.items}rest(_e){return new ZodTuple({...this._def,rest:_e})}}ZodTuple.create=(et,_e)=>{if(!Array.isArray(et))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:et,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(_e)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.object)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:rt.parsedType}),INVALID;const nt=[],it=this._def.keyType,at=this._def.valueType;for(const ot in rt.data)nt.push({key:it._parse(new ParseInputLazyPath(rt,ot,rt.path,ot)),value:at._parse(new ParseInputLazyPath(rt,rt.data[ot],rt.path,ot))});return rt.common.async?ParseStatus.mergeObjectAsync(tt,nt):ParseStatus.mergeObjectSync(tt,nt)}get element(){return this._def.valueType}static create(_e,tt,rt){return tt instanceof ZodType?new ZodRecord({keyType:_e,valueType:tt,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(rt)}):new ZodRecord({keyType:ZodString.create(),valueType:_e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(tt)})}}class ZodMap extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.map)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:rt.parsedType}),INVALID;const nt=this._def.keyType,it=this._def.valueType,at=[...rt.data.entries()].map(([ot,ct],ut)=>({key:nt._parse(new ParseInputLazyPath(rt,ot,rt.path,[ut,"key"])),value:it._parse(new ParseInputLazyPath(rt,ct,rt.path,[ut,"value"]))}));if(rt.common.async){const ot=new Map;return Promise.resolve().then(async()=>{for(const ct of at){const ut=await ct.key,ft=await ct.value;if(ut.status==="aborted"||ft.status==="aborted")return INVALID;(ut.status==="dirty"||ft.status==="dirty")&&tt.dirty(),ot.set(ut.value,ft.value)}return{status:tt.value,value:ot}})}else{const ot=new Map;for(const ct of at){const ut=ct.key,ft=ct.value;if(ut.status==="aborted"||ft.status==="aborted")return INVALID;(ut.status==="dirty"||ft.status==="dirty")&&tt.dirty(),ot.set(ut.value,ft.value)}return{status:tt.value,value:ot}}}}ZodMap.create=(et,_e,tt)=>new ZodMap({valueType:_e,keyType:et,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(tt)});class ZodSet extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.parsedType!==ZodParsedType.set)return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:rt.parsedType}),INVALID;const nt=this._def;nt.minSize!==null&&rt.data.size<nt.minSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_small,minimum:nt.minSize.value,type:"set",inclusive:!0,exact:!1,message:nt.minSize.message}),tt.dirty()),nt.maxSize!==null&&rt.data.size>nt.maxSize.value&&(addIssueToContext(rt,{code:ZodIssueCode.too_big,maximum:nt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:nt.maxSize.message}),tt.dirty());const it=this._def.valueType;function at(ct){const ut=new Set;for(const ft of ct){if(ft.status==="aborted")return INVALID;ft.status==="dirty"&&tt.dirty(),ut.add(ft.value)}return{status:tt.value,value:ut}}const ot=[...rt.data.values()].map((ct,ut)=>it._parse(new ParseInputLazyPath(rt,ct,rt.path,ut)));return rt.common.async?Promise.all(ot).then(ct=>at(ct)):at(ot)}min(_e,tt){return new ZodSet({...this._def,minSize:{value:_e,message:errorUtil.toString(tt)}})}max(_e,tt){return new ZodSet({...this._def,maxSize:{value:_e,message:errorUtil.toString(tt)}})}size(_e,tt){return this.min(_e,tt).max(_e,tt)}nonempty(_e){return this.min(1,_e)}}ZodSet.create=(et,_e)=>new ZodSet({valueType:et,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(_e)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.function)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:tt.parsedType}),INVALID;function rt(ot,ct){return makeIssue({data:ot,path:tt.path,errorMaps:[tt.common.contextualErrorMap,tt.schemaErrorMap,getErrorMap(),errorMap].filter(ut=>!!ut),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:ct}})}function nt(ot,ct){return makeIssue({data:ot,path:tt.path,errorMaps:[tt.common.contextualErrorMap,tt.schemaErrorMap,getErrorMap(),errorMap].filter(ut=>!!ut),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:ct}})}const it={errorMap:tt.common.contextualErrorMap},at=tt.data;return this._def.returns instanceof ZodPromise?OK(async(...ot)=>{const ct=new ZodError([]),ut=await this._def.args.parseAsync(ot,it).catch(bt=>{throw ct.addIssue(rt(ot,bt)),ct}),ft=await at(...ut);return await this._def.returns._def.type.parseAsync(ft,it).catch(bt=>{throw ct.addIssue(nt(ft,bt)),ct})}):OK((...ot)=>{const ct=this._def.args.safeParse(ot,it);if(!ct.success)throw new ZodError([rt(ot,ct.error)]);const ut=at(...ct.data),ft=this._def.returns.safeParse(ut,it);if(!ft.success)throw new ZodError([nt(ut,ft.error)]);return ft.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(..._e){return new ZodFunction({...this._def,args:ZodTuple.create(_e).rest(ZodUnknown.create())})}returns(_e){return new ZodFunction({...this._def,returns:_e})}implement(_e){return this.parse(_e)}strictImplement(_e){return this.parse(_e)}static create(_e,tt,rt){return new ZodFunction({args:_e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:tt||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(rt)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(_e){const{ctx:tt}=this._processInputParams(_e);return this._def.getter()._parse({data:tt.data,path:tt.path,parent:tt})}}ZodLazy.create=(et,_e)=>new ZodLazy({getter:et,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(_e)});class ZodLiteral extends ZodType{_parse(_e){if(_e.data!==this._def.value){const tt=this._getOrReturnCtx(_e);return addIssueToContext(tt,{received:tt.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:_e.data}}get value(){return this._def.value}}ZodLiteral.create=(et,_e)=>new ZodLiteral({value:et,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(_e)});function createZodEnum(et,_e){return new ZodEnum({values:et,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(_e)})}class ZodEnum extends ZodType{_parse(_e){if(typeof _e.data!="string"){const tt=this._getOrReturnCtx(_e),rt=this._def.values;return addIssueToContext(tt,{expected:util$6.joinValues(rt),received:tt.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(_e.data)===-1){const tt=this._getOrReturnCtx(_e),rt=this._def.values;return addIssueToContext(tt,{received:tt.data,code:ZodIssueCode.invalid_enum_value,options:rt}),INVALID}return OK(_e.data)}get options(){return this._def.values}get enum(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}get Values(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}get Enum(){const _e={};for(const tt of this._def.values)_e[tt]=tt;return _e}extract(_e){return ZodEnum.create(_e)}exclude(_e){return ZodEnum.create(this.options.filter(tt=>!_e.includes(tt)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(_e){const tt=util$6.getValidEnumValues(this._def.values),rt=this._getOrReturnCtx(_e);if(rt.parsedType!==ZodParsedType.string&&rt.parsedType!==ZodParsedType.number){const nt=util$6.objectValues(tt);return addIssueToContext(rt,{expected:util$6.joinValues(nt),received:rt.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(tt.indexOf(_e.data)===-1){const nt=util$6.objectValues(tt);return addIssueToContext(rt,{received:rt.data,code:ZodIssueCode.invalid_enum_value,options:nt}),INVALID}return OK(_e.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(et,_e)=>new ZodNativeEnum({values:et,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(_e)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(_e){const{ctx:tt}=this._processInputParams(_e);if(tt.parsedType!==ZodParsedType.promise&&tt.common.async===!1)return addIssueToContext(tt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:tt.parsedType}),INVALID;const rt=tt.parsedType===ZodParsedType.promise?tt.data:Promise.resolve(tt.data);return OK(rt.then(nt=>this._def.type.parseAsync(nt,{path:tt.path,errorMap:tt.common.contextualErrorMap})))}}ZodPromise.create=(et,_e)=>new ZodPromise({type:et,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(_e)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e),nt=this._def.effect||null;if(nt.type==="preprocess"){const at=nt.transform(rt.data);return rt.common.async?Promise.resolve(at).then(ot=>this._def.schema._parseAsync({data:ot,path:rt.path,parent:rt})):this._def.schema._parseSync({data:at,path:rt.path,parent:rt})}const it={addIssue:at=>{addIssueToContext(rt,at),at.fatal?tt.abort():tt.dirty()},get path(){return rt.path}};if(it.addIssue=it.addIssue.bind(it),nt.type==="refinement"){const at=ot=>{const ct=nt.refinement(ot,it);if(rt.common.async)return Promise.resolve(ct);if(ct instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ot};if(rt.common.async===!1){const ot=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});return ot.status==="aborted"?INVALID:(ot.status==="dirty"&&tt.dirty(),at(ot.value),{status:tt.value,value:ot.value})}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(ot=>ot.status==="aborted"?INVALID:(ot.status==="dirty"&&tt.dirty(),at(ot.value).then(()=>({status:tt.value,value:ot.value}))))}if(nt.type==="transform")if(rt.common.async===!1){const at=this._def.schema._parseSync({data:rt.data,path:rt.path,parent:rt});if(!isValid(at))return at;const ot=nt.transform(at.value,it);if(ot instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:tt.value,value:ot}}else return this._def.schema._parseAsync({data:rt.data,path:rt.path,parent:rt}).then(at=>isValid(at)?Promise.resolve(nt.transform(at.value,it)).then(ot=>({status:tt.value,value:ot})):at);util$6.assertNever(nt)}}ZodEffects.create=(et,_e,tt)=>new ZodEffects({schema:et,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:_e,...processCreateParams(tt)});ZodEffects.createWithPreprocess=(et,_e,tt)=>new ZodEffects({schema:_e,effect:{type:"preprocess",transform:et},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(tt)});class ZodOptional extends ZodType{_parse(_e){return this._getType(_e)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(_e)}unwrap(){return this._def.innerType}}ZodOptional.create=(et,_e)=>new ZodOptional({innerType:et,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(_e)});class ZodNullable extends ZodType{_parse(_e){return this._getType(_e)===ZodParsedType.null?OK(null):this._def.innerType._parse(_e)}unwrap(){return this._def.innerType}}ZodNullable.create=(et,_e)=>new ZodNullable({innerType:et,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(_e)});class ZodDefault extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e);let rt=tt.data;return tt.parsedType===ZodParsedType.undefined&&(rt=this._def.defaultValue()),this._def.innerType._parse({data:rt,path:tt.path,parent:tt})}removeDefault(){return this._def.innerType}}ZodDefault.create=(et,_e)=>new ZodDefault({innerType:et,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof _e.default=="function"?_e.default:()=>_e.default,...processCreateParams(_e)});class ZodCatch extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt=this._def.innerType._parse({data:tt.data,path:tt.path,parent:{...tt,common:{...tt.common,issues:[]}}});return isAsync(rt)?rt.then(nt=>({status:"valid",value:nt.status==="valid"?nt.value:this._def.catchValue()})):{status:"valid",value:rt.status==="valid"?rt.value:this._def.catchValue()}}removeCatch(){return this._def.innerType}}ZodCatch.create=(et,_e)=>new ZodCatch({innerType:et,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof _e.catch=="function"?_e.catch:()=>_e.catch,...processCreateParams(_e)});class ZodNaN extends ZodType{_parse(_e){if(this._getType(_e)!==ZodParsedType.nan){const rt=this._getOrReturnCtx(_e);return addIssueToContext(rt,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:rt.parsedType}),INVALID}return{status:"valid",value:_e.data}}}ZodNaN.create=et=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(et)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(_e){const{ctx:tt}=this._processInputParams(_e),rt=tt.data;return this._def.type._parse({data:rt,path:tt.path,parent:tt})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(_e){const{status:tt,ctx:rt}=this._processInputParams(_e);if(rt.common.async)return(async()=>{const it=await this._def.in._parseAsync({data:rt.data,path:rt.path,parent:rt});return it.status==="aborted"?INVALID:it.status==="dirty"?(tt.dirty(),DIRTY(it.value)):this._def.out._parseAsync({data:it.value,path:rt.path,parent:rt})})();{const nt=this._def.in._parseSync({data:rt.data,path:rt.path,parent:rt});return nt.status==="aborted"?INVALID:nt.status==="dirty"?(tt.dirty(),{status:"dirty",value:nt.value}):this._def.out._parseSync({data:nt.value,path:rt.path,parent:rt})}}static create(_e,tt){return new ZodPipeline({in:_e,out:tt,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}const custom=(et,_e={},tt)=>et?ZodAny.create().superRefine((rt,nt)=>{if(!et(rt)){const it=typeof _e=="function"?_e(rt):_e,at=typeof it=="string"?{message:it}:it;nt.addIssue({code:"custom",...at,fatal:tt})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(et){et.ZodString="ZodString",et.ZodNumber="ZodNumber",et.ZodNaN="ZodNaN",et.ZodBigInt="ZodBigInt",et.ZodBoolean="ZodBoolean",et.ZodDate="ZodDate",et.ZodSymbol="ZodSymbol",et.ZodUndefined="ZodUndefined",et.ZodNull="ZodNull",et.ZodAny="ZodAny",et.ZodUnknown="ZodUnknown",et.ZodNever="ZodNever",et.ZodVoid="ZodVoid",et.ZodArray="ZodArray",et.ZodObject="ZodObject",et.ZodUnion="ZodUnion",et.ZodDiscriminatedUnion="ZodDiscriminatedUnion",et.ZodIntersection="ZodIntersection",et.ZodTuple="ZodTuple",et.ZodRecord="ZodRecord",et.ZodMap="ZodMap",et.ZodSet="ZodSet",et.ZodFunction="ZodFunction",et.ZodLazy="ZodLazy",et.ZodLiteral="ZodLiteral",et.ZodEnum="ZodEnum",et.ZodEffects="ZodEffects",et.ZodNativeEnum="ZodNativeEnum",et.ZodOptional="ZodOptional",et.ZodNullable="ZodNullable",et.ZodDefault="ZodDefault",et.ZodCatch="ZodCatch",et.ZodPromise="ZodPromise",et.ZodBranded="ZodBranded",et.ZodPipeline="ZodPipeline"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(et,_e={message:`Input not instance of ${et.name}`})=>custom(tt=>tt instanceof et,_e,!0),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:et=>ZodString.create({...et,coerce:!0}),number:et=>ZodNumber.create({...et,coerce:!0}),boolean:et=>ZodBoolean.create({...et,coerce:!0}),bigint:et=>ZodBigInt.create({...et,coerce:!0}),date:et=>ZodDate.create({...et,coerce:!0})},NEVER$1=INVALID;var mod=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util$6},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,get objectUtil(){return objectUtil},ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER$1,ZodIssueCode,quotelessJson,ZodError});const DEFAULT_API_KEY$1="c6634ad2d97b74baf15ff556016830c251050e6c36b9da508ce3ec80095d3dc1";function getRpcUrl$2(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_API_KEY$1;return`https://${et}.rpc.thirdweb.com/${_e}`}const isBrowser$7=()=>typeof window<"u",FileOrBufferUnionSchema=isBrowser$7()?mod.instanceof(File):mod.instanceof(Buffer),FileOrBufferSchema=mod.union([FileOrBufferUnionSchema,mod.object({data:mod.union([FileOrBufferUnionSchema,mod.string()]),name:mod.string()})]),FileOrBufferOrStringSchema=mod.union([FileOrBufferSchema,mod.string()]),MAX_BPS=1e4,BytesLikeSchema=mod.union([mod.array(mod.number()),mod.string()]),BigNumberSchema$1=mod.union([mod.string(),mod.number(),mod.bigint(),mod.custom(et=>BigNumber.isBigNumber(et)),mod.custom(et=>BN$3.isBN(et))]).transform(et=>{let _e=BN$3.isBN(et)?new BN$3(et).toString():BigNumber.from(et).toString();return BigNumber.from(_e)});BigNumberSchema$1.transform(et=>et.toString());const BigNumberTransformSchema$1=mod.union([mod.bigint(),mod.custom(et=>BigNumber.isBigNumber(et)),mod.custom(et=>BN$3.isBN(et))]).transform(et=>BN$3.isBN(et)?new BN$3(et).toString():BigNumber.from(et).toString()),BasisPointsSchema=mod.number().max(MAX_BPS,"Cannot exceed 100%").min(0,"Cannot be below 0%"),PercentSchema=mod.number().max(100,"Cannot exceed 100%").min(0,"Cannot be below 0%"),HexColor=mod.union([mod.string().regex(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color"),mod.string().regex(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,"Invalid hex color").transform(et=>et.replace("#","")),mod.string().length(0)]),AmountSchema=mod.union([mod.string().regex(/^([0-9]+\.?[0-9]*|\.[0-9]+)$/,"Invalid amount"),mod.number().min(0,"Amount cannot be negative")]).transform(et=>typeof et=="number"?et.toString():et),QuantitySchema=mod.union([AmountSchema,mod.literal("unlimited")]).default("unlimited"),RawDateSchema$2=mod.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3)));RawDateSchema$2.default(new Date(0));RawDateSchema$2.default(new Date(Date.now()+1e3*60*60*24*365*10));function _toPrimitive$2(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey$2(et){var _e=_toPrimitive$2(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$3(et,_e,tt){return _e=_toPropertyKey$2(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}const PropertiesInput$1=mod.object({}).catchall(mod.union([BigNumberTransformSchema$1,mod.unknown()])),OptionalPropertiesInput=mod.union([mod.array(PropertiesInput$1),PropertiesInput$1]).optional(),CommonNFTInput=mod.object({name:mod.union([mod.string(),mod.number()]).optional(),description:mod.string().nullable().optional(),image:FileOrBufferOrStringSchema.nullable().optional(),external_url:FileOrBufferOrStringSchema.nullable().optional(),animation_url:FileOrBufferOrStringSchema.optional(),background_color:HexColor.optional(),properties:OptionalPropertiesInput,attributes:OptionalPropertiesInput}).catchall(mod.union([BigNumberTransformSchema$1,mod.unknown()])),NFTInputOrUriSchema=mod.union([CommonNFTInput,mod.string()]),CommonNFTOutput=CommonNFTInput.extend({id:mod.string(),uri:mod.string(),image:mod.string().nullable().optional(),external_url:mod.string().nullable().optional(),animation_url:mod.string().nullable().optional()}),DEFAULT_QUERY_ALL_COUNT=100;mod.object({start:mod.number().default(0),count:mod.number().default(DEFAULT_QUERY_ALL_COUNT)}).default({start:0,count:DEFAULT_QUERY_ALL_COUNT});const ERC165Abi=[{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Erc721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"bool",name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"_ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"_value",type:"string"},{indexed:!0,internalType:"uint256",name:"_id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"}],IBurnableERC20Abi=[{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],IDrop=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],DropERC20_V2Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],IDropSinglePhase=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IDropSinglePhaseV1=[{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],ERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"who",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],IMintableERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],MulticallAbi=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"}],ISignatureMintERC20Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC20.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC20.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],IBurnableERC721Abi=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"}],IClaimableERC721=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],DelayedRevealAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],DropERC721_V3Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"NFTRevealed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"lazyMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc721EnumerableAbi=[{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Erc721SupplyAbi=[{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ILazyMintAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IMintableERC721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"mintTo",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],SignatureMintERC721Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC721.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC721.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],SignatureMintERC721_V1Abi=[{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"uint256",name:"tokenIdMinted",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ITokenERC721.MintRequest",name:"_req",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],TieredDropAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"tier",type:"string"},{indexed:!0,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"},{indexed:!1,internalType:"bytes",name:"encryptedBaseURI",type:"bytes"}],name:"TokensLazyMinted",type:"event"},{inputs:[],name:"getBaseURICount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getBatchIdAtIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMetadataForAllTiers",outputs:[{components:[{internalType:"string",name:"tier",type:"string"},{components:[{internalType:"uint256",name:"startIdInclusive",type:"uint256"},{internalType:"uint256",name:"endIdNonInclusive",type:"uint256"}],internalType:"struct LazyMintWithTier.TokenRange[]",name:"ranges",type:"tuple[]"},{internalType:"string[]",name:"baseURIs",type:"string[]"}],internalType:"struct LazyMintWithTier.TierMetadata[]",name:"metadataForAllTiers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"string",name:"_baseURIForTokens",type:"string"},{internalType:"string",name:"_tier",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"lazyMint",outputs:[{internalType:"uint256",name:"batchId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IBurnableERC1155Abi=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"burnBatch",outputs:[],stateMutability:"nonpayable",type:"function"}],IClaimableERC1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"_receiver",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_claimer",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_quantity",type:"uint256"}],name:"verifyClaim",outputs:[],stateMutability:"view",type:"function"}],IDropMultiPhase1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition[]",name:"claimConditions",type:"tuple[]"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDrop1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],DropERC1155_V2Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"claimConditions",type:"tuple[]"}],name:"ClaimConditionsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalSupply",type:"uint256"}],name:"MaxTotalSupplyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"MaxWalletClaimCountUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"saleRecipient",type:"address"}],name:"SaleRecipientForTokenUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"claimConditionIndex",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"startTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"baseURI",type:"string"}],name:"TokensLazyMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"count",type:"uint256"}],name:"WalletClaimCountUpdated",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"proofs",type:"bytes32[]"},{internalType:"uint256",name:"proofMaxQuantityPerTransaction",type:"uint256"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"baseURIForTokens",type:"string"}],name:"lazyMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropClaimCondition_V2.ClaimCondition[]",name:"phases",type:"tuple[]"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IDropSinglePhase1155=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],indexed:!1,internalType:"struct IClaimCondition.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IDropSinglePhase1155.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerWallet",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"string",name:"metadata",type:"string"}],internalType:"struct IClaimCondition.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],IDropSinglePhase1155_V1=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],indexed:!1,internalType:"struct IClaimCondition_V1.ClaimCondition",name:"condition",type:"tuple"},{indexed:!1,internalType:"bool",name:"resetEligibility",type:"bool"}],name:"ClaimConditionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"claimer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quantityClaimed",type:"uint256"}],name:"TokensClaimed",type:"event"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{components:[{internalType:"bytes32[]",name:"proof",type:"bytes32[]"},{internalType:"uint256",name:"maxQuantityInAllowlist",type:"uint256"}],internalType:"struct IDropSinglePhase1155_V1.AllowlistProof",name:"allowlistProof",type:"tuple"},{internalType:"bytes",name:"data",type:"bytes"}],name:"claim",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint256",name:"startTimestamp",type:"uint256"},{internalType:"uint256",name:"maxClaimableSupply",type:"uint256"},{internalType:"uint256",name:"supplyClaimed",type:"uint256"},{internalType:"uint256",name:"quantityLimitPerTransaction",type:"uint256"},{internalType:"uint256",name:"waitTimeInSecondsBetweenClaims",type:"uint256"},{internalType:"bytes32",name:"merkleRoot",type:"bytes32"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"}],internalType:"struct IClaimCondition_V1.ClaimCondition",name:"phase",type:"tuple"},{internalType:"bool",name:"resetClaimEligibility",type:"bool"}],name:"setClaimConditions",outputs:[],stateMutability:"nonpayable",type:"function"}],Erc1155EnumerableAbi=[{inputs:[],name:"nextTokenIdToMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],IMintableERC1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"},{indexed:!1,internalType:"uint256",name:"quantityMinted",type:"uint256"}],name:"TokensMinted",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintTo",outputs:[],stateMutability:"nonpayable",type:"function"}],ISignatureMintERC1155Abi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!0,internalType:"address",name:"mintedTo",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenIdMinted",type:"uint256"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],indexed:!1,internalType:"struct ISignatureMintERC1155.MintRequest",name:"mintRequest",type:"tuple"}],name:"TokensMintedWithSignature",type:"event"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithSignature",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"royaltyRecipient",type:"address"},{internalType:"uint256",name:"royaltyBps",type:"uint256"},{internalType:"address",name:"primarySaleRecipient",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint128",name:"validityStartTimestamp",type:"uint128"},{internalType:"uint128",name:"validityEndTimestamp",type:"uint128"},{internalType:"bytes32",name:"uid",type:"bytes32"}],internalType:"struct ISignatureMintERC1155.MintRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"}],IERC2771ContextAbi=[{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IAppURI=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"AppURIUpdated",type:"event"},{inputs:[],name:"appURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setAppURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IContractMetadataAbi=[{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"ContractURIUpdated",type:"event"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}],IDirectListingsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"BuyerApprovedForListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"}],name:"CancelledListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"uint256",name:"pricePerToken",type:"uint256"}],name:"CurrencyApprovedForListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],name:"NewListing",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityBought",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalPricePaid",type:"uint256"}],name:"NewSale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"listingCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],name:"UpdatedListing",type:"event"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_buyer",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveBuyerForListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_currency",type:"address"},{internalType:"uint256",name:"_pricePerTokenInCurrency",type:"uint256"}],name:"approveCurrencyForListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"address",name:"_buyFor",type:"address"},{internalType:"uint256",name:"_quantity",type:"uint256"},{internalType:"address",name:"_currency",type:"address"},{internalType:"uint256",name:"_expectedTotalPrice",type:"uint256"}],name:"buyFromListing",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"cancelListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"}],internalType:"struct IDirectListings.ListingParameters",name:"_params",type:"tuple"}],name:"createListing",outputs:[{internalType:"uint256",name:"listingId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllListings",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing[]",name:"listings",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidListings",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing[]",name:"listings",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"getListing",outputs:[{components:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"address",name:"listingCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"},{internalType:"enum IDirectListings.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IDirectListings.Status",name:"status",type:"uint8"}],internalType:"struct IDirectListings.Listing",name:"listing",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalListings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"uint128",name:"startTimestamp",type:"uint128"},{internalType:"uint128",name:"endTimestamp",type:"uint128"},{internalType:"bool",name:"reserved",type:"bool"}],internalType:"struct IDirectListings.ListingParameters",name:"_params",type:"tuple"}],name:"updateListing",outputs:[],stateMutability:"nonpayable",type:"function"}],IEnglishAuctionsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!0,internalType:"address",name:"closer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!1,internalType:"address",name:"winningBidder",type:"address"}],name:"AuctionClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"}],name:"CancelledAuction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"auctionCreator",type:"address"},{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],name:"NewAuction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"auctionId",type:"uint256"},{indexed:!0,internalType:"address",name:"bidder",type:"address"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"bidAmount",type:"uint256"},{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],name:"NewBid",type:"event"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"},{internalType:"uint256",name:"_bidAmount",type:"uint256"}],name:"bidInAuction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"cancelAuction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"collectAuctionPayout",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"collectAuctionTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"}],internalType:"struct IEnglishAuctions.AuctionParameters",name:"_params",type:"tuple"}],name:"createAuction",outputs:[{internalType:"uint256",name:"auctionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllAuctions",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction[]",name:"auctions",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidAuctions",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction[]",name:"auctions",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"getAuction",outputs:[{components:[{internalType:"uint256",name:"auctionId",type:"uint256"},{internalType:"address",name:"auctionCreator",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"minimumBidAmount",type:"uint256"},{internalType:"uint256",name:"buyoutBidAmount",type:"uint256"},{internalType:"uint64",name:"timeBufferInSeconds",type:"uint64"},{internalType:"uint64",name:"bidBufferBps",type:"uint64"},{internalType:"uint64",name:"startTimestamp",type:"uint64"},{internalType:"uint64",name:"endTimestamp",type:"uint64"},{internalType:"enum IEnglishAuctions.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IEnglishAuctions.Status",name:"status",type:"uint8"}],internalType:"struct IEnglishAuctions.Auction",name:"auction",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"getWinningBid",outputs:[{internalType:"address",name:"bidder",type:"address"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"bidAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"}],name:"isAuctionExpired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_auctionId",type:"uint256"},{internalType:"uint256",name:"_bidAmount",type:"uint256"}],name:"isNewWinningBid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IOffersAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"quantityBought",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalPricePaid",type:"uint256"}],name:"AcceptedOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"}],name:"CancelledOffer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"offeror",type:"address"},{indexed:!0,internalType:"uint256",name:"offerId",type:"uint256"},{indexed:!0,internalType:"address",name:"assetContract",type:"address"},{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],indexed:!1,internalType:"struct IOffers.Offer",name:"offer",type:"tuple"}],name:"NewOffer",type:"event"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"acceptOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"cancelOffer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllOffers",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer[]",name:"offers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startId",type:"uint256"},{internalType:"uint256",name:"_endId",type:"uint256"}],name:"getAllValidOffers",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer[]",name:"offers",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_offerId",type:"uint256"}],name:"getOffer",outputs:[{components:[{internalType:"uint256",name:"offerId",type:"uint256"},{internalType:"address",name:"offeror",type:"address"},{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"},{internalType:"enum IOffers.TokenType",name:"tokenType",type:"uint8"},{internalType:"enum IOffers.Status",name:"status",type:"uint8"}],internalType:"struct IOffers.Offer",name:"offer",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"uint256",name:"totalPrice",type:"uint256"},{internalType:"uint256",name:"expirationTimestamp",type:"uint256"}],internalType:"struct IOffers.OfferParams",name:"_params",type:"tuple"}],name:"makeOffer",outputs:[{internalType:"uint256",name:"offerId",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPackVRFAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"totalPacksCreated",type:"uint256"}],name:"PackCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"opener",type:"address"},{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountToOpen",type:"uint256"},{indexed:!1,internalType:"uint256",name:"requestId",type:"uint256"}],name:"PackOpenRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!0,internalType:"address",name:"opener",type:"address"},{indexed:!1,internalType:"uint256",name:"numOfPacksOpened",type:"uint256"},{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],indexed:!1,internalType:"struct ITokenBundle.Token[]",name:"rewardUnitsDistributed",type:"tuple[]"}],name:"PackOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"packId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"requestId",type:"uint256"}],name:"PackRandomnessFulfilled",type:"event"},{inputs:[{internalType:"address",name:"_opener",type:"address"}],name:"canClaimRewards",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimRewards",outputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],internalType:"struct ITokenBundle.Token[]",name:"rewardUnits",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"assetContract",type:"address"},{internalType:"enum ITokenBundle.TokenType",name:"tokenType",type:"uint8"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"totalAmount",type:"uint256"}],internalType:"struct ITokenBundle.Token[]",name:"contents",type:"tuple[]"},{internalType:"uint256[]",name:"numOfRewardUnits",type:"uint256[]"},{internalType:"string",name:"packUri",type:"string"},{internalType:"uint128",name:"openStartTimestamp",type:"uint128"},{internalType:"uint128",name:"amountDistributedPerOpen",type:"uint128"},{internalType:"address",name:"recipient",type:"address"}],name:"createPack",outputs:[{internalType:"uint256",name:"packId",type:"uint256"},{internalType:"uint256",name:"packTotalSupply",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"packId",type:"uint256"},{internalType:"uint256",name:"amountToOpen",type:"uint256"}],name:"openPack",outputs:[{internalType:"uint256",name:"requestId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_packId",type:"uint256"},{internalType:"uint256",name:"_amountToOpen",type:"uint256"},{internalType:"uint32",name:"_callBackGasLimit",type:"uint32"}],name:"openPackAndClaimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],IPermissionsAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],IPermissionsEnumerableAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebPlatformFeeAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"platformFeeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"platformFeeBps",type:"uint256"}],name:"PlatformFeeInfoUpdated",type:"event"},{inputs:[],name:"getPlatformFeeInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_platformFeeRecipient",type:"address"},{internalType:"uint256",name:"_platformFeeBps",type:"uint256"}],name:"setPlatformFeeInfo",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebPrimarySaleAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"recipient",type:"address"}],name:"PrimarySaleRecipientUpdated",type:"event"},{inputs:[],name:"primarySaleRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_saleRecipient",type:"address"}],name:"setPrimarySaleRecipient",outputs:[],stateMutability:"nonpayable",type:"function"}],IRouterAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"string",name:"functionSignature",type:"string"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldPluginAddress",type:"address"},{indexed:!0,internalType:"address",name:"newPluginAddress",type:"address"}],name:"PluginUpdated",type:"event"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"plugin",type:"tuple"}],name:"addPlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"pluginAddress",type:"address"}],name:"getAllFunctionsOfPlugin",outputs:[{internalType:"bytes4[]",name:"",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"}],name:"removePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"plugin",type:"tuple"}],name:"updatePlugin",outputs:[],stateMutability:"nonpayable",type:"function"}],IThirdwebRoyaltyAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRoyaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"newRoyaltyBps",type:"uint256"}],name:"DefaultRoyalty",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"royaltyRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"royaltyBps",type:"uint256"}],name:"RoyaltyForToken",type:"event"},{inputs:[],name:"getDefaultRoyaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRoyaltyInfoForToken",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_royaltyRecipient",type:"address"},{internalType:"uint256",name:"_royaltyBps",type:"uint256"}],name:"setDefaultRoyaltyInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"bps",type:"uint256"}],name:"setRoyaltyInfoForToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],IOwnableAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"prevOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerUpdated",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_newOwner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"}];var browserPonyfill={exports:{}};(function(et,_e){var tt=function(){function nt(){this.fetch=!1,this.DOMException=globalThis.DOMException}return nt.prototype=globalThis,new nt}();(function(nt){(function(it){var at={searchParams:"URLSearchParams"in nt,iterable:"Symbol"in nt&&"iterator"in Symbol,blob:"FileReader"in nt&&"Blob"in nt&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in nt,arrayBuffer:"ArrayBuffer"in nt};function ot(ht){return ht&&DataView.prototype.isPrototypeOf(ht)}if(at.arrayBuffer)var ct=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ut=ArrayBuffer.isView||function(ht){return ht&&ct.indexOf(Object.prototype.toString.call(ht))>-1};function ft(ht){if(typeof ht!="string"&&(ht=String(ht)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ht))throw new TypeError("Invalid character in header field name");return ht.toLowerCase()}function yt(ht){return typeof ht!="string"&&(ht=String(ht)),ht}function bt(ht){var st={next:function(){var dt=ht.shift();return{done:dt===void 0,value:dt}}};return at.iterable&&(st[Symbol.iterator]=function(){return st}),st}function Et(ht){this.map={},ht instanceof Et?ht.forEach(function(st,dt){this.append(dt,st)},this):Array.isArray(ht)?ht.forEach(function(st){this.append(st[0],st[1])},this):ht&&Object.getOwnPropertyNames(ht).forEach(function(st){this.append(st,ht[st])},this)}Et.prototype.append=function(ht,st){ht=ft(ht),st=yt(st);var dt=this.map[ht];this.map[ht]=dt?dt+", "+st:st},Et.prototype.delete=function(ht){delete this.map[ft(ht)]},Et.prototype.get=function(ht){return ht=ft(ht),this.has(ht)?this.map[ht]:null},Et.prototype.has=function(ht){return this.map.hasOwnProperty(ft(ht))},Et.prototype.set=function(ht,st){this.map[ft(ht)]=yt(st)},Et.prototype.forEach=function(ht,st){for(var dt in this.map)this.map.hasOwnProperty(dt)&&ht.call(st,this.map[dt],dt,this)},Et.prototype.keys=function(){var ht=[];return this.forEach(function(st,dt){ht.push(dt)}),bt(ht)},Et.prototype.values=function(){var ht=[];return this.forEach(function(st){ht.push(st)}),bt(ht)},Et.prototype.entries=function(){var ht=[];return this.forEach(function(st,dt){ht.push([dt,st])}),bt(ht)},at.iterable&&(Et.prototype[Symbol.iterator]=Et.prototype.entries);function Ct(ht){if(ht.bodyUsed)return Promise.reject(new TypeError("Already read"));ht.bodyUsed=!0}function At(ht){return new Promise(function(st,dt){ht.onload=function(){st(ht.result)},ht.onerror=function(){dt(ht.error)}})}function St(ht){var st=new FileReader,dt=At(st);return st.readAsArrayBuffer(ht),dt}function Tt(ht){var st=new FileReader,dt=At(st);return st.readAsText(ht),dt}function $t(ht){for(var st=new Uint8Array(ht),dt=new Array(st.length),mt=0;mt<st.length;mt++)dt[mt]=String.fromCharCode(st[mt]);return dt.join("")}function kt(ht){if(ht.slice)return ht.slice(0);var st=new Uint8Array(ht.byteLength);return st.set(new Uint8Array(ht)),st.buffer}function Pt(){return this.bodyUsed=!1,this._initBody=function(ht){this._bodyInit=ht,ht?typeof ht=="string"?this._bodyText=ht:at.blob&&Blob.prototype.isPrototypeOf(ht)?this._bodyBlob=ht:at.formData&&FormData.prototype.isPrototypeOf(ht)?this._bodyFormData=ht:at.searchParams&&URLSearchParams.prototype.isPrototypeOf(ht)?this._bodyText=ht.toString():at.arrayBuffer&&at.blob&&ot(ht)?(this._bodyArrayBuffer=kt(ht.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):at.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ht)||ut(ht))?this._bodyArrayBuffer=kt(ht):this._bodyText=ht=Object.prototype.toString.call(ht):this._bodyText="",this.headers.get("content-type")||(typeof ht=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):at.searchParams&&URLSearchParams.prototype.isPrototypeOf(ht)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},at.blob&&(this.blob=function(){var ht=Ct(this);if(ht)return ht;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ct(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(St)}),this.text=function(){var ht=Ct(this);if(ht)return ht;if(this._bodyBlob)return Tt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($t(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},at.formData&&(this.formData=function(){return this.text().then(Zt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Ot=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ht(ht){var st=ht.toUpperCase();return Ot.indexOf(st)>-1?st:ht}function qt(ht,st){st=st||{};var dt=st.body;if(ht instanceof qt){if(ht.bodyUsed)throw new TypeError("Already read");this.url=ht.url,this.credentials=ht.credentials,st.headers||(this.headers=new Et(ht.headers)),this.method=ht.method,this.mode=ht.mode,this.signal=ht.signal,!dt&&ht._bodyInit!=null&&(dt=ht._bodyInit,ht.bodyUsed=!0)}else this.url=String(ht);if(this.credentials=st.credentials||this.credentials||"same-origin",(st.headers||!this.headers)&&(this.headers=new Et(st.headers)),this.method=Ht(st.method||this.method||"GET"),this.mode=st.mode||this.mode||null,this.signal=st.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&dt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(dt)}qt.prototype.clone=function(){return new qt(this,{body:this._bodyInit})};function Zt(ht){var st=new FormData;return ht.trim().split("&").forEach(function(dt){if(dt){var mt=dt.split("="),_t=mt.shift().replace(/\+/g," "),xt=mt.join("=").replace(/\+/g," ");st.append(decodeURIComponent(_t),decodeURIComponent(xt))}}),st}function tr(ht){var st=new Et,dt=ht.replace(/\r?\n[\t ]+/g," ");return dt.split(/\r?\n/).forEach(function(mt){var _t=mt.split(":"),xt=_t.shift().trim();if(xt){var vt=_t.join(":").trim();st.append(xt,vt)}}),st}Pt.call(qt.prototype);function Dt(ht,st){st||(st={}),this.type="default",this.status=st.status===void 0?200:st.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in st?st.statusText:"OK",this.headers=new Et(st.headers),this.url=st.url||"",this._initBody(ht)}Pt.call(Dt.prototype),Dt.prototype.clone=function(){return new Dt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Et(this.headers),url:this.url})},Dt.error=function(){var ht=new Dt(null,{status:0,statusText:""});return ht.type="error",ht};var Rt=[301,302,303,307,308];Dt.redirect=function(ht,st){if(Rt.indexOf(st)===-1)throw new RangeError("Invalid status code");return new Dt(null,{status:st,headers:{location:ht}})},it.DOMException=nt.DOMException;try{new it.DOMException}catch{it.DOMException=function(st,dt){this.message=st,this.name=dt;var mt=Error(st);this.stack=mt.stack},it.DOMException.prototype=Object.create(Error.prototype),it.DOMException.prototype.constructor=it.DOMException}function Nt(ht,st){return new Promise(function(dt,mt){var _t=new qt(ht,st);if(_t.signal&&_t.signal.aborted)return mt(new it.DOMException("Aborted","AbortError"));var xt=new XMLHttpRequest;function vt(){xt.abort()}xt.onload=function(){var Mt={status:xt.status,statusText:xt.statusText,headers:tr(xt.getAllResponseHeaders()||"")};Mt.url="responseURL"in xt?xt.responseURL:Mt.headers.get("X-Request-URL");var gt="response"in xt?xt.response:xt.responseText;dt(new Dt(gt,Mt))},xt.onerror=function(){mt(new TypeError("Network request failed"))},xt.ontimeout=function(){mt(new TypeError("Network request failed"))},xt.onabort=function(){mt(new it.DOMException("Aborted","AbortError"))},xt.open(_t.method,_t.url,!0),_t.credentials==="include"?xt.withCredentials=!0:_t.credentials==="omit"&&(xt.withCredentials=!1),"responseType"in xt&&at.blob&&(xt.responseType="blob"),_t.headers.forEach(function(Mt,gt){xt.setRequestHeader(gt,Mt)}),_t.signal&&(_t.signal.addEventListener("abort",vt),xt.onreadystatechange=function(){xt.readyState===4&&_t.signal.removeEventListener("abort",vt)}),xt.send(typeof _t._bodyInit>"u"?null:_t._bodyInit)})}return Nt.polyfill=!0,nt.fetch||(nt.fetch=Nt,nt.Headers=Et,nt.Request=qt,nt.Response=Dt),it.Headers=Et,it.Request=qt,it.Response=Dt,it.fetch=Nt,Object.defineProperty(it,"__esModule",{value:!0}),it})({})})(tt),tt.fetch.ponyfill=!0,delete tt.fetch.polyfill;var rt=tt;_e=rt.fetch,_e.default=rt.fetch,_e.fetch=rt.fetch,_e.Headers=rt.Headers,_e.Request=rt.Request,_e.Response=rt.Response,et.exports=_e})(browserPonyfill,browserPonyfill.exports);const fetch$1=getDefaultExportFromCjs(browserPonyfill.exports);var eventemitter3$1={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ct,ut,ft){this.fn=ct,this.context=ut,this.once=ft||!1}function it(ct,ut,ft,yt,bt){if(typeof ft!="function")throw new TypeError("The listener must be a function");var Et=new nt(ft,yt||ct,bt),Ct=tt?tt+ut:ut;return ct._events[Ct]?ct._events[Ct].fn?ct._events[Ct]=[ct._events[Ct],Et]:ct._events[Ct].push(Et):(ct._events[Ct]=Et,ct._eventsCount++),ct}function at(ct,ut){--ct._eventsCount===0?ct._events=new rt:delete ct._events[ut]}function ot(){this._events=new rt,this._eventsCount=0}ot.prototype.eventNames=function(){var ut=[],ft,yt;if(this._eventsCount===0)return ut;for(yt in ft=this._events)_e.call(ft,yt)&&ut.push(tt?yt.slice(1):yt);return Object.getOwnPropertySymbols?ut.concat(Object.getOwnPropertySymbols(ft)):ut},ot.prototype.listeners=function(ut){var ft=tt?tt+ut:ut,yt=this._events[ft];if(!yt)return[];if(yt.fn)return[yt.fn];for(var bt=0,Et=yt.length,Ct=new Array(Et);bt<Et;bt++)Ct[bt]=yt[bt].fn;return Ct},ot.prototype.listenerCount=function(ut){var ft=tt?tt+ut:ut,yt=this._events[ft];return yt?yt.fn?1:yt.length:0},ot.prototype.emit=function(ut,ft,yt,bt,Et,Ct){var At=tt?tt+ut:ut;if(!this._events[At])return!1;var St=this._events[At],Tt=arguments.length,$t,kt;if(St.fn){switch(St.once&&this.removeListener(ut,St.fn,void 0,!0),Tt){case 1:return St.fn.call(St.context),!0;case 2:return St.fn.call(St.context,ft),!0;case 3:return St.fn.call(St.context,ft,yt),!0;case 4:return St.fn.call(St.context,ft,yt,bt),!0;case 5:return St.fn.call(St.context,ft,yt,bt,Et),!0;case 6:return St.fn.call(St.context,ft,yt,bt,Et,Ct),!0}for(kt=1,$t=new Array(Tt-1);kt<Tt;kt++)$t[kt-1]=arguments[kt];St.fn.apply(St.context,$t)}else{var Pt=St.length,Ot;for(kt=0;kt<Pt;kt++)switch(St[kt].once&&this.removeListener(ut,St[kt].fn,void 0,!0),Tt){case 1:St[kt].fn.call(St[kt].context);break;case 2:St[kt].fn.call(St[kt].context,ft);break;case 3:St[kt].fn.call(St[kt].context,ft,yt);break;case 4:St[kt].fn.call(St[kt].context,ft,yt,bt);break;default:if(!$t)for(Ot=1,$t=new Array(Tt-1);Ot<Tt;Ot++)$t[Ot-1]=arguments[Ot];St[kt].fn.apply(St[kt].context,$t)}}return!0},ot.prototype.on=function(ut,ft,yt){return it(this,ut,ft,yt,!1)},ot.prototype.once=function(ut,ft,yt){return it(this,ut,ft,yt,!0)},ot.prototype.removeListener=function(ut,ft,yt,bt){var Et=tt?tt+ut:ut;if(!this._events[Et])return this;if(!ft)return at(this,Et),this;var Ct=this._events[Et];if(Ct.fn)Ct.fn===ft&&(!bt||Ct.once)&&(!yt||Ct.context===yt)&&at(this,Et);else{for(var At=0,St=[],Tt=Ct.length;At<Tt;At++)(Ct[At].fn!==ft||bt&&!Ct[At].once||yt&&Ct[At].context!==yt)&&St.push(Ct[At]);St.length?this._events[Et]=St.length===1?St[0]:St:at(this,Et)}return this},ot.prototype.removeAllListeners=function(ut){var ft;return ut?(ft=tt?tt+ut:ut,this._events[ft]&&at(this,ft)):(this._events=new rt,this._eventsCount=0),this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.addListener=ot.prototype.on,ot.prefixed=tt,ot.EventEmitter=ot,et.exports=ot})(eventemitter3$1);const EventEmitter$1$1=eventemitter3$1.exports,ForwarderABI=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"execute",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gas",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Forwarder.ForwardRequest",name:"req",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"verify",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}];var browser$2=typeof self=="object"?self.FormData:window.FormData;let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let et=0;et<256;++et)byteToHex.push((et+256).toString(16).slice(1));function unsafeStringify(et,_e=0){return(byteToHex[et[_e+0]]+byteToHex[et[_e+1]]+byteToHex[et[_e+2]]+byteToHex[et[_e+3]]+"-"+byteToHex[et[_e+4]]+byteToHex[et[_e+5]]+"-"+byteToHex[et[_e+6]]+byteToHex[et[_e+7]]+"-"+byteToHex[et[_e+8]]+byteToHex[et[_e+9]]+"-"+byteToHex[et[_e+10]]+byteToHex[et[_e+11]]+byteToHex[et[_e+12]]+byteToHex[et[_e+13]]+byteToHex[et[_e+14]]+byteToHex[et[_e+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(et,_e,tt){if(native.randomUUID&&!_e&&!et)return native.randomUUID();et=et||{};const rt=et.random||(et.rng||rng)();if(rt[6]=rt[6]&15|64,rt[8]=rt[8]&63|128,_e){tt=tt||0;for(let nt=0;nt<16;++nt)_e[tt+nt]=rt[nt];return _e}return unsafeStringify(rt)}function _toPrimitive$1(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey$1(et){var _e=_toPrimitive$1(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$2(et,_e,tt){return _e=_toPropertyKey$1(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}const DEFAULT_GATEWAY_URLS={"ipfs://":["https://gateway.ipfscdn.io/ipfs/","https://cloudflare-ipfs.com/ipfs/","https://ipfs.io/ipfs/"]},TW_IPFS_SERVER_URL="https://upload.nftlabs.co",PINATA_IPFS_URL="https://api.pinata.cloud/pinning/pinFileToIPFS";function prepareGatewayUrls(et){const _e={...et,...DEFAULT_GATEWAY_URLS};for(const tt of Object.keys(DEFAULT_GATEWAY_URLS))if(et&&et[tt]){const rt=et[tt].map(nt=>nt.replace(/\/$/,"")+"/");_e[tt]=[...rt,...DEFAULT_GATEWAY_URLS[tt]]}return _e}function isBrowser$6(){return typeof window<"u"}function isFileInstance(et){return globalThis.File&&et instanceof File}function isBufferInstance(et){return globalThis.Buffer&&et instanceof Buffer}function isBufferOrStringWithName(et){return!!(et&&et.name&&et.data&&typeof et.name=="string"&&(typeof et.data=="string"||isBufferInstance(et.data)))}function isFileOrBuffer(et){return isFileInstance(et)||isBufferInstance(et)||isBufferOrStringWithName(et)}function isFileBufferOrStringEqual(et,_e){if(isFileInstance(et)&&isFileInstance(_e)){if(et.name===_e.name&&et.lastModified===_e.lastModified&&et.size===_e.size)return!0}else{if(isBufferInstance(et)&&isBufferInstance(_e))return et.equals(_e);if(isBufferOrStringWithName(et)&&isBufferOrStringWithName(_e)&&et.name===_e.name){if(typeof et.data=="string"&&typeof _e.data=="string")return et.data===_e.data;if(isBufferInstance(et.data)&&isBufferInstance(_e.data))return et.data.equals(_e.data)}}return!1}function replaceGatewayUrlWithScheme(et,_e){for(const tt of Object.keys(_e))for(const rt of _e[tt])if(et.startsWith(rt))return et.replace(rt,tt);return et}function replaceSchemeWithGatewayUrl(et,_e){let tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const rt=Object.keys(_e).find(it=>et.startsWith(it)),nt=rt?_e[rt]:[];if(!(!rt&&tt>0||rt&&tt>=nt.length))return rt?et.replace(rt,nt[tt]):et}function replaceObjectGatewayUrlsWithSchemes(et,_e){return typeof et=="string"?replaceGatewayUrlWithScheme(et,_e):typeof et=="object"?!et||isFileOrBuffer(et)?et:Array.isArray(et)?et.map(tt=>replaceObjectGatewayUrlsWithSchemes(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectGatewayUrlsWithSchemes(nt,_e)]})):et}function replaceObjectSchemesWithGatewayUrls(et,_e){return typeof et=="string"?replaceSchemeWithGatewayUrl(et,_e):typeof et=="object"?!et||isFileOrBuffer(et)?et:Array.isArray(et)?et.map(tt=>replaceObjectSchemesWithGatewayUrls(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectSchemesWithGatewayUrls(nt,_e)]})):et}function extractObjectFiles(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(isFileOrBuffer(et))return _e.push(et),_e;if(typeof et=="object"){if(!et)return _e;Array.isArray(et)?et.forEach(tt=>extractObjectFiles(tt,_e)):Object.keys(et).map(tt=>extractObjectFiles(et[tt],_e))}return _e}function replaceObjectFilesWithUris(et,_e){if(isFileOrBuffer(et)){if(_e.length)return et=_e.shift(),et;console.warn("Not enough URIs to replace all files in object.")}return typeof et=="object"?et&&(Array.isArray(et)?et.map(tt=>replaceObjectFilesWithUris(tt,_e)):Object.fromEntries(Object.entries(et).map(tt=>{let[rt,nt]=tt;return[rt,replaceObjectFilesWithUris(nt,_e)]}))):et}class StorageDownloader{async download(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(rt>3)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Failed to download from URI - too many attempts failed.");const nt=replaceSchemeWithGatewayUrl(_e,tt,rt);if(!nt)throw new Error("[FAILED_TO_DOWNLOAD_ERROR] Unable to download from URI - all gateway URLs failed to respond.");const it=await fetch$1(nt);return it.status>=500||it.status===403||it.status===408?(console.warn(`Request to ${nt} failed with status ${it.status} - ${it.statusText}`),this.download(_e,tt,rt+1)):it}}class IpfsUploader{constructor(_e){_defineProperty$2(this,"uploadWithGatewayUrl",void 0),this.uploadWithGatewayUrl=(_e==null?void 0:_e.uploadWithGatewayUrl)||!1}async uploadBatch(_e,tt){if((tt==null?void 0:tt.uploadWithoutDirectory)&&_e.length>1)throw new Error("[UPLOAD_WITHOUT_DIRECTORY_ERROR] Cannot upload more than one file or object without directory!");const rt=new browser$2,{form:nt,fileNames:it}=this.buildFormData(rt,_e,tt);return isBrowser$6()?this.uploadBatchBrowser(nt,it,tt):this.uploadBatchNode(nt,it,tt)}async getUploadToken(){const _e=await fetch$1(`${TW_IPFS_SERVER_URL}/grant`,{method:"GET",headers:{"X-APP-NAME":{}.CI?"Storage SDK CI":"Storage SDK"}});if(!_e.ok)throw new Error("Failed to get upload token");return await _e.text()}buildFormData(_e,tt,rt){const nt=new Map,it=[];for(let ot=0;ot<tt.length;ot++){const ct=tt[ot];let ut="",ft=ct;if(isFileInstance(ct))if(rt!=null&&rt.rewriteFileNames){let bt="";if(ct.name){const Et=ct.name.lastIndexOf(".");Et>-1&&(bt=ct.name.substring(Et))}ut=`${ot+rt.rewriteFileNames.fileStartNumber}${bt}`}else ut=`${ct.name}`;else isBufferOrStringWithName(ct)?(ft=ct.data,rt!=null&&rt.rewriteFileNames?ut=`${ot+rt.rewriteFileNames.fileStartNumber}`:ut=`${ct.name}`):rt!=null&&rt.rewriteFileNames?ut=`${ot+rt.rewriteFileNames.fileStartNumber}`:ut=`${ot}`;const yt=rt!=null&&rt.uploadWithoutDirectory?"files":`files/${ut}`;if(nt.has(ut)){if(isFileBufferOrStringEqual(nt.get(ut),ct)){it.push(ut);continue}throw new Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${ut} was passed for more than one different file.`)}nt.set(ut,ct),it.push(ut),isBrowser$6()?_e.append("file",new Blob([ft]),yt):_e.append("file",ft,{filepath:yt})}const at={name:"Storage SDK",keyvalues:{}};return _e.append("pinataMetadata",JSON.stringify(at)),rt!=null&&rt.uploadWithoutDirectory&&_e.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{form:_e,fileNames:it.map(ot=>encodeURIComponent(ot))}}async uploadBatchBrowser(_e,tt,rt){const nt=await this.getUploadToken();return new Promise((it,at)=>{const ot=new XMLHttpRequest;let ct=setTimeout(()=>{ot.abort(),at(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4);ot.upload.addEventListener("loadstart",()=>{console.log(`[${Date.now()}] [IPFS] Started`)}),ot.upload.addEventListener("progress",ut=>{console.log(`[IPFS] Progress Event ${ut.loaded}/${ut.total}`),clearTimeout(ct),ut.loaded<ut.total?ct=setTimeout(()=>{ot.abort(),at(new Error("Request to upload timed out! No upload progress received in 30s"))},3e4):console.log(`[${Date.now()}] [IPFS] Uploaded files. Waiting for response.`),ut.lengthComputable&&(rt==null?void 0:rt.onProgress)&&(rt==null||rt.onProgress({progress:ut.loaded,total:ut.total}))}),ot.addEventListener("load",()=>{if(console.log(`[${Date.now()}] [IPFS] Load`),clearTimeout(ct),ot.status>=200&&ot.status<300){let ut;try{ut=JSON.parse(ot.responseText)}catch{return at(new Error("Failed to parse JSON from upload response"))}const ft=ut.IpfsHash;if(!ft)throw new Error("Failed to get IPFS hash from upload response");return rt!=null&&rt.uploadWithoutDirectory?it([`ipfs://${ft}`]):it(tt.map(yt=>`ipfs://${ft}/${yt}`))}return at(new Error(`Upload failed with status ${ot.status} - ${ot.responseText}`))}),ot.addEventListener("error",()=>(console.log("[IPFS] Load"),clearTimeout(ct),ot.readyState!==0&&ot.readyState!==4||ot.status===0?at(new Error("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.")):at(new Error("Unknown upload error occured")))),ot.open("POST",PINATA_IPFS_URL),ot.setRequestHeader("Authorization",`Bearer ${nt}`),ot.send(_e)})}async uploadBatchNode(_e,tt,rt){const nt=await this.getUploadToken();rt!=null&&rt.onProgress&&console.warn("The onProgress option is only supported in the browser");const it=await fetch$1(PINATA_IPFS_URL,{method:"POST",headers:{Authorization:`Bearer ${nt}`,..._e.getHeaders()},body:_e.getBuffer()}),at=await it.json();if(!it.ok)throw console.warn(at),new Error("Failed to upload files to IPFS");const ot=at.IpfsHash;if(!ot)throw new Error("Failed to upload files to IPFS");return rt!=null&&rt.uploadWithoutDirectory?[`ipfs://${ot}`]:tt.map(ct=>`ipfs://${ot}/${ct}`)}}class ThirdwebStorage{constructor(_e){_defineProperty$2(this,"uploader",void 0),_defineProperty$2(this,"downloader",void 0),_defineProperty$2(this,"gatewayUrls",void 0),this.uploader=(_e==null?void 0:_e.uploader)||new IpfsUploader,this.downloader=(_e==null?void 0:_e.downloader)||new StorageDownloader,this.gatewayUrls=prepareGatewayUrls(_e==null?void 0:_e.gatewayUrls)}resolveScheme(_e){return replaceSchemeWithGatewayUrl(_e,this.gatewayUrls)}async download(_e){return this.downloader.download(_e,this.gatewayUrls)}async downloadJSON(_e){const rt=await(await this.download(_e)).json();return replaceObjectSchemesWithGatewayUrls(rt,this.gatewayUrls)}async upload(_e,tt){const[rt]=await this.uploadBatch([_e],tt);return rt}async uploadBatch(_e,tt){if(_e=_e.filter(it=>it!==void 0),!_e.length)return[];const rt=_e.map(it=>isFileOrBuffer(it)||typeof it=="string").every(it=>!!it);let nt=[];if(rt)nt=await this.uploader.uploadBatch(_e,tt);else{const it=(await this.uploadAndReplaceFilesWithHashes(_e,tt)).map(at=>typeof at=="string"?at:JSON.stringify(at));nt=await this.uploader.uploadBatch(it,tt)}return(tt==null?void 0:tt.uploadWithGatewayUrl)||this.uploader.uploadWithGatewayUrl?nt.map(it=>this.resolveScheme(it)):nt}async uploadAndReplaceFilesWithHashes(_e,tt){let rt=_e;rt=replaceObjectGatewayUrlsWithSchemes(rt,this.gatewayUrls);const nt=extractObjectFiles(rt);if(nt.length){const it=await this.uploader.uploadBatch(nt,tt);rt=replaceObjectFilesWithUris(rt,it)}return((tt==null?void 0:tt.uploadWithGatewayUrl)||this.uploader.uploadWithGatewayUrl)&&(rt=replaceObjectSchemesWithGatewayUrls(rt,this.gatewayUrls)),rt}}const ERC20MetadataAbi=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],RouterABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"string",name:"functionSignature",type:"string"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldPluginAddress",type:"address"},{indexed:!0,internalType:"address",name:"newPluginAddress",type:"address"}],name:"PluginUpdated",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"_getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"addPlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pluginAddress",type:"address"}],name:"getAllFunctionsOfPlugin",outputs:[{internalType:"bytes4[]",name:"registered",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pluginMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"removePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"updatePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],IThirdwebContractABI=[{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"_uri",type:"string"}],name:"setContractURI",outputs:[],stateMutability:"nonpayable",type:"function"}];var dist$3={},MerkleTree$1={},buffer$2={},base64Js={};base64Js.byteLength=byteLength$1;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$6=0,len=code.length;i$6<len;++i$6)lookup[i$6]=code[i$6],revLookup[code.charCodeAt(i$6)]=i$6;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(et){var _e=et.length;if(_e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var tt=et.indexOf("=");tt===-1&&(tt=_e);var rt=tt===_e?0:4-tt%4;return[tt,rt]}function byteLength$1(et){var _e=getLens(et),tt=_e[0],rt=_e[1];return(tt+rt)*3/4-rt}function _byteLength(et,_e,tt){return(_e+tt)*3/4-tt}function toByteArray(et){var _e,tt=getLens(et),rt=tt[0],nt=tt[1],it=new Arr(_byteLength(et,rt,nt)),at=0,ot=nt>0?rt-4:rt,ct;for(ct=0;ct<ot;ct+=4)_e=revLookup[et.charCodeAt(ct)]<<18|revLookup[et.charCodeAt(ct+1)]<<12|revLookup[et.charCodeAt(ct+2)]<<6|revLookup[et.charCodeAt(ct+3)],it[at++]=_e>>16&255,it[at++]=_e>>8&255,it[at++]=_e&255;return nt===2&&(_e=revLookup[et.charCodeAt(ct)]<<2|revLookup[et.charCodeAt(ct+1)]>>4,it[at++]=_e&255),nt===1&&(_e=revLookup[et.charCodeAt(ct)]<<10|revLookup[et.charCodeAt(ct+1)]<<4|revLookup[et.charCodeAt(ct+2)]>>2,it[at++]=_e>>8&255,it[at++]=_e&255),it}function tripletToBase64(et){return lookup[et>>18&63]+lookup[et>>12&63]+lookup[et>>6&63]+lookup[et&63]}function encodeChunk(et,_e,tt){for(var rt,nt=[],it=_e;it<tt;it+=3)rt=(et[it]<<16&16711680)+(et[it+1]<<8&65280)+(et[it+2]&255),nt.push(tripletToBase64(rt));return nt.join("")}function fromByteArray(et){for(var _e,tt=et.length,rt=tt%3,nt=[],it=16383,at=0,ot=tt-rt;at<ot;at+=it)nt.push(encodeChunk(et,at,at+it>ot?ot:at+it));return rt===1?(_e=et[tt-1],nt.push(lookup[_e>>2]+lookup[_e<<4&63]+"==")):rt===2&&(_e=(et[tt-2]<<8)+et[tt-1],nt.push(lookup[_e>>10]+lookup[_e>>4&63]+lookup[_e<<2&63]+"=")),nt.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(et,_e,tt,rt,nt){var it,at,ot=nt*8-rt-1,ct=(1<<ot)-1,ut=ct>>1,ft=-7,yt=tt?nt-1:0,bt=tt?-1:1,Et=et[_e+yt];for(yt+=bt,it=Et&(1<<-ft)-1,Et>>=-ft,ft+=ot;ft>0;it=it*256+et[_e+yt],yt+=bt,ft-=8);for(at=it&(1<<-ft)-1,it>>=-ft,ft+=rt;ft>0;at=at*256+et[_e+yt],yt+=bt,ft-=8);if(it===0)it=1-ut;else{if(it===ct)return at?NaN:(Et?-1:1)*(1/0);at=at+Math.pow(2,rt),it=it-ut}return(Et?-1:1)*at*Math.pow(2,it-rt)};ieee754.write=function(et,_e,tt,rt,nt,it){var at,ot,ct,ut=it*8-nt-1,ft=(1<<ut)-1,yt=ft>>1,bt=nt===23?Math.pow(2,-24)-Math.pow(2,-77):0,Et=rt?0:it-1,Ct=rt?1:-1,At=_e<0||_e===0&&1/_e<0?1:0;for(_e=Math.abs(_e),isNaN(_e)||_e===1/0?(ot=isNaN(_e)?1:0,at=ft):(at=Math.floor(Math.log(_e)/Math.LN2),_e*(ct=Math.pow(2,-at))<1&&(at--,ct*=2),at+yt>=1?_e+=bt/ct:_e+=bt*Math.pow(2,1-yt),_e*ct>=2&&(at++,ct/=2),at+yt>=ft?(ot=0,at=ft):at+yt>=1?(ot=(_e*ct-1)*Math.pow(2,nt),at=at+yt):(ot=_e*Math.pow(2,yt-1)*Math.pow(2,nt),at=0));nt>=8;et[tt+Et]=ot&255,Et+=Ct,ot/=256,nt-=8);for(at=at<<nt|ot,ut+=nt;ut>0;et[tt+Et]=at&255,Et+=Ct,at/=256,ut-=8);et[tt+Et-Ct]|=At*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(et){var _e=base64Js,tt=ieee754,rt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;et.Buffer=ot,et.SlowBuffer=$t,et.INSPECT_MAX_BYTES=50;var nt=2147483647;et.kMaxLength=nt,ot.TYPED_ARRAY_SUPPORT=it(),!ot.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{var Xt=new Uint8Array(1),Ft={foo:function(){return 42}};return Object.setPrototypeOf(Ft,Uint8Array.prototype),Object.setPrototypeOf(Xt,Ft),Xt.foo()===42}catch{return!1}}Object.defineProperty(ot.prototype,"parent",{enumerable:!0,get:function(){if(!!ot.isBuffer(this))return this.buffer}}),Object.defineProperty(ot.prototype,"offset",{enumerable:!0,get:function(){if(!!ot.isBuffer(this))return this.byteOffset}});function at(Xt){if(Xt>nt)throw new RangeError('The value "'+Xt+'" is invalid for option "size"');var Ft=new Uint8Array(Xt);return Object.setPrototypeOf(Ft,ot.prototype),Ft}function ot(Xt,Ft,Ut){if(typeof Xt=="number"){if(typeof Ft=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return yt(Xt)}return ct(Xt,Ft,Ut)}ot.poolSize=8192;function ct(Xt,Ft,Ut){if(typeof Xt=="string")return bt(Xt,Ft);if(ArrayBuffer.isView(Xt))return Ct(Xt);if(Xt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Xt);if(lr(Xt,ArrayBuffer)||Xt&&lr(Xt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lr(Xt,SharedArrayBuffer)||Xt&&lr(Xt.buffer,SharedArrayBuffer)))return At(Xt,Ft,Ut);if(typeof Xt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Yt=Xt.valueOf&&Xt.valueOf();if(Yt!=null&&Yt!==Xt)return ot.from(Yt,Ft,Ut);var rr=St(Xt);if(rr)return rr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Xt[Symbol.toPrimitive]=="function")return ot.from(Xt[Symbol.toPrimitive]("string"),Ft,Ut);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Xt)}ot.from=function(Xt,Ft,Ut){return ct(Xt,Ft,Ut)},Object.setPrototypeOf(ot.prototype,Uint8Array.prototype),Object.setPrototypeOf(ot,Uint8Array);function ut(Xt){if(typeof Xt!="number")throw new TypeError('"size" argument must be of type number');if(Xt<0)throw new RangeError('The value "'+Xt+'" is invalid for option "size"')}function ft(Xt,Ft,Ut){return ut(Xt),Xt<=0?at(Xt):Ft!==void 0?typeof Ut=="string"?at(Xt).fill(Ft,Ut):at(Xt).fill(Ft):at(Xt)}ot.alloc=function(Xt,Ft,Ut){return ft(Xt,Ft,Ut)};function yt(Xt){return ut(Xt),at(Xt<0?0:Tt(Xt)|0)}ot.allocUnsafe=function(Xt){return yt(Xt)},ot.allocUnsafeSlow=function(Xt){return yt(Xt)};function bt(Xt,Ft){if((typeof Ft!="string"||Ft==="")&&(Ft="utf8"),!ot.isEncoding(Ft))throw new TypeError("Unknown encoding: "+Ft);var Ut=kt(Xt,Ft)|0,Yt=at(Ut),rr=Yt.write(Xt,Ft);return rr!==Ut&&(Yt=Yt.slice(0,rr)),Yt}function Et(Xt){for(var Ft=Xt.length<0?0:Tt(Xt.length)|0,Ut=at(Ft),Yt=0;Yt<Ft;Yt+=1)Ut[Yt]=Xt[Yt]&255;return Ut}function Ct(Xt){if(lr(Xt,Uint8Array)){var Ft=new Uint8Array(Xt);return At(Ft.buffer,Ft.byteOffset,Ft.byteLength)}return Et(Xt)}function At(Xt,Ft,Ut){if(Ft<0||Xt.byteLength<Ft)throw new RangeError('"offset" is outside of buffer bounds');if(Xt.byteLength<Ft+(Ut||0))throw new RangeError('"length" is outside of buffer bounds');var Yt;return Ft===void 0&&Ut===void 0?Yt=new Uint8Array(Xt):Ut===void 0?Yt=new Uint8Array(Xt,Ft):Yt=new Uint8Array(Xt,Ft,Ut),Object.setPrototypeOf(Yt,ot.prototype),Yt}function St(Xt){if(ot.isBuffer(Xt)){var Ft=Tt(Xt.length)|0,Ut=at(Ft);return Ut.length===0||Xt.copy(Ut,0,0,Ft),Ut}if(Xt.length!==void 0)return typeof Xt.length!="number"||ir(Xt.length)?at(0):Et(Xt);if(Xt.type==="Buffer"&&Array.isArray(Xt.data))return Et(Xt.data)}function Tt(Xt){if(Xt>=nt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nt.toString(16)+" bytes");return Xt|0}function $t(Xt){return+Xt!=Xt&&(Xt=0),ot.alloc(+Xt)}ot.isBuffer=function(Ft){return Ft!=null&&Ft._isBuffer===!0&&Ft!==ot.prototype},ot.compare=function(Ft,Ut){if(lr(Ft,Uint8Array)&&(Ft=ot.from(Ft,Ft.offset,Ft.byteLength)),lr(Ut,Uint8Array)&&(Ut=ot.from(Ut,Ut.offset,Ut.byteLength)),!ot.isBuffer(Ft)||!ot.isBuffer(Ut))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ft===Ut)return 0;for(var Yt=Ft.length,rr=Ut.length,ar=0,br=Math.min(Yt,rr);ar<br;++ar)if(Ft[ar]!==Ut[ar]){Yt=Ft[ar],rr=Ut[ar];break}return Yt<rr?-1:rr<Yt?1:0},ot.isEncoding=function(Ft){switch(String(Ft).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(Ft,Ut){if(!Array.isArray(Ft))throw new TypeError('"list" argument must be an Array of Buffers');if(Ft.length===0)return ot.alloc(0);var Yt;if(Ut===void 0)for(Ut=0,Yt=0;Yt<Ft.length;++Yt)Ut+=Ft[Yt].length;var rr=ot.allocUnsafe(Ut),ar=0;for(Yt=0;Yt<Ft.length;++Yt){var br=Ft[Yt];if(lr(br,Uint8Array))ar+br.length>rr.length?ot.from(br).copy(rr,ar):Uint8Array.prototype.set.call(rr,br,ar);else if(ot.isBuffer(br))br.copy(rr,ar);else throw new TypeError('"list" argument must be an Array of Buffers');ar+=br.length}return rr};function kt(Xt,Ft){if(ot.isBuffer(Xt))return Xt.length;if(ArrayBuffer.isView(Xt)||lr(Xt,ArrayBuffer))return Xt.byteLength;if(typeof Xt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Xt);var Ut=Xt.length,Yt=arguments.length>2&&arguments[2]===!0;if(!Yt&&Ut===0)return 0;for(var rr=!1;;)switch(Ft){case"ascii":case"latin1":case"binary":return Ut;case"utf8":case"utf-8":return Gt(Xt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ut*2;case"hex":return Ut>>>1;case"base64":return Vt(Xt).length;default:if(rr)return Yt?-1:Gt(Xt).length;Ft=(""+Ft).toLowerCase(),rr=!0}}ot.byteLength=kt;function Pt(Xt,Ft,Ut){var Yt=!1;if((Ft===void 0||Ft<0)&&(Ft=0),Ft>this.length||((Ut===void 0||Ut>this.length)&&(Ut=this.length),Ut<=0)||(Ut>>>=0,Ft>>>=0,Ut<=Ft))return"";for(Xt||(Xt="utf8");;)switch(Xt){case"hex":return vt(this,Ft,Ut);case"utf8":case"utf-8":return st(this,Ft,Ut);case"ascii":return _t(this,Ft,Ut);case"latin1":case"binary":return xt(this,Ft,Ut);case"base64":return ht(this,Ft,Ut);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mt(this,Ft,Ut);default:if(Yt)throw new TypeError("Unknown encoding: "+Xt);Xt=(Xt+"").toLowerCase(),Yt=!0}}ot.prototype._isBuffer=!0;function Ot(Xt,Ft,Ut){var Yt=Xt[Ft];Xt[Ft]=Xt[Ut],Xt[Ut]=Yt}ot.prototype.swap16=function(){var Ft=this.length;if(Ft%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ut=0;Ut<Ft;Ut+=2)Ot(this,Ut,Ut+1);return this},ot.prototype.swap32=function(){var Ft=this.length;if(Ft%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ut=0;Ut<Ft;Ut+=4)Ot(this,Ut,Ut+3),Ot(this,Ut+1,Ut+2);return this},ot.prototype.swap64=function(){var Ft=this.length;if(Ft%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ut=0;Ut<Ft;Ut+=8)Ot(this,Ut,Ut+7),Ot(this,Ut+1,Ut+6),Ot(this,Ut+2,Ut+5),Ot(this,Ut+3,Ut+4);return this},ot.prototype.toString=function(){var Ft=this.length;return Ft===0?"":arguments.length===0?st(this,0,Ft):Pt.apply(this,arguments)},ot.prototype.toLocaleString=ot.prototype.toString,ot.prototype.equals=function(Ft){if(!ot.isBuffer(Ft))throw new TypeError("Argument must be a Buffer");return this===Ft?!0:ot.compare(this,Ft)===0},ot.prototype.inspect=function(){var Ft="",Ut=et.INSPECT_MAX_BYTES;return Ft=this.toString("hex",0,Ut).replace(/(.{2})/g,"$1 ").trim(),this.length>Ut&&(Ft+=" ... "),"<Buffer "+Ft+">"},rt&&(ot.prototype[rt]=ot.prototype.inspect),ot.prototype.compare=function(Ft,Ut,Yt,rr,ar){if(lr(Ft,Uint8Array)&&(Ft=ot.from(Ft,Ft.offset,Ft.byteLength)),!ot.isBuffer(Ft))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ft);if(Ut===void 0&&(Ut=0),Yt===void 0&&(Yt=Ft?Ft.length:0),rr===void 0&&(rr=0),ar===void 0&&(ar=this.length),Ut<0||Yt>Ft.length||rr<0||ar>this.length)throw new RangeError("out of range index");if(rr>=ar&&Ut>=Yt)return 0;if(rr>=ar)return-1;if(Ut>=Yt)return 1;if(Ut>>>=0,Yt>>>=0,rr>>>=0,ar>>>=0,this===Ft)return 0;for(var br=ar-rr,dr=Yt-Ut,pr=Math.min(br,dr),Lr=this.slice(rr,ar),mr=Ft.slice(Ut,Yt),zt=0;zt<pr;++zt)if(Lr[zt]!==mr[zt]){br=Lr[zt],dr=mr[zt];break}return br<dr?-1:dr<br?1:0};function Ht(Xt,Ft,Ut,Yt,rr){if(Xt.length===0)return-1;if(typeof Ut=="string"?(Yt=Ut,Ut=0):Ut>2147483647?Ut=2147483647:Ut<-2147483648&&(Ut=-2147483648),Ut=+Ut,ir(Ut)&&(Ut=rr?0:Xt.length-1),Ut<0&&(Ut=Xt.length+Ut),Ut>=Xt.length){if(rr)return-1;Ut=Xt.length-1}else if(Ut<0)if(rr)Ut=0;else return-1;if(typeof Ft=="string"&&(Ft=ot.from(Ft,Yt)),ot.isBuffer(Ft))return Ft.length===0?-1:qt(Xt,Ft,Ut,Yt,rr);if(typeof Ft=="number")return Ft=Ft&255,typeof Uint8Array.prototype.indexOf=="function"?rr?Uint8Array.prototype.indexOf.call(Xt,Ft,Ut):Uint8Array.prototype.lastIndexOf.call(Xt,Ft,Ut):qt(Xt,[Ft],Ut,Yt,rr);throw new TypeError("val must be string, number or Buffer")}function qt(Xt,Ft,Ut,Yt,rr){var ar=1,br=Xt.length,dr=Ft.length;if(Yt!==void 0&&(Yt=String(Yt).toLowerCase(),Yt==="ucs2"||Yt==="ucs-2"||Yt==="utf16le"||Yt==="utf-16le")){if(Xt.length<2||Ft.length<2)return-1;ar=2,br/=2,dr/=2,Ut/=2}function pr(Bt,Jt){return ar===1?Bt[Jt]:Bt.readUInt16BE(Jt*ar)}var Lr;if(rr){var mr=-1;for(Lr=Ut;Lr<br;Lr++)if(pr(Xt,Lr)===pr(Ft,mr===-1?0:Lr-mr)){if(mr===-1&&(mr=Lr),Lr-mr+1===dr)return mr*ar}else mr!==-1&&(Lr-=Lr-mr),mr=-1}else for(Ut+dr>br&&(Ut=br-dr),Lr=Ut;Lr>=0;Lr--){for(var zt=!0,Lt=0;Lt<dr;Lt++)if(pr(Xt,Lr+Lt)!==pr(Ft,Lt)){zt=!1;break}if(zt)return Lr}return-1}ot.prototype.includes=function(Ft,Ut,Yt){return this.indexOf(Ft,Ut,Yt)!==-1},ot.prototype.indexOf=function(Ft,Ut,Yt){return Ht(this,Ft,Ut,Yt,!0)},ot.prototype.lastIndexOf=function(Ft,Ut,Yt){return Ht(this,Ft,Ut,Yt,!1)};function Zt(Xt,Ft,Ut,Yt){Ut=Number(Ut)||0;var rr=Xt.length-Ut;Yt?(Yt=Number(Yt),Yt>rr&&(Yt=rr)):Yt=rr;var ar=Ft.length;Yt>ar/2&&(Yt=ar/2);for(var br=0;br<Yt;++br){var dr=parseInt(Ft.substr(br*2,2),16);if(ir(dr))return br;Xt[Ut+br]=dr}return br}function tr(Xt,Ft,Ut,Yt){return Kt(Gt(Ft,Xt.length-Ut),Xt,Ut,Yt)}function Dt(Xt,Ft,Ut,Yt){return Kt(er(Ft),Xt,Ut,Yt)}function Rt(Xt,Ft,Ut,Yt){return Kt(Vt(Ft),Xt,Ut,Yt)}function Nt(Xt,Ft,Ut,Yt){return Kt(hr(Ft,Xt.length-Ut),Xt,Ut,Yt)}ot.prototype.write=function(Ft,Ut,Yt,rr){if(Ut===void 0)rr="utf8",Yt=this.length,Ut=0;else if(Yt===void 0&&typeof Ut=="string")rr=Ut,Yt=this.length,Ut=0;else if(isFinite(Ut))Ut=Ut>>>0,isFinite(Yt)?(Yt=Yt>>>0,rr===void 0&&(rr="utf8")):(rr=Yt,Yt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ar=this.length-Ut;if((Yt===void 0||Yt>ar)&&(Yt=ar),Ft.length>0&&(Yt<0||Ut<0)||Ut>this.length)throw new RangeError("Attempt to write outside buffer bounds");rr||(rr="utf8");for(var br=!1;;)switch(rr){case"hex":return Zt(this,Ft,Ut,Yt);case"utf8":case"utf-8":return tr(this,Ft,Ut,Yt);case"ascii":case"latin1":case"binary":return Dt(this,Ft,Ut,Yt);case"base64":return Rt(this,Ft,Ut,Yt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nt(this,Ft,Ut,Yt);default:if(br)throw new TypeError("Unknown encoding: "+rr);rr=(""+rr).toLowerCase(),br=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ht(Xt,Ft,Ut){return Ft===0&&Ut===Xt.length?_e.fromByteArray(Xt):_e.fromByteArray(Xt.slice(Ft,Ut))}function st(Xt,Ft,Ut){Ut=Math.min(Xt.length,Ut);for(var Yt=[],rr=Ft;rr<Ut;){var ar=Xt[rr],br=null,dr=ar>239?4:ar>223?3:ar>191?2:1;if(rr+dr<=Ut){var pr,Lr,mr,zt;switch(dr){case 1:ar<128&&(br=ar);break;case 2:pr=Xt[rr+1],(pr&192)===128&&(zt=(ar&31)<<6|pr&63,zt>127&&(br=zt));break;case 3:pr=Xt[rr+1],Lr=Xt[rr+2],(pr&192)===128&&(Lr&192)===128&&(zt=(ar&15)<<12|(pr&63)<<6|Lr&63,zt>2047&&(zt<55296||zt>57343)&&(br=zt));break;case 4:pr=Xt[rr+1],Lr=Xt[rr+2],mr=Xt[rr+3],(pr&192)===128&&(Lr&192)===128&&(mr&192)===128&&(zt=(ar&15)<<18|(pr&63)<<12|(Lr&63)<<6|mr&63,zt>65535&&zt<1114112&&(br=zt))}}br===null?(br=65533,dr=1):br>65535&&(br-=65536,Yt.push(br>>>10&1023|55296),br=56320|br&1023),Yt.push(br),rr+=dr}return mt(Yt)}var dt=4096;function mt(Xt){var Ft=Xt.length;if(Ft<=dt)return String.fromCharCode.apply(String,Xt);for(var Ut="",Yt=0;Yt<Ft;)Ut+=String.fromCharCode.apply(String,Xt.slice(Yt,Yt+=dt));return Ut}function _t(Xt,Ft,Ut){var Yt="";Ut=Math.min(Xt.length,Ut);for(var rr=Ft;rr<Ut;++rr)Yt+=String.fromCharCode(Xt[rr]&127);return Yt}function xt(Xt,Ft,Ut){var Yt="";Ut=Math.min(Xt.length,Ut);for(var rr=Ft;rr<Ut;++rr)Yt+=String.fromCharCode(Xt[rr]);return Yt}function vt(Xt,Ft,Ut){var Yt=Xt.length;(!Ft||Ft<0)&&(Ft=0),(!Ut||Ut<0||Ut>Yt)&&(Ut=Yt);for(var rr="",ar=Ft;ar<Ut;++ar)rr+=ur[Xt[ar]];return rr}function Mt(Xt,Ft,Ut){for(var Yt=Xt.slice(Ft,Ut),rr="",ar=0;ar<Yt.length-1;ar+=2)rr+=String.fromCharCode(Yt[ar]+Yt[ar+1]*256);return rr}ot.prototype.slice=function(Ft,Ut){var Yt=this.length;Ft=~~Ft,Ut=Ut===void 0?Yt:~~Ut,Ft<0?(Ft+=Yt,Ft<0&&(Ft=0)):Ft>Yt&&(Ft=Yt),Ut<0?(Ut+=Yt,Ut<0&&(Ut=0)):Ut>Yt&&(Ut=Yt),Ut<Ft&&(Ut=Ft);var rr=this.subarray(Ft,Ut);return Object.setPrototypeOf(rr,ot.prototype),rr};function gt(Xt,Ft,Ut){if(Xt%1!==0||Xt<0)throw new RangeError("offset is not uint");if(Xt+Ft>Ut)throw new RangeError("Trying to access beyond buffer length")}ot.prototype.readUintLE=ot.prototype.readUIntLE=function(Ft,Ut,Yt){Ft=Ft>>>0,Ut=Ut>>>0,Yt||gt(Ft,Ut,this.length);for(var rr=this[Ft],ar=1,br=0;++br<Ut&&(ar*=256);)rr+=this[Ft+br]*ar;return rr},ot.prototype.readUintBE=ot.prototype.readUIntBE=function(Ft,Ut,Yt){Ft=Ft>>>0,Ut=Ut>>>0,Yt||gt(Ft,Ut,this.length);for(var rr=this[Ft+--Ut],ar=1;Ut>0&&(ar*=256);)rr+=this[Ft+--Ut]*ar;return rr},ot.prototype.readUint8=ot.prototype.readUInt8=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,1,this.length),this[Ft]},ot.prototype.readUint16LE=ot.prototype.readUInt16LE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,2,this.length),this[Ft]|this[Ft+1]<<8},ot.prototype.readUint16BE=ot.prototype.readUInt16BE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,2,this.length),this[Ft]<<8|this[Ft+1]},ot.prototype.readUint32LE=ot.prototype.readUInt32LE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,4,this.length),(this[Ft]|this[Ft+1]<<8|this[Ft+2]<<16)+this[Ft+3]*16777216},ot.prototype.readUint32BE=ot.prototype.readUInt32BE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,4,this.length),this[Ft]*16777216+(this[Ft+1]<<16|this[Ft+2]<<8|this[Ft+3])},ot.prototype.readIntLE=function(Ft,Ut,Yt){Ft=Ft>>>0,Ut=Ut>>>0,Yt||gt(Ft,Ut,this.length);for(var rr=this[Ft],ar=1,br=0;++br<Ut&&(ar*=256);)rr+=this[Ft+br]*ar;return ar*=128,rr>=ar&&(rr-=Math.pow(2,8*Ut)),rr},ot.prototype.readIntBE=function(Ft,Ut,Yt){Ft=Ft>>>0,Ut=Ut>>>0,Yt||gt(Ft,Ut,this.length);for(var rr=Ut,ar=1,br=this[Ft+--rr];rr>0&&(ar*=256);)br+=this[Ft+--rr]*ar;return ar*=128,br>=ar&&(br-=Math.pow(2,8*Ut)),br},ot.prototype.readInt8=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,1,this.length),this[Ft]&128?(255-this[Ft]+1)*-1:this[Ft]},ot.prototype.readInt16LE=function(Ft,Ut){Ft=Ft>>>0,Ut||gt(Ft,2,this.length);var Yt=this[Ft]|this[Ft+1]<<8;return Yt&32768?Yt|4294901760:Yt},ot.prototype.readInt16BE=function(Ft,Ut){Ft=Ft>>>0,Ut||gt(Ft,2,this.length);var Yt=this[Ft+1]|this[Ft]<<8;return Yt&32768?Yt|4294901760:Yt},ot.prototype.readInt32LE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,4,this.length),this[Ft]|this[Ft+1]<<8|this[Ft+2]<<16|this[Ft+3]<<24},ot.prototype.readInt32BE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,4,this.length),this[Ft]<<24|this[Ft+1]<<16|this[Ft+2]<<8|this[Ft+3]},ot.prototype.readFloatLE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,4,this.length),tt.read(this,Ft,!0,23,4)},ot.prototype.readFloatBE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,4,this.length),tt.read(this,Ft,!1,23,4)},ot.prototype.readDoubleLE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,8,this.length),tt.read(this,Ft,!0,52,8)},ot.prototype.readDoubleBE=function(Ft,Ut){return Ft=Ft>>>0,Ut||gt(Ft,8,this.length),tt.read(this,Ft,!1,52,8)};function lt(Xt,Ft,Ut,Yt,rr,ar){if(!ot.isBuffer(Xt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ft>rr||Ft<ar)throw new RangeError('"value" argument is out of bounds');if(Ut+Yt>Xt.length)throw new RangeError("Index out of range")}ot.prototype.writeUintLE=ot.prototype.writeUIntLE=function(Ft,Ut,Yt,rr){if(Ft=+Ft,Ut=Ut>>>0,Yt=Yt>>>0,!rr){var ar=Math.pow(2,8*Yt)-1;lt(this,Ft,Ut,Yt,ar,0)}var br=1,dr=0;for(this[Ut]=Ft&255;++dr<Yt&&(br*=256);)this[Ut+dr]=Ft/br&255;return Ut+Yt},ot.prototype.writeUintBE=ot.prototype.writeUIntBE=function(Ft,Ut,Yt,rr){if(Ft=+Ft,Ut=Ut>>>0,Yt=Yt>>>0,!rr){var ar=Math.pow(2,8*Yt)-1;lt(this,Ft,Ut,Yt,ar,0)}var br=Yt-1,dr=1;for(this[Ut+br]=Ft&255;--br>=0&&(dr*=256);)this[Ut+br]=Ft/dr&255;return Ut+Yt},ot.prototype.writeUint8=ot.prototype.writeUInt8=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,1,255,0),this[Ut]=Ft&255,Ut+1},ot.prototype.writeUint16LE=ot.prototype.writeUInt16LE=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,2,65535,0),this[Ut]=Ft&255,this[Ut+1]=Ft>>>8,Ut+2},ot.prototype.writeUint16BE=ot.prototype.writeUInt16BE=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,2,65535,0),this[Ut]=Ft>>>8,this[Ut+1]=Ft&255,Ut+2},ot.prototype.writeUint32LE=ot.prototype.writeUInt32LE=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,4,4294967295,0),this[Ut+3]=Ft>>>24,this[Ut+2]=Ft>>>16,this[Ut+1]=Ft>>>8,this[Ut]=Ft&255,Ut+4},ot.prototype.writeUint32BE=ot.prototype.writeUInt32BE=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,4,4294967295,0),this[Ut]=Ft>>>24,this[Ut+1]=Ft>>>16,this[Ut+2]=Ft>>>8,this[Ut+3]=Ft&255,Ut+4},ot.prototype.writeIntLE=function(Ft,Ut,Yt,rr){if(Ft=+Ft,Ut=Ut>>>0,!rr){var ar=Math.pow(2,8*Yt-1);lt(this,Ft,Ut,Yt,ar-1,-ar)}var br=0,dr=1,pr=0;for(this[Ut]=Ft&255;++br<Yt&&(dr*=256);)Ft<0&&pr===0&&this[Ut+br-1]!==0&&(pr=1),this[Ut+br]=(Ft/dr>>0)-pr&255;return Ut+Yt},ot.prototype.writeIntBE=function(Ft,Ut,Yt,rr){if(Ft=+Ft,Ut=Ut>>>0,!rr){var ar=Math.pow(2,8*Yt-1);lt(this,Ft,Ut,Yt,ar-1,-ar)}var br=Yt-1,dr=1,pr=0;for(this[Ut+br]=Ft&255;--br>=0&&(dr*=256);)Ft<0&&pr===0&&this[Ut+br+1]!==0&&(pr=1),this[Ut+br]=(Ft/dr>>0)-pr&255;return Ut+Yt},ot.prototype.writeInt8=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,1,127,-128),Ft<0&&(Ft=255+Ft+1),this[Ut]=Ft&255,Ut+1},ot.prototype.writeInt16LE=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,2,32767,-32768),this[Ut]=Ft&255,this[Ut+1]=Ft>>>8,Ut+2},ot.prototype.writeInt16BE=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,2,32767,-32768),this[Ut]=Ft>>>8,this[Ut+1]=Ft&255,Ut+2},ot.prototype.writeInt32LE=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,4,2147483647,-2147483648),this[Ut]=Ft&255,this[Ut+1]=Ft>>>8,this[Ut+2]=Ft>>>16,this[Ut+3]=Ft>>>24,Ut+4},ot.prototype.writeInt32BE=function(Ft,Ut,Yt){return Ft=+Ft,Ut=Ut>>>0,Yt||lt(this,Ft,Ut,4,2147483647,-2147483648),Ft<0&&(Ft=4294967295+Ft+1),this[Ut]=Ft>>>24,this[Ut+1]=Ft>>>16,this[Ut+2]=Ft>>>8,this[Ut+3]=Ft&255,Ut+4};function wt(Xt,Ft,Ut,Yt,rr,ar){if(Ut+Yt>Xt.length)throw new RangeError("Index out of range");if(Ut<0)throw new RangeError("Index out of range")}function jt(Xt,Ft,Ut,Yt,rr){return Ft=+Ft,Ut=Ut>>>0,rr||wt(Xt,Ft,Ut,4),tt.write(Xt,Ft,Ut,Yt,23,4),Ut+4}ot.prototype.writeFloatLE=function(Ft,Ut,Yt){return jt(this,Ft,Ut,!0,Yt)},ot.prototype.writeFloatBE=function(Ft,Ut,Yt){return jt(this,Ft,Ut,!1,Yt)};function It(Xt,Ft,Ut,Yt,rr){return Ft=+Ft,Ut=Ut>>>0,rr||wt(Xt,Ft,Ut,8),tt.write(Xt,Ft,Ut,Yt,52,8),Ut+8}ot.prototype.writeDoubleLE=function(Ft,Ut,Yt){return It(this,Ft,Ut,!0,Yt)},ot.prototype.writeDoubleBE=function(Ft,Ut,Yt){return It(this,Ft,Ut,!1,Yt)},ot.prototype.copy=function(Ft,Ut,Yt,rr){if(!ot.isBuffer(Ft))throw new TypeError("argument should be a Buffer");if(Yt||(Yt=0),!rr&&rr!==0&&(rr=this.length),Ut>=Ft.length&&(Ut=Ft.length),Ut||(Ut=0),rr>0&&rr<Yt&&(rr=Yt),rr===Yt||Ft.length===0||this.length===0)return 0;if(Ut<0)throw new RangeError("targetStart out of bounds");if(Yt<0||Yt>=this.length)throw new RangeError("Index out of range");if(rr<0)throw new RangeError("sourceEnd out of bounds");rr>this.length&&(rr=this.length),Ft.length-Ut<rr-Yt&&(rr=Ft.length-Ut+Yt);var ar=rr-Yt;return this===Ft&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ut,Yt,rr):Uint8Array.prototype.set.call(Ft,this.subarray(Yt,rr),Ut),ar},ot.prototype.fill=function(Ft,Ut,Yt,rr){if(typeof Ft=="string"){if(typeof Ut=="string"?(rr=Ut,Ut=0,Yt=this.length):typeof Yt=="string"&&(rr=Yt,Yt=this.length),rr!==void 0&&typeof rr!="string")throw new TypeError("encoding must be a string");if(typeof rr=="string"&&!ot.isEncoding(rr))throw new TypeError("Unknown encoding: "+rr);if(Ft.length===1){var ar=Ft.charCodeAt(0);(rr==="utf8"&&ar<128||rr==="latin1")&&(Ft=ar)}}else typeof Ft=="number"?Ft=Ft&255:typeof Ft=="boolean"&&(Ft=Number(Ft));if(Ut<0||this.length<Ut||this.length<Yt)throw new RangeError("Out of range index");if(Yt<=Ut)return this;Ut=Ut>>>0,Yt=Yt===void 0?this.length:Yt>>>0,Ft||(Ft=0);var br;if(typeof Ft=="number")for(br=Ut;br<Yt;++br)this[br]=Ft;else{var dr=ot.isBuffer(Ft)?Ft:ot.from(Ft,rr),pr=dr.length;if(pr===0)throw new TypeError('The value "'+Ft+'" is invalid for argument "value"');for(br=0;br<Yt-Ut;++br)this[br+Ut]=dr[br%pr]}return this};var Wt=/[^+/0-9A-Za-z-_]/g;function Qt(Xt){if(Xt=Xt.split("=")[0],Xt=Xt.trim().replace(Wt,""),Xt.length<2)return"";for(;Xt.length%4!==0;)Xt=Xt+"=";return Xt}function Gt(Xt,Ft){Ft=Ft||1/0;for(var Ut,Yt=Xt.length,rr=null,ar=[],br=0;br<Yt;++br){if(Ut=Xt.charCodeAt(br),Ut>55295&&Ut<57344){if(!rr){if(Ut>56319){(Ft-=3)>-1&&ar.push(239,191,189);continue}else if(br+1===Yt){(Ft-=3)>-1&&ar.push(239,191,189);continue}rr=Ut;continue}if(Ut<56320){(Ft-=3)>-1&&ar.push(239,191,189),rr=Ut;continue}Ut=(rr-55296<<10|Ut-56320)+65536}else rr&&(Ft-=3)>-1&&ar.push(239,191,189);if(rr=null,Ut<128){if((Ft-=1)<0)break;ar.push(Ut)}else if(Ut<2048){if((Ft-=2)<0)break;ar.push(Ut>>6|192,Ut&63|128)}else if(Ut<65536){if((Ft-=3)<0)break;ar.push(Ut>>12|224,Ut>>6&63|128,Ut&63|128)}else if(Ut<1114112){if((Ft-=4)<0)break;ar.push(Ut>>18|240,Ut>>12&63|128,Ut>>6&63|128,Ut&63|128)}else throw new Error("Invalid code point")}return ar}function er(Xt){for(var Ft=[],Ut=0;Ut<Xt.length;++Ut)Ft.push(Xt.charCodeAt(Ut)&255);return Ft}function hr(Xt,Ft){for(var Ut,Yt,rr,ar=[],br=0;br<Xt.length&&!((Ft-=2)<0);++br)Ut=Xt.charCodeAt(br),Yt=Ut>>8,rr=Ut%256,ar.push(rr),ar.push(Yt);return ar}function Vt(Xt){return _e.toByteArray(Qt(Xt))}function Kt(Xt,Ft,Ut,Yt){for(var rr=0;rr<Yt&&!(rr+Ut>=Ft.length||rr>=Xt.length);++rr)Ft[rr+Ut]=Xt[rr];return rr}function lr(Xt,Ft){return Xt instanceof Ft||Xt!=null&&Xt.constructor!=null&&Xt.constructor.name!=null&&Xt.constructor.name===Ft.name}function ir(Xt){return Xt!==Xt}var ur=function(){for(var Xt="0123456789abcdef",Ft=new Array(256),Ut=0;Ut<16;++Ut)for(var Yt=Ut*16,rr=0;rr<16;++rr)Ft[Yt+rr]=Xt[Ut]+Xt[rr];return Ft}()})(buffer$2);var bufferReverse=function(_e){for(var tt=new Buffer(_e.length),rt=0,nt=_e.length-1;rt<=nt;++rt,--nt)tt[rt]=_e[nt],tt[nt]=_e[rt];return tt},sha256$1={exports:{}},core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(et,_e){(function(tt,rt){et.exports=rt()})(commonjsGlobal,function(){var tt=tt||function(rt,nt){var it=Object.create||function(){function St(){}return function(Tt){var $t;return St.prototype=Tt,$t=new St,St.prototype=null,$t}}(),at={},ot=at.lib={},ct=ot.Base=function(){return{extend:function(St){var Tt=it(this);return St&&Tt.mixIn(St),(!Tt.hasOwnProperty("init")||this.init===Tt.init)&&(Tt.init=function(){Tt.$super.init.apply(this,arguments)}),Tt.init.prototype=Tt,Tt.$super=this,Tt},create:function(){var St=this.extend();return St.init.apply(St,arguments),St},init:function(){},mixIn:function(St){for(var Tt in St)St.hasOwnProperty(Tt)&&(this[Tt]=St[Tt]);St.hasOwnProperty("toString")&&(this.toString=St.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),ut=ot.WordArray=ct.extend({init:function(St,Tt){St=this.words=St||[],Tt!=nt?this.sigBytes=Tt:this.sigBytes=St.length*4},toString:function(St){return(St||yt).stringify(this)},concat:function(St){var Tt=this.words,$t=St.words,kt=this.sigBytes,Pt=St.sigBytes;if(this.clamp(),kt%4)for(var Ot=0;Ot<Pt;Ot++){var Ht=$t[Ot>>>2]>>>24-Ot%4*8&255;Tt[kt+Ot>>>2]|=Ht<<24-(kt+Ot)%4*8}else for(var Ot=0;Ot<Pt;Ot+=4)Tt[kt+Ot>>>2]=$t[Ot>>>2];return this.sigBytes+=Pt,this},clamp:function(){var St=this.words,Tt=this.sigBytes;St[Tt>>>2]&=4294967295<<32-Tt%4*8,St.length=rt.ceil(Tt/4)},clone:function(){var St=ct.clone.call(this);return St.words=this.words.slice(0),St},random:function(St){for(var Tt=[],$t=function(qt){var qt=qt,Zt=987654321,tr=4294967295;return function(){Zt=36969*(Zt&65535)+(Zt>>16)&tr,qt=18e3*(qt&65535)+(qt>>16)&tr;var Dt=(Zt<<16)+qt&tr;return Dt/=4294967296,Dt+=.5,Dt*(rt.random()>.5?1:-1)}},kt=0,Pt;kt<St;kt+=4){var Ot=$t((Pt||rt.random())*4294967296);Pt=Ot()*987654071,Tt.push(Ot()*4294967296|0)}return new ut.init(Tt,St)}}),ft=at.enc={},yt=ft.Hex={stringify:function(St){for(var Tt=St.words,$t=St.sigBytes,kt=[],Pt=0;Pt<$t;Pt++){var Ot=Tt[Pt>>>2]>>>24-Pt%4*8&255;kt.push((Ot>>>4).toString(16)),kt.push((Ot&15).toString(16))}return kt.join("")},parse:function(St){for(var Tt=St.length,$t=[],kt=0;kt<Tt;kt+=2)$t[kt>>>3]|=parseInt(St.substr(kt,2),16)<<24-kt%8*4;return new ut.init($t,Tt/2)}},bt=ft.Latin1={stringify:function(St){for(var Tt=St.words,$t=St.sigBytes,kt=[],Pt=0;Pt<$t;Pt++){var Ot=Tt[Pt>>>2]>>>24-Pt%4*8&255;kt.push(String.fromCharCode(Ot))}return kt.join("")},parse:function(St){for(var Tt=St.length,$t=[],kt=0;kt<Tt;kt++)$t[kt>>>2]|=(St.charCodeAt(kt)&255)<<24-kt%4*8;return new ut.init($t,Tt)}},Et=ft.Utf8={stringify:function(St){try{return decodeURIComponent(escape(bt.stringify(St)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(St){return bt.parse(unescape(encodeURIComponent(St)))}},Ct=ot.BufferedBlockAlgorithm=ct.extend({reset:function(){this._data=new ut.init,this._nDataBytes=0},_append:function(St){typeof St=="string"&&(St=Et.parse(St)),this._data.concat(St),this._nDataBytes+=St.sigBytes},_process:function(St){var Tt=this._data,$t=Tt.words,kt=Tt.sigBytes,Pt=this.blockSize,Ot=Pt*4,Ht=kt/Ot;St?Ht=rt.ceil(Ht):Ht=rt.max((Ht|0)-this._minBufferSize,0);var qt=Ht*Pt,Zt=rt.min(qt*4,kt);if(qt){for(var tr=0;tr<qt;tr+=Pt)this._doProcessBlock($t,tr);var Dt=$t.splice(0,qt);Tt.sigBytes-=Zt}return new ut.init(Dt,Zt)},clone:function(){var St=ct.clone.call(this);return St._data=this._data.clone(),St},_minBufferSize:0});ot.Hasher=Ct.extend({cfg:ct.extend(),init:function(St){this.cfg=this.cfg.extend(St),this.reset()},reset:function(){Ct.reset.call(this),this._doReset()},update:function(St){return this._append(St),this._process(),this},finalize:function(St){St&&this._append(St);var Tt=this._doFinalize();return Tt},blockSize:16,_createHelper:function(St){return function(Tt,$t){return new St.init($t).finalize(Tt)}},_createHmacHelper:function(St){return function(Tt,$t){return new At.HMAC.init(St,$t).finalize(Tt)}}});var At=at.algo={};return at}(Math);return tt})}(core)),core.exports}(function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,ot=it.Hasher,ct=nt.algo,ut=[],ft=[];(function(){function Et(Tt){for(var $t=rt.sqrt(Tt),kt=2;kt<=$t;kt++)if(!(Tt%kt))return!1;return!0}function Ct(Tt){return(Tt-(Tt|0))*4294967296|0}for(var At=2,St=0;St<64;)Et(At)&&(St<8&&(ut[St]=Ct(rt.pow(At,1/2))),ft[St]=Ct(rt.pow(At,1/3)),St++),At++})();var yt=[],bt=ct.SHA256=ot.extend({_doReset:function(){this._hash=new at.init(ut.slice(0))},_doProcessBlock:function(Et,Ct){for(var At=this._hash.words,St=At[0],Tt=At[1],$t=At[2],kt=At[3],Pt=At[4],Ot=At[5],Ht=At[6],qt=At[7],Zt=0;Zt<64;Zt++){if(Zt<16)yt[Zt]=Et[Ct+Zt]|0;else{var tr=yt[Zt-15],Dt=(tr<<25|tr>>>7)^(tr<<14|tr>>>18)^tr>>>3,Rt=yt[Zt-2],Nt=(Rt<<15|Rt>>>17)^(Rt<<13|Rt>>>19)^Rt>>>10;yt[Zt]=Dt+yt[Zt-7]+Nt+yt[Zt-16]}var ht=Pt&Ot^~Pt&Ht,st=St&Tt^St&$t^Tt&$t,dt=(St<<30|St>>>2)^(St<<19|St>>>13)^(St<<10|St>>>22),mt=(Pt<<26|Pt>>>6)^(Pt<<21|Pt>>>11)^(Pt<<7|Pt>>>25),_t=qt+mt+ht+ft[Zt]+yt[Zt],xt=dt+st;qt=Ht,Ht=Ot,Ot=Pt,Pt=kt+_t|0,kt=$t,$t=Tt,Tt=St,St=_t+xt|0}At[0]=At[0]+St|0,At[1]=At[1]+Tt|0,At[2]=At[2]+$t|0,At[3]=At[3]+kt|0,At[4]=At[4]+Pt|0,At[5]=At[5]+Ot|0,At[6]=At[6]+Ht|0,At[7]=At[7]+qt|0},_doFinalize:function(){var Et=this._data,Ct=Et.words,At=this._nDataBytes*8,St=Et.sigBytes*8;return Ct[St>>>5]|=128<<24-St%32,Ct[(St+64>>>9<<4)+14]=rt.floor(At/4294967296),Ct[(St+64>>>9<<4)+15]=At,Et.sigBytes=Ct.length*4,this._process(),this._hash},clone:function(){var Et=ot.clone.call(this);return Et._hash=this._hash.clone(),Et}});nt.SHA256=ot._createHelper(bt),nt.HmacSHA256=ot._createHmacHelper(bt)}(Math),tt.SHA256})})(sha256$1);var treeify={exports:{}};(function(et,_e){(function(tt,rt){et.exports=rt()})(commonjsGlobal,function(){function tt(at,ot){var ct=ot?"\u2514":"\u251C";return at?ct+="\u2500 ":ct+="\u2500\u2500\u2510",ct}function rt(at,ot){var ct=[];for(var ut in at)!at.hasOwnProperty(ut)||ot&&typeof at[ut]=="function"||ct.push(ut);return ct}function nt(at,ot,ct,ut,ft,yt,bt){var Et="",Ct=0,At,St,Tt=ut.slice(0);if(Tt.push([ot,ct])&&ut.length>0&&(ut.forEach(function(kt,Pt){Pt>0&&(Et+=(kt[1]?" ":"\u2502")+"  "),!St&&kt[0]===ot&&(St=!0)}),Et+=tt(at,ct)+at,ft&&(typeof ot!="object"||ot instanceof Date)&&(Et+=": "+ot),St&&(Et+=" (circular ref.)"),bt(Et)),!St&&typeof ot=="object"){var $t=rt(ot,yt);$t.forEach(function(kt){At=++Ct===$t.length,nt(kt,ot[kt],At,Tt,ft,yt,bt)})}}var it={};return it.asLines=function(at,ot,ct,ut){var ft=typeof ct!="function"?ct:!1;nt(".",at,!1,[],ot,ft,ut||ct)},it.asTree=function(at,ot,ct){var ut="";return nt(".",at,!1,[],ot,ct,function(ft){ut+=ft+`
`}),ut},it})})(treeify);var Base$1={},cryptoJs={exports:{}},x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.Base,ot=it.WordArray,ct=nt.x64={};ct.Word=at.extend({init:function(ut,ft){this.high=ut,this.low=ft}}),ct.WordArray=at.extend({init:function(ut,ft){ut=this.words=ut||[],ft!=rt?this.sigBytes=ft:this.sigBytes=ut.length*8},toX32:function(){for(var ut=this.words,ft=ut.length,yt=[],bt=0;bt<ft;bt++){var Et=ut[bt];yt.push(Et.high),yt.push(Et.low)}return ot.create(yt,this.sigBytes)},clone:function(){for(var ut=at.clone.call(this),ft=ut.words=this.words.slice(0),yt=ft.length,bt=0;bt<yt;bt++)ft[bt]=ft[bt].clone();return ut}})}(),tt})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(){if(typeof ArrayBuffer=="function"){var rt=tt,nt=rt.lib,it=nt.WordArray,at=it.init,ot=it.init=function(ct){if(ct instanceof ArrayBuffer&&(ct=new Uint8Array(ct)),(ct instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ct instanceof Uint8ClampedArray||ct instanceof Int16Array||ct instanceof Uint16Array||ct instanceof Int32Array||ct instanceof Uint32Array||ct instanceof Float32Array||ct instanceof Float64Array)&&(ct=new Uint8Array(ct.buffer,ct.byteOffset,ct.byteLength)),ct instanceof Uint8Array){for(var ut=ct.byteLength,ft=[],yt=0;yt<ut;yt++)ft[yt>>>2]|=ct[yt]<<24-yt%4*8;at.call(this,ft,ut)}else at.apply(this,arguments)};ot.prototype=it}}(),tt.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.enc;at.Utf16=at.Utf16BE={stringify:function(ct){for(var ut=ct.words,ft=ct.sigBytes,yt=[],bt=0;bt<ft;bt+=2){var Et=ut[bt>>>2]>>>16-bt%4*8&65535;yt.push(String.fromCharCode(Et))}return yt.join("")},parse:function(ct){for(var ut=ct.length,ft=[],yt=0;yt<ut;yt++)ft[yt>>>1]|=ct.charCodeAt(yt)<<16-yt%2*16;return it.create(ft,ut*2)}},at.Utf16LE={stringify:function(ct){for(var ut=ct.words,ft=ct.sigBytes,yt=[],bt=0;bt<ft;bt+=2){var Et=ot(ut[bt>>>2]>>>16-bt%4*8&65535);yt.push(String.fromCharCode(Et))}return yt.join("")},parse:function(ct){for(var ut=ct.length,ft=[],yt=0;yt<ut;yt++)ft[yt>>>1]|=ot(ct.charCodeAt(yt)<<16-yt%2*16);return it.create(ft,ut*2)}};function ot(ct){return ct<<8&4278255360|ct>>>8&16711935}}(),tt.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.enc;at.Base64={stringify:function(ct){var ut=ct.words,ft=ct.sigBytes,yt=this._map;ct.clamp();for(var bt=[],Et=0;Et<ft;Et+=3)for(var Ct=ut[Et>>>2]>>>24-Et%4*8&255,At=ut[Et+1>>>2]>>>24-(Et+1)%4*8&255,St=ut[Et+2>>>2]>>>24-(Et+2)%4*8&255,Tt=Ct<<16|At<<8|St,$t=0;$t<4&&Et+$t*.75<ft;$t++)bt.push(yt.charAt(Tt>>>6*(3-$t)&63));var kt=yt.charAt(64);if(kt)for(;bt.length%4;)bt.push(kt);return bt.join("")},parse:function(ct){var ut=ct.length,ft=this._map,yt=this._reverseMap;if(!yt){yt=this._reverseMap=[];for(var bt=0;bt<ft.length;bt++)yt[ft.charCodeAt(bt)]=bt}var Et=ft.charAt(64);if(Et){var Ct=ct.indexOf(Et);Ct!==-1&&(ut=Ct)}return ot(ct,ut,yt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function ot(ct,ut,ft){for(var yt=[],bt=0,Et=0;Et<ut;Et++)if(Et%4){var Ct=ft[ct.charCodeAt(Et-1)]<<Et%4*2,At=ft[ct.charCodeAt(Et)]>>>6-Et%4*2;yt[bt>>>2]|=(Ct|At)<<24-bt%4*8,bt++}return it.create(yt,bt)}}(),tt.enc.Base64})}(encBase64)),encBase64.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,ot=it.Hasher,ct=nt.algo,ut=[];(function(){for(var At=0;At<64;At++)ut[At]=rt.abs(rt.sin(At+1))*4294967296|0})();var ft=ct.MD5=ot.extend({_doReset:function(){this._hash=new at.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(At,St){for(var Tt=0;Tt<16;Tt++){var $t=St+Tt,kt=At[$t];At[$t]=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360}var Pt=this._hash.words,Ot=At[St+0],Ht=At[St+1],qt=At[St+2],Zt=At[St+3],tr=At[St+4],Dt=At[St+5],Rt=At[St+6],Nt=At[St+7],ht=At[St+8],st=At[St+9],dt=At[St+10],mt=At[St+11],_t=At[St+12],xt=At[St+13],vt=At[St+14],Mt=At[St+15],gt=Pt[0],lt=Pt[1],wt=Pt[2],jt=Pt[3];gt=yt(gt,lt,wt,jt,Ot,7,ut[0]),jt=yt(jt,gt,lt,wt,Ht,12,ut[1]),wt=yt(wt,jt,gt,lt,qt,17,ut[2]),lt=yt(lt,wt,jt,gt,Zt,22,ut[3]),gt=yt(gt,lt,wt,jt,tr,7,ut[4]),jt=yt(jt,gt,lt,wt,Dt,12,ut[5]),wt=yt(wt,jt,gt,lt,Rt,17,ut[6]),lt=yt(lt,wt,jt,gt,Nt,22,ut[7]),gt=yt(gt,lt,wt,jt,ht,7,ut[8]),jt=yt(jt,gt,lt,wt,st,12,ut[9]),wt=yt(wt,jt,gt,lt,dt,17,ut[10]),lt=yt(lt,wt,jt,gt,mt,22,ut[11]),gt=yt(gt,lt,wt,jt,_t,7,ut[12]),jt=yt(jt,gt,lt,wt,xt,12,ut[13]),wt=yt(wt,jt,gt,lt,vt,17,ut[14]),lt=yt(lt,wt,jt,gt,Mt,22,ut[15]),gt=bt(gt,lt,wt,jt,Ht,5,ut[16]),jt=bt(jt,gt,lt,wt,Rt,9,ut[17]),wt=bt(wt,jt,gt,lt,mt,14,ut[18]),lt=bt(lt,wt,jt,gt,Ot,20,ut[19]),gt=bt(gt,lt,wt,jt,Dt,5,ut[20]),jt=bt(jt,gt,lt,wt,dt,9,ut[21]),wt=bt(wt,jt,gt,lt,Mt,14,ut[22]),lt=bt(lt,wt,jt,gt,tr,20,ut[23]),gt=bt(gt,lt,wt,jt,st,5,ut[24]),jt=bt(jt,gt,lt,wt,vt,9,ut[25]),wt=bt(wt,jt,gt,lt,Zt,14,ut[26]),lt=bt(lt,wt,jt,gt,ht,20,ut[27]),gt=bt(gt,lt,wt,jt,xt,5,ut[28]),jt=bt(jt,gt,lt,wt,qt,9,ut[29]),wt=bt(wt,jt,gt,lt,Nt,14,ut[30]),lt=bt(lt,wt,jt,gt,_t,20,ut[31]),gt=Et(gt,lt,wt,jt,Dt,4,ut[32]),jt=Et(jt,gt,lt,wt,ht,11,ut[33]),wt=Et(wt,jt,gt,lt,mt,16,ut[34]),lt=Et(lt,wt,jt,gt,vt,23,ut[35]),gt=Et(gt,lt,wt,jt,Ht,4,ut[36]),jt=Et(jt,gt,lt,wt,tr,11,ut[37]),wt=Et(wt,jt,gt,lt,Nt,16,ut[38]),lt=Et(lt,wt,jt,gt,dt,23,ut[39]),gt=Et(gt,lt,wt,jt,xt,4,ut[40]),jt=Et(jt,gt,lt,wt,Ot,11,ut[41]),wt=Et(wt,jt,gt,lt,Zt,16,ut[42]),lt=Et(lt,wt,jt,gt,Rt,23,ut[43]),gt=Et(gt,lt,wt,jt,st,4,ut[44]),jt=Et(jt,gt,lt,wt,_t,11,ut[45]),wt=Et(wt,jt,gt,lt,Mt,16,ut[46]),lt=Et(lt,wt,jt,gt,qt,23,ut[47]),gt=Ct(gt,lt,wt,jt,Ot,6,ut[48]),jt=Ct(jt,gt,lt,wt,Nt,10,ut[49]),wt=Ct(wt,jt,gt,lt,vt,15,ut[50]),lt=Ct(lt,wt,jt,gt,Dt,21,ut[51]),gt=Ct(gt,lt,wt,jt,_t,6,ut[52]),jt=Ct(jt,gt,lt,wt,Zt,10,ut[53]),wt=Ct(wt,jt,gt,lt,dt,15,ut[54]),lt=Ct(lt,wt,jt,gt,Ht,21,ut[55]),gt=Ct(gt,lt,wt,jt,ht,6,ut[56]),jt=Ct(jt,gt,lt,wt,Mt,10,ut[57]),wt=Ct(wt,jt,gt,lt,Rt,15,ut[58]),lt=Ct(lt,wt,jt,gt,xt,21,ut[59]),gt=Ct(gt,lt,wt,jt,tr,6,ut[60]),jt=Ct(jt,gt,lt,wt,mt,10,ut[61]),wt=Ct(wt,jt,gt,lt,qt,15,ut[62]),lt=Ct(lt,wt,jt,gt,st,21,ut[63]),Pt[0]=Pt[0]+gt|0,Pt[1]=Pt[1]+lt|0,Pt[2]=Pt[2]+wt|0,Pt[3]=Pt[3]+jt|0},_doFinalize:function(){var At=this._data,St=At.words,Tt=this._nDataBytes*8,$t=At.sigBytes*8;St[$t>>>5]|=128<<24-$t%32;var kt=rt.floor(Tt/4294967296),Pt=Tt;St[($t+64>>>9<<4)+15]=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360,St[($t+64>>>9<<4)+14]=(Pt<<8|Pt>>>24)&16711935|(Pt<<24|Pt>>>8)&4278255360,At.sigBytes=(St.length+1)*4,this._process();for(var Ot=this._hash,Ht=Ot.words,qt=0;qt<4;qt++){var Zt=Ht[qt];Ht[qt]=(Zt<<8|Zt>>>24)&16711935|(Zt<<24|Zt>>>8)&4278255360}return Ot},clone:function(){var At=ot.clone.call(this);return At._hash=this._hash.clone(),At}});function yt(At,St,Tt,$t,kt,Pt,Ot){var Ht=At+(St&Tt|~St&$t)+kt+Ot;return(Ht<<Pt|Ht>>>32-Pt)+St}function bt(At,St,Tt,$t,kt,Pt,Ot){var Ht=At+(St&$t|Tt&~$t)+kt+Ot;return(Ht<<Pt|Ht>>>32-Pt)+St}function Et(At,St,Tt,$t,kt,Pt,Ot){var Ht=At+(St^Tt^$t)+kt+Ot;return(Ht<<Pt|Ht>>>32-Pt)+St}function Ct(At,St,Tt,$t,kt,Pt,Ot){var Ht=At+(Tt^(St|~$t))+kt+Ot;return(Ht<<Pt|Ht>>>32-Pt)+St}nt.MD5=ot._createHelper(ft),nt.HmacMD5=ot._createHmacHelper(ft)}(Math),tt.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=nt.Hasher,ot=rt.algo,ct=[],ut=ot.SHA1=at.extend({_doReset:function(){this._hash=new it.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ft,yt){for(var bt=this._hash.words,Et=bt[0],Ct=bt[1],At=bt[2],St=bt[3],Tt=bt[4],$t=0;$t<80;$t++){if($t<16)ct[$t]=ft[yt+$t]|0;else{var kt=ct[$t-3]^ct[$t-8]^ct[$t-14]^ct[$t-16];ct[$t]=kt<<1|kt>>>31}var Pt=(Et<<5|Et>>>27)+Tt+ct[$t];$t<20?Pt+=(Ct&At|~Ct&St)+1518500249:$t<40?Pt+=(Ct^At^St)+1859775393:$t<60?Pt+=(Ct&At|Ct&St|At&St)-1894007588:Pt+=(Ct^At^St)-899497514,Tt=St,St=At,At=Ct<<30|Ct>>>2,Ct=Et,Et=Pt}bt[0]=bt[0]+Et|0,bt[1]=bt[1]+Ct|0,bt[2]=bt[2]+At|0,bt[3]=bt[3]+St|0,bt[4]=bt[4]+Tt|0},_doFinalize:function(){var ft=this._data,yt=ft.words,bt=this._nDataBytes*8,Et=ft.sigBytes*8;return yt[Et>>>5]|=128<<24-Et%32,yt[(Et+64>>>9<<4)+14]=Math.floor(bt/4294967296),yt[(Et+64>>>9<<4)+15]=bt,ft.sigBytes=yt.length*4,this._process(),this._hash},clone:function(){var ft=at.clone.call(this);return ft._hash=this._hash.clone(),ft}});rt.SHA1=at._createHelper(ut),rt.HmacSHA1=at._createHmacHelper(ut)}(),tt.SHA1})}(sha1)),sha1.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),sha256$1.exports)})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=rt.algo,ot=at.SHA256,ct=at.SHA224=ot.extend({_doReset:function(){this._hash=new it.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var ut=ot._doFinalize.call(this);return ut.sigBytes-=4,ut}});rt.SHA224=ot._createHelper(ct),rt.HmacSHA224=ot._createHmacHelper(ct)}(),tt.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireX64Core())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Hasher,at=rt.x64,ot=at.Word,ct=at.WordArray,ut=rt.algo;function ft(){return ot.create.apply(ot,arguments)}var yt=[ft(1116352408,3609767458),ft(1899447441,602891725),ft(3049323471,3964484399),ft(3921009573,2173295548),ft(961987163,4081628472),ft(1508970993,3053834265),ft(2453635748,2937671579),ft(2870763221,3664609560),ft(3624381080,2734883394),ft(310598401,1164996542),ft(607225278,1323610764),ft(1426881987,3590304994),ft(1925078388,4068182383),ft(2162078206,991336113),ft(2614888103,633803317),ft(3248222580,3479774868),ft(3835390401,2666613458),ft(4022224774,944711139),ft(264347078,2341262773),ft(604807628,2007800933),ft(770255983,1495990901),ft(1249150122,1856431235),ft(1555081692,3175218132),ft(1996064986,2198950837),ft(2554220882,3999719339),ft(2821834349,766784016),ft(2952996808,2566594879),ft(3210313671,3203337956),ft(3336571891,1034457026),ft(3584528711,2466948901),ft(113926993,3758326383),ft(338241895,168717936),ft(666307205,1188179964),ft(773529912,1546045734),ft(1294757372,1522805485),ft(1396182291,2643833823),ft(1695183700,2343527390),ft(1986661051,1014477480),ft(2177026350,1206759142),ft(2456956037,344077627),ft(2730485921,1290863460),ft(2820302411,3158454273),ft(3259730800,3505952657),ft(3345764771,106217008),ft(3516065817,3606008344),ft(3600352804,1432725776),ft(4094571909,1467031594),ft(275423344,851169720),ft(430227734,3100823752),ft(506948616,1363258195),ft(659060556,3750685593),ft(883997877,3785050280),ft(958139571,3318307427),ft(1322822218,3812723403),ft(1537002063,2003034995),ft(1747873779,3602036899),ft(1955562222,1575990012),ft(2024104815,1125592928),ft(2227730452,2716904306),ft(2361852424,442776044),ft(2428436474,593698344),ft(2756734187,3733110249),ft(3204031479,2999351573),ft(3329325298,3815920427),ft(3391569614,3928383900),ft(3515267271,566280711),ft(3940187606,3454069534),ft(4118630271,4000239992),ft(116418474,1914138554),ft(174292421,2731055270),ft(289380356,3203993006),ft(460393269,320620315),ft(685471733,587496836),ft(852142971,1086792851),ft(1017036298,365543100),ft(1126000580,2618297676),ft(1288033470,3409855158),ft(1501505948,4234509866),ft(1607167915,987167468),ft(1816402316,1246189591)],bt=[];(function(){for(var Ct=0;Ct<80;Ct++)bt[Ct]=ft()})();var Et=ut.SHA512=it.extend({_doReset:function(){this._hash=new ct.init([new ot.init(1779033703,4089235720),new ot.init(3144134277,2227873595),new ot.init(1013904242,4271175723),new ot.init(2773480762,1595750129),new ot.init(1359893119,2917565137),new ot.init(2600822924,725511199),new ot.init(528734635,4215389547),new ot.init(1541459225,327033209)])},_doProcessBlock:function(Ct,At){for(var St=this._hash.words,Tt=St[0],$t=St[1],kt=St[2],Pt=St[3],Ot=St[4],Ht=St[5],qt=St[6],Zt=St[7],tr=Tt.high,Dt=Tt.low,Rt=$t.high,Nt=$t.low,ht=kt.high,st=kt.low,dt=Pt.high,mt=Pt.low,_t=Ot.high,xt=Ot.low,vt=Ht.high,Mt=Ht.low,gt=qt.high,lt=qt.low,wt=Zt.high,jt=Zt.low,It=tr,Wt=Dt,Qt=Rt,Gt=Nt,er=ht,hr=st,Vt=dt,Kt=mt,lr=_t,ir=xt,ur=vt,Xt=Mt,Ft=gt,Ut=lt,Yt=wt,rr=jt,ar=0;ar<80;ar++){var br=bt[ar];if(ar<16)var dr=br.high=Ct[At+ar*2]|0,pr=br.low=Ct[At+ar*2+1]|0;else{var Lr=bt[ar-15],mr=Lr.high,zt=Lr.low,Lt=(mr>>>1|zt<<31)^(mr>>>8|zt<<24)^mr>>>7,Bt=(zt>>>1|mr<<31)^(zt>>>8|mr<<24)^(zt>>>7|mr<<25),Jt=bt[ar-2],cr=Jt.high,nr=Jt.low,sr=(cr>>>19|nr<<13)^(cr<<3|nr>>>29)^cr>>>6,Fr=(nr>>>19|cr<<13)^(nr<<3|cr>>>29)^(nr>>>6|cr<<26),vr=bt[ar-7],gr=vr.high,Dr=vr.low,yr=bt[ar-16],Sr=yr.high,Vr=yr.low,pr=Bt+Dr,dr=Lt+gr+(pr>>>0<Bt>>>0?1:0),pr=pr+Fr,dr=dr+sr+(pr>>>0<Fr>>>0?1:0),pr=pr+Vr,dr=dr+Sr+(pr>>>0<Vr>>>0?1:0);br.high=dr,br.low=pr}var Tr=lr&ur^~lr&Ft,wr=ir&Xt^~ir&Ut,Zr=It&Qt^It&er^Qt&er,Cr=Wt&Gt^Wt&hr^Gt&hr,Ar=(It>>>28|Wt<<4)^(It<<30|Wt>>>2)^(It<<25|Wt>>>7),Kr=(Wt>>>28|It<<4)^(Wt<<30|It>>>2)^(Wt<<25|It>>>7),Mr=(lr>>>14|ir<<18)^(lr>>>18|ir<<14)^(lr<<23|ir>>>9),$r=(ir>>>14|lr<<18)^(ir>>>18|lr<<14)^(ir<<23|lr>>>9),Gr=yt[ar],Rr=Gr.high,_r=Gr.low,Ur=rr+$r,xr=Yt+Mr+(Ur>>>0<rr>>>0?1:0),Ur=Ur+wr,xr=xr+Tr+(Ur>>>0<wr>>>0?1:0),Ur=Ur+_r,xr=xr+Rr+(Ur>>>0<_r>>>0?1:0),Ur=Ur+pr,xr=xr+dr+(Ur>>>0<pr>>>0?1:0),Er=Kr+Cr,Qr=Ar+Zr+(Er>>>0<Kr>>>0?1:0);Yt=Ft,rr=Ut,Ft=ur,Ut=Xt,ur=lr,Xt=ir,ir=Kt+Ur|0,lr=Vt+xr+(ir>>>0<Kt>>>0?1:0)|0,Vt=er,Kt=hr,er=Qt,hr=Gt,Qt=It,Gt=Wt,Wt=Ur+Er|0,It=xr+Qr+(Wt>>>0<Ur>>>0?1:0)|0}Dt=Tt.low=Dt+Wt,Tt.high=tr+It+(Dt>>>0<Wt>>>0?1:0),Nt=$t.low=Nt+Gt,$t.high=Rt+Qt+(Nt>>>0<Gt>>>0?1:0),st=kt.low=st+hr,kt.high=ht+er+(st>>>0<hr>>>0?1:0),mt=Pt.low=mt+Kt,Pt.high=dt+Vt+(mt>>>0<Kt>>>0?1:0),xt=Ot.low=xt+ir,Ot.high=_t+lr+(xt>>>0<ir>>>0?1:0),Mt=Ht.low=Mt+Xt,Ht.high=vt+ur+(Mt>>>0<Xt>>>0?1:0),lt=qt.low=lt+Ut,qt.high=gt+Ft+(lt>>>0<Ut>>>0?1:0),jt=Zt.low=jt+rr,Zt.high=wt+Yt+(jt>>>0<rr>>>0?1:0)},_doFinalize:function(){var Ct=this._data,At=Ct.words,St=this._nDataBytes*8,Tt=Ct.sigBytes*8;At[Tt>>>5]|=128<<24-Tt%32,At[(Tt+128>>>10<<5)+30]=Math.floor(St/4294967296),At[(Tt+128>>>10<<5)+31]=St,Ct.sigBytes=At.length*4,this._process();var $t=this._hash.toX32();return $t},clone:function(){var Ct=it.clone.call(this);return Ct._hash=this._hash.clone(),Ct},blockSize:1024/32});rt.SHA512=it._createHelper(Et),rt.HmacSHA512=it._createHmacHelper(Et)}(),tt.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.x64,it=nt.Word,at=nt.WordArray,ot=rt.algo,ct=ot.SHA512,ut=ot.SHA384=ct.extend({_doReset:function(){this._hash=new at.init([new it.init(3418070365,3238371032),new it.init(1654270250,914150663),new it.init(2438529370,812702999),new it.init(355462360,4144912697),new it.init(1731405415,4290775857),new it.init(2394180231,1750603025),new it.init(3675008525,1694076839),new it.init(1203062813,3204075428)])},_doFinalize:function(){var ft=ct._doFinalize.call(this);return ft.sigBytes-=16,ft}});rt.SHA384=ct._createHelper(ut),rt.HmacSHA384=ct._createHmacHelper(ut)}(),tt.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireX64Core())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,ot=it.Hasher,ct=nt.x64,ut=ct.Word,ft=nt.algo,yt=[],bt=[],Et=[];(function(){for(var St=1,Tt=0,$t=0;$t<24;$t++){yt[St+5*Tt]=($t+1)*($t+2)/2%64;var kt=Tt%5,Pt=(2*St+3*Tt)%5;St=kt,Tt=Pt}for(var St=0;St<5;St++)for(var Tt=0;Tt<5;Tt++)bt[St+5*Tt]=Tt+(2*St+3*Tt)%5*5;for(var Ot=1,Ht=0;Ht<24;Ht++){for(var qt=0,Zt=0,tr=0;tr<7;tr++){if(Ot&1){var Dt=(1<<tr)-1;Dt<32?Zt^=1<<Dt:qt^=1<<Dt-32}Ot&128?Ot=Ot<<1^113:Ot<<=1}Et[Ht]=ut.create(qt,Zt)}})();var Ct=[];(function(){for(var St=0;St<25;St++)Ct[St]=ut.create()})();var At=ft.SHA3=ot.extend({cfg:ot.cfg.extend({outputLength:512}),_doReset:function(){for(var St=this._state=[],Tt=0;Tt<25;Tt++)St[Tt]=new ut.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(St,Tt){for(var $t=this._state,kt=this.blockSize/2,Pt=0;Pt<kt;Pt++){var Ot=St[Tt+2*Pt],Ht=St[Tt+2*Pt+1];Ot=(Ot<<8|Ot>>>24)&16711935|(Ot<<24|Ot>>>8)&4278255360,Ht=(Ht<<8|Ht>>>24)&16711935|(Ht<<24|Ht>>>8)&4278255360;var qt=$t[Pt];qt.high^=Ht,qt.low^=Ot}for(var Zt=0;Zt<24;Zt++){for(var tr=0;tr<5;tr++){for(var Dt=0,Rt=0,Nt=0;Nt<5;Nt++){var qt=$t[tr+5*Nt];Dt^=qt.high,Rt^=qt.low}var ht=Ct[tr];ht.high=Dt,ht.low=Rt}for(var tr=0;tr<5;tr++)for(var st=Ct[(tr+4)%5],dt=Ct[(tr+1)%5],mt=dt.high,_t=dt.low,Dt=st.high^(mt<<1|_t>>>31),Rt=st.low^(_t<<1|mt>>>31),Nt=0;Nt<5;Nt++){var qt=$t[tr+5*Nt];qt.high^=Dt,qt.low^=Rt}for(var xt=1;xt<25;xt++){var qt=$t[xt],vt=qt.high,Mt=qt.low,gt=yt[xt];if(gt<32)var Dt=vt<<gt|Mt>>>32-gt,Rt=Mt<<gt|vt>>>32-gt;else var Dt=Mt<<gt-32|vt>>>64-gt,Rt=vt<<gt-32|Mt>>>64-gt;var lt=Ct[bt[xt]];lt.high=Dt,lt.low=Rt}var wt=Ct[0],jt=$t[0];wt.high=jt.high,wt.low=jt.low;for(var tr=0;tr<5;tr++)for(var Nt=0;Nt<5;Nt++){var xt=tr+5*Nt,qt=$t[xt],It=Ct[xt],Wt=Ct[(tr+1)%5+5*Nt],Qt=Ct[(tr+2)%5+5*Nt];qt.high=It.high^~Wt.high&Qt.high,qt.low=It.low^~Wt.low&Qt.low}var qt=$t[0],Gt=Et[Zt];qt.high^=Gt.high,qt.low^=Gt.low}},_doFinalize:function(){var St=this._data,Tt=St.words;this._nDataBytes*8;var $t=St.sigBytes*8,kt=this.blockSize*32;Tt[$t>>>5]|=1<<24-$t%32,Tt[(rt.ceil(($t+1)/kt)*kt>>>5)-1]|=128,St.sigBytes=Tt.length*4,this._process();for(var Pt=this._state,Ot=this.cfg.outputLength/8,Ht=Ot/8,qt=[],Zt=0;Zt<Ht;Zt++){var tr=Pt[Zt],Dt=tr.high,Rt=tr.low;Dt=(Dt<<8|Dt>>>24)&16711935|(Dt<<24|Dt>>>8)&4278255360,Rt=(Rt<<8|Rt>>>24)&16711935|(Rt<<24|Rt>>>8)&4278255360,qt.push(Rt),qt.push(Dt)}return new at.init(qt,Ot)},clone:function(){for(var St=ot.clone.call(this),Tt=St._state=this._state.slice(0),$t=0;$t<25;$t++)Tt[$t]=Tt[$t].clone();return St}});nt.SHA3=ot._createHelper(At),nt.HmacSHA3=ot._createHmacHelper(At)}(Math),tt.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(rt){var nt=tt,it=nt.lib,at=it.WordArray,ot=it.Hasher,ct=nt.algo,ut=at.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),ft=at.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),yt=at.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),bt=at.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Et=at.create([0,1518500249,1859775393,2400959708,2840853838]),Ct=at.create([1352829926,1548603684,1836072691,2053994217,0]),At=ct.RIPEMD160=ot.extend({_doReset:function(){this._hash=at.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ht,qt){for(var Zt=0;Zt<16;Zt++){var tr=qt+Zt,Dt=Ht[tr];Ht[tr]=(Dt<<8|Dt>>>24)&16711935|(Dt<<24|Dt>>>8)&4278255360}var Rt=this._hash.words,Nt=Et.words,ht=Ct.words,st=ut.words,dt=ft.words,mt=yt.words,_t=bt.words,xt,vt,Mt,gt,lt,wt,jt,It,Wt,Qt;wt=xt=Rt[0],jt=vt=Rt[1],It=Mt=Rt[2],Wt=gt=Rt[3],Qt=lt=Rt[4];for(var Gt,Zt=0;Zt<80;Zt+=1)Gt=xt+Ht[qt+st[Zt]]|0,Zt<16?Gt+=St(vt,Mt,gt)+Nt[0]:Zt<32?Gt+=Tt(vt,Mt,gt)+Nt[1]:Zt<48?Gt+=$t(vt,Mt,gt)+Nt[2]:Zt<64?Gt+=kt(vt,Mt,gt)+Nt[3]:Gt+=Pt(vt,Mt,gt)+Nt[4],Gt=Gt|0,Gt=Ot(Gt,mt[Zt]),Gt=Gt+lt|0,xt=lt,lt=gt,gt=Ot(Mt,10),Mt=vt,vt=Gt,Gt=wt+Ht[qt+dt[Zt]]|0,Zt<16?Gt+=Pt(jt,It,Wt)+ht[0]:Zt<32?Gt+=kt(jt,It,Wt)+ht[1]:Zt<48?Gt+=$t(jt,It,Wt)+ht[2]:Zt<64?Gt+=Tt(jt,It,Wt)+ht[3]:Gt+=St(jt,It,Wt)+ht[4],Gt=Gt|0,Gt=Ot(Gt,_t[Zt]),Gt=Gt+Qt|0,wt=Qt,Qt=Wt,Wt=Ot(It,10),It=jt,jt=Gt;Gt=Rt[1]+Mt+Wt|0,Rt[1]=Rt[2]+gt+Qt|0,Rt[2]=Rt[3]+lt+wt|0,Rt[3]=Rt[4]+xt+jt|0,Rt[4]=Rt[0]+vt+It|0,Rt[0]=Gt},_doFinalize:function(){var Ht=this._data,qt=Ht.words,Zt=this._nDataBytes*8,tr=Ht.sigBytes*8;qt[tr>>>5]|=128<<24-tr%32,qt[(tr+64>>>9<<4)+14]=(Zt<<8|Zt>>>24)&16711935|(Zt<<24|Zt>>>8)&4278255360,Ht.sigBytes=(qt.length+1)*4,this._process();for(var Dt=this._hash,Rt=Dt.words,Nt=0;Nt<5;Nt++){var ht=Rt[Nt];Rt[Nt]=(ht<<8|ht>>>24)&16711935|(ht<<24|ht>>>8)&4278255360}return Dt},clone:function(){var Ht=ot.clone.call(this);return Ht._hash=this._hash.clone(),Ht}});function St(Ht,qt,Zt){return Ht^qt^Zt}function Tt(Ht,qt,Zt){return Ht&qt|~Ht&Zt}function $t(Ht,qt,Zt){return(Ht|~qt)^Zt}function kt(Ht,qt,Zt){return Ht&Zt|qt&~Zt}function Pt(Ht,qt,Zt){return Ht^(qt|~Zt)}function Ot(Ht,qt){return Ht<<qt|Ht>>>32-qt}nt.RIPEMD160=ot._createHelper(At),nt.HmacRIPEMD160=ot._createHmacHelper(At)}(),tt.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(et,_e){(function(tt,rt){et.exports=rt(requireCore())})(commonjsGlobal,function(tt){(function(){var rt=tt,nt=rt.lib,it=nt.Base,at=rt.enc,ot=at.Utf8,ct=rt.algo;ct.HMAC=it.extend({init:function(ut,ft){ut=this._hasher=new ut.init,typeof ft=="string"&&(ft=ot.parse(ft));var yt=ut.blockSize,bt=yt*4;ft.sigBytes>bt&&(ft=ut.finalize(ft)),ft.clamp();for(var Et=this._oKey=ft.clone(),Ct=this._iKey=ft.clone(),At=Et.words,St=Ct.words,Tt=0;Tt<yt;Tt++)At[Tt]^=1549556828,St[Tt]^=909522486;Et.sigBytes=Ct.sigBytes=bt,this.reset()},reset:function(){var ut=this._hasher;ut.reset(),ut.update(this._iKey)},update:function(ut){return this._hasher.update(ut),this},finalize:function(ut){var ft=this._hasher,yt=ft.finalize(ut);ft.reset();var bt=ft.finalize(this._oKey.clone().concat(yt));return bt}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Base,at=nt.WordArray,ot=rt.algo,ct=ot.SHA1,ut=ot.HMAC,ft=ot.PBKDF2=it.extend({cfg:it.extend({keySize:128/32,hasher:ct,iterations:1}),init:function(yt){this.cfg=this.cfg.extend(yt)},compute:function(yt,bt){for(var Et=this.cfg,Ct=ut.create(Et.hasher,yt),At=at.create(),St=at.create([1]),Tt=At.words,$t=St.words,kt=Et.keySize,Pt=Et.iterations;Tt.length<kt;){var Ot=Ct.update(bt).finalize(St);Ct.reset();for(var Ht=Ot.words,qt=Ht.length,Zt=Ot,tr=1;tr<Pt;tr++){Zt=Ct.finalize(Zt),Ct.reset();for(var Dt=Zt.words,Rt=0;Rt<qt;Rt++)Ht[Rt]^=Dt[Rt]}At.concat(Ot),$t[0]++}return At.sigBytes=kt*4,At}});rt.PBKDF2=function(yt,bt,Et){return ft.create(Et).compute(yt,bt)}}(),tt.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.Base,at=nt.WordArray,ot=rt.algo,ct=ot.MD5,ut=ot.EvpKDF=it.extend({cfg:it.extend({keySize:128/32,hasher:ct,iterations:1}),init:function(ft){this.cfg=this.cfg.extend(ft)},compute:function(ft,yt){for(var bt=this.cfg,Et=bt.hasher.create(),Ct=at.create(),At=Ct.words,St=bt.keySize,Tt=bt.iterations;At.length<St;){$t&&Et.update($t);var $t=Et.update(ft).finalize(yt);Et.reset();for(var kt=1;kt<Tt;kt++)$t=Et.finalize($t),Et.reset();Ct.concat($t)}return Ct.sigBytes=St*4,Ct}});rt.EvpKDF=function(ft,yt,bt){return ut.create(bt).compute(ft,yt)}}(),tt.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEvpkdf())})(commonjsGlobal,function(tt){tt.lib.Cipher||function(rt){var nt=tt,it=nt.lib,at=it.Base,ot=it.WordArray,ct=it.BufferedBlockAlgorithm,ut=nt.enc;ut.Utf8;var ft=ut.Base64,yt=nt.algo,bt=yt.EvpKDF,Et=it.Cipher=ct.extend({cfg:at.extend(),createEncryptor:function(Dt,Rt){return this.create(this._ENC_XFORM_MODE,Dt,Rt)},createDecryptor:function(Dt,Rt){return this.create(this._DEC_XFORM_MODE,Dt,Rt)},init:function(Dt,Rt,Nt){this.cfg=this.cfg.extend(Nt),this._xformMode=Dt,this._key=Rt,this.reset()},reset:function(){ct.reset.call(this),this._doReset()},process:function(Dt){return this._append(Dt),this._process()},finalize:function(Dt){Dt&&this._append(Dt);var Rt=this._doFinalize();return Rt},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Dt(Rt){return typeof Rt=="string"?tr:Ht}return function(Rt){return{encrypt:function(Nt,ht,st){return Dt(ht).encrypt(Rt,Nt,ht,st)},decrypt:function(Nt,ht,st){return Dt(ht).decrypt(Rt,Nt,ht,st)}}}}()});it.StreamCipher=Et.extend({_doFinalize:function(){var Dt=this._process(!0);return Dt},blockSize:1});var Ct=nt.mode={},At=it.BlockCipherMode=at.extend({createEncryptor:function(Dt,Rt){return this.Encryptor.create(Dt,Rt)},createDecryptor:function(Dt,Rt){return this.Decryptor.create(Dt,Rt)},init:function(Dt,Rt){this._cipher=Dt,this._iv=Rt}}),St=Ct.CBC=function(){var Dt=At.extend();Dt.Encryptor=Dt.extend({processBlock:function(Nt,ht){var st=this._cipher,dt=st.blockSize;Rt.call(this,Nt,ht,dt),st.encryptBlock(Nt,ht),this._prevBlock=Nt.slice(ht,ht+dt)}}),Dt.Decryptor=Dt.extend({processBlock:function(Nt,ht){var st=this._cipher,dt=st.blockSize,mt=Nt.slice(ht,ht+dt);st.decryptBlock(Nt,ht),Rt.call(this,Nt,ht,dt),this._prevBlock=mt}});function Rt(Nt,ht,st){var dt=this._iv;if(dt){var mt=dt;this._iv=rt}else var mt=this._prevBlock;for(var _t=0;_t<st;_t++)Nt[ht+_t]^=mt[_t]}return Dt}(),Tt=nt.pad={},$t=Tt.Pkcs7={pad:function(Dt,Rt){for(var Nt=Rt*4,ht=Nt-Dt.sigBytes%Nt,st=ht<<24|ht<<16|ht<<8|ht,dt=[],mt=0;mt<ht;mt+=4)dt.push(st);var _t=ot.create(dt,ht);Dt.concat(_t)},unpad:function(Dt){var Rt=Dt.words[Dt.sigBytes-1>>>2]&255;Dt.sigBytes-=Rt}};it.BlockCipher=Et.extend({cfg:Et.cfg.extend({mode:St,padding:$t}),reset:function(){Et.reset.call(this);var Dt=this.cfg,Rt=Dt.iv,Nt=Dt.mode;if(this._xformMode==this._ENC_XFORM_MODE)var ht=Nt.createEncryptor;else{var ht=Nt.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==ht?this._mode.init(this,Rt&&Rt.words):(this._mode=ht.call(Nt,this,Rt&&Rt.words),this._mode.__creator=ht)},_doProcessBlock:function(Dt,Rt){this._mode.processBlock(Dt,Rt)},_doFinalize:function(){var Dt=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){Dt.pad(this._data,this.blockSize);var Rt=this._process(!0)}else{var Rt=this._process(!0);Dt.unpad(Rt)}return Rt},blockSize:128/32});var kt=it.CipherParams=at.extend({init:function(Dt){this.mixIn(Dt)},toString:function(Dt){return(Dt||this.formatter).stringify(this)}}),Pt=nt.format={},Ot=Pt.OpenSSL={stringify:function(Dt){var Rt=Dt.ciphertext,Nt=Dt.salt;if(Nt)var ht=ot.create([1398893684,1701076831]).concat(Nt).concat(Rt);else var ht=Rt;return ht.toString(ft)},parse:function(Dt){var Rt=ft.parse(Dt),Nt=Rt.words;if(Nt[0]==1398893684&&Nt[1]==1701076831){var ht=ot.create(Nt.slice(2,4));Nt.splice(0,4),Rt.sigBytes-=16}return kt.create({ciphertext:Rt,salt:ht})}},Ht=it.SerializableCipher=at.extend({cfg:at.extend({format:Ot}),encrypt:function(Dt,Rt,Nt,ht){ht=this.cfg.extend(ht);var st=Dt.createEncryptor(Nt,ht),dt=st.finalize(Rt),mt=st.cfg;return kt.create({ciphertext:dt,key:Nt,iv:mt.iv,algorithm:Dt,mode:mt.mode,padding:mt.padding,blockSize:Dt.blockSize,formatter:ht.format})},decrypt:function(Dt,Rt,Nt,ht){ht=this.cfg.extend(ht),Rt=this._parse(Rt,ht.format);var st=Dt.createDecryptor(Nt,ht).finalize(Rt.ciphertext);return st},_parse:function(Dt,Rt){return typeof Dt=="string"?Rt.parse(Dt,this):Dt}}),qt=nt.kdf={},Zt=qt.OpenSSL={execute:function(Dt,Rt,Nt,ht){ht||(ht=ot.random(64/8));var st=bt.create({keySize:Rt+Nt}).compute(Dt,ht),dt=ot.create(st.words.slice(Rt),Nt*4);return st.sigBytes=Rt*4,kt.create({key:st,iv:dt,salt:ht})}},tr=it.PasswordBasedCipher=Ht.extend({cfg:Ht.cfg.extend({kdf:Zt}),encrypt:function(Dt,Rt,Nt,ht){ht=this.cfg.extend(ht);var st=ht.kdf.execute(Nt,Dt.keySize,Dt.ivSize);ht.iv=st.iv;var dt=Ht.encrypt.call(this,Dt,Rt,st.key,ht);return dt.mixIn(st),dt},decrypt:function(Dt,Rt,Nt,ht){ht=this.cfg.extend(ht),Rt=this._parse(Rt,ht.format);var st=ht.kdf.execute(Nt,Dt.keySize,Dt.ivSize,Rt.salt);ht.iv=st.iv;var dt=Ht.decrypt.call(this,Dt,Rt,st.key,ht);return dt}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.mode.CFB=function(){var rt=tt.lib.BlockCipherMode.extend();rt.Encryptor=rt.extend({processBlock:function(it,at){var ot=this._cipher,ct=ot.blockSize;nt.call(this,it,at,ct,ot),this._prevBlock=it.slice(at,at+ct)}}),rt.Decryptor=rt.extend({processBlock:function(it,at){var ot=this._cipher,ct=ot.blockSize,ut=it.slice(at,at+ct);nt.call(this,it,at,ct,ot),this._prevBlock=ut}});function nt(it,at,ot,ct){var ut=this._iv;if(ut){var ft=ut.slice(0);this._iv=void 0}else var ft=this._prevBlock;ct.encryptBlock(ft,0);for(var yt=0;yt<ot;yt++)it[at+yt]^=ft[yt]}return rt}(),tt.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.mode.CTR=function(){var rt=tt.lib.BlockCipherMode.extend(),nt=rt.Encryptor=rt.extend({processBlock:function(it,at){var ot=this._cipher,ct=ot.blockSize,ut=this._iv,ft=this._counter;ut&&(ft=this._counter=ut.slice(0),this._iv=void 0);var yt=ft.slice(0);ot.encryptBlock(yt,0),ft[ct-1]=ft[ct-1]+1|0;for(var bt=0;bt<ct;bt++)it[at+bt]^=yt[bt]}});return rt.Decryptor=nt,rt}(),tt.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return tt.mode.CTRGladman=function(){var rt=tt.lib.BlockCipherMode.extend();function nt(ot){if((ot>>24&255)===255){var ct=ot>>16&255,ut=ot>>8&255,ft=ot&255;ct===255?(ct=0,ut===255?(ut=0,ft===255?ft=0:++ft):++ut):++ct,ot=0,ot+=ct<<16,ot+=ut<<8,ot+=ft}else ot+=1<<24;return ot}function it(ot){return(ot[0]=nt(ot[0]))===0&&(ot[1]=nt(ot[1])),ot}var at=rt.Encryptor=rt.extend({processBlock:function(ot,ct){var ut=this._cipher,ft=ut.blockSize,yt=this._iv,bt=this._counter;yt&&(bt=this._counter=yt.slice(0),this._iv=void 0),it(bt);var Et=bt.slice(0);ut.encryptBlock(Et,0);for(var Ct=0;Ct<ft;Ct++)ot[ct+Ct]^=Et[Ct]}});return rt.Decryptor=at,rt}(),tt.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.mode.OFB=function(){var rt=tt.lib.BlockCipherMode.extend(),nt=rt.Encryptor=rt.extend({processBlock:function(it,at){var ot=this._cipher,ct=ot.blockSize,ut=this._iv,ft=this._keystream;ut&&(ft=this._keystream=ut.slice(0),this._iv=void 0),ot.encryptBlock(ft,0);for(var yt=0;yt<ct;yt++)it[at+yt]^=ft[yt]}});return rt.Decryptor=nt,rt}(),tt.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.mode.ECB=function(){var rt=tt.lib.BlockCipherMode.extend();return rt.Encryptor=rt.extend({processBlock:function(nt,it){this._cipher.encryptBlock(nt,it)}}),rt.Decryptor=rt.extend({processBlock:function(nt,it){this._cipher.decryptBlock(nt,it)}}),rt}(),tt.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.AnsiX923={pad:function(rt,nt){var it=rt.sigBytes,at=nt*4,ot=at-it%at,ct=it+ot-1;rt.clamp(),rt.words[ct>>>2]|=ot<<24-ct%4*8,rt.sigBytes+=ot},unpad:function(rt){var nt=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=nt}},tt.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.Iso10126={pad:function(rt,nt){var it=nt*4,at=it-rt.sigBytes%it;rt.concat(tt.lib.WordArray.random(at-1)).concat(tt.lib.WordArray.create([at<<24],1))},unpad:function(rt){var nt=rt.words[rt.sigBytes-1>>>2]&255;rt.sigBytes-=nt}},tt.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.Iso97971={pad:function(rt,nt){rt.concat(tt.lib.WordArray.create([2147483648],1)),tt.pad.ZeroPadding.pad(rt,nt)},unpad:function(rt){tt.pad.ZeroPadding.unpad(rt),rt.sigBytes--}},tt.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.ZeroPadding={pad:function(rt,nt){var it=nt*4;rt.clamp(),rt.sigBytes+=it-(rt.sigBytes%it||it)},unpad:function(rt){for(var nt=rt.words,it=rt.sigBytes-1;!(nt[it>>>2]>>>24-it%4*8&255);)it--;rt.sigBytes=it+1}},tt.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return tt.pad.NoPadding={pad:function(){},unpad:function(){}},tt.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireCipherCore())})(commonjsGlobal,function(tt){return function(rt){var nt=tt,it=nt.lib,at=it.CipherParams,ot=nt.enc,ct=ot.Hex,ut=nt.format;ut.Hex={stringify:function(ft){return ft.ciphertext.toString(ct)},parse:function(ft){var yt=ct.parse(ft);return at.create({ciphertext:yt})}}}(),tt.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.BlockCipher,at=rt.algo,ot=[],ct=[],ut=[],ft=[],yt=[],bt=[],Et=[],Ct=[],At=[],St=[];(function(){for(var kt=[],Pt=0;Pt<256;Pt++)Pt<128?kt[Pt]=Pt<<1:kt[Pt]=Pt<<1^283;for(var Ot=0,Ht=0,Pt=0;Pt<256;Pt++){var qt=Ht^Ht<<1^Ht<<2^Ht<<3^Ht<<4;qt=qt>>>8^qt&255^99,ot[Ot]=qt,ct[qt]=Ot;var Zt=kt[Ot],tr=kt[Zt],Dt=kt[tr],Rt=kt[qt]*257^qt*16843008;ut[Ot]=Rt<<24|Rt>>>8,ft[Ot]=Rt<<16|Rt>>>16,yt[Ot]=Rt<<8|Rt>>>24,bt[Ot]=Rt;var Rt=Dt*16843009^tr*65537^Zt*257^Ot*16843008;Et[qt]=Rt<<24|Rt>>>8,Ct[qt]=Rt<<16|Rt>>>16,At[qt]=Rt<<8|Rt>>>24,St[qt]=Rt,Ot?(Ot=Zt^kt[kt[kt[Dt^Zt]]],Ht^=kt[kt[Ht]]):Ot=Ht=1}})();var Tt=[0,1,2,4,8,16,32,64,128,27,54],$t=at.AES=it.extend({_doReset:function(){if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var kt=this._keyPriorReset=this._key,Pt=kt.words,Ot=kt.sigBytes/4,Ht=this._nRounds=Ot+6,qt=(Ht+1)*4,Zt=this._keySchedule=[],tr=0;tr<qt;tr++)if(tr<Ot)Zt[tr]=Pt[tr];else{var Dt=Zt[tr-1];tr%Ot?Ot>6&&tr%Ot==4&&(Dt=ot[Dt>>>24]<<24|ot[Dt>>>16&255]<<16|ot[Dt>>>8&255]<<8|ot[Dt&255]):(Dt=Dt<<8|Dt>>>24,Dt=ot[Dt>>>24]<<24|ot[Dt>>>16&255]<<16|ot[Dt>>>8&255]<<8|ot[Dt&255],Dt^=Tt[tr/Ot|0]<<24),Zt[tr]=Zt[tr-Ot]^Dt}for(var Rt=this._invKeySchedule=[],Nt=0;Nt<qt;Nt++){var tr=qt-Nt;if(Nt%4)var Dt=Zt[tr];else var Dt=Zt[tr-4];Nt<4||tr<=4?Rt[Nt]=Dt:Rt[Nt]=Et[ot[Dt>>>24]]^Ct[ot[Dt>>>16&255]]^At[ot[Dt>>>8&255]]^St[ot[Dt&255]]}}},encryptBlock:function(kt,Pt){this._doCryptBlock(kt,Pt,this._keySchedule,ut,ft,yt,bt,ot)},decryptBlock:function(kt,Pt){var Ot=kt[Pt+1];kt[Pt+1]=kt[Pt+3],kt[Pt+3]=Ot,this._doCryptBlock(kt,Pt,this._invKeySchedule,Et,Ct,At,St,ct);var Ot=kt[Pt+1];kt[Pt+1]=kt[Pt+3],kt[Pt+3]=Ot},_doCryptBlock:function(kt,Pt,Ot,Ht,qt,Zt,tr,Dt){for(var Rt=this._nRounds,Nt=kt[Pt]^Ot[0],ht=kt[Pt+1]^Ot[1],st=kt[Pt+2]^Ot[2],dt=kt[Pt+3]^Ot[3],mt=4,_t=1;_t<Rt;_t++){var xt=Ht[Nt>>>24]^qt[ht>>>16&255]^Zt[st>>>8&255]^tr[dt&255]^Ot[mt++],vt=Ht[ht>>>24]^qt[st>>>16&255]^Zt[dt>>>8&255]^tr[Nt&255]^Ot[mt++],Mt=Ht[st>>>24]^qt[dt>>>16&255]^Zt[Nt>>>8&255]^tr[ht&255]^Ot[mt++],gt=Ht[dt>>>24]^qt[Nt>>>16&255]^Zt[ht>>>8&255]^tr[st&255]^Ot[mt++];Nt=xt,ht=vt,st=Mt,dt=gt}var xt=(Dt[Nt>>>24]<<24|Dt[ht>>>16&255]<<16|Dt[st>>>8&255]<<8|Dt[dt&255])^Ot[mt++],vt=(Dt[ht>>>24]<<24|Dt[st>>>16&255]<<16|Dt[dt>>>8&255]<<8|Dt[Nt&255])^Ot[mt++],Mt=(Dt[st>>>24]<<24|Dt[dt>>>16&255]<<16|Dt[Nt>>>8&255]<<8|Dt[ht&255])^Ot[mt++],gt=(Dt[dt>>>24]<<24|Dt[Nt>>>16&255]<<16|Dt[ht>>>8&255]<<8|Dt[st&255])^Ot[mt++];kt[Pt]=xt,kt[Pt+1]=vt,kt[Pt+2]=Mt,kt[Pt+3]=gt},keySize:256/32});rt.AES=it._createHelper($t)}(),tt.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.WordArray,at=nt.BlockCipher,ot=rt.algo,ct=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],ut=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],ft=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],yt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],bt=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Et=ot.DES=at.extend({_doReset:function(){for(var Tt=this._key,$t=Tt.words,kt=[],Pt=0;Pt<56;Pt++){var Ot=ct[Pt]-1;kt[Pt]=$t[Ot>>>5]>>>31-Ot%32&1}for(var Ht=this._subKeys=[],qt=0;qt<16;qt++){for(var Zt=Ht[qt]=[],tr=ft[qt],Pt=0;Pt<24;Pt++)Zt[Pt/6|0]|=kt[(ut[Pt]-1+tr)%28]<<31-Pt%6,Zt[4+(Pt/6|0)]|=kt[28+(ut[Pt+24]-1+tr)%28]<<31-Pt%6;Zt[0]=Zt[0]<<1|Zt[0]>>>31;for(var Pt=1;Pt<7;Pt++)Zt[Pt]=Zt[Pt]>>>(Pt-1)*4+3;Zt[7]=Zt[7]<<5|Zt[7]>>>27}for(var Dt=this._invSubKeys=[],Pt=0;Pt<16;Pt++)Dt[Pt]=Ht[15-Pt]},encryptBlock:function(Tt,$t){this._doCryptBlock(Tt,$t,this._subKeys)},decryptBlock:function(Tt,$t){this._doCryptBlock(Tt,$t,this._invSubKeys)},_doCryptBlock:function(Tt,$t,kt){this._lBlock=Tt[$t],this._rBlock=Tt[$t+1],Ct.call(this,4,252645135),Ct.call(this,16,65535),At.call(this,2,858993459),At.call(this,8,16711935),Ct.call(this,1,1431655765);for(var Pt=0;Pt<16;Pt++){for(var Ot=kt[Pt],Ht=this._lBlock,qt=this._rBlock,Zt=0,tr=0;tr<8;tr++)Zt|=yt[tr][((qt^Ot[tr])&bt[tr])>>>0];this._lBlock=qt,this._rBlock=Ht^Zt}var Dt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Dt,Ct.call(this,1,1431655765),At.call(this,8,16711935),At.call(this,2,858993459),Ct.call(this,16,65535),Ct.call(this,4,252645135),Tt[$t]=this._lBlock,Tt[$t+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Ct(Tt,$t){var kt=(this._lBlock>>>Tt^this._rBlock)&$t;this._rBlock^=kt,this._lBlock^=kt<<Tt}function At(Tt,$t){var kt=(this._rBlock>>>Tt^this._lBlock)&$t;this._lBlock^=kt,this._rBlock^=kt<<Tt}rt.DES=at._createHelper(Et);var St=ot.TripleDES=at.extend({_doReset:function(){var Tt=this._key,$t=Tt.words;this._des1=Et.createEncryptor(it.create($t.slice(0,2))),this._des2=Et.createEncryptor(it.create($t.slice(2,4))),this._des3=Et.createEncryptor(it.create($t.slice(4,6)))},encryptBlock:function(Tt,$t){this._des1.encryptBlock(Tt,$t),this._des2.decryptBlock(Tt,$t),this._des3.encryptBlock(Tt,$t)},decryptBlock:function(Tt,$t){this._des3.decryptBlock(Tt,$t),this._des2.encryptBlock(Tt,$t),this._des1.decryptBlock(Tt,$t)},keySize:192/32,ivSize:64/32,blockSize:64/32});rt.TripleDES=at._createHelper(St)}(),tt.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,ot=at.RC4=it.extend({_doReset:function(){for(var ft=this._key,yt=ft.words,bt=ft.sigBytes,Et=this._S=[],Ct=0;Ct<256;Ct++)Et[Ct]=Ct;for(var Ct=0,At=0;Ct<256;Ct++){var St=Ct%bt,Tt=yt[St>>>2]>>>24-St%4*8&255;At=(At+Et[Ct]+Tt)%256;var $t=Et[Ct];Et[Ct]=Et[At],Et[At]=$t}this._i=this._j=0},_doProcessBlock:function(ft,yt){ft[yt]^=ct.call(this)},keySize:256/32,ivSize:0});function ct(){for(var ft=this._S,yt=this._i,bt=this._j,Et=0,Ct=0;Ct<4;Ct++){yt=(yt+1)%256,bt=(bt+ft[yt])%256;var At=ft[yt];ft[yt]=ft[bt],ft[bt]=At,Et|=ft[(ft[yt]+ft[bt])%256]<<24-Ct*8}return this._i=yt,this._j=bt,Et}rt.RC4=it._createHelper(ot);var ut=at.RC4Drop=ot.extend({cfg:ot.cfg.extend({drop:192}),_doReset:function(){ot._doReset.call(this);for(var ft=this.cfg.drop;ft>0;ft--)ct.call(this)}});rt.RC4Drop=it._createHelper(ut)}(),tt.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,ot=[],ct=[],ut=[],ft=at.Rabbit=it.extend({_doReset:function(){for(var bt=this._key.words,Et=this.cfg.iv,Ct=0;Ct<4;Ct++)bt[Ct]=(bt[Ct]<<8|bt[Ct]>>>24)&16711935|(bt[Ct]<<24|bt[Ct]>>>8)&4278255360;var At=this._X=[bt[0],bt[3]<<16|bt[2]>>>16,bt[1],bt[0]<<16|bt[3]>>>16,bt[2],bt[1]<<16|bt[0]>>>16,bt[3],bt[2]<<16|bt[1]>>>16],St=this._C=[bt[2]<<16|bt[2]>>>16,bt[0]&4294901760|bt[1]&65535,bt[3]<<16|bt[3]>>>16,bt[1]&4294901760|bt[2]&65535,bt[0]<<16|bt[0]>>>16,bt[2]&4294901760|bt[3]&65535,bt[1]<<16|bt[1]>>>16,bt[3]&4294901760|bt[0]&65535];this._b=0;for(var Ct=0;Ct<4;Ct++)yt.call(this);for(var Ct=0;Ct<8;Ct++)St[Ct]^=At[Ct+4&7];if(Et){var Tt=Et.words,$t=Tt[0],kt=Tt[1],Pt=($t<<8|$t>>>24)&16711935|($t<<24|$t>>>8)&4278255360,Ot=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360,Ht=Pt>>>16|Ot&4294901760,qt=Ot<<16|Pt&65535;St[0]^=Pt,St[1]^=Ht,St[2]^=Ot,St[3]^=qt,St[4]^=Pt,St[5]^=Ht,St[6]^=Ot,St[7]^=qt;for(var Ct=0;Ct<4;Ct++)yt.call(this)}},_doProcessBlock:function(bt,Et){var Ct=this._X;yt.call(this),ot[0]=Ct[0]^Ct[5]>>>16^Ct[3]<<16,ot[1]=Ct[2]^Ct[7]>>>16^Ct[5]<<16,ot[2]=Ct[4]^Ct[1]>>>16^Ct[7]<<16,ot[3]=Ct[6]^Ct[3]>>>16^Ct[1]<<16;for(var At=0;At<4;At++)ot[At]=(ot[At]<<8|ot[At]>>>24)&16711935|(ot[At]<<24|ot[At]>>>8)&4278255360,bt[Et+At]^=ot[At]},blockSize:128/32,ivSize:64/32});function yt(){for(var bt=this._X,Et=this._C,Ct=0;Ct<8;Ct++)ct[Ct]=Et[Ct];Et[0]=Et[0]+1295307597+this._b|0,Et[1]=Et[1]+3545052371+(Et[0]>>>0<ct[0]>>>0?1:0)|0,Et[2]=Et[2]+886263092+(Et[1]>>>0<ct[1]>>>0?1:0)|0,Et[3]=Et[3]+1295307597+(Et[2]>>>0<ct[2]>>>0?1:0)|0,Et[4]=Et[4]+3545052371+(Et[3]>>>0<ct[3]>>>0?1:0)|0,Et[5]=Et[5]+886263092+(Et[4]>>>0<ct[4]>>>0?1:0)|0,Et[6]=Et[6]+1295307597+(Et[5]>>>0<ct[5]>>>0?1:0)|0,Et[7]=Et[7]+3545052371+(Et[6]>>>0<ct[6]>>>0?1:0)|0,this._b=Et[7]>>>0<ct[7]>>>0?1:0;for(var Ct=0;Ct<8;Ct++){var At=bt[Ct]+Et[Ct],St=At&65535,Tt=At>>>16,$t=((St*St>>>17)+St*Tt>>>15)+Tt*Tt,kt=((At&4294901760)*At|0)+((At&65535)*At|0);ut[Ct]=$t^kt}bt[0]=ut[0]+(ut[7]<<16|ut[7]>>>16)+(ut[6]<<16|ut[6]>>>16)|0,bt[1]=ut[1]+(ut[0]<<8|ut[0]>>>24)+ut[7]|0,bt[2]=ut[2]+(ut[1]<<16|ut[1]>>>16)+(ut[0]<<16|ut[0]>>>16)|0,bt[3]=ut[3]+(ut[2]<<8|ut[2]>>>24)+ut[1]|0,bt[4]=ut[4]+(ut[3]<<16|ut[3]>>>16)+(ut[2]<<16|ut[2]>>>16)|0,bt[5]=ut[5]+(ut[4]<<8|ut[4]>>>24)+ut[3]|0,bt[6]=ut[6]+(ut[5]<<16|ut[5]>>>16)+(ut[4]<<16|ut[4]>>>16)|0,bt[7]=ut[7]+(ut[6]<<8|ut[6]>>>24)+ut[5]|0}rt.Rabbit=it._createHelper(ft)}(),tt.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(tt){return function(){var rt=tt,nt=rt.lib,it=nt.StreamCipher,at=rt.algo,ot=[],ct=[],ut=[],ft=at.RabbitLegacy=it.extend({_doReset:function(){var bt=this._key.words,Et=this.cfg.iv,Ct=this._X=[bt[0],bt[3]<<16|bt[2]>>>16,bt[1],bt[0]<<16|bt[3]>>>16,bt[2],bt[1]<<16|bt[0]>>>16,bt[3],bt[2]<<16|bt[1]>>>16],At=this._C=[bt[2]<<16|bt[2]>>>16,bt[0]&4294901760|bt[1]&65535,bt[3]<<16|bt[3]>>>16,bt[1]&4294901760|bt[2]&65535,bt[0]<<16|bt[0]>>>16,bt[2]&4294901760|bt[3]&65535,bt[1]<<16|bt[1]>>>16,bt[3]&4294901760|bt[0]&65535];this._b=0;for(var St=0;St<4;St++)yt.call(this);for(var St=0;St<8;St++)At[St]^=Ct[St+4&7];if(Et){var Tt=Et.words,$t=Tt[0],kt=Tt[1],Pt=($t<<8|$t>>>24)&16711935|($t<<24|$t>>>8)&4278255360,Ot=(kt<<8|kt>>>24)&16711935|(kt<<24|kt>>>8)&4278255360,Ht=Pt>>>16|Ot&4294901760,qt=Ot<<16|Pt&65535;At[0]^=Pt,At[1]^=Ht,At[2]^=Ot,At[3]^=qt,At[4]^=Pt,At[5]^=Ht,At[6]^=Ot,At[7]^=qt;for(var St=0;St<4;St++)yt.call(this)}},_doProcessBlock:function(bt,Et){var Ct=this._X;yt.call(this),ot[0]=Ct[0]^Ct[5]>>>16^Ct[3]<<16,ot[1]=Ct[2]^Ct[7]>>>16^Ct[5]<<16,ot[2]=Ct[4]^Ct[1]>>>16^Ct[7]<<16,ot[3]=Ct[6]^Ct[3]>>>16^Ct[1]<<16;for(var At=0;At<4;At++)ot[At]=(ot[At]<<8|ot[At]>>>24)&16711935|(ot[At]<<24|ot[At]>>>8)&4278255360,bt[Et+At]^=ot[At]},blockSize:128/32,ivSize:64/32});function yt(){for(var bt=this._X,Et=this._C,Ct=0;Ct<8;Ct++)ct[Ct]=Et[Ct];Et[0]=Et[0]+1295307597+this._b|0,Et[1]=Et[1]+3545052371+(Et[0]>>>0<ct[0]>>>0?1:0)|0,Et[2]=Et[2]+886263092+(Et[1]>>>0<ct[1]>>>0?1:0)|0,Et[3]=Et[3]+1295307597+(Et[2]>>>0<ct[2]>>>0?1:0)|0,Et[4]=Et[4]+3545052371+(Et[3]>>>0<ct[3]>>>0?1:0)|0,Et[5]=Et[5]+886263092+(Et[4]>>>0<ct[4]>>>0?1:0)|0,Et[6]=Et[6]+1295307597+(Et[5]>>>0<ct[5]>>>0?1:0)|0,Et[7]=Et[7]+3545052371+(Et[6]>>>0<ct[6]>>>0?1:0)|0,this._b=Et[7]>>>0<ct[7]>>>0?1:0;for(var Ct=0;Ct<8;Ct++){var At=bt[Ct]+Et[Ct],St=At&65535,Tt=At>>>16,$t=((St*St>>>17)+St*Tt>>>15)+Tt*Tt,kt=((At&4294901760)*At|0)+((At&65535)*At|0);ut[Ct]=$t^kt}bt[0]=ut[0]+(ut[7]<<16|ut[7]>>>16)+(ut[6]<<16|ut[6]>>>16)|0,bt[1]=ut[1]+(ut[0]<<8|ut[0]>>>24)+ut[7]|0,bt[2]=ut[2]+(ut[1]<<16|ut[1]>>>16)+(ut[0]<<16|ut[0]>>>16)|0,bt[3]=ut[3]+(ut[2]<<8|ut[2]>>>24)+ut[1]|0,bt[4]=ut[4]+(ut[3]<<16|ut[3]>>>16)+(ut[2]<<16|ut[2]>>>16)|0,bt[5]=ut[5]+(ut[4]<<8|ut[4]>>>24)+ut[3]|0,bt[6]=ut[6]+(ut[5]<<16|ut[5]>>>16)+(ut[4]<<16|ut[4]>>>16)|0,bt[7]=ut[7]+(ut[6]<<8|ut[6]>>>24)+ut[5]|0}rt.RabbitLegacy=it._createHelper(ft)}(),tt.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}(function(et,_e){(function(tt,rt,nt){et.exports=rt(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireMd5(),requireSha1(),sha256$1.exports,requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy())})(commonjsGlobal,function(tt){return tt})})(cryptoJs);var __importDefault$a=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(Base$1,"__esModule",{value:!0});Base$1.Base=void 0;const buffer_1$2=buffer$2,crypto_js_1=__importDefault$a(cryptoJs.exports);class Base{print(){Base.print(this)}_bufferIndexOf(_e,tt){for(let rt=0;rt<_e.length;rt++)if(tt.equals(_e[rt]))return rt;return-1}static bufferify(_e){if(!buffer_1$2.Buffer.isBuffer(_e)){if(typeof _e=="object"&&_e.words)return buffer_1$2.Buffer.from(_e.toString(crypto_js_1.default.enc.Hex),"hex");if(Base.isHexString(_e))return buffer_1$2.Buffer.from(_e.replace(/^0x/,""),"hex");if(typeof _e=="string")return buffer_1$2.Buffer.from(_e);if(typeof _e=="number"){let tt=_e.toString();return tt.length%2&&(tt=`0${tt}`),buffer_1$2.Buffer.from(tt,"hex")}else if(ArrayBuffer.isView(_e))return buffer_1$2.Buffer.from(_e.buffer,_e.byteOffset,_e.byteLength)}return _e}static isHexString(_e){return typeof _e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(_e)}static print(_e){console.log(_e.toString())}bufferToHex(_e,tt=!0){return Base.bufferToHex(_e,tt)}static bufferToHex(_e,tt=!0){return`${tt?"0x":""}${(_e||buffer_1$2.Buffer.alloc(0)).toString("hex")}`}bufferify(_e){return Base.bufferify(_e)}bufferifyFn(_e){return tt=>{const rt=_e(tt);return buffer_1$2.Buffer.isBuffer(rt)?rt:this._isHexString(rt)?buffer_1$2.Buffer.from(rt.replace("0x",""),"hex"):typeof rt=="string"?buffer_1$2.Buffer.from(rt):ArrayBuffer.isView(rt)?buffer_1$2.Buffer.from(rt.buffer,rt.byteOffset,rt.byteLength):buffer_1$2.Buffer.from(_e(crypto_js_1.default.enc.Hex.parse(tt.toString("hex"))).toString(crypto_js_1.default.enc.Hex),"hex")}}_isHexString(_e){return Base.isHexString(_e)}_log2(_e){return _e===1?0:1+this._log2(_e/2|0)}_zip(_e,tt){return _e.map((rt,nt)=>[rt,tt[nt]])}}Base$1.Base=Base;Base$1.default=Base;var __importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(MerkleTree$1,"__esModule",{value:!0});MerkleTree$1.MerkleTree=void 0;const buffer_1$1=buffer$2,buffer_reverse_1=__importDefault$9(bufferReverse),sha256_1$1=__importDefault$9(sha256$1.exports),treeify_1=__importDefault$9(treeify.exports),Base_1$1=__importDefault$9(Base$1);class MerkleTree extends Base_1$1.default{constructor(_e,tt=sha256_1$1.default,rt={}){if(super(),this.duplicateOdd=!1,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.isBitcoinTree=!!rt.isBitcoinTree,this.hashLeaves=!!rt.hashLeaves,this.sortLeaves=!!rt.sortLeaves,this.sortPairs=!!rt.sortPairs,rt.fillDefaultHash)if(typeof rt.fillDefaultHash=="function")this.fillDefaultHash=rt.fillDefaultHash;else if(buffer_1$1.Buffer.isBuffer(rt.fillDefaultHash)||typeof rt.fillDefaultHash=="string")this.fillDefaultHash=(nt,it)=>rt.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!rt.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!rt.duplicateOdd,this.hashFn=this.bufferifyFn(tt),this.processLeaves(_e)}processLeaves(_e){if(this.hashLeaves&&(_e=_e.map(this.hashFn)),this.leaves=_e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(buffer_1$1.Buffer.compare)),this.fillDefaultHash)for(let tt=0;tt<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));tt++)tt>=this.leaves.length&&this.leaves.push(this.bufferify(this.fillDefaultHash(tt,this.hashFn)));this.layers=[this.leaves],this._createHashes(this.leaves)}_createHashes(_e){for(;_e.length>1;){const tt=this.layers.length;this.layers.push([]);for(let rt=0;rt<_e.length;rt+=2){if(rt+1===_e.length&&_e.length%2===1){let ut=_e[_e.length-1],ft=ut;if(this.isBitcoinTree){ut=buffer_1$1.Buffer.concat([buffer_reverse_1.default(ut),buffer_reverse_1.default(ut)]),ft=this.hashFn(ut),ft=buffer_reverse_1.default(this.hashFn(ft)),this.layers[tt].push(ft);continue}else if(!this.duplicateOdd){this.layers[tt].push(_e[rt]);continue}}const nt=_e[rt],it=rt+1===_e.length?nt:_e[rt+1];let at=null,ot=null;this.isBitcoinTree?ot=[buffer_reverse_1.default(nt),buffer_reverse_1.default(it)]:ot=[nt,it],this.sortPairs&&ot.sort(buffer_1$1.Buffer.compare),at=buffer_1$1.Buffer.concat(ot);let ct=this.hashFn(at);this.isBitcoinTree&&(ct=buffer_reverse_1.default(this.hashFn(ct))),this.layers[tt].push(ct)}_e=this.layers[tt]}}addLeaf(_e,tt=!1){tt&&(_e=this.hashFn(_e)),this.processLeaves(this.leaves.concat(_e))}addLeaves(_e,tt=!1){tt&&(_e=_e.map(this.hashFn)),this.processLeaves(this.leaves.concat(_e))}getLeaves(_e){return Array.isArray(_e)?(this.hashLeaves&&(_e=_e.map(this.hashFn),this.sortLeaves&&(_e=_e.sort(buffer_1$1.Buffer.compare))),this.leaves.filter(tt=>this._bufferIndexOf(_e,tt)!==-1)):this.leaves}getLeaf(_e){return _e<0||_e>this.leaves.length-1?buffer_1$1.Buffer.from([]):this.leaves[_e]}getLeafIndex(_e){_e=this.bufferify(_e);const tt=this.getLeaves();for(let rt=0;rt<tt.length;rt++)if(tt[rt].equals(_e))return rt;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(_e=>this.bufferToHex(_e))}static marshalLeaves(_e){return JSON.stringify(_e.map(tt=>MerkleTree.bufferToHex(tt)),null,2)}static unmarshalLeaves(_e){let tt=null;if(typeof _e=="string")tt=JSON.parse(_e);else if(_e instanceof Object)tt=_e;else throw new Error("Expected type of string or object");if(!tt)return[];if(!Array.isArray(tt))throw new Error("Expected JSON string to be array");return tt.map(MerkleTree.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((_e,tt)=>(Array.isArray(tt)?_e.push(tt.map(rt=>this.bufferToHex(rt))):_e.push(tt),_e),[])}getLayersFlat(){const _e=this.layers.reduce((tt,rt)=>(Array.isArray(rt)?tt.unshift(...rt):tt.unshift(rt),tt),[]);return _e.unshift(buffer_1$1.Buffer.from([0])),_e}getHexLayersFlat(){return this.getLayersFlat().map(_e=>this.bufferToHex(_e))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?buffer_1$1.Buffer.from([]):this.layers[this.layers.length-1][0]||buffer_1$1.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(_e,tt){if(typeof _e>"u")throw new Error("leaf is required");_e=this.bufferify(_e);const rt=[];if(!Number.isInteger(tt)){tt=-1;for(let nt=0;nt<this.leaves.length;nt++)buffer_1$1.Buffer.compare(_e,this.leaves[nt])===0&&(tt=nt)}if(tt<=-1)return[];for(let nt=0;nt<this.layers.length;nt++){const it=this.layers[nt],at=tt%2,ot=at?tt-1:this.isBitcoinTree&&tt===it.length-1&&nt<this.layers.length-1?tt:tt+1;ot<it.length&&rt.push({position:at?"left":"right",data:it[ot]}),tt=tt/2|0}return rt}getHexProof(_e,tt){return this.getProof(_e,tt).map(rt=>this.bufferToHex(rt.data))}getPositionalHexProof(_e,tt){return this.getProof(_e,tt).map(rt=>[rt.position==="left"?0:1,this.bufferToHex(rt.data)])}static marshalProof(_e){const tt=_e.map(rt=>typeof rt=="string"?rt:buffer_1$1.Buffer.isBuffer(rt)?MerkleTree.bufferToHex(rt):{position:rt.position,data:MerkleTree.bufferToHex(rt.data)});return JSON.stringify(tt,null,2)}static unmarshalProof(_e){let tt=null;if(typeof _e=="string")tt=JSON.parse(_e);else if(_e instanceof Object)tt=_e;else throw new Error("Expected type of string or object");if(!tt)return[];if(!Array.isArray(tt))throw new Error("Expected JSON string to be array");return tt.map(rt=>{if(typeof rt=="string")return MerkleTree.bufferify(rt);if(rt instanceof Object)return{position:rt.position,data:MerkleTree.bufferify(rt.data)};throw new Error("Expected item to be of type string or object")})}getProofIndices(_e,tt){const rt=Math.pow(2,tt);let nt=new Set;for(const ut of _e){let ft=rt+ut;for(;ft>1;)nt.add(ft^1),ft=ft/2|0}const it=_e.map(ut=>rt+ut),at=Array.from(nt).sort((ut,ft)=>ut-ft).reverse();nt=it.concat(at);const ot=new Set,ct=[];for(let ut of nt)if(!ot.has(ut))for(ct.push(ut);ut>1&&(ot.add(ut),!!ot.has(ut^1));)ut=ut/2|0;return ct.filter(ut=>!_e.includes(ut-rt))}getProofIndicesForUnevenTree(_e,tt){const rt=Math.ceil(Math.log2(tt)),nt=[];for(let ot=0;ot<rt;ot++)tt%2!==0&&nt.push({index:ot,leavesCount:tt}),tt=Math.ceil(tt/2);const it=[];let at=_e;for(let ot=0;ot<rt;ot++){let ut=at.map(yt=>yt%2===0?yt+1:yt-1).filter(yt=>!at.includes(yt));const ft=nt.find(({index:yt})=>yt===ot);ft&&at.includes(ft.leavesCount-1)&&(ut=ut.slice(0,-1)),it.push(ut),at=[...new Set(at.map(yt=>yt%2===0?yt/2:yt%2===0?(yt+1)/2:(yt-1)/2))]}return it}getMultiProof(_e,tt){if(tt||(tt=_e,_e=this.getLayersFlat()),this.isUnevenTree()&&tt.every(Number.isInteger))return this.getMultiProofForUnevenTree(tt);if(!tt.every(Number.isInteger)){let nt=tt;this.sortPairs&&(nt=nt.sort(buffer_1$1.Buffer.compare));let it=nt.map(ut=>this._bufferIndexOf(this.leaves,ut)).sort((ut,ft)=>ut===ft?0:ut>ft?1:-1);if(!it.every(ut=>ut!==-1))throw new Error("Element does not exist in Merkle tree");const at=[],ot=[];let ct=[];for(let ut=0;ut<this.layers.length;ut++){const ft=this.layers[ut];for(let yt=0;yt<it.length;yt++){const bt=it[yt],Et=this._getPairNode(ft,bt);at.push(ft[bt]),Et&&ot.push(Et),ct.push(bt/2|0)}it=ct.filter((yt,bt,Et)=>Et.indexOf(yt)===bt),ct=[]}return ot.filter(ut=>!at.includes(ut))}return this.getProofIndices(tt,this._log2(_e.length/2|0)).map(nt=>_e[nt])}getMultiProofForUnevenTree(_e,tt){tt||(tt=_e,_e=this.getLayers());let rt=[],nt=tt;for(const it of _e){const at=[];for(const ct of nt){if(ct%2===0){const ft=ct+1;if(!nt.includes(ft)&&it[ft]){at.push(it[ft]);continue}}const ut=ct-1;if(!nt.includes(ut)&&it[ut]){at.push(it[ut]);continue}}rt=rt.concat(at);const ot=new Set;for(const ct of nt){if(ct%2===0){ot.add(ct/2);continue}if(ct%2===0){ot.add((ct+1)/2);continue}ot.add((ct-1)/2)}nt=Array.from(ot)}return rt}getHexMultiProof(_e,tt){return this.getMultiProof(_e,tt).map(rt=>this.bufferToHex(rt))}getProofFlags(_e,tt){if(!Array.isArray(_e)||_e.length<=0)throw new Error("Invalid Inputs!");let rt;if(_e.every(Number.isInteger)?rt=_e.sort((ot,ct)=>ot===ct?0:ot>ct?1:-1):rt=_e.map(ot=>this._bufferIndexOf(this.leaves,ot)).sort((ot,ct)=>ot===ct?0:ot>ct?1:-1),!rt.every(ot=>ot!==-1))throw new Error("Element does not exist in Merkle tree");const nt=tt.map(ot=>this.bufferify(ot)),it=[],at=[];for(let ot=0;ot<this.layers.length;ot++){const ct=this.layers[ot];rt=rt.reduce((ut,ft)=>{if(!it.includes(ct[ft])){const bt=this._getPairNode(ct,ft),Et=nt.includes(ct[ft])||nt.includes(bt);bt&&at.push(!Et),it.push(ct[ft]),it.push(bt)}return ut.push(ft/2|0),ut},[])}return at}verify(_e,tt,rt){let nt=this.bufferify(tt);if(rt=this.bufferify(rt),!Array.isArray(_e)||!tt||!rt)return!1;for(let it=0;it<_e.length;it++){const at=_e[it];let ot=null,ct=null;if(typeof at=="string")ot=this.bufferify(at),ct=!0;else if(Array.isArray(at))ct=at[0]===0,ot=this.bufferify(at[1]);else if(buffer_1$1.Buffer.isBuffer(at))ot=at,ct=!0;else if(at instanceof Object)ot=this.bufferify(at.data),ct=at.position==="left";else throw new Error("Expected node to be of type string or object");const ut=[];this.isBitcoinTree?(ut.push(buffer_reverse_1.default(nt)),ut[ct?"unshift":"push"](buffer_reverse_1.default(ot)),nt=this.hashFn(buffer_1$1.Buffer.concat(ut)),nt=buffer_reverse_1.default(this.hashFn(nt))):this.sortPairs?buffer_1$1.Buffer.compare(nt,ot)===-1?(ut.push(nt,ot),nt=this.hashFn(buffer_1$1.Buffer.concat(ut))):(ut.push(ot,nt),nt=this.hashFn(buffer_1$1.Buffer.concat(ut))):(ut.push(nt),ut[ct?"unshift":"push"](ot),nt=this.hashFn(buffer_1$1.Buffer.concat(ut)))}return buffer_1$1.Buffer.compare(nt,rt)===0}verifyMultiProof(_e,tt,rt,nt,it){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(_e,tt,rt,nt,it);const ot=Math.ceil(Math.log2(nt));_e=this.bufferify(_e),rt=rt.map(yt=>this.bufferify(yt)),it=it.map(yt=>this.bufferify(yt));const ct={};for(const[yt,bt]of this._zip(tt,rt))ct[Math.pow(2,ot)+yt]=bt;for(const[yt,bt]of this._zip(this.getProofIndices(tt,ot),it))ct[yt]=bt;let ut=Object.keys(ct).map(yt=>+yt).sort((yt,bt)=>yt-bt);ut=ut.slice(0,ut.length-1);let ft=0;for(;ft<ut.length;){const yt=ut[ft];if(yt>=2&&{}.hasOwnProperty.call(ct,yt^1)){let bt=[ct[yt-yt%2],ct[yt-yt%2+1]];this.sortPairs&&(bt=bt.sort(buffer_1$1.Buffer.compare));const Et=bt[1]?this.hashFn(buffer_1$1.Buffer.concat(bt)):bt[0];ct[yt/2|0]=Et,ut.push(yt/2|0)}ft+=1}return!tt.length||{}.hasOwnProperty.call(ct,1)&&ct[1].equals(_e)}verifyMultiProofWithFlags(_e,tt,rt,nt){_e=this.bufferify(_e),tt=tt.map(this.bufferify),rt=rt.map(this.bufferify);const it=tt.length,at=nt.length,ot=[];let ct=0,ut=0,ft=0;for(let yt=0;yt<at;yt++){const bt=nt[yt]?ct<it?tt[ct++]:ot[ut++]:rt[ft++],Et=ct<it?tt[ct++]:ot[ut++],Ct=[bt,Et].sort(buffer_1$1.Buffer.compare);ot[yt]=this.hashFn(buffer_1$1.Buffer.concat(Ct))}return buffer_1$1.Buffer.compare(ot[at-1],_e)===0}verifyMultiProofForUnevenTree(_e,tt,rt,nt,it){_e=this.bufferify(_e),rt=rt.map(ot=>this.bufferify(ot)),it=it.map(ot=>this.bufferify(ot));const at=this.calculateRootForUnevenTree(tt,rt,nt,it);return _e.equals(at)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const _e=this.getLayers().map(rt=>rt.map(nt=>this.bufferToHex(nt,!1))),tt=[];for(let rt=0;rt<_e.length;rt++){const nt=[];for(let it=0;it<_e[rt].length;it++){const at={[_e[rt][it]]:null};if(tt.length){at[_e[rt][it]]={};const ot=tt.shift(),ct=Object.keys(ot)[0];if(at[_e[rt][it]][ct]=ot[ct],tt.length){const ut=tt.shift(),ft=Object.keys(ut)[0];at[_e[rt][it]][ft]=ut[ft]}}nt.push(at)}tt.push(...nt)}return tt[0]}static verify(_e,tt,rt,nt=sha256_1$1.default,it={}){return new MerkleTree([],nt,it).verify(_e,tt,rt)}static getMultiProof(_e,tt){return new MerkleTree([]).getMultiProof(_e,tt)}resetTree(){this.leaves=[],this.layers=[]}_getPairNode(_e,tt){const rt=tt%2===0?tt+1:tt-1;return rt<_e.length?_e[rt]:null}_toTreeString(){const _e=this.getLayersAsObject();return treeify_1.default.asTree(_e,!0)}toString(){return this._toTreeString()}isUnevenTree(_e){const tt=(_e==null?void 0:_e.length)||this.getDepth();return!this.isPowOf2(tt)}isPowOf2(_e){return _e&&!(_e&_e-1)}calculateRootForUnevenTree(_e,tt,rt,nt){const it=this._zip(_e,tt).sort(([yt],[bt])=>yt-bt),at=it.map(([yt])=>yt),ot=this.getProofIndicesForUnevenTree(at,rt);let ct=0;const ut=[];for(let yt=0;yt<ot.length;yt++){const bt=ot[yt],Et=ct;ct+=bt.length,ut[yt]=this._zip(bt,nt.slice(Et,ct))}const ft=[it];for(let yt=0;yt<ut.length;yt++){const bt=ut[yt].concat(ft[yt]).sort(([St],[Tt])=>St-Tt).map(([,St])=>St),Et=ft[yt].map(([St])=>St),Ct=[...new Set(Et.map(St=>St%2===0?St/2:St%2===0?(St+1)/2:(St-1)/2))],At=[];for(let St=0;St<Ct.length;St++){const Tt=Ct[St],$t=bt[St*2],kt=bt[St*2+1],Pt=kt?this.hashFn(buffer_1$1.Buffer.concat([$t,kt])):$t;At.push([Tt,Pt])}ft.push(At)}return ft[ft.length-1][0][1]}}MerkleTree$1.MerkleTree=MerkleTree;typeof window<"u"&&(window.MerkleTree=MerkleTree);MerkleTree$1.default=MerkleTree;var MerkleMountainRange$1={},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(MerkleMountainRange$1,"__esModule",{value:!0});MerkleMountainRange$1.MerkleMountainRange=void 0;const buffer_1=buffer$2,sha256_1=__importDefault$8(sha256$1.exports),Base_1=__importDefault$8(Base$1);class MerkleMountainRange extends Base_1.default{constructor(_e=sha256_1.default,tt=[],rt,nt,it){super(),this.root=buffer_1.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},tt=tt.map(this.bufferify),this.hashFn=this.bufferifyFn(_e),this.hashLeafFn=rt,this.peakBaggingFn=nt,this.hashBranchFn=it;for(const at of tt)this.append(at)}append(_e){_e=this.bufferify(_e);const tt=this.hashFn(_e),rt=this.bufferToHex(tt);(!this.data[rt]||this.bufferToHex(this.hashFn(this.data[rt]))!==rt)&&(this.data[rt]=_e);const nt=this.hashLeaf(this.size+1,tt);this.hashes[this.size+1]=nt,this.width+=1;const it=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const at=[];for(let ot=0;ot<it.length;ot++)at[ot]=this._getOrCreateNode(it[ot]);this.root=this.peakBagging(this.width,at)}hashLeaf(_e,tt){return tt=this.bufferify(tt),this.hashLeafFn?this.bufferify(this.hashLeafFn(_e,tt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(_e),tt]))}hashBranch(_e,tt,rt){return this.hashBranchFn?this.bufferify(this.hashBranchFn(_e,tt,rt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(_e),this.bufferify(tt),this.bufferify(rt)]))}getPeaks(){const _e=this.getPeakIndexes(this.width),tt=[];for(let rt=0;rt<_e.length;rt++)tt[rt]=this.hashes[_e[rt]];return tt}getLeafIndex(_e){return _e%2===1?this.getSize(_e):this.getSize(_e-1)+1}getPeakIndexes(_e){const tt=this.numOfPeaks(_e),rt=[];let nt=0,it=0;for(let at=255;at>0&&!((_e&1<<at-1)!==0&&(it=it+(1<<at)-1,rt[nt++]=it,rt.length>=tt));at--);if(nt!==rt.length)throw new Error("invalid bit calculation");return rt}numOfPeaks(_e){let tt=_e,rt=0;for(;tt>0;)tt%2===1&&rt++,tt=tt>>1;return rt}peakBagging(_e,tt){const rt=this.getSize(_e);if(this.numOfPeaks(_e)!==tt.length)throw new Error("received invalid number of peaks");return _e===0&&!tt.length?buffer_1.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(rt,tt)):this.hashFn(buffer_1.Buffer.concat([this.bufferify(rt),...tt.map(this.bufferify)]))}getSize(_e){return(_e<<1)-this.numOfPeaks(_e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(_e){return this.hashes[_e]}mountainHeight(_e){let tt=1;for(;1<<tt<=_e+tt;)tt++;return tt-1}heightAt(_e){let tt=_e,rt=0,nt=0;for(;tt>rt;)tt-=(1<<nt)-1,nt=this.mountainHeight(tt),rt=(1<<nt)-1;return nt-(rt-tt)}isLeaf(_e){return this.heightAt(_e)===1}getChildren(_e){const tt=_e-(1<<this.heightAt(_e)-1),rt=_e-1;if(tt===rt)throw new Error("not a parent");return[tt,rt]}getMerkleProof(_e){if(_e>this.size)throw new Error("out of range");if(!this.isLeaf(_e))throw new Error("not a leaf");const tt=this.root,rt=this.width,nt=this.getPeakIndexes(this.width),it=[];let at=0;for(let yt=0;yt<nt.length;yt++)it[yt]=this.hashes[nt[yt]],nt[yt]>=_e&&at===0&&(at=nt[yt]);let ot=0,ct=0,ut=this.heightAt(at);const ft=[];for(;at!==_e;)ut--,[ot,ct]=this.getChildren(at),at=_e<=ot?ot:ct,ft[ut-1]=this.hashes[_e<=ot?ct:ot];return{root:tt,width:rt,peakBagging:it,siblings:ft}}verify(_e,tt,rt,nt,it,at){if(nt=this.bufferify(nt),this.getSize(tt)<rt)throw new Error("index is out of range");if(!_e.equals(this.peakBagging(tt,it)))throw new Error("invalid root hash from the peaks");let ct=0,ut;const ft=this.getPeakIndexes(tt);for(let St=0;St<ft.length;St++)if(ft[St]>=rt){ut=it[St],ct=ft[St];break}if(!ut)throw new Error("target not found");let yt=at.length+1;const bt=new Array(yt);let Et=0,Ct=0;for(;yt>0&&(bt[--yt]=ct,ct!==rt);)[Et,Ct]=this.getChildren(ct),ct=rt>Et?Ct:Et;let At;for(;yt<bt.length;)ct=bt[yt],yt===0?At=this.hashLeaf(ct,this.hashFn(nt)):ct-1===bt[yt-1]?At=this.hashBranch(ct,at[yt-1],At):At=this.hashBranch(ct,At,at[yt-1]),yt++;if(!At.equals(ut))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(_e,tt){const rt={};let nt=0,it=0,at=tt.length;for(let ot=1;ot<=32;ot++)nt=32-ot,it=1<<ot-1,(_e&it)!==0?rt[nt]=tt[--at]:rt[nt]=0;if(at!==0)throw new Error("invalid number of peaks");return rt}peakMapToPeaks(_e,tt){const rt=this.numOfPeaks(_e),nt=new Array(rt);let it=0;for(let at=0;at<32;at++)tt[at]!==0&&(nt[it++]=tt[at]);if(it!==rt)throw new Error("invalid number of peaks");return nt}peakUpdate(_e,tt,rt){const nt={},it=_e+1;let at=this.getLeafIndex(it),ot=this.hashLeaf(at,rt),ct=0,ut=0,ft=!1,yt=!1,bt=!1;for(let Et=1;Et<=32;Et++)ct=32-Et,bt?nt[ct]=tt[ct]:(ut=1<<Et-1,ft=(_e&ut)!==0,yt=(it&ut)!==0,at++,ft&&(ot=this.hashBranch(at,tt[ct],ot)),yt?(ft?nt[ct]=tt[ct]:nt[ct]=ot,bt=!0):nt[ct]=0);return nt}rollUp(_e,tt,rt,nt){if(!_e.equals(this.peakBagging(tt,rt)))throw new Error("invalid root hash from the peaks");let it=tt,at=this.peaksToPeakMap(tt,rt);for(let ot=0;ot<nt.length;ot++)at=this.peakUpdate(it,at,nt[ot]),it++;return this.peakBagging(it,this.peakMapToPeaks(it,at))}_getOrCreateNode(_e){if(_e>this.size)throw new Error("out of range");if(!this.hashes[_e]){const[tt,rt]=this.getChildren(_e),nt=this._getOrCreateNode(tt),it=this._getOrCreateNode(rt);this.hashes[_e]=this.hashBranch(_e,nt,it)}return this.hashes[_e]}}MerkleMountainRange$1.MerkleMountainRange=MerkleMountainRange;MerkleMountainRange$1.default=MerkleMountainRange;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__importDefault||function(nt){return nt&&nt.__esModule?nt:{default:nt}};Object.defineProperty(et,"__esModule",{value:!0}),et.MerkleTree=void 0;const tt=_e(MerkleTree$1);et.MerkleTree=tt.default;var rt=MerkleMountainRange$1;Object.defineProperty(et,"MerkleMountainRange",{enumerable:!0,get:function(){return rt.MerkleMountainRange}}),et.default=tt.default})(dist$3);var fastDeepEqual=function et(_e,tt){if(_e===tt)return!0;if(_e&&tt&&typeof _e=="object"&&typeof tt=="object"){if(_e.constructor!==tt.constructor)return!1;var rt,nt,it;if(Array.isArray(_e)){if(rt=_e.length,rt!=tt.length)return!1;for(nt=rt;nt--!==0;)if(!et(_e[nt],tt[nt]))return!1;return!0}if(_e.constructor===RegExp)return _e.source===tt.source&&_e.flags===tt.flags;if(_e.valueOf!==Object.prototype.valueOf)return _e.valueOf()===tt.valueOf();if(_e.toString!==Object.prototype.toString)return _e.toString()===tt.toString();if(it=Object.keys(_e),rt=it.length,rt!==Object.keys(tt).length)return!1;for(nt=rt;nt--!==0;)if(!Object.prototype.hasOwnProperty.call(tt,it[nt]))return!1;for(nt=rt;nt--!==0;){var at=it[nt];if(!et(_e[at],tt[at]))return!1}return!0}return _e!==_e&&tt!==tt};const ERC721MetadataAbi=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],ERC1155MetadataAbi=[{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DeprecatedAbi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"string",name:"revealedURI",type:"string"}],name:"TokenURIRevealed",type:"event"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"key",type:"bytes"}],name:"encryptDecrypt",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"}],name:"encryptedBaseURI",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"identifier",type:"uint256"},{internalType:"bytes",name:"key",type:"bytes"}],name:"reveal",outputs:[{internalType:"string",name:"revealedURI",type:"string"}],stateMutability:"nonpayable",type:"function"}],TWFactoryAbi=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"address",name:"_registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!0,internalType:"bytes32",name:"contractType",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"version",type:"uint256"}],name:"ImplementationAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"bool",name:"isApproved",type:"bool"}],name:"ImplementationApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"},{indexed:!1,internalType:"address",name:"proxy",type:"address"},{indexed:!0,internalType:"address",name:"deployer",type:"address"}],name:"ProxyDeployed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FACTORY_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"}],name:"addImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"approval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bool",name:"_toApprove",type:"bool"}],name:"approveImplementation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"currentVersion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"deployProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_implementation",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyByImplementation",outputs:[{internalType:"address",name:"deployedProxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes32",name:"_salt",type:"bytes32"}],name:"deployProxyDeterministic",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"},{internalType:"uint256",name:"_version",type:"uint256"}],name:"getImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_type",type:"bytes32"}],name:"getLatestImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"implementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"contract TWRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],TWRegistryABI$1=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"}],name:"Deleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],ContractPublisherAbi=[{inputs:[{internalType:"address",name:"_trustedForwarder",type:"address"},{internalType:"contract IContractPublisher",name:"_prevPublisher",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],indexed:!1,internalType:"struct IContractPublisher.CustomContractInstance",name:"publishedContract",type:"tuple"}],name:"ContractPublished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!0,internalType:"string",name:"contractId",type:"string"}],name:"ContractUnpublished",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!1,internalType:"string",name:"prevURI",type:"string"},{indexed:!1,internalType:"string",name:"newURI",type:"string"}],name:"PublisherProfileUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"}],name:"getAllPublishedContracts",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContract",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance",name:"published",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"getPublishedContractVersions",outputs:[{components:[{internalType:"string",name:"contractId",type:"string"},{internalType:"uint256",name:"publishTimestamp",type:"uint256"},{internalType:"string",name:"publishMetadataUri",type:"string"},{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IContractPublisher.CustomContractInstance[]",name:"published",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"compilerMetadataUri",type:"string"}],name:"getPublishedUriFromCompilerUri",outputs:[{internalType:"string[]",name:"publishedMetadataUris",type:"string[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"}],name:"getPublisherProfileUri",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"prevPublisher",outputs:[{internalType:"contract IContractPublisher",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"},{internalType:"string",name:"_publishMetadataUri",type:"string"},{internalType:"string",name:"_compilerMetadataUri",type:"string"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"address",name:"_implementation",type:"address"}],name:"publishContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"setPause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"publisher",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"setPublisherProfileUri",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_publisher",type:"address"},{internalType:"string",name:"_contractId",type:"string"}],name:"unpublishContract",outputs:[],stateMutability:"nonpayable",type:"function"}],TWRegistryABI=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"},{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"},{indexed:!1,internalType:"string",name:"metadataUri",type:"string"}],name:"Added",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployer",type:"address"},{indexed:!0,internalType:"address",name:"deployment",type:"address"},{indexed:!0,internalType:"uint256",name:"chainId",type:"uint256"}],name:"Deleted",type:"event"},{inputs:[],name:"OPERATOR_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"_msgData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"_msgSender",outputs:[{internalType:"address",name:"sender",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"},{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"string",name:"metadataUri",type:"string"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contractType",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"deploymentCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"}],name:"getAll",outputs:[{components:[{internalType:"address",name:"deploymentAddress",type:"address"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"}],internalType:"struct ITWMultichainRegistry.Deployment[]",name:"allDeployments",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_chainId",type:"uint256"},{internalType:"address",name:"_deployment",type:"address"}],name:"getMetadataUri",outputs:[{internalType:"string",name:"metadataUri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_deployment",type:"address"},{internalType:"uint256",name:"_chainId",type:"uint256"}],name:"remove",outputs:[],stateMutability:"nonpayable",type:"function"}],TWRegistryRouterABI=[{inputs:[{internalType:"address",name:"_pluginMap",type:"address"},{internalType:"address[]",name:"_trustedForwarders",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"string",name:"functionSignature",type:"string"},{indexed:!0,internalType:"address",name:"pluginAddress",type:"address"}],name:"PluginSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionSelector",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldPluginAddress",type:"address"},{indexed:!0,internalType:"address",name:"newPluginAddress",type:"address"}],name:"PluginUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"_getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"addPlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pluginAddress",type:"address"}],name:"getAllFunctionsOfPlugin",outputs:[{internalType:"bytes4[]",name:"registered",type:"bytes4[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"getPluginForFunction",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"member",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"count",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRoleWithSwitch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pluginMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"_selector",type:"bytes4"}],name:"removePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin",name:"_plugin",type:"tuple"}],name:"updatePlugin",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];function base$1(et){if(et.length>=255)throw new TypeError("Alphabet too long");for(var _e=new Uint8Array(256),tt=0;tt<_e.length;tt++)_e[tt]=255;for(var rt=0;rt<et.length;rt++){var nt=et.charAt(rt),it=nt.charCodeAt(0);if(_e[it]!==255)throw new TypeError(nt+" is ambiguous");_e[it]=rt}var at=et.length,ot=et.charAt(0),ct=Math.log(at)/Math.log(256),ut=Math.log(256)/Math.log(at);function ft(Et){if(Et instanceof Uint8Array||(ArrayBuffer.isView(Et)?Et=new Uint8Array(Et.buffer,Et.byteOffset,Et.byteLength):Array.isArray(Et)&&(Et=Uint8Array.from(Et))),!(Et instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Et.length===0)return"";for(var Ct=0,At=0,St=0,Tt=Et.length;St!==Tt&&Et[St]===0;)St++,Ct++;for(var $t=(Tt-St)*ut+1>>>0,kt=new Uint8Array($t);St!==Tt;){for(var Pt=Et[St],Ot=0,Ht=$t-1;(Pt!==0||Ot<At)&&Ht!==-1;Ht--,Ot++)Pt+=256*kt[Ht]>>>0,kt[Ht]=Pt%at>>>0,Pt=Pt/at>>>0;if(Pt!==0)throw new Error("Non-zero carry");At=Ot,St++}for(var qt=$t-At;qt!==$t&&kt[qt]===0;)qt++;for(var Zt=ot.repeat(Ct);qt<$t;++qt)Zt+=et.charAt(kt[qt]);return Zt}function yt(Et){if(typeof Et!="string")throw new TypeError("Expected String");if(Et.length===0)return new Uint8Array;for(var Ct=0,At=0,St=0;Et[Ct]===ot;)At++,Ct++;for(var Tt=(Et.length-Ct)*ct+1>>>0,$t=new Uint8Array(Tt);Et[Ct];){var kt=_e[Et.charCodeAt(Ct)];if(kt===255)return;for(var Pt=0,Ot=Tt-1;(kt!==0||Pt<St)&&Ot!==-1;Ot--,Pt++)kt+=at*$t[Ot]>>>0,$t[Ot]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");St=Pt,Ct++}for(var Ht=Tt-St;Ht!==Tt&&$t[Ht]===0;)Ht++;for(var qt=new Uint8Array(At+(Tt-Ht)),Zt=At;Ht!==Tt;)qt[Zt++]=$t[Ht++];return qt}function bt(Et){var Ct=yt(Et);if(Ct)return Ct;throw new Error("Non-base"+at+" character")}return{encode:ft,decodeUnsafe:yt,decode:bt}}var src$2=base$1;const basex=src$2,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET);function _checkPrivateRedeclaration$2(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec$2(et,_e,tt){_checkPrivateRedeclaration$2(et,_e),_e.set(et,tt)}function _classApplyDescriptorGet$2(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor$2(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet$2(et,_e){var tt=_classExtractFieldDescriptor$2(et,_e,"get");return _classApplyDescriptorGet$2(et,tt)}function _classApplyDescriptorSet$2(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet$2(et,_e,tt){var rt=_classExtractFieldDescriptor$2(et,_e,"set");return _classApplyDescriptorSet$2(et,rt,tt),tt}let ChainId$1;(function(et){et[et.Mainnet=1]="Mainnet",et[et.Goerli=5]="Goerli",et[et.Polygon=137]="Polygon",et[et.Mumbai=80001]="Mumbai",et[et.Localhost=1337]="Localhost",et[et.Hardhat=31337]="Hardhat",et[et.Fantom=250]="Fantom",et[et.FantomTestnet=4002]="FantomTestnet",et[et.Avalanche=43114]="Avalanche",et[et.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",et[et.Optimism=10]="Optimism",et[et.OptimismGoerli=420]="OptimismGoerli",et[et.Arbitrum=42161]="Arbitrum",et[et.ArbitrumGoerli=421613]="ArbitrumGoerli",et[et.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",et[et.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet"})(ChainId$1||(ChainId$1={}));const SUPPORTED_CHAIN_IDS=[ChainId$1.Mainnet,ChainId$1.Goerli,ChainId$1.Polygon,ChainId$1.Mumbai,ChainId$1.Fantom,ChainId$1.FantomTestnet,ChainId$1.Avalanche,ChainId$1.AvalancheFujiTestnet,ChainId$1.Optimism,ChainId$1.OptimismGoerli,ChainId$1.Arbitrum,ChainId$1.ArbitrumGoerli,ChainId$1.BinanceSmartChainMainnet,ChainId$1.BinanceSmartChainTestnet],OZ_DEFENDER_FORWARDER_ADDRESS="0xc82BbE41f2cF04e3a8efA18F7032BDD7f6d98a81",TWRegistry_address="0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",TWFactory_address="0x5DBC7B840baa9daBcBe9D2492E45D7244B54A2A0",ContractPublisher_address="0x664244560eBa21Bf82d7150C791bE1AbcD5B4cd7",MultichainRegistry_address="0xcdAD8FA86e18538aC207872E8ff3536501431B73",CONTRACT_ADDRESSES={[ChainId$1.Mainnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x76ce2CB1Ae48Fa067f4fb8c5f803111AE0B24BEA",biconomyForwarder:"0x84a0856b038eaAd1cC7E297cF34A7e72685A8693",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.Goerli]:{openzeppelinForwarder:"0x5001A14CA6163143316a7C614e30e6041033Ac20",openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0xE041608922d06a4F26C0d4c27d8bCD01daf1f792",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0xB1Bd9d7942A250BA2Dce27DD601F2ED4211A60C4"},[ChainId$1.Polygon]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x308473Be900F4185A56587dE54bDFF5E8f7a6AE7"},[ChainId$1.Mumbai]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x9399BB24DBB5C4b782C70c2969F58716Ebbd6a3b",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3F17972CB27506eb4a6a3D59659e0B57a43fd16C"},[ChainId$1.Avalanche]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.AvalancheFujiTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xe73c50cB9c5B378627ff625BB6e6725A4A5D65d2",biconomyForwarder:"0x6271Ca63D30507f2Dcbf99B52787032506D75BBF",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId$1.Fantom]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0xb1A2883fc4d287d9cB8Dbb96cFF60C76BEf2D250",biconomyForwarder:"0x64CD353384109423a966dCd3Aa30D884C9b2E057",twFactory:"0x97EA0Fcc552D5A8Fb5e9101316AAd0D62Ea0876B",twRegistry:TWRegistry_address,twBYOCRegistry:AddressZero},[ChainId$1.FantomTestnet]:{openzeppelinForwarder:OZ_DEFENDER_FORWARDER_ADDRESS,openzeppelinForwarderEOA:"0x42D3048b595B6e1c28a588d70366CcC2AA4dB47b",biconomyForwarder:"0x69FB8Dca8067A5D38703b9e8b39cf2D51473E4b4",twFactory:TWFactory_address,twRegistry:TWRegistry_address,twBYOCRegistry:"0x3E6eE864f850F5e5A98bc950B68E181Cf4010F23"},[ChainId$1.Arbitrum]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x4f247c69184ad61036EC2Bb3213b69F10FbEDe1F",biconomyForwarder:"0xfe0fa3C06d03bDC7fb49c892BbB39113B534fB57",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.ArbitrumGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.Optimism]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0xefba8a2a82ec1fb1273806174f5e28fbb917cf95",twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.OptimismGoerli]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x119704314Ef304EaAAE4b3c7C9ABd59272A28310",biconomyForwarder:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd",twBYOCRegistry:AddressZero},[ChainId$1.BinanceSmartChainMainnet]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0xE8dd2Ff0212F86d3197b4AfDC6dAC6ac47eb10aC",biconomyForwarder:"0x86C80a8aa58e0A4fa09A69624c31Ab2a6CAD56b8",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"},[ChainId$1.BinanceSmartChainTestnet]:{openzeppelinForwarder:"0x8cbc8B5d71702032904750A66AEfE8B603eBC538",openzeppelinForwarderEOA:"0x7e80648EB2071E26937F9D42A513ccf4815fc702",biconomyForwarder:"0x61456BF1715C1415730076BB79ae118E806E74d2",twBYOCRegistry:AddressZero,twFactory:"0xd24b3de085CFd8c54b94feAD08a7962D343E6DE0",twRegistry:"0x7c487845f98938Bb955B1D5AD069d9a30e4131fd"}},APPROVED_IMPLEMENTATIONS={[ChainId$1.Mainnet]:{"nft-drop":"0x60fF9952e0084A6DEac44203838cDC91ABeC8736","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","signature-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A"},[ChainId$1.Polygon]:{"nft-drop":"0xB96508050Ba0925256184103560EBADA912Fcc69","edition-drop":"0x74af262d0671F378F97a1EDC3d0970Dbe8A1C550","token-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","signature-drop":"0xBE2fDc35410E268e41Bec62DBb01AEb43245c7d5"},[ChainId$1.Fantom]:{"nft-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","edition-drop":"0x06395FCF9AC6ED827f9dD6e776809cEF1Be0d21B","token-drop":"0x0148b28a38efaaC31b6aa0a6D9FEb70FE7C91FFa","signature-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10"},[ChainId$1.Avalanche]:{"nft-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","edition-drop":"0x135fC9D26E5eC51260ece1DF4ED424E2f55c7766","token-drop":"0xca0B071899E575BA86495D46c5066971b6f3A901","signature-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3"},[ChainId$1.Optimism]:{"nft-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","edition-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","token-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","signature-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD"},[ChainId$1.Arbitrum]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId$1.BinanceSmartChainMainnet]:{"nft-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","edition-drop":"0x2A396b2D90BAcEF19cDa973586B2633d22710fC2","token-drop":"0xe135Ef65C2B2213C3fD56d0Bd6500A2cA147aC10","signature-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1"},[ChainId$1.Goerli]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf","token-drop":"0x5680933221B752EB443654a014f88B101F868d50","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId$1.Mumbai]:{"nft-drop":"0xC4903c1Ff5367b9ac2c349B63DC2409421AaEE2a","edition-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","token-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9","signature-drop":"0x2dF9851af45dd41C8584ac55D983C604da985Bc7"},[ChainId$1.FantomTestnet]:{"nft-drop":"0x8a4cd3549e548bbEEb38C16E041FFf040a5acabD","edition-drop":"0x902Dd246e66d8C3CE652375a723F2a52b43b9AAE","token-drop":"0xFBd7D24d80ee005671E731a7287DEB6073264dD1","signature-drop":"0x5A8eA4Adad8289746D073947BA06D69A62499aaf"},[ChainId$1.AvalancheFujiTestnet]:{"nft-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","edition-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728","token-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","signature-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F"},[ChainId$1.OptimismGoerli]:{"nft-drop":"0xCcddcec1831646Beff2753249f1B9C580327E89F","edition-drop":"0x6fD690EB509BdE4C50028C5D9C0dE3750C2Fad6A","token-drop":"0xD11c97DD5F5546B5bBd630D7D1d7327481B0b92C","signature-drop":"0x1b5947e1a2d5a29D0df20931DeAB0B87818209B9"},[ChainId$1.ArbitrumGoerli]:{"nft-drop":"0x9CfE807a5b124b962064Fa8F7FD823Cc701255b6","edition-drop":"0x9cF91118C8ee2913F0588e0F10e36B3d63F68bF6","token-drop":"0x1d47526C3292B0130ef0afD5F02c1DA052A017B3","signature-drop":"0xE1eE43D23f247b6A9aF81fcE2766E76709482728"},[ChainId$1.BinanceSmartChainTestnet]:{"nft-drop":"","edition-drop":"","token-drop":"","signature-drop":""}};function getApprovedImplementation(et,_e){if(et in APPROVED_IMPLEMENTATIONS){const tt=APPROVED_IMPLEMENTATIONS[et];if(_e in tt)return tt[_e]}return null}function getContractAddressByChainId(et,_e){return et===ChainId$1.Hardhat?_e==="twFactory"?{}.factoryAddress:_e==="twRegistry"?{}.registryAddress:AddressZero:CONTRACT_ADDRESSES[et][_e]}function getContractPublisherAddress(){return{}.contractPublisherAddress?{}.contractPublisherAddress:ContractPublisher_address}function getMultichainRegistryAddress(){return{}.multiChainRegistryAddress?{}.multiChainRegistryAddress:MultichainRegistry_address}function getDefaultTrustedForwarders(et){const _e=SUPPORTED_CHAIN_IDS.find(nt=>nt===et),tt=_e?CONTRACT_ADDRESSES[_e].biconomyForwarder:AddressZero,rt=_e?CONTRACT_ADDRESSES[_e].openzeppelinForwarder:AddressZero;return tt!==AddressZero?[rt,tt]:[rt]}const InterfaceId_IERC721=arrayify("0x80ac58cd"),InterfaceId_IERC1155=arrayify("0xd9b67a26"),NATIVE_TOKEN_ADDRESS="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",NATIVE_TOKENS={[ChainId$1.Mainnet]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Goerli]:{name:"G\xF6rli Ether",symbol:"GOR",decimals:18,wrapped:{address:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Polygon]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId$1.Mumbai]:{name:"Matic",symbol:"MATIC",decimals:18,wrapped:{address:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",name:"Wrapped Matic",symbol:"WMATIC"}},[ChainId$1.Avalanche]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId$1.AvalancheFujiTestnet]:{name:"Avalanche",symbol:"AVAX",decimals:18,wrapped:{address:"0xd00ae08403B9bbb9124bB305C09058E32C39A48c",name:"Wrapped AVAX",symbol:"WAVAX"}},[ChainId$1.Fantom]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId$1.FantomTestnet]:{name:"Fantom",symbol:"FTM",decimals:18,wrapped:{address:"0xf1277d1Ed8AD466beddF92ef448A132661956621",name:"Wrapped Fantom",symbol:"WFTM"}},[ChainId$1.Arbitrum]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x82af49447d8a07e3bd95bd0d56f35241523fbab1",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.ArbitrumGoerli]:{name:"Arbitrum Goerli Ether",symbol:"AGOR",decimals:18,wrapped:{address:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Optimism]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.OptimismGoerli]:{name:"Goerli Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x4200000000000000000000000000000000000006",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.Hardhat]:{name:"Ether",symbol:"ETH",decimals:18,wrapped:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3",name:"Wrapped Ether",symbol:"WETH"}},[ChainId$1.BinanceSmartChainMainnet]:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18,wrapped:{address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",name:"Wrapped Binance Chain Token",symbol:"WBNB"}},[ChainId$1.BinanceSmartChainTestnet]:{name:"Binance Chain Native Token",symbol:"TBNB",decimals:18,wrapped:{address:"0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd",name:"Wrapped Binance Chain Testnet Token",symbol:"WBNB"}}};function getNativeTokenByChainId(et){return NATIVE_TOKENS[et]}const LINK_TOKEN_ADDRESS={[ChainId$1.Mainnet]:"0x514910771AF9Ca656af840dff83E8264EcF986CA",[ChainId$1.Goerli]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId$1.BinanceSmartChainMainnet]:"0x404460C6A5EdE2D891e8297795264fDe62ADBB75",[ChainId$1.Polygon]:"0xb0897686c545045aFc77CF20eC7A532E3120E0F1",[ChainId$1.Mumbai]:"0x326C977E6efc84E512bB9C30f76E30c160eD06FB",[ChainId$1.Avalanche]:"0x5947BB275c521040051D82396192181b413227A3",[ChainId$1.AvalancheFujiTestnet]:"0x0b9d5D9136855f6FEc3c0993feE6E9CE8a297846",[ChainId$1.Fantom]:"0x6F43FF82CCA38001B6699a8AC47A2d0E66939407",[ChainId$1.FantomTestnet]:"0xfaFedb041c0DD4fA2Dc0d87a6B0979Ee6FA7af5F"};let EventType;(function(et){et.Transaction="transaction",et.Signature="signature"})(EventType||(EventType={}));const DEFAULT_BATCH_TIME_LIMIT_MS=50,DEFAULT_BATCH_SIZE_LIMIT=250,DEFAULT_BATCH_OPTIONS={timeLimitMs:DEFAULT_BATCH_TIME_LIMIT_MS,sizeLimit:DEFAULT_BATCH_SIZE_LIMIT};class StaticJsonRpcBatchProvider extends StaticJsonRpcProvider{constructor(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DEFAULT_BATCH_OPTIONS;super(_e,tt),_defineProperty$3(this,"_timeLimitMs",void 0),_defineProperty$3(this,"_sizeLimit",void 0),_defineProperty$3(this,"_pendingBatchAggregator",void 0),_defineProperty$3(this,"_pendingBatch",void 0),this._timeLimitMs=rt.timeLimitMs||DEFAULT_BATCH_SIZE_LIMIT,this._sizeLimit=rt.sizeLimit||DEFAULT_BATCH_TIME_LIMIT_MS,this._pendingBatchAggregator=null,this._pendingBatch=null}sendCurrentBatch(_e){this._pendingBatchAggregator&&clearTimeout(this._pendingBatchAggregator);const tt=this._pendingBatch||[];this._pendingBatch=null,this._pendingBatchAggregator=null;const rt=tt.map(nt=>nt.request);return this.emit("debug",{action:"requestBatch",request:deepCopy(_e),provider:this}),fetchJson(this.connection,JSON.stringify(rt)).then(nt=>{this.emit("debug",{action:"response",request:rt,response:nt,provider:this}),tt.forEach((it,at)=>{const ot=nt[at];if(ot.error){const ct=new Error(ot.error.message);ct.code=ot.error.code,ct.data=ot.error.data,it.reject(ct)}else it.resolve(ot.result)})},nt=>{this.emit("debug",{action:"response",error:nt,request:rt,provider:this}),tt.forEach(it=>{it.reject(nt)})})}send(_e,tt){const rt={method:_e,params:tt,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch===null&&(this._pendingBatch=[]);const nt={request:rt,resolve:null,reject:null},it=new Promise((at,ot)=>{nt.resolve=at,nt.reject=ot});return this._pendingBatch.length===this._sizeLimit&&this.sendCurrentBatch(rt),this._pendingBatch.push(nt),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{this.sendCurrentBatch(rt)},this._timeLimitMs)),it}}const CHAIN_NAME_TO_ID={"avalanche-fuji":ChainId$1.AvalancheFujiTestnet,"avalanche-testnet":ChainId$1.AvalancheFujiTestnet,"fantom-testnet":ChainId$1.FantomTestnet,ethereum:ChainId$1.Mainnet,matic:ChainId$1.Polygon,mumbai:ChainId$1.Mumbai,goerli:ChainId$1.Goerli,polygon:ChainId$1.Polygon,mainnet:ChainId$1.Mainnet,optimism:ChainId$1.Optimism,"optimism-goerli":ChainId$1.OptimismGoerli,arbitrum:ChainId$1.Arbitrum,"arbitrum-goerli":ChainId$1.ArbitrumGoerli,fantom:ChainId$1.Fantom,avalanche:ChainId$1.Avalanche,binance:ChainId$1.BinanceSmartChainMainnet,"binance-testnet":ChainId$1.BinanceSmartChainTestnet},CHAIN_ID_TO_NAME=Object.fromEntries(Object.entries(CHAIN_NAME_TO_ID).map(et=>{let[_e,tt]=et;return[tt,_e]}));function buildDefaultMap(){return SUPPORTED_CHAIN_IDS.reduce((et,_e)=>(et[_e]=getProviderForNetwork(CHAIN_ID_TO_NAME[_e]),et),{})}const DEFAULT_RPC_URLS=buildDefaultMap();function getProviderForNetwork(et){if(typeof et!="string")return et;switch(et){case"mainnet":case"ethereum":return getRpcUrl$2("ethereum");case"goerli":return getRpcUrl$2("goerli");case"polygon":case"matic":return getRpcUrl$2("polygon");case"mumbai":return getRpcUrl$2("mumbai");case"optimism":return getRpcUrl$2("optimism");case"optimism-goerli":return getRpcUrl$2("optimism-goerli");case"arbitrum":return getRpcUrl$2("arbitrum");case"arbitrum-goerli":return getRpcUrl$2("arbitrum-goerli");case"fantom":return getRpcUrl$2("fantom");case"fantom-testnet":return getRpcUrl$2("fantom-testnet");case"avalanche":return getRpcUrl$2("avalanche");case"avalanche-testnet":case"avalanche-fuji":return getRpcUrl$2("avalanche-fuji");case"binance":return getRpcUrl$2("binance");case"binance-testnet":return getRpcUrl$2("binance-testnet");default:if(et.startsWith("http")||et.startsWith("ws"))return et;throw new Error(`Unrecognized chain name or RPC url: ${et}`)}}const READONLY_PROVIDER_MAP=new Map;function getReadOnlyProvider(et,_e){try{const tt=et.match(/^(ws|http)s?:/i);if(tt)switch(tt[1]){case"http":const rt=`${et}-${_e||-1}`,nt=READONLY_PROVIDER_MAP.get(rt);if(nt)return nt;const it=_e?new StaticJsonRpcBatchProvider(et,_e):new JsonRpcBatchProvider(et,_e);return READONLY_PROVIDER_MAP.set(rt,it),it;case"ws":return new WebSocketProvider(et,_e);default:return getDefaultProvider(et)}else return getDefaultProvider(et)}catch{return getDefaultProvider(et)}}ChainId$1.Polygon+"",ChainId$1.Mumbai+"",ChainId$1.Goerli+"",ChainId$1.Mainnet+"",ChainId$1.Optimism+"",ChainId$1.OptimismGoerli+"",ChainId$1.Arbitrum+"",ChainId$1.ArbitrumGoerli+"",ChainId$1.Fantom+"",ChainId$1.FantomTestnet+"",ChainId$1.Avalanche+"",ChainId$1.AvalancheFujiTestnet+"",ChainId$1.BinanceSmartChainMainnet+"",ChainId$1.BinanceSmartChainTestnet+"";class NotFoundError extends Error{constructor(_e){super(_e?`Object with id ${_e} NOT FOUND`:"NOT_FOUND")}}class MissingRoleError extends Error{constructor(_e,tt){super(`MISSING ROLE: ${_e} does not have the '${tt}' role`)}}class DuplicateLeafsError extends Error{constructor(_e){super(`DUPLICATE_LEAFS${_e?` : ${_e}`:""}`)}}class AuctionAlreadyStartedError extends Error{constructor(_e){super(`Auction already started with existing bid${_e?`, id: ${_e}`:""}`)}}class ListingNotFoundError extends Error{constructor(_e,tt){super(`Could not find listing.${_e?` marketplace address: ${_e}`:""}${tt?` listing id: ${tt}`:""}`)}}class WrongListingTypeError extends Error{constructor(_e,tt,rt,nt){super(`Incorrect listing type. Are you sure you're using the right method?.${_e?` marketplace address: ${_e}`:""}${tt?` listing id: ${tt}`:""}${nt?` expected type: ${nt}`:""}${rt?` actual type: ${rt}`:""}`)}}class AuctionHasNotEndedError extends Error{constructor(_e,tt){super(`Auction has not ended yet${_e?`, id: ${_e}`:""}${tt?`, end time: ${tt.toString()}`:""}`)}}class ExtensionNotImplementedError extends Error{constructor(_e){super(`This functionality is not available because the contract does not implement the '${_e.docLinks.contracts}' Extension. Learn how to unlock this functionality at https://portal.thirdweb.com/extensions `)}}var _reason=new WeakMap,_info=new WeakMap;class TransactionError extends Error{constructor(_e){var rt;let tt=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 TRANSACTION ERROR \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`;if(tt+=`Reason: ${_e.reason}`,tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 TRANSACTION INFORMATION \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D
`,tt+=withSpaces("from",_e.from),tt+=withSpaces("to",_e.contractName?`${_e.to} (${_e.contractName})`:_e.to),tt+=withSpaces("chain",`${_e.network.name} (${_e.network.chainId})`),_e.rpcUrl)try{const nt=new URL(_e.rpcUrl);tt+=withSpaces("rpc",nt.hostname)}catch{}if(_e.hash&&(tt+=withSpaces("tx hash",_e.hash)),_e.value&&_e.value.gt(0)&&(tt+=withSpaces("value",`${formatEther(_e.value)} ${((rt=NATIVE_TOKENS[_e.network.chainId])==null?void 0:rt.symbol)||""}`)),tt+=withSpaces("data",`${_e.data}`),_e.method&&(tt+=withSpaces("method",_e.method)),_e.sources){const nt=_e.sources.find(it=>it.source.includes(_e.reason));if(nt){const it=nt.source.split(`
`).map((ct,ut)=>`${ut+1}  ${ct}`),at=it.findIndex(ct=>ct.includes(_e.reason));it[at]+="   <-- REVERT";const ot=it.slice(at-8,at+4);tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 SOLIDITY STACK TRACE \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`,tt+=`File: ${nt.filename.replace("node_modules/","")}

`,tt+=ot.join(`
`)}}tt+=`


\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557
\u2551 DEBUGGING RESOURCES \u2551
\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255D

`,tt+="Need helping debugging? Join our Discord: https://discord.gg/thirdweb",tt+=`

`,super(tt),_classPrivateFieldInitSpec$2(this,_reason,{writable:!0,value:void 0}),_classPrivateFieldInitSpec$2(this,_info,{writable:!0,value:void 0}),_classPrivateFieldSet$2(this,_reason,_e.reason),_classPrivateFieldSet$2(this,_info,_e)}get reason(){return _classPrivateFieldGet$2(this,_reason)}get info(){return _classPrivateFieldGet$2(this,_info)}}function parseRevertReason(et){if(et.reason)return et.reason;let _e=et;return typeof et=="object"?_e=JSON.stringify(et):typeof et!="string"&&(_e=et.toString()),parseMessageParts(/.*?"message":"([^"\\]*).*?/,_e)||parseMessageParts(/.*?"reason":"([^"\\]*).*?/,_e)||et.message||""}function withSpaces(et,_e){if(_e==="")return _e;const tt=Array(10-et.length).fill(" ").join("");return _e.includes(`
`)?_e=`

  `+_e.split(`
`).join(`
  `):_e=`${tt}${_e}`,`
${et}:${_e}`}function parseMessageParts(et,_e){const tt=_e.match(et)||[];let rt="";return(tt==null?void 0:tt.length)>0&&(rt+=tt[1]),rt}function includesErrorMessage(et,_e){return et?et&&et.toString().includes(_e)||et&&et.message&&et.message.toString().includes(_e)||et&&et.error&&et.error.toString().includes(_e):!1}const BigNumberSchema=mod.union([mod.string(),mod.number(),mod.bigint(),mod.custom(et=>BigNumber.isBigNumber(et))]).transform(et=>BigNumber.from(et)),BigNumberishSchema=BigNumberSchema.transform(et=>et.toString()),BigNumberTransformSchema=mod.union([mod.bigint(),mod.custom(et=>BigNumber.isBigNumber(et))]).transform(et=>BigNumber.from(et).toString()),AddressSchema=mod.string().refine(et=>isAddress(et),et=>({message:`${et} is not a valid address`})),RawDateSchema$1=mod.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3))),StartDateSchema=RawDateSchema$1.default(new Date(0)),EndDateSchema=RawDateSchema$1.default(new Date(Date.now()+1e3*60*60*24*365*10)),CallOverrideSchema=mod.object({gasLimit:BigNumberishSchema.optional(),gasPrice:BigNumberishSchema.optional(),maxFeePerGas:BigNumberishSchema.optional(),maxPriorityFeePerGas:BigNumberishSchema.optional(),nonce:BigNumberishSchema.optional(),value:BigNumberishSchema.optional(),blockTag:mod.union([mod.string(),mod.number()]).optional(),from:AddressSchema.optional(),type:mod.number().optional()}).strict(),CurrencySchema=mod.object({name:mod.string(),symbol:mod.string(),decimals:mod.number()}),CurrencyValueSchema=CurrencySchema.extend({value:BigNumberSchema,displayValue:mod.string()}),MerkleSchema=mod.object({merkle:mod.record(mod.string()).default({})}),SnapshotEntryInput=mod.object({address:AddressSchema,maxClaimable:QuantitySchema.default(0),price:QuantitySchema.optional(),currencyAddress:AddressSchema.default(AddressZero).optional()}),SnapshotInputSchema=mod.union([mod.array(mod.string()).transform(et=>et.map(_e=>SnapshotEntryInput.parse({address:_e}))),mod.array(SnapshotEntryInput)]),SnapshotEntryWithProofSchema=SnapshotEntryInput.extend({proof:mod.array(mod.string())}),SnapshotSchema=mod.object({merkleRoot:mod.string(),claims:mod.array(SnapshotEntryWithProofSchema)});mod.object({merkleRoot:mod.string(),snapshotUri:mod.string()});const ClaimConditionMetadataSchema=mod.object({name:mod.string().optional()}).catchall(mod.unknown()),ClaimConditionInputSchema=mod.object({startTime:StartDateSchema,currencyAddress:mod.string().default(NATIVE_TOKEN_ADDRESS),price:AmountSchema.default(0),maxClaimableSupply:QuantitySchema,maxClaimablePerWallet:QuantitySchema,waitInSeconds:BigNumberishSchema.default(0),merkleRootHash:BytesLikeSchema.default(hexZeroPad([0],32)),snapshot:mod.optional(SnapshotInputSchema).nullable(),metadata:ClaimConditionMetadataSchema.optional()}),ClaimConditionInputArray=mod.array(ClaimConditionInputSchema);ClaimConditionInputSchema.partial();const ClaimConditionOutputSchema=ClaimConditionInputSchema.extend({availableSupply:QuantitySchema,currentMintSupply:QuantitySchema,currencyMetadata:CurrencyValueSchema.default({value:BigNumber.from("0"),displayValue:"0",symbol:"",decimals:18,name:""}),price:BigNumberSchema,waitInSeconds:BigNumberSchema,startTime:BigNumberSchema.transform(et=>new Date(et.toNumber()*1e3)),snapshot:SnapshotInputSchema.optional().nullable()});function resolveOrGenerateId(et){if(et===void 0){const _e=Buffer.alloc(16);return v4({},_e),hexlify(toUtf8Bytes(_e.toString("hex")))}else return hexlify(et)}const BaseSignaturePayloadInput=mod.object({to:mod.string().refine(et=>et.toLowerCase()!==AddressZero,{message:"Cannot create payload to mint to zero address"}),price:AmountSchema.default(0),currencyAddress:mod.string().default(NATIVE_TOKEN_ADDRESS),mintStartTime:StartDateSchema,mintEndTime:EndDateSchema,uid:mod.string().optional().transform(et=>resolveOrGenerateId(et)),primarySaleRecipient:mod.string().default(AddressZero)}),Signature20PayloadInput=BaseSignaturePayloadInput.extend({quantity:AmountSchema}),Signature20PayloadOutput=Signature20PayloadInput.extend({mintStartTime:BigNumberSchema,mintEndTime:BigNumberSchema}),Signature721PayloadInput=BaseSignaturePayloadInput.extend({metadata:NFTInputOrUriSchema,royaltyRecipient:mod.string().default(AddressZero),royaltyBps:BasisPointsSchema.default(0)}),Signature721PayloadOutput=Signature721PayloadInput.extend({uri:mod.string(),royaltyBps:BigNumberSchema,mintStartTime:BigNumberSchema,mintEndTime:BigNumberSchema}),Signature1155PayloadInput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),quantity:BigNumberishSchema}),Signature1155PayloadInputWithTokenId=Signature1155PayloadInput.extend({tokenId:BigNumberishSchema}),Signature1155PayloadOutput=Signature721PayloadOutput.extend({tokenId:BigNumberSchema,quantity:BigNumberSchema}),Signature721WithQuantityInput=Signature721PayloadInput.extend({metadata:NFTInputOrUriSchema.default(""),quantity:BigNumberSchema.default(1)}),Signature721WithQuantityOutput=Signature721PayloadOutput.extend({quantity:BigNumberSchema.default(1)}),MintRequest20=[{name:"to",type:"address"},{name:"primarySaleRecipient",type:"address"},{name:"quantity",type:"uint256"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest721=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"price",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest1155=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"tokenId",type:"uint256"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],MintRequest721withQuantity=[{name:"to",type:"address"},{name:"royaltyRecipient",type:"address"},{name:"royaltyBps",type:"uint256"},{name:"primarySaleRecipient",type:"address"},{name:"uri",type:"string"},{name:"quantity",type:"uint256"},{name:"pricePerToken",type:"uint256"},{name:"currency",type:"address"},{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],GenericRequest=[{name:"validityStartTimestamp",type:"uint128"},{name:"validityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"},{name:"data",type:"bytes"}],CommonContractSchema=mod.object({name:mod.string(),description:mod.string().optional(),image:FileOrBufferOrStringSchema.optional(),external_link:mod.string().url().optional()}),CommonContractOutputSchema=CommonContractSchema.extend({image:mod.string().optional()}).catchall(mod.unknown()),CommonRoyaltySchema=mod.object({seller_fee_basis_points:BasisPointsSchema.default(0),fee_recipient:AddressSchema.default(AddressZero)}),CommonPrimarySaleSchema=mod.object({primary_sale_recipient:AddressSchema}),CommonPlatformFeeSchema=mod.object({platform_fee_basis_points:BasisPointsSchema.default(0),platform_fee_recipient:AddressSchema.default(AddressZero)}),CommonTrustedForwarderSchema=mod.object({trusted_forwarders:mod.array(AddressSchema).default([])}),CommonSymbolSchema=mod.object({symbol:mod.string().optional().default("")}),DropErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc721ContractDeploy=DropErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc721ContractSchema={deploy:DropErc721ContractDeploy,output:DropErc721ContractOutput,input:DropErc721ContractInput},DropErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(MerkleSchema).merge(CommonSymbolSchema),DropErc1155ContractDeploy=DropErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc1155ContractSchema={deploy:DropErc1155ContractDeploy,output:DropErc1155ContractOutput,input:DropErc1155ContractInput},MarketplaceContractInput=CommonContractSchema,MarketplaceContractOutput=CommonContractOutputSchema,MarketplaceContractDeploy=MarketplaceContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),MarketplaceContractSchema={deploy:MarketplaceContractDeploy,output:MarketplaceContractOutput,input:MarketplaceContractInput},PackContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),PackContractDeploy=PackContractInput.merge(CommonPlatformFeeSchema).merge(CommonTrustedForwarderSchema),PackContractSchema={deploy:PackContractDeploy,output:PackContractOutput,input:PackContractInput},SplitRecipientInputSchema=mod.object({address:AddressSchema,sharesBps:BasisPointsSchema.gt(0,"Shares must be greater than 0")}),SplitRecipientOuputSchema=SplitRecipientInputSchema.extend({address:AddressSchema,sharesBps:BasisPointsSchema}),SplitsContractInput=CommonContractSchema.extend({recipients:mod.array(SplitRecipientInputSchema).default([]).superRefine((et,_e)=>{const tt={};let rt=0;for(let nt=0;nt<et.length;nt++){const it=et[nt];tt[it.address]&&_e.addIssue({code:mod.ZodIssueCode.custom,message:"Duplicate address.",path:[nt,"address"]}),tt[it.address]=!0,rt+=it.sharesBps,rt>1e4&&_e.addIssue({code:mod.ZodIssueCode.custom,message:"Total shares cannot go over 100%.",path:[nt,"sharesBps"]})}rt!==1e4&&_e.addIssue({code:mod.ZodIssueCode.custom,message:`Total shares need to add up to 100%. Total shares are currently ${rt/100}%`,path:[]})})}),SplitsContractOutput=CommonContractOutputSchema.extend({recipients:mod.array(SplitRecipientOuputSchema)}),SplitsContractDeploy=SplitsContractInput.merge(SplitsContractInput).merge(CommonTrustedForwarderSchema),SplitsContractSchema={deploy:SplitsContractDeploy,output:SplitsContractOutput,input:SplitsContractInput},TokenErc20ContractInput=CommonContractSchema.merge(CommonSymbolSchema),TokenErc20ContractOutput=CommonContractOutputSchema.merge(CommonSymbolSchema),TokenErc20ContractDeploy=TokenErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc20ContractSchema={deploy:TokenErc20ContractDeploy,output:TokenErc20ContractOutput,input:TokenErc20ContractInput},TokenErc721ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc721ContractDeploy=TokenErc721ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc721ContractSchema={deploy:TokenErc721ContractDeploy,output:TokenErc721ContractOutput,input:TokenErc721ContractInput},TokenErc1155ContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),TokenErc1155ContractDeploy=TokenErc1155ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),TokenErc1155ContractSchema={deploy:TokenErc1155ContractDeploy,output:TokenErc1155ContractOutput,input:TokenErc1155ContractInput},VoteSettingsInputSchema=mod.object({voting_delay_in_blocks:mod.number().min(0).default(0),voting_period_in_blocks:mod.number().min(1).default(1),voting_token_address:AddressSchema,voting_quorum_fraction:PercentSchema.default(0),proposal_token_threshold:BigNumberishSchema.default(1)}),VoteSettingsOuputSchema=VoteSettingsInputSchema.extend({proposal_token_threshold:BigNumberSchema}),VoteContractInput=CommonContractSchema.merge(VoteSettingsInputSchema),VoteContractOutput=CommonContractOutputSchema.merge(VoteSettingsOuputSchema),VoteContractDeploy=VoteContractInput.merge(CommonTrustedForwarderSchema),VoteContractSchema={deploy:VoteContractDeploy,output:VoteContractOutput,input:VoteContractInput};mod.object({proposalId:BigNumberSchema,proposer:mod.string(),targets:mod.array(mod.string()),values:mod.array(BigNumberSchema),signatures:mod.array(mod.string()),calldatas:mod.array(mod.string()),startBlock:BigNumberSchema,endBlock:BigNumberSchema,description:mod.string()});const PropertiesInput=mod.object({}).catchall(mod.union([BigNumberTransformSchema,mod.unknown()]));mod.union([mod.array(PropertiesInput),PropertiesInput]).optional();const EditionMetadataOutputSchema=mod.object({supply:BigNumberSchema,metadata:CommonNFTOutput});EditionMetadataOutputSchema.extend({owner:mod.string(),quantityOwned:BigNumberSchema});mod.object({supply:BigNumberishSchema,metadata:CommonNFTInput});mod.object({supply:BigNumberishSchema,metadata:NFTInputOrUriSchema});mod.object({toAddress:AddressSchema,amount:AmountSchema});const SDKOptionsSchema=mod.object({readonlySettings:mod.object({rpcUrl:mod.string().url(),chainId:mod.number().optional()}).optional(),gasSettings:mod.object({maxPriceInGwei:mod.number().min(1,"gas price cannot be less than 1").default(300),speed:mod.enum(["standard","fast","fastest"]).default("fastest")}).default({maxPriceInGwei:300,speed:"fastest"}),gasless:mod.union([mod.object({openzeppelin:mod.object({relayerUrl:mod.string().url(),relayerForwarderAddress:mod.string().optional(),useEOAForwarder:mod.boolean().default(!1)}),experimentalChainlessSupport:mod.boolean().default(!1)}),mod.object({biconomy:mod.object({apiId:mod.string(),apiKey:mod.string(),deadlineSeconds:mod.number().min(1,"deadlineSeconds cannot be les than 1").default(3600)})})]).optional()}).default({gasSettings:{maxPriceInGwei:300,speed:"fastest"}}),ForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],ChainAwareForwardRequest=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"},{name:"chainid",type:"uint256"}],BiconomyForwarderAbi=[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"batchId",type:"uint256"}],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],_nonces={},_noncesSyncTimestamp={};async function getAndIncrementNonce(et,_e,tt){const rt=tt.join("|"),nt=_noncesSyncTimestamp[rt],it=Date.now()-nt>=2e3;if(!(rt in _nonces)||it){const ot=await et.functions[_e](...tt);Array.isArray(ot)&&ot.length>0?_nonces[rt]=BigNumber.from(ot[0]):_nonces[rt]=BigNumber.from(ot),_noncesSyncTimestamp[rt]=Date.now()}const at=_nonces[rt];return _nonces[rt]=BigNumber.from(_nonces[rt]).add(1),at}function getGasStationUrl(et){switch(et){case ChainId$1.Polygon:return"https://gasstation-mainnet.matic.network/v2";case ChainId$1.Mumbai:return"https://gasstation-mumbai.matic.today/v2"}}const MIN_POLYGON_GAS_PRICE=parseUnits("31","gwei"),MIN_MUMBAI_GAS_PRICE=parseUnits("1","gwei");function getDefaultGasFee(et){switch(et){case ChainId$1.Polygon:return MIN_POLYGON_GAS_PRICE;case ChainId$1.Mumbai:return MIN_MUMBAI_GAS_PRICE}}async function getPolygonGasPriorityFee(et){const _e=getGasStationUrl(et);try{const rt=(await(await fetch$1(_e)).json()).standard.maxPriorityFee;if(rt>0){const nt=parseFloat(rt).toFixed(9);return parseUnits(nt,"gwei")}}catch(tt){console.error("failed to fetch gas",tt)}return getDefaultGasFee(et)}async function signTypedDataInternal(et,_e,tt,rt){var ct,ut;const nt=et==null?void 0:et.provider;if(!nt)throw new Error("missing provider");const it=TypedDataEncoder.getPayload(_e,tt,rt);let at="";const ot=(await et.getAddress()).toLowerCase();if((ct=nt==null?void 0:nt.provider)!=null&&ct.isWalletConnect)at=await nt.send("eth_signTypedData",[(await et.getAddress()).toLowerCase(),JSON.stringify(it)]);else try{at=await et._signTypedData(_e,tt,rt)}catch(ft){if((ut=ft==null?void 0:ft.message)!=null&&ut.includes("Method eth_signTypedData_v4 not supported"))at=await nt.send("eth_signTypedData",[ot,JSON.stringify(it)]);else try{await nt.send("eth_signTypedData_v4",[ot,JSON.stringify(it)])}catch(yt){throw yt}}return{payload:it,signature:joinSignature(splitSignature(at))}}const NAME_ABI=[{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],DOMAIN_SEPARATOR_ABI=[{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeperator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],NONCES_ABI=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"}];async function getSignerNonce(et,_e){const tt=new Contract(_e,NONCES_ABI,et);try{return await tt.nonces(await et.getAddress())}catch{return await tt.getNonce(await et.getAddress())}}async function getDomainSeperator(et,_e){const tt=new Contract(_e,DOMAIN_SEPARATOR_ABI,et);try{return await tt.DOMAIN_SEPARATOR()}catch{try{return await tt.getDomainSeperator()}catch(nt){console.error("Error getting domain separator",nt)}}}async function getTokenName(et,_e){return new Contract(_e,NAME_ABI,et).name()}async function getChainDomainSeperator(et,_e){const tt=await getDomainSeperator(et,_e.verifyingContract),rt={name:_e.name,version:_e.version,verifyingContract:_e.verifyingContract,salt:hexZeroPad(BigNumber.from(_e.chainId).toHexString(),32)};return TypedDataEncoder.hashDomain(rt)===tt?rt:_e}async function signEIP2612Permit(et,_e,tt,rt,nt,it,at){const ot=await getChainDomainSeperator(et,{name:await getTokenName(et,_e),version:"1",chainId:await et.getChainId(),verifyingContract:_e});at=at||(await getSignerNonce(et,_e)).toString(),it=it||MaxUint256$1;const ct={owner:tt,spender:rt,value:nt,nonce:at,deadline:it},ut={Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},{signature:ft}=await signTypedDataInternal(et,ot,ut,ct);return{message:ct,signature:ft}}const isBrowser$5=()=>typeof window<"u",isNode$4=()=>!isBrowser$5();function unique(et,_e){if(et.length===0||et.length===1||!_e)return et;for(let tt=0;tt<et.length;tt++)for(let rt=tt+1;rt<et.length;rt++)_e(et[tt],et[rt])&&et.splice(rt,1);return et}class RPCConnectionHandler extends EventEmitter$1$1{constructor(_e,tt){super(),_defineProperty$3(this,"provider",void 0),_defineProperty$3(this,"signer",void 0),_defineProperty$3(this,"options",void 0);const[rt,nt]=getSignerAndProvider(_e,tt);this.signer=rt,this.provider=nt;try{this.options=SDKOptionsSchema.parse(tt)}catch(it){console.error("invalid sdk options object passed, falling back to default options",it),this.options=SDKOptionsSchema.parse({})}}updateSignerOrProvider(_e){const[tt,rt]=getSignerAndProvider(_e,this.options);this.signer=tt,this.provider=rt}isReadOnly(){return!Signer.isSigner(this.signer)}getSigner(){return this.signer}getProvider(){return this.provider}getSignerOrProvider(){return this.getSigner()||this.getProvider()}}function getSignerAndProvider(et,_e){var nt;let tt,rt;return Signer.isSigner(et)&&(tt=et,et.provider&&(rt=et.provider)),_e!=null&&_e.readonlySettings&&(rt=getReadOnlyProvider(_e.readonlySettings.rpcUrl,_e.readonlySettings.chainId)),rt||(Provider$1.isProvider(et)?rt=et:Signer.isSigner(et)||(typeof et=="string"?rt=getReadOnlyProvider(et,(nt=_e==null?void 0:_e.readonlySettings)==null?void 0:nt.chainId):rt=getDefaultProvider(et))),rt||(rt=getDefaultProvider(),console.error("No provider found, using default provider on default chain!")),[tt,rt]}var _storage=new WeakMap;class ContractWrapper extends RPCConnectionHandler{constructor(_e,tt,rt,nt){super(_e,nt),_classPrivateFieldInitSpec$2(this,_storage,{writable:!0,value:void 0}),_defineProperty$3(this,"isValidContract",!1),_defineProperty$3(this,"customOverrides",()=>({})),_defineProperty$3(this,"writeContract",void 0),_defineProperty$3(this,"readContract",void 0),_defineProperty$3(this,"abi",void 0),this.abi=rt,this.writeContract=new Contract(tt,rt,this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider()),_classPrivateFieldSet$2(this,_storage,new ThirdwebStorage)}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.writeContract=this.writeContract.connect(this.getSignerOrProvider()),this.readContract=this.writeContract.connect(this.getProvider())}async getChainID(){const _e=this.getProvider(),{chainId:tt}=await _e.getNetwork();return tt}async getSignerAddress(){const _e=this.getSigner();if(!_e)throw new Error("This action requires a connected wallet to sign the transaction. Please pass a valid signer to the SDK.");return await _e.getAddress()}callStatic(){return this.writeContract.callStatic}async getCallOverrides(){if(isBrowser$5())return{};const _e=await this.getProvider().getFeeData();if(_e.maxFeePerGas&&_e.maxPriorityFeePerGas){const rt=await this.getChainID(),nt=await this.getProvider().getBlock("latest"),it=nt&&nt.baseFeePerGas?nt.baseFeePerGas:parseUnits("1","gwei");let at;rt===ChainId$1.Mumbai||rt===ChainId$1.Polygon?at=await getPolygonGasPriorityFee(rt):at=BigNumber.from(_e.maxPriorityFeePerGas);const ot=this.getPreferredPriorityFee(at);return{maxFeePerGas:it.mul(2).add(ot),maxPriorityFeePerGas:ot}}else return{gasPrice:await this.getPreferredGasPrice()}}getPreferredPriorityFee(_e){const tt=this.options.gasSettings.speed,rt=this.options.gasSettings.maxPriceInGwei;let nt;switch(tt){case"standard":nt=BigNumber.from(0);break;case"fast":nt=_e.div(100).mul(5);break;case"fastest":nt=_e.div(100).mul(10);break}let it=_e.add(nt);const at=parseUnits(rt.toString(),"gwei"),ot=parseUnits("2.5","gwei");return it.gt(at)&&(it=at),it.lt(ot)&&(it=ot),it}async getPreferredGasPrice(){const _e=await this.getProvider().getGasPrice(),tt=this.options.gasSettings.speed,rt=this.options.gasSettings.maxPriceInGwei;let nt=_e,it;switch(tt){case"standard":it=BigNumber.from(1);break;case"fast":it=_e.div(100).mul(5);break;case"fastest":it=_e.div(100).mul(10);break}nt=nt.add(it);const at=parseUnits(rt.toString(),"gwei");return nt.gt(at)&&(nt=at),nt}emitTransactionEvent(_e,tt){this.emit(EventType.Transaction,{status:_e,transactionHash:tt})}async multiCall(_e){return this.sendTransaction("multicall",[_e])}async estimateGas(_e,tt){return this.writeContract.estimateGas[_e](...tt)}withTransactionOverride(_e){this.customOverrides=_e}async call(_e){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];let it;try{if(rt.length>0&&typeof rt[rt.length-1]=="object"){const ft=rt[rt.length-1];it=CallOverrideSchema.parse(ft),rt=rt.slice(0,rt.length-1)}}catch{}const at=extractFunctionsFromAbi(AbiSchema.parse(this.abi)).filter(ft=>ft.name===_e);if(!at.length)throw new Error(`Function "${_e}" not found in contract. Check your dashboard for the list of functions available`);const ot=at.find(ft=>ft.name===_e&&ft.inputs.length===rt.length);if(!ot)throw new Error(`Function "${_e}" requires ${at[0].inputs.length} arguments, but ${rt.length} were provided.
Expected function signature: ${at[0].signature}`);const ct=`${_e}(${ot.inputs.map(ft=>ft.type).join()})`,ut=ct in this.readContract.functions?ct:_e;return ot.stateMutability==="view"||ot.stateMutability==="pure"?this.readContract[ut](...rt):{receipt:await this.sendTransaction(ut,rt,it)}}async sendTransaction(_e,tt,rt){var nt;if(rt||(rt=await this.getCallOverrides()),rt={...rt,...this.customOverrides()},this.customOverrides=()=>({}),((nt=this.options)==null?void 0:nt.gasless)&&("openzeppelin"in this.options.gasless||"biconomy"in this.options.gasless)){if(_e==="multicall"&&Array.isArray(tt[0])&&tt[0].length>0){const ct=await this.getSignerAddress();tt[0]=tt[0].map(ut=>pack(["bytes","address"],[ut,ct]))}const it=this.getProvider(),at=await this.sendGaslessTransaction(_e,tt,rt);this.emitTransactionEvent("submitted",at);const ot=await it.waitForTransaction(at);return this.emitTransactionEvent("completed",at),ot}else{if(!this.isValidContract){const ot=await this.getProvider().getCode(this.readContract.address);if(this.isValidContract=ot!=="0x",!this.isValidContract)throw new Error("The address you're trying to send a transaction to is not a smart contract. Make sure you are on the correct network and the contract address is correct")}const it=await this.sendTransactionByFunction(_e,tt,rt);this.emitTransactionEvent("submitted",it.hash);let at;try{at=await it.wait()}catch(ot){try{await this.writeContract.callStatic[_e](...tt,...rt.value?[{value:rt.value}]:[])}catch(ct){throw await this.formatError(ct,_e,tt,rt)}throw await this.formatError(ot,_e,tt,rt)}return this.emitTransactionEvent("completed",it.hash),at}}async sendTransactionByFunction(_e,tt,rt){const nt=this.writeContract.functions[_e];if(!nt)throw new Error(`invalid function: "${_e.toString()}"`);if(!rt.gasLimit)try{rt.gasLimit=await this.writeContract.estimateGas[_e](...tt,rt)}catch{try{await this.writeContract.callStatic[_e](...tt,...rt.value?[{value:rt.value}]:[])}catch(at){throw await this.formatError(at,_e,tt,rt)}}try{return await nt(...tt,rt)}catch(it){const at=await(rt.from||this.getSignerAddress()),ot=await(rt.value?rt.value:0),ct=await this.getProvider().getBalance(at);throw ct.eq(0)||ot&&ct.lt(ot)?await this.formatError(new Error("You have insufficient funds in your account to execute this transaction."),_e,tt,rt):await this.formatError(it,_e,tt,rt)}}async formatError(_e,tt,rt,nt){var Pt,Ot,Ht;const it=this.getProvider(),at=await it.getNetwork(),ot=await(nt.from||this.getSignerAddress()),ct=this.readContract.address,ut=this.readContract.interface.encodeFunctionData(tt,rt),ft=BigNumber.from(nt.value||0),yt=(Pt=it.connection)==null?void 0:Pt.url,bt=this.readContract.interface.getFunction(tt),Et=rt.map(qt=>JSON.stringify(qt).length<=80?JSON.stringify(qt):JSON.stringify(qt,void 0,2)),Ct=Et.join(", ").length<=80?Et.join(", "):`
`+Et.map(qt=>"  "+qt.split(`
`).join(`
  `)).join(`,
`)+`
`,At=`${bt.name}(${Ct})`,St=_e.transactionHash||((Ot=_e.transaction)==null?void 0:Ot.hash)||((Ht=_e.receipt)==null?void 0:Ht.transactionHash),Tt=parseRevertReason(_e);let $t,kt;try{const qt=await fetchContractMetadataFromAddress(this.readContract.address,this.getProvider(),_classPrivateFieldGet$2(this,_storage));qt.name&&(kt=qt.name),qt.metadata.sources&&($t=await fetchSourceFilesFromMetadata(qt,_classPrivateFieldGet$2(this,_storage)))}catch{}return new TransactionError({reason:Tt,from:ot,to:ct,method:At,data:ut,network:at,rpcUrl:yt,value:ft,hash:St,contractName:kt,sources:$t})}async sendGaslessTransaction(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],rt=arguments.length>2?arguments[2]:void 0;const nt=this.getSigner();invariant$2(nt,"Cannot execute gasless transaction without valid signer");const it=await this.getChainID(),at=await this.getSignerAddress(),ot=this.writeContract.address,ct=(rt==null?void 0:rt.value)||0;if(BigNumber.from(ct).gt(0))throw new Error("Cannot send native token value with gasless transaction");const ut=this.writeContract.interface.encodeFunctionData(_e,tt);let ft=BigNumber.from(0);try{ft=(await this.readContract.estimateGas[_e](...tt)).mul(2)}catch{}ft.lt(1e5)&&(ft=BigNumber.from(5e5)),rt.gasLimit&&BigNumber.from(rt.gasLimit).gt(ft)&&(ft=BigNumber.from(rt.gasLimit));const yt={from:at,to:ot,data:ut,chainId:it,gasLimit:ft,functionName:_e.toString(),functionArgs:tt,callOverrides:rt};return await this.defaultGaslessSendFunction(yt)}async signTypedData(_e,tt,rt,nt){this.emit(EventType.Signature,{status:"submitted",message:nt,signature:""});const{signature:it}=await signTypedDataInternal(_e,tt,rt,nt);return this.emit(EventType.Signature,{status:"completed",message:nt,signature:it}),it}parseLogs(_e,tt){if(!tt||tt.length===0)return[];const rt=this.writeContract.interface.getEventTopic(_e);return tt.filter(it=>it.topics.indexOf(rt)>=0).map(it=>this.writeContract.interface.parseLog(it))}async defaultGaslessSendFunction(_e){return this.options.gasless&&"biconomy"in this.options.gasless?this.biconomySendFunction(_e):this.defenderSendFunction(_e)}async biconomySendFunction(_e){var yt,bt;invariant$2(this.options.gasless&&"biconomy"in this.options.gasless,"calling biconomySendFunction without biconomy");const tt=this.getSigner(),rt=this.getProvider();invariant$2(tt&&rt,"signer and provider must be set");const nt=new Contract(getContractAddressByChainId(_e.chainId,"biconomyForwarder"),BiconomyForwarderAbi,rt),it=0,at=await getAndIncrementNonce(nt,"getNonce",[_e.from,it]),ot={from:_e.from,to:_e.to,token:AddressZero,txGas:_e.gasLimit.toNumber(),tokenGasPrice:"0",batchId:it,batchNonce:at.toNumber(),deadline:Math.floor(Date.now()/1e3+(((yt=this.options)==null?void 0:yt.gasless)&&"biconomy"in this.options.gasless&&((bt=this.options.gasless.biconomy)==null?void 0:bt.deadlineSeconds)||3600)),data:_e.data},ct=arrayify(keccak256(["address","address","address","uint256","uint256","uint256","uint256","uint256","bytes32"],[ot.from,ot.to,ot.token,ot.txGas,ot.tokenGasPrice,ot.batchId,ot.batchNonce,ot.deadline,keccak256$1(ot.data)]));this.emit(EventType.Signature,{status:"submitted",message:ct,signature:""});const ut=await tt.signMessage(ct);this.emit(EventType.Signature,{status:"completed",message:ct,signature:ut});const ft=await fetch$1("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:JSON.stringify({from:_e.from,apiId:this.options.gasless.biconomy.apiId,params:[ot,ut],to:_e.to,gasLimit:_e.gasLimit.toHexString()}),headers:{"x-api-key":this.options.gasless.biconomy.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(ft.ok){const Et=await ft.json();if(!Et.txHash)throw new Error(`relay transaction failed: ${Et.log}`);return Et.txHash}throw new Error(`relay transaction failed with status: ${ft.status} (${ft.statusText})`)}async defenderSendFunction(_e){invariant$2(this.options.gasless&&"openzeppelin"in this.options.gasless,"calling openzeppelin gasless transaction without openzeppelin config in the SDK options");const tt=this.getSigner(),rt=this.getProvider();invariant$2(tt,"provider is not set"),invariant$2(rt,"provider is not set");const nt=this.options.gasless.openzeppelin.relayerForwarderAddress||(this.options.gasless.openzeppelin.useEOAForwarder?CONTRACT_ADDRESSES[_e.chainId].openzeppelinForwarderEOA:CONTRACT_ADDRESSES[_e.chainId].openzeppelinForwarder),it=new Contract(nt,ForwarderABI,rt),at=await getAndIncrementNonce(it,"getNonce",[_e.from]);let ot,ct,ut;this.options.gasless.experimentalChainlessSupport?(ot={name:"GSNv2 Forwarder",version:"0.0.1",verifyingContract:nt},ct={ForwardRequest:ChainAwareForwardRequest},ut={from:_e.from,to:_e.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(_e.gasLimit).toString(),nonce:BigNumber.from(at).toString(),data:_e.data,chainid:BigNumber.from(_e.chainId).toString()}):(ot={name:"GSNv2 Forwarder",version:"0.0.1",chainId:_e.chainId,verifyingContract:nt},ct={ForwardRequest},ut={from:_e.from,to:_e.to,value:BigNumber.from(0).toString(),gas:BigNumber.from(_e.gasLimit).toString(),nonce:BigNumber.from(at).toString(),data:_e.data});let ft;if(this.emit(EventType.Signature,{status:"submitted",message:ut,signature:""}),_e.functionName==="approve"&&_e.functionArgs.length===2){const Ct=_e.functionArgs[0],At=_e.functionArgs[1],{message:St,signature:Tt}=await signEIP2612Permit(tt,this.writeContract.address,_e.from,Ct,At),{r:$t,s:kt,v:Pt}=splitSignature(Tt);ut={to:this.readContract.address,owner:St.owner,spender:St.spender,value:BigNumber.from(St.value).toString(),nonce:BigNumber.from(St.nonce).toString(),deadline:BigNumber.from(St.deadline).toString(),r:$t,s:kt,v:Pt},ft=Tt}else{const{signature:Ct}=await signTypedDataInternal(tt,ot,ct,ut);ft=Ct}let yt="forward";ut!=null&&ut.owner&&(yt="permit");const bt=JSON.stringify({request:ut,signature:ft,forwarderAddress:nt,type:yt});this.emit(EventType.Signature,{status:"completed",message:ut,signature:ft});const Et=await fetch$1(this.options.gasless.openzeppelin.relayerUrl,{method:"POST",body:bt});if(Et.ok){const Ct=await Et.json();if(!Ct.result)throw new Error(`Relay transaction failed: ${Ct.message}`);return JSON.parse(Ct.result).txHash}throw new Error(`relay transaction failed with status: ${Et.status} (${Et.statusText})`)}}function isNativeToken(et){return et.toLowerCase()===NATIVE_TOKEN_ADDRESS||et.toLowerCase()===AddressZero}function cleanCurrencyAddress(et){return isNativeToken(et)?NATIVE_TOKEN_ADDRESS:et}async function normalizePriceValue(et,_e,tt){const rt=await fetchCurrencyMetadata(et,tt);return parseUnits(AmountSchema.parse(_e),rt.decimals)}async function fetchCurrencyMetadata(et,_e){if(isNativeToken(_e)){const tt=await et.getNetwork(),rt=getNativeTokenByChainId(tt.chainId);return{name:rt.name,symbol:rt.symbol,decimals:rt.decimals}}else{const tt=new Contract(_e,ERC20MetadataAbi,et),[rt,nt,it]=await Promise.all([tt.name(),tt.symbol(),tt.decimals()]);return{name:rt,symbol:nt,decimals:it}}}async function fetchCurrencyValue(et,_e,tt){const rt=await fetchCurrencyMetadata(et,_e);return{...rt,value:BigNumber.from(tt),displayValue:formatUnits(tt,rt.decimals)}}async function setErc20Allowance(et,_e,tt,rt){if(isNativeToken(tt))rt.value=_e;else{const nt=et.getSigner(),it=et.getProvider(),at=new ContractWrapper(nt||it,tt,ERC20Abi,et.options),ot=await et.getSignerAddress(),ct=et.readContract.address;return(await at.readContract.allowance(ot,ct)).lt(_e)&&await at.sendTransaction("approve",[ct,_e]),rt}}async function approveErc20Allowance(et,_e,tt,rt,nt){const it=et.getSigner(),at=et.getProvider(),ot=new ContractWrapper(it||at,_e,ERC20Abi,et.options),ct=await et.getSignerAddress(),ut=et.readContract.address,ft=await ot.readContract.allowance(ct,ut),yt=BigNumber.from(tt).mul(BigNumber.from(rt)).div(parseUnits("1",nt));ft.lt(yt)&&await ot.sendTransaction("approve",[ut,ft.add(yt)])}async function hasERC20Allowance(et,_e,tt){const rt=et.getProvider(),nt=new ContractWrapper(rt,_e,ERC20Abi,{}),it=await et.getSignerAddress(),at=et.readContract.address;return(await nt.readContract.allowance(it,at)).gte(tt)}async function prepareClaim(et,_e,tt,rt,nt,it,at,ot,ct){let ut=convertQuantityToBigNumber(tt.maxClaimablePerWallet,nt),ft=[hexZeroPad([0],32)],yt=tt.price,bt=tt.currencyAddress;try{if(!tt.merkleRootHash.toString().startsWith(AddressZero)){const St=await fetchSnapshotEntryForAddress(et,tt.merkleRootHash.toString(),await rt(),it.getProvider(),at,ct);if(St)ft=St.proof,ut=St.maxClaimable==="unlimited"?MaxUint256$1:parseUnits(St.maxClaimable,nt),yt=St.price===void 0||St.price==="unlimited"?MaxUint256$1:await normalizePriceValue(it.getProvider(),St.price,St.currencyAddress||AddressZero),bt=St.currencyAddress||AddressZero;else if(ct===SnapshotFormatVersion.V1)throw new Error("No claim found for this address")}}catch(St){if((St==null?void 0:St.message)==="No claim found for this address")throw St;console.warn("failed to check claim condition merkle root hash, continuing anyways",St)}const Et=await it.getCallOverrides()||{},Ct=yt.toString()!==MaxUint256$1.toString()?yt:tt.price,At=bt!==AddressZero?bt:tt.currencyAddress;return Ct.gt(0)&&(isNativeToken(At)?Et.value=BigNumber.from(Ct).mul(_e).div(parseUnits("1",nt)):ot&&await approveErc20Allowance(it,At,Ct,_e,nt)),{overrides:Et,proofs:ft,maxClaimable:ut,price:Ct,currencyAddress:At,priceInProof:yt,currencyAddressInProof:bt}}async function fetchSnapshot(et,_e,tt){if(!_e)return null;const rt=_e[et];if(rt){const nt=await tt.downloadJSON(rt);if(nt.isShardedMerkleTree&&nt.merkleRoot===et){const it=await ShardedMerkleTree.fromUri(rt,tt);return(it==null?void 0:it.getAllEntries())||null}else{const it=SnapshotSchema.parse(nt);if(et===it.merkleRoot)return it.claims.map(at=>({address:at.address,maxClaimable:at.maxClaimable,price:at.price,currencyAddress:at.currencyAddress}))}}return null}async function fetchSnapshotEntryForAddress(et,_e,tt,rt,nt,it){if(!tt)return null;const at=tt[_e];if(at){const ot=await nt.downloadJSON(at);if(ot.isShardedMerkleTree&&ot.merkleRoot===_e)return await(await ShardedMerkleTree.fromShardedMerkleTreeInfo(ot,nt)).getProof(et,rt,it);const ct=SnapshotSchema.parse(ot);if(_e===ct.merkleRoot)return ct.claims.find(ut=>ut.address.toLowerCase()===et.toLowerCase())||null}return null}async function updateExistingClaimConditions(et,_e,tt){if(et>=tt.length)throw Error(`Index out of bounds - got index: ${et} with ${tt.length} conditions`);const rt=tt[et].currencyMetadata.decimals,nt=tt[et].price,it=formatUnits(nt,rt),at=ClaimConditionInputSchema.parse({...tt[et],price:it,..._e}),ot=ClaimConditionOutputSchema.parse({...at,price:nt});return tt.map((ct,ut)=>{let ft;ut===et?ft=ot:ft=ct;const yt=formatUnits(ft.price,rt);return{...ft,price:yt}})}async function processSnapshotData(et,_e,tt,rt,nt){const it=[];return{inputsWithSnapshots:await Promise.all(et.map(async ot=>{if(ot.snapshot&&ot.snapshot.length>0){const ct=await createSnapshot(ot.snapshot,_e,tt,rt,nt);it.push(ct),ot.merkleRootHash=ct.merkleRoot}else ot.merkleRootHash=hexZeroPad([0],32);return ot})),snapshotInfos:it}}function compare(et,_e){const tt=BigNumber.from(et),rt=BigNumber.from(_e);return tt.eq(rt)?0:tt.gt(rt)?1:-1}async function processClaimConditionInputs(et,_e,tt,rt,nt){const{inputsWithSnapshots:it,snapshotInfos:at}=await processSnapshotData(et,_e,tt,rt,nt),ot=ClaimConditionInputArray.parse(it),ct=(await Promise.all(ot.map(ut=>convertToContractModel(ut,_e,tt,rt)))).sort((ut,ft)=>compare(ut.startTimestamp,ft.startTimestamp));return{snapshotInfos:at,sortedConditions:ct}}async function convertToContractModel(et,_e,tt,rt){const nt=et.currencyAddress===AddressZero?NATIVE_TOKEN_ADDRESS:et.currencyAddress,it=convertQuantityToBigNumber(et.maxClaimableSupply,_e),at=convertQuantityToBigNumber(et.maxClaimablePerWallet,_e);let ot;return et.metadata&&(typeof et.metadata=="string"?ot=et.metadata:ot=await rt.upload(et.metadata)),{startTimestamp:et.startTime,maxClaimableSupply:it,supplyClaimed:0,maxClaimablePerWallet:at,pricePerToken:await normalizePriceValue(tt,et.price,nt),currency:nt,merkleRoot:et.merkleRootHash.toString(),waitTimeInSecondsBetweenClaims:et.waitInSeconds||0,metadata:ot}}function abstractContractModelToLegacy(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot,pricePerToken:et.pricePerToken,currency:et.currency,quantityLimitPerTransaction:et.maxClaimablePerWallet,waitTimeInSecondsBetweenClaims:et.waitTimeInSecondsBetweenClaims||0}}function abstractContractModelToNew(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot,pricePerToken:et.pricePerToken,currency:et.currency,quantityLimitPerWallet:et.maxClaimablePerWallet,metadata:et.metadata||""}}function legacyContractModelToAbstract(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot.toString(),pricePerToken:et.pricePerToken,currency:et.currency,maxClaimablePerWallet:et.quantityLimitPerTransaction,waitTimeInSecondsBetweenClaims:et.waitTimeInSecondsBetweenClaims}}function newContractModelToAbstract(et){return{startTimestamp:et.startTimestamp,maxClaimableSupply:et.maxClaimableSupply,supplyClaimed:et.supplyClaimed,merkleRoot:et.merkleRoot.toString(),pricePerToken:et.pricePerToken,currency:et.currency,maxClaimablePerWallet:et.quantityLimitPerWallet,waitTimeInSecondsBetweenClaims:0,metadata:et.metadata}}async function transformResultToClaimCondition(et,_e,tt,rt,nt,it){var bt;const at=await fetchCurrencyValue(tt,et.currency,et.pricePerToken),ot=convertToReadableQuantity(et.maxClaimableSupply,_e),ct=convertToReadableQuantity(et.maxClaimablePerWallet,_e),ut=convertToReadableQuantity(BigNumber.from(et.maxClaimableSupply).sub(et.supplyClaimed),_e),ft=convertToReadableQuantity(et.supplyClaimed,_e);let yt;return et.metadata&&(yt=await nt.downloadJSON(et.metadata)),ClaimConditionOutputSchema.parse({startTime:et.startTimestamp,maxClaimableSupply:ot,maxClaimablePerWallet:ct,currentMintSupply:ft,availableSupply:ut,waitInSeconds:(bt=et.waitTimeInSecondsBetweenClaims)==null?void 0:bt.toString(),price:BigNumber.from(et.pricePerToken),currency:et.currency,currencyAddress:et.currency,currencyMetadata:at,merkleRootHash:et.merkleRoot,snapshot:it?await fetchSnapshot(et.merkleRoot,rt,nt):void 0,metadata:yt})}function convertToReadableQuantity(et,_e){return et.toString()===MaxUint256$1.toString()?"unlimited":formatUnits(et,_e)}function convertQuantityToBigNumber(et,_e){return et==="unlimited"?MaxUint256$1:parseUnits(et,_e)}async function calculateClaimCost(et,_e,tt,rt,nt){let it={};const at=rt||NATIVE_TOKEN_ADDRESS,ct=(await normalizePriceValue(et.getProvider(),_e,at)).mul(tt);return ct.gt(0)&&(at===NATIVE_TOKEN_ADDRESS?it={value:ct}:at!==NATIVE_TOKEN_ADDRESS&&nt&&await approveErc20Allowance(et,at,ct,tt,0)),it}const SHARD_NYBBLES=2;let SnapshotFormatVersion;(function(et){et[et.V1=1]="V1",et[et.V2=2]="V2"})(SnapshotFormatVersion||(SnapshotFormatVersion={}));class ShardedMerkleTree{constructor(_e,tt,rt,nt,it){_defineProperty$3(this,"shardNybbles",void 0),_defineProperty$3(this,"shards",void 0),_defineProperty$3(this,"trees",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"baseUri",void 0),_defineProperty$3(this,"originalEntriesUri",void 0),_defineProperty$3(this,"tokenDecimals",void 0),this.storage=_e,this.shardNybbles=nt,this.baseUri=tt,this.originalEntriesUri=rt,this.tokenDecimals=it,this.shards={},this.trees={}}static async fromUri(_e,tt){try{const rt=await tt.downloadJSON(_e);if(rt.isShardedMerkleTree)return ShardedMerkleTree.fromShardedMerkleTreeInfo(rt,tt)}catch{return}}static async fromShardedMerkleTreeInfo(_e,tt){return new ShardedMerkleTree(tt,_e.baseUri,_e.originalEntriesUri,_e.shardNybbles,_e.tokenDecimals)}static hashEntry(_e,tt,rt,nt){switch(nt){case SnapshotFormatVersion.V1:return keccak256(["address","uint256"],[_e.address,convertQuantityToBigNumber(_e.maxClaimable,tt)]);case SnapshotFormatVersion.V2:return keccak256(["address","uint256","uint256","address"],[_e.address,convertQuantityToBigNumber(_e.maxClaimable,tt),convertQuantityToBigNumber(_e.price||"unlimited",rt),_e.currencyAddress||AddressZero])}}static async fetchAndCacheDecimals(_e,tt,rt){if(!rt)return 18;let nt=_e[rt];return nt===void 0&&(nt=(await fetchCurrencyMetadata(tt,rt)).decimals,_e[rt]=nt),nt}static async buildAndUpload(_e,tt,rt,nt,it){let at=arguments.length>5&&arguments[5]!==void 0?arguments[5]:SHARD_NYBBLES;const ot=SnapshotInputSchema.parse(_e),ct={};for(const kt of ot){const Pt=kt.address.slice(2,2+at).toLowerCase();ct[Pt]===void 0&&(ct[Pt]=[]),ct[Pt].push(kt)}const ut={},ft=await Promise.all(Object.entries(ct).map(async kt=>{let[Pt,Ot]=kt;return[Pt,new dist$3.MerkleTree(await Promise.all(Ot.map(async Ht=>{const qt=await ShardedMerkleTree.fetchAndCacheDecimals(ut,rt,Ht.currencyAddress);return ShardedMerkleTree.hashEntry(Ht,tt,qt,it)})),keccak256$1,{sort:!0}).getHexRoot()]})),yt=Object.fromEntries(ft),bt=new dist$3.MerkleTree(Object.values(yt),keccak256$1,{sort:!0}),Et=[];for(const[kt,Pt]of Object.entries(ct)){const Ot={proofs:bt.getProof(yt[kt]).map(Ht=>"0x"+Ht.data.toString("hex")),entries:Pt};Et.push({data:JSON.stringify(Ot),name:`${kt}.json`})}const Ct=await nt.uploadBatch(Et),At=Ct[0].slice(0,Ct[0].lastIndexOf("/")),St=await nt.upload(ot),Tt={merkleRoot:bt.getHexRoot(),baseUri:At,originalEntriesUri:St,shardNybbles:at,tokenDecimals:tt,isShardedMerkleTree:!0},$t=await nt.upload(Tt);return{shardedMerkleInfo:Tt,uri:$t}}async getProof(_e,tt,rt){const nt=_e.slice(2,2+this.shardNybbles).toLowerCase();let it=this.shards[nt];const at={};if(it===void 0)try{it=this.shards[nt]=await this.storage.downloadJSON(`${this.baseUri}/${nt}.json`);const yt=await Promise.all(it.entries.map(async bt=>{const Et=await ShardedMerkleTree.fetchAndCacheDecimals(at,tt,bt.currencyAddress);return ShardedMerkleTree.hashEntry(bt,this.tokenDecimals,Et,rt)}));this.trees[nt]=new dist$3.MerkleTree(yt,keccak256$1,{sort:!0})}catch{return console.warn("No merkle entry found for address",_e),null}const ot=it.entries.find(yt=>yt.address.toLowerCase()===_e.toLowerCase());if(!ot)return null;const ct=await ShardedMerkleTree.fetchAndCacheDecimals(at,tt,ot.currencyAddress),ut=ShardedMerkleTree.hashEntry(ot,this.tokenDecimals,ct,rt),ft=this.trees[nt].getProof(ut).map(yt=>"0x"+yt.data.toString("hex"));return SnapshotEntryWithProofSchema.parse({...ot,proof:ft.concat(it.proofs)})}async getAllEntries(){try{return await this.storage.downloadJSON(this.originalEntriesUri)}catch(_e){return console.warn("Could not fetch original snapshot entries",_e),[]}}}async function createSnapshot(et,_e,tt,rt,nt){const it=SnapshotInputSchema.parse(et),at=it.map(ut=>ut.address);if(new Set(at).size<at.length)throw new DuplicateLeafsError;const ct=await ShardedMerkleTree.buildAndUpload(it,_e,tt,rt,nt);return{merkleRoot:ct.shardedMerkleInfo.merkleRoot,snapshotUri:ct.uri}}const roleMap={admin:"",transfer:"TRANSFER_ROLE",minter:"MINTER_ROLE",pauser:"PAUSER_ROLE",lister:"LISTER_ROLE",asset:"ASSET_ROLE",unwrap:"UNWRAP_ROLE",factory:"FACTORY_ROLE"},ALL_ROLES=Object.keys(roleMap);function getRoleHash(et){return et==="admin"?hexZeroPad([0],32):id(roleMap[et])}class ContractEncoder{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}encode(_e,tt){return this.contractWrapper.readContract.interface.encodeFunctionData(_e,tt)}decode(_e,tt){return this.contractWrapper.readContract.interface.decodeFunctionData(_e,tt)}}const FEATURE_ROYALTY={name:"Royalty",namespace:"royalty",docLinks:{sdk:"sdk.contractroyalty",contracts:"Royalty"},abis:[IThirdwebRoyaltyAbi],features:{}},FEATURE_PRIMARY_SALE={name:"PrimarySale",namespace:"sales",docLinks:{sdk:"sdk.contractprimarysale",contracts:"PrimarySale"},abis:[IThirdwebPrimarySaleAbi],features:{}},FEATURE_PLATFORM_FEE={name:"PlatformFee",namespace:"platformFee",docLinks:{sdk:"sdk.platformfee",contracts:"PlatformFee"},abis:[IThirdwebPlatformFeeAbi],features:{}},FEATURE_PERMISSIONS_ENUMERABLE={name:"PermissionsEnumerable",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"PermissionsEnumerable"},abis:[IPermissionsEnumerableAbi],features:{}},FEATURE_PERMISSIONS={name:"Permissions",namespace:"roles",docLinks:{sdk:"sdk.contractroles",contracts:"Permissions"},abis:[IPermissionsAbi],features:{[FEATURE_PERMISSIONS_ENUMERABLE.name]:FEATURE_PERMISSIONS_ENUMERABLE}},FEATURE_METADATA={name:"ContractMetadata",namespace:"metadata",docLinks:{sdk:"sdk.contractmetadata",contracts:"ContractMetadata"},abis:[IContractMetadataAbi],features:{}},FEATURE_APPURI={name:"AppURI",namespace:"appURI",docLinks:{sdk:"sdk.appURI",contracts:"AppURI"},abis:[IAppURI],features:{}},FEATURE_OWNER={name:"Ownable",namespace:"owner",docLinks:{sdk:"sdk.owner",contracts:"Ownable"},abis:[IOwnableAbi],features:{}},FEATURE_GASLESS={name:"Gasless",namespace:"gasless",docLinks:{sdk:"sdk.gaslesstransaction",contracts:""},abis:[IERC2771ContextAbi],features:{}},FEATURE_PACK_VRF={name:"PackVRF",namespace:"pack.vrf",docLinks:{sdk:"sdk.packvrf",contracts:"IPackVRFDirect"},abis:[IPackVRFAbi],features:{}},FEATURE_PLUGIN_ROUTER={name:"PluginRouter",namespace:"plugin.router",docLinks:{sdk:"sdk.pluginrouter",contracts:"IRouter"},abis:[IRouterAbi],features:{}},FEATURE_DIRECT_LISTINGS={name:"DirectListings",namespace:"direct.listings",docLinks:{sdk:"",contracts:""},abis:[IDirectListingsAbi],features:{}},FEATURE_ENGLISH_AUCTIONS={name:"EnglishAuctions",namespace:"english.auctions",docLinks:{sdk:"",contracts:""},abis:[IEnglishAuctionsAbi],features:{}},FEATURE_OFFERS={name:"Offers",namespace:"offers",docLinks:{sdk:"",contracts:""},abis:[IOffersAbi],features:{}};class ContractMetadata{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_METADATA.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"schema",void 0),_defineProperty$3(this,"storage",void 0),this.contractWrapper=_e,this.schema=tt,this.storage=rt}parseOutputMetadata(_e){return this.schema.output.parse(_e)}parseInputMetadata(_e){return this.schema.input.parse(_e)}async get(){let _e;if(this.supportsContractMetadata(this.contractWrapper)){const tt=await this.contractWrapper.readContract.contractURI();tt&&tt.includes("://")&&(_e=await this.storage.downloadJSON(tt))}if(!_e)try{let tt;try{hasFunction("name",this.contractWrapper)&&(tt=await this.contractWrapper.readContract.name())}catch{}const rt=await fetchContractMetadataFromAddress(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage);_e={name:tt||rt.name,description:rt.info.title}}catch{throw new Error("Could not fetch contract metadata")}return this.parseOutputMetadata(_e)}async set(_e){const tt=await this._parseAndUploadMetadata(_e),rt=this.contractWrapper;if(this.supportsContractMetadata(rt))return{receipt:await rt.sendTransaction("setContractURI",[tt]),data:this.get};throw new ExtensionNotImplementedError(FEATURE_METADATA)}async update(_e){return await this.set({...await this.get(),..._e})}async _parseAndUploadMetadata(_e){const tt=this.parseInputMetadata(_e);return this.storage.upload(tt)}supportsContractMetadata(_e){return detectContractFeature(_e,"ContractMetadata")}}class ContractRoles{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_PERMISSIONS.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"roles",void 0),this.contractWrapper=_e,this.roles=tt}async getAll(){invariant$2(this.roles.length,"this contract has no support for roles");const _e={};for(const tt of this.roles)_e[tt]=await this.get(tt);return _e}async get(_e){invariant$2(this.roles.includes(_e),`this contract does not support the "${_e}" role`);const tt=this.contractWrapper;if(hasFunction("getRoleMemberCount",tt)&&hasFunction("getRoleMember",tt)){const rt=getRoleHash(_e),nt=(await tt.readContract.getRoleMemberCount(rt)).toNumber();return await Promise.all(Array.from(Array(nt).keys()).map(it=>tt.readContract.getRoleMember(rt,it)))}throw new Error("Contract does not support enumerating roles. Please implement IPermissionsEnumerable to unlock this functionality.")}async setAll(_e){const tt=Object.keys(_e);invariant$2(tt.length,"you must provide at least one role to set"),invariant$2(tt.every(at=>this.roles.includes(at)),"this contract does not support the given role");const rt=await this.getAll(),nt=[],it=tt.sort(at=>at==="admin"?1:-1);for(let at=0;at<it.length;at++){const ot=it[at],ct=_e[ot]||[],ut=rt[ot]||[],ft=ct.filter(bt=>!ut.includes(bt)),yt=ut.filter(bt=>!ct.includes(bt));if(ft.length&&ft.forEach(bt=>{nt.push(this.contractWrapper.readContract.interface.encodeFunctionData("grantRole",[getRoleHash(ot),bt]))}),yt.length)for(let bt=0;bt<yt.length;bt++){const Et=yt[bt],Ct=await this.getRevokeRoleFunctionName(Et);nt.push(this.contractWrapper.readContract.interface.encodeFunctionData(Ct,[getRoleHash(ot),Et]))}}return{receipt:await this.contractWrapper.multiCall(nt)}}async verify(_e,tt){await Promise.all(_e.map(async rt=>{if(!(await this.get(rt)).map(it=>it.toLowerCase()).includes(tt.toLowerCase()))throw new MissingRoleError(tt,rt)}))}async grant(_e,tt){return invariant$2(this.roles.includes(_e),`this contract does not support the "${_e}" role`),{receipt:await this.contractWrapper.sendTransaction("grantRole",[getRoleHash(_e),tt])}}async revoke(_e,tt){invariant$2(this.roles.includes(_e),`this contract does not support the "${_e}" role`);const rt=await this.getRevokeRoleFunctionName(tt);return{receipt:await this.contractWrapper.sendTransaction(rt,[getRoleHash(_e),tt])}}async getRevokeRoleFunctionName(_e){return(await this.contractWrapper.getSignerAddress()).toLowerCase()===_e.toLowerCase()?"renounceRole":"revokeRole"}}class ContractRoyalty{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_ROYALTY.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"metadata",void 0),this.contractWrapper=_e,this.metadata=tt}async getDefaultRoyaltyInfo(){const[_e,tt]=await this.contractWrapper.readContract.getDefaultRoyaltyInfo();return CommonRoyaltySchema.parse({fee_recipient:_e,seller_fee_basis_points:tt})}async getTokenRoyaltyInfo(_e){const[tt,rt]=await this.contractWrapper.readContract.getRoyaltyInfoForToken(_e);return CommonRoyaltySchema.parse({fee_recipient:tt,seller_fee_basis_points:rt})}async setDefaultRoyaltyInfo(_e){const tt=await this.metadata.get(),rt=this.metadata.parseInputMetadata({...tt,..._e}),nt=await this.metadata._parseAndUploadMetadata(rt);if(hasFunction("setContractURI",this.contractWrapper)){const it=[this.contractWrapper.readContract.interface.encodeFunctionData("setDefaultRoyaltyInfo",[rt.fee_recipient,rt.seller_fee_basis_points]),this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[nt])];return{receipt:await this.contractWrapper.multiCall(it),data:()=>this.getDefaultRoyaltyInfo()}}else throw new Error("Updating royalties requires implementing ContractMetadata in your contract to support marketplaces like OpenSea.")}async setTokenRoyaltyInfo(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("setRoyaltyInfoForToken",[_e,tt.fee_recipient,tt.seller_fee_basis_points]),data:()=>this.getDefaultRoyaltyInfo()}}}class ContractPrimarySale{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_PRIMARY_SALE.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async getRecipient(){return await this.contractWrapper.readContract.primarySaleRecipient()}async setRecipient(_e){return{receipt:await this.contractWrapper.sendTransaction("setPrimarySaleRecipient",[_e])}}}const FALLBACK_METADATA={name:"Failed to load NFT metadata"};async function fetchTokenMetadata(et,_e,tt){const rt=_e.replace("{id}",hexZeroPad(BigNumber.from(et).toHexString(),32).slice(2));let nt;try{nt=await tt.downloadJSON(rt)}catch{const at=_e.replace("{id}",BigNumber.from(et).toString());try{nt=await tt.downloadJSON(at)}catch{console.warn(`failed to get token metadata: ${JSON.stringify({tokenId:et.toString(),tokenUri:_e})} -- falling back to default metadata`),nt=FALLBACK_METADATA}}return CommonNFTOutput.parse({...nt,id:BigNumber.from(et).toString(),uri:_e})}async function fetchTokenMetadataForContract(et,_e,tt,rt){let nt;const it=new Contract(et,ERC165Abi,_e),at=await it.supportsInterface(InterfaceId_IERC721),ot=await it.supportsInterface(InterfaceId_IERC1155);if(at)nt=await new Contract(et,ERC721MetadataAbi,_e).tokenURI(tt);else if(ot)nt=await new Contract(et,ERC1155MetadataAbi,_e).uri(tt);else throw Error("Contract must implement ERC 1155 or ERC 721.");if(!nt)throw new NotFoundError;return fetchTokenMetadata(tt,nt,rt)}async function uploadOrExtractURI(et,_e){return typeof et=="string"?et:await _e.upload(CommonNFTInput.parse(et))}async function uploadOrExtractURIs(et,_e,tt,rt){if(isUriList(et))return et;if(isMetadataList(et))return await _e.uploadBatch(et.map(it=>CommonNFTInput.parse(it)),{rewriteFileNames:{fileStartNumber:tt||0},onProgress:rt==null?void 0:rt.onProgress});throw new Error("NFT metadatas must all be of the same type (all URI or all NFTMetadataInput)")}function getBaseUriFromBatch(et){const _e=et[0].substring(0,et[0].lastIndexOf("/"));for(let tt=0;tt<et.length;tt++){const rt=et[tt].substring(0,et[tt].lastIndexOf("/"));if(_e!==rt)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${_e}' but got '${rt}'`)}return _e.replace(/\/$/,"")+"/"}function isUriList(et){return et.find(_e=>typeof _e!="string")===void 0}function isMetadataList(et){return et.find(_e=>typeof _e!="object")===void 0}class DelayedReveal{constructor(_e,tt,rt,nt){_defineProperty$3(this,"featureName",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"nextTokenIdToMintFn",void 0),this.featureName=rt,this.nextTokenIdToMintFn=nt,this.contractWrapper=_e,this.storage=tt}async createDelayedRevealBatch(_e,tt,rt,nt){if(!rt)throw new Error("Password is required");const it=await this.storage.uploadBatch([CommonNFTInput.parse(_e)],{rewriteFileNames:{fileStartNumber:0}}),at=getBaseUriFromBatch(it),ot=await this.nextTokenIdToMintFn(),ct=await this.storage.uploadBatch(tt.map(Pt=>CommonNFTInput.parse(Pt)),{onProgress:nt==null?void 0:nt.onProgress,rewriteFileNames:{fileStartNumber:ot.toNumber()}}),ut=getBaseUriFromBatch(ct),ft=await this.contractWrapper.readContract.getBaseURICount(),yt=await this.hashDelayRevealPasword(ft,rt),bt=await this.contractWrapper.readContract.encryptDecrypt(toUtf8Bytes(ut),yt);let Et;if(await this.isLegacyContract())Et=bt;else{const Pt=await this.contractWrapper.getChainID(),Ot=keccak256(["bytes","bytes","uint256"],[toUtf8Bytes(ut),yt,Pt]);Et=defaultAbiCoder.encode(["bytes","bytes32"],[bt,Ot])}const At=await this.contractWrapper.sendTransaction("lazyMint",[ct.length,at.endsWith("/")?at:`${at}/`,Et]),St=this.contractWrapper.parseLogs("TokensLazyMinted",At==null?void 0:At.logs),Tt=St[0].args.startTokenId,$t=St[0].args.endTokenId,kt=[];for(let Pt=Tt;Pt.lte($t);Pt=Pt.add(1))kt.push({id:Pt,receipt:At});return kt}async reveal(_e,tt){if(!tt)throw new Error("Password is required");const rt=await this.hashDelayRevealPasword(_e,tt);try{const nt=await this.contractWrapper.callStatic().reveal(_e,rt);if(!nt.includes("://")||!nt.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return{receipt:await this.contractWrapper.sendTransaction("reveal",[_e,rt])}}async getBatchesToReveal(){const _e=await this.contractWrapper.readContract.getBaseURICount();if(_e.isZero())return[];const tt=Array.from(Array(_e.toNumber()).keys()),rt=await Promise.all(tt.map(ut=>{if(hasFunction("getBatchIdAtIndex",this.contractWrapper))return this.contractWrapper.readContract.getBatchIdAtIndex(ut);if(hasFunction("baseURIIndices",this.contractWrapper))return this.contractWrapper.readContract.baseURIIndices(ut);throw new Error("Contract does not have getBatchIdAtIndex or baseURIIndices.")})),nt=rt.slice(0,rt.length-1),it=await Promise.all(Array.from([0,...nt]).map(ut=>this.getNftMetadata(ut.toString()))),at=await this.isLegacyContract(),ct=(await Promise.all(Array.from([...rt]).map(ut=>at?this.getLegacyEncryptedData(ut):this.contractWrapper.readContract.encryptedData(ut)))).map(ut=>hexDataLength(ut)>0?at?ut:defaultAbiCoder.decode(["bytes","bytes32"],ut)[0]:ut);return it.map((ut,ft)=>({batchId:BigNumber.from(ft),batchUri:ut.uri,placeholderMetadata:ut})).filter((ut,ft)=>hexDataLength(ct[ft])>0)}async hashDelayRevealPasword(_e,tt){const rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.readContract.address;return keccak256(["string","uint256","uint256","address"],[tt,rt,_e,nt])}async getNftMetadata(_e){return fetchTokenMetadataForContract(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),_e,this.storage)}async isLegacyContract(){if(hasFunction("contractVersion",this.contractWrapper))try{return await this.contractWrapper.readContract.contractVersion()<=2}catch{return!1}return!1}async getLegacyEncryptedData(_e){const rt=await new Contract(this.contractWrapper.readContract.address,DeprecatedAbi,this.contractWrapper.getProvider()).functions.encryptedBaseURI(_e);return rt.length>0?rt[0]:"0x"}}const FEATURE_TOKEN_CLAIM_CONDITIONS_V1={name:"ERC20ClaimConditionsV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"DropSinglePhase_V1"},abis:[ERC20Abi,IDropSinglePhaseV1],features:{}},FEATURE_TOKEN_CLAIM_CONDITIONS_V2={name:"ERC20ClaimConditionsV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"DropSinglePhase"},abis:[ERC20Abi,IDropSinglePhase],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V2={name:"ERC20ClaimPhasesV2",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"Drop"},abis:[ERC20Abi,IDrop],features:{}},FEATURE_TOKEN_CLAIM_PHASES_V1={name:"ERC20ClaimPhasesV1",namespace:"token.drop.claim",docLinks:{sdk:"sdk.erc20dclaimable",contracts:"Drop"},abis:[DropERC20_V2Abi],features:{}},FEATURE_TOKEN_BURNABLE={name:"ERC20Burnable",namespace:"token.burn",docLinks:{sdk:"sdk.erc20burnable",contracts:"IBurnableERC20"},abis:[ERC20Abi,IBurnableERC20Abi],features:{}},FEATURE_TOKEN_SIGNATURE_MINTABLE={name:"ERC20SignatureMintable",namespace:"token.signature",docLinks:{sdk:"sdk.erc20signaturemintable",contracts:"ISignatureMintERC20"},abis:[ERC20Abi,ISignatureMintERC20Abi],features:{}},FEATURE_TOKEN_BATCH_MINTABLE={name:"ERC20BatchMintable",namespace:"token.mint.batch",docLinks:{sdk:"sdk.erc20batchmintable",contracts:"IMulticall"},abis:[ERC20Abi,IMintableERC20Abi,MulticallAbi],features:{}},FEATURE_TOKEN_MINTABLE={name:"ERC20Mintable",namespace:"token.mint",docLinks:{sdk:"sdk.erc20mintable",contracts:"IMintableERC20"},abis:[ERC20Abi,IMintableERC20Abi],features:{[FEATURE_TOKEN_BATCH_MINTABLE.name]:FEATURE_TOKEN_BATCH_MINTABLE}},FEATURE_TOKEN={name:"ERC20",namespace:"token",docLinks:{sdk:"sdk.erc20",contracts:"IERC20"},abis:[ERC20Abi],features:{[FEATURE_TOKEN_BURNABLE.name]:FEATURE_TOKEN_BURNABLE,[FEATURE_TOKEN_MINTABLE.name]:FEATURE_TOKEN_MINTABLE,[FEATURE_TOKEN_CLAIM_CONDITIONS_V1.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V1,[FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name]:FEATURE_TOKEN_CLAIM_CONDITIONS_V2,[FEATURE_TOKEN_CLAIM_PHASES_V1.name]:FEATURE_TOKEN_CLAIM_PHASES_V1,[FEATURE_TOKEN_CLAIM_PHASES_V2.name]:FEATURE_TOKEN_CLAIM_PHASES_V2,[FEATURE_TOKEN_SIGNATURE_MINTABLE.name]:FEATURE_TOKEN_SIGNATURE_MINTABLE}},FEATURE_NFT_BURNABLE={name:"ERC721Burnable",namespace:"nft.burn",docLinks:{sdk:"sdk.erc721burnable",contracts:"IBurnableERC721"},abis:[Erc721Abi,IBurnableERC721Abi],features:{}},FEATURE_NFT_REVEALABLE={name:"ERC721Revealable",namespace:"nft.drop.revealer",docLinks:{sdk:"sdk.delayedreveal",contracts:"DelayedReveal"},abis:[Erc721Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_NFT_TIERED_DROP={name:"ERC721TieredDrop",namespace:"nft.tieredDrop",docLinks:{sdk:"sdk.erc721tiereddrop",contracts:"TieredDrop"},abis:[Erc721Abi,TieredDropAbi],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V1={name:"ERC721ClaimConditionsV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"DropSinglePhase_V1"},abis:[Erc721Abi,ILazyMintAbi,IDropSinglePhaseV1],features:{}},FEATURE_NFT_CLAIM_CONDITIONS_V2={name:"ERC721ClaimConditionsV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"DropSinglePhase"},abis:[Erc721Abi,ILazyMintAbi,IDropSinglePhase],features:{}},FEATURE_NFT_CLAIM_PHASES_V1={name:"ERC721ClaimPhasesV1",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"Drop"},abis:[DropERC721_V3Abi],features:{}},FEATURE_NFT_CLAIM_PHASES_V2={name:"ERC721ClaimPhasesV2",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"Drop"},abis:[Erc721Abi,ILazyMintAbi,IDrop],features:{}},FEATURE_NFT_CLAIM_CUSTOM={name:"ERC721ClaimCustom",namespace:"nft.drop.claim",docLinks:{sdk:"sdk.erc721claimable",contracts:"IClaimableERC721"},abis:[Erc721Abi,ILazyMintAbi,IClaimableERC721],features:{}},FEATURE_NFT_LAZY_MINTABLE={name:"ERC721LazyMintable",namespace:"nft.drop",docLinks:{sdk:"sdk.erc721lazymintable",contracts:"LazyMint"},abis:[Erc721Abi,ILazyMintAbi],features:{[FEATURE_NFT_REVEALABLE.name]:FEATURE_NFT_REVEALABLE,[FEATURE_NFT_CLAIM_CUSTOM.name]:FEATURE_NFT_CLAIM_CUSTOM,[FEATURE_NFT_CLAIM_CONDITIONS_V1.name]:FEATURE_NFT_CLAIM_CONDITIONS_V1,[FEATURE_NFT_CLAIM_CONDITIONS_V2.name]:FEATURE_NFT_CLAIM_CONDITIONS_V2,[FEATURE_NFT_CLAIM_PHASES_V1.name]:FEATURE_NFT_CLAIM_PHASES_V1,[FEATURE_NFT_CLAIM_PHASES_V2.name]:FEATURE_NFT_CLAIM_PHASES_V2}},FEATURE_NFT_BATCH_MINTABLE={name:"ERC721BatchMintable",namespace:"nft.mint.batch",docLinks:{sdk:"sdk.erc721batchmintable",contracts:"IMulticall"},abis:[Erc721Abi,IMintableERC721Abi,MulticallAbi],features:{}},FEATURE_NFT_MINTABLE={name:"ERC721Mintable",namespace:"nft.mint",docLinks:{sdk:"sdk.erc721mintable",contracts:"IMintableERC721"},abis:[Erc721Abi,IMintableERC721Abi],features:{[FEATURE_NFT_BATCH_MINTABLE.name]:FEATURE_NFT_BATCH_MINTABLE}},FEATURE_NFT_SIGNATURE_MINTABLE_V2={name:"ERC721SignatureMintV2",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"ISignatureMintERC721"},abis:[Erc721Abi,SignatureMintERC721Abi],features:{}},FEATURE_NFT_SIGNATURE_MINTABLE_V1={name:"ERC721SignatureMintV1",namespace:"nft.signature",docLinks:{sdk:"sdk.erc721signaturemint",contracts:"ISignatureMintERC721"},abis:[SignatureMintERC721_V1Abi],features:{}},FEATURE_NFT_ENUMERABLE={name:"ERC721Enumerable",namespace:"nft.query.owned",docLinks:{sdk:"sdk.erc721enumerable",contracts:"IERC721Enumerable"},abis:[Erc721Abi,Erc721EnumerableAbi],features:{}},FEATURE_NFT_SUPPLY={name:"ERC721Supply",namespace:"nft.query",docLinks:{sdk:"sdk.erc721supply",contracts:"IERC721Supply"},abis:[Erc721Abi,Erc721SupplyAbi],features:{[FEATURE_NFT_ENUMERABLE.name]:FEATURE_NFT_ENUMERABLE}},FEATURE_NFT={name:"ERC721",namespace:"nft",docLinks:{sdk:"sdk.erc721",contracts:"IERC721"},abis:[Erc721Abi],features:{[FEATURE_NFT_BURNABLE.name]:FEATURE_NFT_BURNABLE,[FEATURE_NFT_SUPPLY.name]:FEATURE_NFT_SUPPLY,[FEATURE_NFT_MINTABLE.name]:FEATURE_NFT_MINTABLE,[FEATURE_NFT_LAZY_MINTABLE.name]:FEATURE_NFT_LAZY_MINTABLE,[FEATURE_NFT_SIGNATURE_MINTABLE_V1.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V1,[FEATURE_NFT_SIGNATURE_MINTABLE_V2.name]:FEATURE_NFT_SIGNATURE_MINTABLE_V2,[FEATURE_NFT_TIERED_DROP.name]:FEATURE_NFT_TIERED_DROP}},FEATURE_EDITION_BURNABLE={name:"ERC1155Burnable",namespace:"edition.burn",docLinks:{sdk:"sdk.erc1155burnable",contracts:"IBurnableERC1155"},abis:[Erc1155Abi,IBurnableERC1155Abi],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V1={name:"ERC1155ClaimConditionsV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"DropSinglePhase1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropSinglePhase1155_V1],features:{}},FEATURE_EDITION_CLAIM_CONDITIONS_V2={name:"ERC1155ClaimConditionsV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"DropSinglePhase1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropSinglePhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V2={name:"ERC1155ClaimPhasesV2",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"Drop1155"},abis:[Erc1155Abi,ILazyMintAbi,IDropMultiPhase1155],features:{}},FEATURE_EDITION_CLAIM_PHASES_V1={name:"ERC1155ClaimPhasesV1",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"Drop1155"},abis:[DropERC1155_V2Abi],features:{}},FEATURE_EDITION_CLAIM_CUSTOM={name:"ERC1155ClaimCustom",namespace:"edition.drop.claim",docLinks:{sdk:"sdk.erc1155claimable",contracts:"IClaimableERC1155"},abis:[Erc1155Abi,ILazyMintAbi,IClaimableERC1155],features:{}},FEATURE_EDITION_REVEALABLE={name:"ERC1155Revealable",namespace:"edition.drop.revealer",docLinks:{sdk:"sdk.drop.delayedreveal",contracts:"DelayedReveal"},abis:[Erc1155Abi,ILazyMintAbi,DelayedRevealAbi],features:{}},FEATURE_EDITION_LAZY_MINTABLE_V2={name:"ERC1155LazyMintableV2",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"LazyMint"},abis:[Erc1155Abi,ILazyMintAbi],features:{[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE,[FEATURE_EDITION_CLAIM_CUSTOM.name]:FEATURE_EDITION_CLAIM_CUSTOM,[FEATURE_EDITION_CLAIM_CONDITIONS_V1.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V1,[FEATURE_EDITION_CLAIM_CONDITIONS_V2.name]:FEATURE_EDITION_CLAIM_CONDITIONS_V2,[FEATURE_EDITION_CLAIM_PHASES_V2.name]:FEATURE_EDITION_CLAIM_PHASES_V2}},FEATURE_EDITION_LAZY_MINTABLE_V1={name:"ERC1155LazyMintableV1",namespace:"edition.drop",docLinks:{sdk:"sdk.erc1155droppable",contracts:"LazyMint"},abis:[DropERC1155_V2Abi],features:{[FEATURE_EDITION_CLAIM_PHASES_V1.name]:FEATURE_EDITION_CLAIM_PHASES_V1}},FEATURE_EDITION_SIGNATURE_MINTABLE={name:"ERC1155SignatureMintable",namespace:"edition.signature",docLinks:{sdk:"sdk.erc1155signaturemintable",contracts:"ISignatureMintERC1155"},abis:[Erc1155Abi,ISignatureMintERC1155Abi],features:{}},FEATURE_EDITION_BATCH_MINTABLE={name:"ERC1155BatchMintable",namespace:"edition.mint.batch",docLinks:{sdk:"sdk.erc1155batchmintable",contracts:"IMulticall"},abis:[Erc1155Abi,IMintableERC1155Abi,MulticallAbi],features:{}},FEATURE_EDITION_MINTABLE={name:"ERC1155Mintable",namespace:"edition.mint",docLinks:{sdk:"sdk.erc1155mintable",contracts:"IMintableERC1155"},abis:[Erc1155Abi,IMintableERC1155Abi],features:{[FEATURE_EDITION_BATCH_MINTABLE.name]:FEATURE_EDITION_BATCH_MINTABLE}},FEATURE_EDITION_ENUMERABLE={name:"ERC1155Enumerable",namespace:"edition.query",docLinks:{sdk:"sdk.erc1155",contracts:"IERC1155"},abis:[Erc1155Abi,Erc1155EnumerableAbi],features:{}},FEATURE_EDITION={name:"ERC1155",namespace:"edition",docLinks:{sdk:"sdk.erc1155enumerable",contracts:"IERC1155Enumerable"},abis:[Erc1155Abi],features:{[FEATURE_EDITION_BURNABLE.name]:FEATURE_EDITION_BURNABLE,[FEATURE_EDITION_ENUMERABLE.name]:FEATURE_EDITION_ENUMERABLE,[FEATURE_EDITION_MINTABLE.name]:FEATURE_EDITION_MINTABLE,[FEATURE_EDITION_LAZY_MINTABLE_V1.name]:FEATURE_EDITION_LAZY_MINTABLE_V1,[FEATURE_EDITION_LAZY_MINTABLE_V2.name]:FEATURE_EDITION_LAZY_MINTABLE_V2,[FEATURE_EDITION_REVEALABLE.name]:FEATURE_EDITION_REVEALABLE,[FEATURE_EDITION_SIGNATURE_MINTABLE.name]:FEATURE_EDITION_SIGNATURE_MINTABLE}},SUPPORTED_FEATURES={[FEATURE_TOKEN.name]:FEATURE_TOKEN,[FEATURE_NFT.name]:FEATURE_NFT,[FEATURE_EDITION.name]:FEATURE_EDITION,[FEATURE_ROYALTY.name]:FEATURE_ROYALTY,[FEATURE_PLATFORM_FEE.name]:FEATURE_PLATFORM_FEE,[FEATURE_PRIMARY_SALE.name]:FEATURE_PRIMARY_SALE,[FEATURE_PERMISSIONS.name]:FEATURE_PERMISSIONS,[FEATURE_METADATA.name]:FEATURE_METADATA,[FEATURE_APPURI.name]:FEATURE_APPURI,[FEATURE_OWNER.name]:FEATURE_OWNER,[FEATURE_GASLESS.name]:FEATURE_GASLESS,[FEATURE_PACK_VRF.name]:FEATURE_PACK_VRF,[FEATURE_PLUGIN_ROUTER.name]:FEATURE_PLUGIN_ROUTER,[FEATURE_DIRECT_LISTINGS.name]:FEATURE_DIRECT_LISTINGS,[FEATURE_ENGLISH_AUCTIONS.name]:FEATURE_ENGLISH_AUCTIONS,[FEATURE_OFFERS.name]:FEATURE_OFFERS};let decoder;try{decoder=new TextDecoder}catch{}let src$1,srcEnd,position$1=0;const LEGACY_RECORD_INLINE_ID=105,RECORD_DEFINITIONS_ID=57342,RECORD_INLINE_ID=57343,BUNDLED_STRINGS_ID=57337,PACKED_REFERENCE_TAG_ID=6,STOP_CODE={};let currentDecoder={},currentStructures,srcString,srcStringStart=0,srcStringEnd=0,bundledStrings,referenceMap,currentExtensions=[],currentExtensionRanges=[],packedValues,dataView,restoreMapsAsObject,defaultOptions$2={useRecords:!1,mapsAsObjects:!0},sequentialMode=!1;class Decoder{constructor(_e){if(_e&&((_e.keyMap||_e._keyMap)&&!_e.useRecords&&(_e.useRecords=!1,_e.mapsAsObjects=!0),_e.useRecords===!1&&_e.mapsAsObjects===void 0&&(_e.mapsAsObjects=!0),_e.getStructures&&(_e.getShared=_e.getStructures),_e.getShared&&!_e.structures&&((_e.structures=[]).uninitialized=!0),_e.keyMap)){this.mapKey=new Map;for(let[tt,rt]of Object.entries(_e.keyMap))this.mapKey.set(rt,tt)}Object.assign(this,_e)}decodeKey(_e){return this.keyMap&&this.mapKey.get(_e)||_e}decode(_e,tt){if(src$1)return saveState(()=>(clearSource(),this?this.decode(_e,tt):Decoder.prototype.decode.call(defaultOptions$2,_e,tt)));srcEnd=tt>-1?tt:_e.length,position$1=0,srcStringEnd=0,srcString=null,bundledStrings=null,src$1=_e;try{dataView=_e.dataView||(_e.dataView=new DataView(_e.buffer,_e.byteOffset,_e.byteLength))}catch(rt){throw src$1=null,_e instanceof Uint8Array?rt:new Error("Source must be a Uint8Array or Buffer but was a "+(_e&&typeof _e=="object"?_e.constructor.name:typeof _e))}if(this instanceof Decoder){if(currentDecoder=this,packedValues=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return currentStructures=this.structures,checkedRead();(!currentStructures||currentStructures.length>0)&&(currentStructures=[])}else currentDecoder=defaultOptions$2,(!currentStructures||currentStructures.length>0)&&(currentStructures=[]),packedValues=null;return checkedRead()}}function checkedRead(){try{let et=read();if(bundledStrings){if(position$1>=bundledStrings.postBundlePosition){let _e=new Error("Unexpected bundle position");throw _e.incomplete=!0,_e}position$1=bundledStrings.postBundlePosition,bundledStrings=null}if(position$1==srcEnd)currentStructures=null,src$1=null,referenceMap&&(referenceMap=null);else if(position$1>srcEnd){let _e=new Error("Unexpected end of CBOR data");throw _e.incomplete=!0,_e}else if(!sequentialMode)throw new Error("Data read, but end of buffer not reached");return et}catch(et){throw clearSource(),(et instanceof RangeError||et.message.startsWith("Unexpected end of buffer"))&&(et.incomplete=!0),et}}function read(){let et=src$1[position$1++],_e=et>>5;if(et=et&31,et>23)switch(et){case 24:et=src$1[position$1++];break;case 25:if(_e==7)return getFloat16();et=dataView.getUint16(position$1),position$1+=2;break;case 26:if(_e==7){let tt=dataView.getFloat32(position$1);if(currentDecoder.useFloat32>2){let rt=mult10[(src$1[position$1]&127)<<1|src$1[position$1+1]>>7];return position$1+=4,(rt*tt+(tt>0?.5:-.5)>>0)/rt}return position$1+=4,tt}et=dataView.getUint32(position$1),position$1+=4;break;case 27:if(_e==7){let tt=dataView.getFloat64(position$1);return position$1+=8,tt}if(_e>1){if(dataView.getUint32(position$1)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");et=dataView.getUint32(position$1+4)}else currentDecoder.int64AsNumber?(et=dataView.getUint32(position$1)*4294967296,et+=dataView.getUint32(position$1+4)):et=dataView.getBigUint64(position$1);position$1+=8;break;case 31:switch(_e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let tt=[],rt,nt=0;for(;(rt=read())!=STOP_CODE;)tt[nt++]=rt;return _e==4?tt:_e==3?tt.join(""):Buffer.concat(tt);case 5:let it;if(currentDecoder.mapsAsObjects){let at={};if(currentDecoder.keyMap)for(;(it=read())!=STOP_CODE;)at[safeKey(currentDecoder.decodeKey(it))]=read();else for(;(it=read())!=STOP_CODE;)at[safeKey(it)]=read();return at}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let at=new Map;if(currentDecoder.keyMap)for(;(it=read())!=STOP_CODE;)at.set(currentDecoder.decodeKey(it),read());else for(;(it=read())!=STOP_CODE;)at.set(it,read());return at}case 7:return STOP_CODE;default:throw new Error("Invalid major type for indefinite length "+_e)}default:throw new Error("Unknown token "+et)}switch(_e){case 0:return et;case 1:return~et;case 2:return readBin(et);case 3:if(srcStringEnd>=position$1)return srcString.slice(position$1-srcStringStart,(position$1+=et)-srcStringStart);if(srcStringEnd==0&&srcEnd<140&&et<32){let nt=et<16?shortStringInJS(et):longStringInJS(et);if(nt!=null)return nt}return readFixedString(et);case 4:let tt=new Array(et);for(let nt=0;nt<et;nt++)tt[nt]=read();return tt;case 5:if(currentDecoder.mapsAsObjects){let nt={};if(currentDecoder.keyMap)for(let it=0;it<et;it++)nt[safeKey(currentDecoder.decodeKey(read()))]=read();else for(let it=0;it<et;it++)nt[safeKey(read())]=read();return nt}else{restoreMapsAsObject&&(currentDecoder.mapsAsObjects=!0,restoreMapsAsObject=!1);let nt=new Map;if(currentDecoder.keyMap)for(let it=0;it<et;it++)nt.set(currentDecoder.decodeKey(read()),read());else for(let it=0;it<et;it++)nt.set(read(),read());return nt}case 6:if(et>=BUNDLED_STRINGS_ID){let nt=currentStructures[et&8191];if(nt)return nt.read||(nt.read=createStructureReader(nt)),nt.read();if(et<65536){if(et==RECORD_INLINE_ID)return recordDefinition(read());if(et==RECORD_DEFINITIONS_ID){let it=readJustLength(),at=read();for(let ot=2;ot<it;ot++)recordDefinition([at++,read()]);return read()}else if(et==BUNDLED_STRINGS_ID)return readBundleExt();if(currentDecoder.getShared&&(loadShared(),nt=currentStructures[et&8191],nt))return nt.read||(nt.read=createStructureReader(nt)),nt.read()}}let rt=currentExtensions[et];if(rt)return rt.handlesRead?rt(read):rt(read());{let nt=read();for(let it=0;it<currentExtensionRanges.length;it++){let at=currentExtensionRanges[it](et,nt);if(at!==void 0)return at}return new Tag(nt,et)}case 7:switch(et){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let nt=(packedValues||getPackedValues())[et];if(nt!==void 0)return nt;throw new Error("Unknown token "+et)}default:if(isNaN(et)){let nt=new Error("Unexpected end of CBOR data");throw nt.incomplete=!0,nt}throw new Error("Unknown CBOR token "+et)}}const validName=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function createStructureReader(et){function _e(){let tt=src$1[position$1++];if(tt=tt&31,tt>23)switch(tt){case 24:tt=src$1[position$1++];break;case 25:tt=dataView.getUint16(position$1),position$1+=2;break;case 26:tt=dataView.getUint32(position$1),position$1+=4;break;default:throw new Error("Expected array header, but got "+src$1[position$1-1])}let rt=this.compiledReader;for(;rt;){if(rt.propertyCount===tt)return rt(read);rt=rt.next}if(this.slowReads++>=3){let it=this.length==tt?this:this.slice(0,tt);return rt=currentDecoder.keyMap?new Function("r","return {"+it.map(at=>currentDecoder.decodeKey(at)).map(at=>validName.test(at)?safeKey(at)+":r()":"["+JSON.stringify(at)+"]:r()").join(",")+"}"):new Function("r","return {"+it.map(at=>validName.test(at)?safeKey(at)+":r()":"["+JSON.stringify(at)+"]:r()").join(",")+"}"),this.compiledReader&&(rt.next=this.compiledReader),rt.propertyCount=tt,this.compiledReader=rt,rt(read)}let nt={};if(currentDecoder.keyMap)for(let it=0;it<tt;it++)nt[safeKey(currentDecoder.decodeKey(this[it]))]=read();else for(let it=0;it<tt;it++)nt[safeKey(this[it])]=read();return nt}return et.slowReads=0,_e}function safeKey(et){return et==="__proto__"?"__proto_":et}let readFixedString=readStringJS;function readStringJS(et){let _e;if(et<16&&(_e=shortStringInJS(et)))return _e;if(et>64&&decoder)return decoder.decode(src$1.subarray(position$1,position$1+=et));const tt=position$1+et,rt=[];for(_e="";position$1<tt;){const nt=src$1[position$1++];if((nt&128)===0)rt.push(nt);else if((nt&224)===192){const it=src$1[position$1++]&63;rt.push((nt&31)<<6|it)}else if((nt&240)===224){const it=src$1[position$1++]&63,at=src$1[position$1++]&63;rt.push((nt&31)<<12|it<<6|at)}else if((nt&248)===240){const it=src$1[position$1++]&63,at=src$1[position$1++]&63,ot=src$1[position$1++]&63;let ct=(nt&7)<<18|it<<12|at<<6|ot;ct>65535&&(ct-=65536,rt.push(ct>>>10&1023|55296),ct=56320|ct&1023),rt.push(ct)}else rt.push(nt);rt.length>=4096&&(_e+=fromCharCode.apply(String,rt),rt.length=0)}return rt.length>0&&(_e+=fromCharCode.apply(String,rt)),_e}let fromCharCode=String.fromCharCode;function longStringInJS(et){let _e=position$1,tt=new Array(et);for(let rt=0;rt<et;rt++){const nt=src$1[position$1++];if((nt&128)>0){position$1=_e;return}tt[rt]=nt}return fromCharCode.apply(String,tt)}function shortStringInJS(et){if(et<4)if(et<2){if(et===0)return"";{let _e=src$1[position$1++];if((_e&128)>1){position$1-=1;return}return fromCharCode(_e)}}else{let _e=src$1[position$1++],tt=src$1[position$1++];if((_e&128)>0||(tt&128)>0){position$1-=2;return}if(et<3)return fromCharCode(_e,tt);let rt=src$1[position$1++];if((rt&128)>0){position$1-=3;return}return fromCharCode(_e,tt,rt)}else{let _e=src$1[position$1++],tt=src$1[position$1++],rt=src$1[position$1++],nt=src$1[position$1++];if((_e&128)>0||(tt&128)>0||(rt&128)>0||(nt&128)>0){position$1-=4;return}if(et<6){if(et===4)return fromCharCode(_e,tt,rt,nt);{let it=src$1[position$1++];if((it&128)>0){position$1-=5;return}return fromCharCode(_e,tt,rt,nt,it)}}else if(et<8){let it=src$1[position$1++],at=src$1[position$1++];if((it&128)>0||(at&128)>0){position$1-=6;return}if(et<7)return fromCharCode(_e,tt,rt,nt,it,at);let ot=src$1[position$1++];if((ot&128)>0){position$1-=7;return}return fromCharCode(_e,tt,rt,nt,it,at,ot)}else{let it=src$1[position$1++],at=src$1[position$1++],ot=src$1[position$1++],ct=src$1[position$1++];if((it&128)>0||(at&128)>0||(ot&128)>0||(ct&128)>0){position$1-=8;return}if(et<10){if(et===8)return fromCharCode(_e,tt,rt,nt,it,at,ot,ct);{let ut=src$1[position$1++];if((ut&128)>0){position$1-=9;return}return fromCharCode(_e,tt,rt,nt,it,at,ot,ct,ut)}}else if(et<12){let ut=src$1[position$1++],ft=src$1[position$1++];if((ut&128)>0||(ft&128)>0){position$1-=10;return}if(et<11)return fromCharCode(_e,tt,rt,nt,it,at,ot,ct,ut,ft);let yt=src$1[position$1++];if((yt&128)>0){position$1-=11;return}return fromCharCode(_e,tt,rt,nt,it,at,ot,ct,ut,ft,yt)}else{let ut=src$1[position$1++],ft=src$1[position$1++],yt=src$1[position$1++],bt=src$1[position$1++];if((ut&128)>0||(ft&128)>0||(yt&128)>0||(bt&128)>0){position$1-=12;return}if(et<14){if(et===12)return fromCharCode(_e,tt,rt,nt,it,at,ot,ct,ut,ft,yt,bt);{let Et=src$1[position$1++];if((Et&128)>0){position$1-=13;return}return fromCharCode(_e,tt,rt,nt,it,at,ot,ct,ut,ft,yt,bt,Et)}}else{let Et=src$1[position$1++],Ct=src$1[position$1++];if((Et&128)>0||(Ct&128)>0){position$1-=14;return}if(et<15)return fromCharCode(_e,tt,rt,nt,it,at,ot,ct,ut,ft,yt,bt,Et,Ct);let At=src$1[position$1++];if((At&128)>0){position$1-=15;return}return fromCharCode(_e,tt,rt,nt,it,at,ot,ct,ut,ft,yt,bt,Et,Ct,At)}}}}}function readBin(et){return currentDecoder.copyBuffers?Uint8Array.prototype.slice.call(src$1,position$1,position$1+=et):src$1.subarray(position$1,position$1+=et)}let f32Array=new Float32Array(1),u8Array=new Uint8Array(f32Array.buffer,0,4);function getFloat16(){let et=src$1[position$1++],_e=src$1[position$1++],tt=(et&127)>>2;if(tt===31)return _e||et&3?NaN:et&128?-1/0:1/0;if(tt===0){let rt=((et&3)<<8|_e)/16777216;return et&128?-rt:rt}return u8Array[3]=et&128|(tt>>1)+56,u8Array[2]=(et&7)<<5|_e>>3,u8Array[1]=_e<<5,u8Array[0]=0,f32Array[0]}class Tag{constructor(_e,tt){this.value=_e,this.tag=tt}}currentExtensions[0]=et=>new Date(et);currentExtensions[1]=et=>new Date(Math.round(et*1e3));currentExtensions[2]=et=>{let _e=BigInt(0);for(let tt=0,rt=et.byteLength;tt<rt;tt++)_e=BigInt(et[tt])+_e<<BigInt(8);return _e};currentExtensions[3]=et=>BigInt(-1)-currentExtensions[2](et);currentExtensions[4]=et=>Number(et[1]+"e"+et[0]);currentExtensions[5]=et=>et[1]*Math.exp(et[0]*Math.log(2));const recordDefinition=et=>{let _e=et[0]-57344,tt=et[1],rt=currentStructures[_e];rt&&rt.isShared&&((currentStructures.restoreStructures||(currentStructures.restoreStructures=[]))[_e]=rt),currentStructures[_e]=tt,tt.read=createStructureReader(tt);let nt={};if(currentDecoder.keyMap)for(let it=2,at=et.length;it<at;it++){let ot=currentDecoder.decodeKey(tt[it-2]);nt[safeKey(ot)]=et[it]}else for(let it=2,at=et.length;it<at;it++){let ot=tt[it-2];nt[safeKey(ot)]=et[it]}return nt};currentExtensions[LEGACY_RECORD_INLINE_ID]=recordDefinition;currentExtensions[14]=et=>bundledStrings?bundledStrings[0].slice(bundledStrings.position0,bundledStrings.position0+=et):new Tag(et,14);currentExtensions[15]=et=>bundledStrings?bundledStrings[1].slice(bundledStrings.position1,bundledStrings.position1+=et):new Tag(et,15);let glbl={Error,RegExp};currentExtensions[27]=et=>(glbl[et[0]]||Error)(et[1],et[2]);const packedTable=et=>{if(src$1[position$1++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let _e=et();return packedValues=packedValues?_e.concat(packedValues.slice(_e.length)):_e,packedValues.prefixes=et(),packedValues.suffixes=et(),et()};packedTable.handlesRead=!0;currentExtensions[51]=packedTable;currentExtensions[PACKED_REFERENCE_TAG_ID]=et=>{if(!packedValues)if(currentDecoder.getShared)loadShared();else return new Tag(et,PACKED_REFERENCE_TAG_ID);if(typeof et=="number")return packedValues[16+(et>=0?2*et:-2*et-1)];throw new Error("No support for non-integer packed references yet")};currentExtensions[25]=et=>stringRefs[et];currentExtensions[256]=et=>{stringRefs=[];try{return et()}finally{stringRefs=null}};currentExtensions[256].handlesRead=!0;currentExtensions[28]=et=>{referenceMap||(referenceMap=new Map,referenceMap.id=0);let _e=referenceMap.id++,tt=src$1[position$1],rt;tt>>5==4?rt=[]:rt={};let nt={target:rt};referenceMap.set(_e,nt);let it=et();return nt.used?Object.assign(rt,it):(nt.target=it,it)};currentExtensions[28].handlesRead=!0;currentExtensions[29]=et=>{let _e=referenceMap.get(et);return _e.used=!0,_e.target};currentExtensions[258]=et=>new Set(et);(currentExtensions[259]=et=>(currentDecoder.mapsAsObjects&&(currentDecoder.mapsAsObjects=!1,restoreMapsAsObject=!0),et())).handlesRead=!0;function combine$2(et,_e){return typeof et=="string"?et+_e:et instanceof Array?et.concat(_e):Object.assign({},et,_e)}function getPackedValues(){if(!packedValues)if(currentDecoder.getShared)loadShared();else throw new Error("No packed values available");return packedValues}const SHARED_DATA_TAG_ID=1399353956;currentExtensionRanges.push((et,_e)=>{if(et>=225&&et<=255)return combine$2(getPackedValues().prefixes[et-224],_e);if(et>=28704&&et<=32767)return combine$2(getPackedValues().prefixes[et-28672],_e);if(et>=1879052288&&et<=2147483647)return combine$2(getPackedValues().prefixes[et-1879048192],_e);if(et>=216&&et<=223)return combine$2(_e,getPackedValues().suffixes[et-216]);if(et>=27647&&et<=28671)return combine$2(_e,getPackedValues().suffixes[et-27639]);if(et>=1811940352&&et<=1879048191)return combine$2(_e,getPackedValues().suffixes[et-1811939328]);if(et==SHARED_DATA_TAG_ID)return{packedValues,structures:currentStructures.slice(0),version:_e};if(et==55799)return _e});const isLittleEndianMachine=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,typedArrays$2=[Uint8Array],typedArrayTags=[64];for(let et=0;et<typedArrays$2.length;et++)registerTypedArray(typedArrays$2[et],typedArrayTags[et]);function registerTypedArray(et,_e){let tt="get"+et.name.slice(0,-5);typeof et!="function"&&(et=null);let rt=et.BYTES_PER_ELEMENT;for(let nt=0;nt<2;nt++){if(!nt&&rt==1)continue;let it=rt==2?1:rt==4?2:3;currentExtensions[nt?_e:_e-4]=rt==1||nt==isLittleEndianMachine?at=>{if(!et)throw new Error("Could not find typed array for code "+_e);return new et(Uint8Array.prototype.slice.call(at,0).buffer)}:at=>{if(!et)throw new Error("Could not find typed array for code "+_e);let ot=new DataView(at.buffer,at.byteOffset,at.byteLength),ct=at.length>>it,ut=new et(ct),ft=ot[tt];for(let yt=0;yt<ct;yt++)ut[yt]=ft.call(ot,yt<<it,nt);return ut}}}function readBundleExt(){let et=readJustLength(),_e=position$1+read();for(let rt=2;rt<et;rt++){let nt=readJustLength();position$1+=nt}let tt=position$1;return position$1=_e,bundledStrings=[readStringJS(readJustLength()),readStringJS(readJustLength())],bundledStrings.position0=0,bundledStrings.position1=0,bundledStrings.postBundlePosition=position$1,position$1=tt,read()}function readJustLength(){let et=src$1[position$1++]&31;if(et>23)switch(et){case 24:et=src$1[position$1++];break;case 25:et=dataView.getUint16(position$1),position$1+=2;break;case 26:et=dataView.getUint32(position$1),position$1+=4;break}return et}function loadShared(){if(currentDecoder.getShared){let et=saveState(()=>(src$1=null,currentDecoder.getShared()))||{},_e=et.structures||[];currentDecoder.sharedVersion=et.version,packedValues=currentDecoder.sharedValues=et.packedValues,currentStructures===!0?currentDecoder.structures=currentStructures=_e:currentStructures.splice.apply(currentStructures,[0,_e.length].concat(_e))}}function saveState(et){let _e=srcEnd,tt=position$1,rt=srcStringStart,nt=srcStringEnd,it=srcString,at=referenceMap,ot=bundledStrings,ct=new Uint8Array(src$1.slice(0,srcEnd)),ut=currentStructures,ft=currentDecoder,yt=sequentialMode,bt=et();return srcEnd=_e,position$1=tt,srcStringStart=rt,srcStringEnd=nt,srcString=it,referenceMap=at,bundledStrings=ot,src$1=ct,sequentialMode=yt,currentStructures=ut,currentDecoder=ft,dataView=new DataView(src$1.buffer,src$1.byteOffset,src$1.byteLength),bt}function clearSource(){src$1=null,referenceMap=null,currentStructures=null}const mult10=new Array(147);for(let et=0;et<256;et++)mult10[et]=Number("1e"+Math.floor(45.15-et*.30103));const defaultDecoder=new Decoder({useRecords:!1}),decode$2=defaultDecoder.decode;function matchesAbiInterface(et,_e){return hasMatchingAbi(et,_e.abis)}function hasMatchingAbi(et,_e){const tt=extractFunctionsFromAbi(et),rt=_e.flatMap(it=>extractFunctionsFromAbi(it));return tt.filter(it=>rt.find(ot=>ot.name===it.name&&ot.inputs.length===it.inputs.length&&ot.inputs.every((ct,ut)=>{var ft;return ct.type==="tuple"||ct.type==="tuple[]"?ct.type===it.inputs[ut].type&&((ft=ct.components)==null?void 0:ft.every((yt,bt)=>{var Et,Ct;return yt.type===((Ct=(Et=it.inputs[ut].components)==null?void 0:Et[bt])==null?void 0:Ct.type)})):ct.type===it.inputs[ut].type}))!==void 0).length===rt.length}async function extractConstructorParams(et,_e){const tt=await fetchPreDeployMetadata(et,_e);return extractConstructorParamsFromAbi(tt.abi)}async function extractFunctions(et,_e){const tt=await fetchPreDeployMetadata(et,_e);return extractFunctionsFromAbi(tt.abi,tt.metadata)}function extractCommentFromMetadata(et,_e,tt){var rt,nt,it,at,ot,ct,ut,ft,yt,bt;return((ot=(at=(nt=(rt=_e==null?void 0:_e.output)==null?void 0:rt.userdoc)==null?void 0:nt[tt])==null?void 0:at[Object.keys(((it=_e==null?void 0:_e.output)==null?void 0:it.userdoc[tt])||{}).find(Et=>Et.includes(et||"unknown"))||""])==null?void 0:ot.notice)||((bt=(yt=(ut=(ct=_e==null?void 0:_e.output)==null?void 0:ct.devdoc)==null?void 0:ut[tt])==null?void 0:yt[Object.keys(((ft=_e==null?void 0:_e.output)==null?void 0:ft.devdoc[tt])||{}).find(Et=>Et.includes(et||"unknown"))||""])==null?void 0:bt.details)}function extractConstructorParamsFromAbi(et){for(const _e of et)if(_e.type==="constructor")return _e.inputs||[];return[]}function extractFunctionParamsFromAbi(et,_e){for(const tt of et)if(tt.type==="function"&&tt.name===_e)return tt.inputs||[];return[]}function extractFunctionsFromAbi(et,_e){var nt,it,at,ot;const tt=(et||[]).filter(ct=>ct.type==="function"),rt=[];for(const ct of tt){const ut=extractCommentFromMetadata(ct.name,_e,"methods"),ft=((it=(nt=ct.inputs)==null?void 0:nt.map(At=>`${At.name||"key"}: ${toJSType(At)}`))==null?void 0:it.join(", "))||"",yt=ft?`, ${ft}`:"",bt=(ot=(at=ct.outputs)==null?void 0:at.map(At=>toJSType(At,!0)))==null?void 0:ot.join(", "),Et=bt?`: Promise<${bt}>`:": Promise<TransactionResult>",Ct=`contract.call("${ct.name}"${yt})${Et}`;rt.push({inputs:ct.inputs||[],outputs:ct.outputs||[],name:ct.name||"unknown",signature:Ct,stateMutability:ct.stateMutability||"",comment:ut})}return rt}function extractEventsFromAbi(et,_e){const tt=(et||[]).filter(nt=>nt.type==="event"),rt=[];for(const nt of tt){const it=extractCommentFromMetadata(nt.name,_e,"events");rt.push({inputs:nt.inputs||[],outputs:nt.outputs||[],name:nt.name||"unknown",comment:it})}return rt}function toJSType(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,rt=et.type,nt=!1;return rt.endsWith("[]")&&(nt=!0,rt=rt.slice(0,-2)),rt.startsWith("bytes")&&(rt="BytesLike"),(rt.startsWith("uint")||rt.startsWith("int"))&&(rt=_e?"BigNumber":"BigNumberish"),rt.startsWith("bool")&&(rt="boolean"),rt==="address"&&(rt="string"),rt==="tuple"&&et.components&&(rt=`{ ${et.components.map(it=>toJSType(it,!1,!0)).join(", ")} }`),nt&&(rt+="[]"),tt&&(rt=`${et.name}: ${rt}`),rt}function extractMinimalProxyImplementationAddress(et){if(et.startsWith("0x363d3d373d3d3d363d73"))return`0x${et.slice(22,62)}`;if(et.startsWith("0x36603057343d5230"))return`0x${et.slice(122,162)}`;if(et.startsWith("0x3d3d3d3d363d3d37363d73"))return`0x${et.slice(24,64)}`;if(et.startsWith("0x366000600037611000600036600073"))return`0x${et.slice(32,72)}`}async function resolveContractUriFromAddress(et,_e){const tt=await _e.getCode(et);if(tt==="0x"){const rt=await _e.getNetwork();throw new Error(`Contract at ${et} does not exist on chain '${rt.name}' (chainId: ${rt.chainId})`)}try{const rt=extractMinimalProxyImplementationAddress(tt);if(rt)return await resolveContractUriFromAddress(rt,_e)}catch{}try{const rt=await _e.getStorageAt(et,BigNumber.from("0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc")),nt=hexStripZeros(rt);if(nt!=="0x")return await resolveContractUriFromAddress(nt,_e)}catch{}return await extractIPFSHashFromBytecode(tt)}function extractIPFSHashFromBytecode(et){const _e=hexToBytes(et),tt=_e[_e.length-2]*256+_e[_e.length-1],rt=Uint8Array.from(_e.slice(_e.length-2-tt,-2)),nt=decode$2(rt);if("ipfs"in nt&&nt.ipfs)try{return`ipfs://${bs58.encode(nt.ipfs)}`}catch(it){console.warn("feature-detection ipfs cbor failed",it)}}function hexToBytes(et){if(et=et.toString(16),et.startsWith("0x")||(et=`0x${et}`),!isHexStrict(et))throw new Error(`Given value "${et}" is not a valid hex string.`);et=et.replace(/^0x/i,"");const _e=[];for(let tt=0;tt<et.length;tt+=2)_e.push(parseInt(et.slice(tt,tt+2),16));return _e}function isHexStrict(et){return(typeof et=="string"||typeof et=="number")&&/^(-)?0x[0-9a-f]*$/i.test(et.toString())}async function fetchRawPredeployMetadata(et,_e){return PreDeployMetadata.parse(JSON.parse(await(await _e.download(et)).text()))}async function fetchPreDeployMetadata(et,_e){const tt=await fetchRawPredeployMetadata(et,_e),rt=await(await _e.download(tt.bytecodeUri)).text(),nt=await fetchContractMetadata(tt.metadataUri,_e);return PreDeployMetadataFetchedSchema.parse({...tt,...nt,bytecode:rt})}async function fetchExtendedReleaseMetadata(et,_e){const tt=await(await _e.download(et)).text();return FullPublishMetadataSchemaOutput.parse(JSON.parse(tt))}function detectFeatures(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SUPPORTED_FEATURES;const tt={};for(const rt in _e){const nt=_e[rt],it=matchesAbiInterface(et,nt),at=detectFeatures(et,nt.features);tt[rt]={...nt,features:at,enabled:it}}return tt}function isFeatureEnabled(et,_e){const tt=detectFeatures(et);return _featureEnabled(tt,_e)}function assertEnabled(et,_e){if(!et)throw new ExtensionNotImplementedError(_e);return et}function detectContractFeature(et,_e){return isFeatureEnabled(AbiSchema.parse(et.abi),_e)}function _featureEnabled(et,_e){const tt=Object.keys(et);if(!tt.includes(_e)){let nt=!1;for(const it of tt){const at=et[it];if(nt=_featureEnabled(at.features,_e),nt)break}return nt}return et[_e].enabled}function hasFunction(et,_e){return et in _e.readContract.functions}let ListingType;(function(et){et[et.Direct=0]="Direct",et[et.Auction=1]="Auction"})(ListingType||(ListingType={}));let Status;(function(et){et[et.UNSET=0]="UNSET",et[et.Created=1]="Created",et[et.Completed=2]="Completed",et[et.Cancelled=3]="Cancelled",et[et.Active=4]="Active",et[et.Expired=5]="Expired"})(Status||(Status={}));let ProposalState;(function(et){et[et.Pending=0]="Pending",et[et.Active=1]="Active",et[et.Canceled=2]="Canceled",et[et.Defeated=3]="Defeated",et[et.Succeeded=4]="Succeeded",et[et.Queued=5]="Queued",et[et.Expired=6]="Expired",et[et.Executed=7]="Executed"})(ProposalState||(ProposalState={}));let VoteType;(function(et){et[et.Against=0]="Against",et[et.For=1]="For",et[et.Abstain=2]="Abstain"})(VoteType||(VoteType={}));let ClaimEligibility;(function(et){et.NotEnoughSupply="There is not enough supply to claim.",et.AddressNotAllowed="This address is not on the allowlist.",et.WaitBeforeNextClaimTransaction="Not enough time since last claim transaction. Please wait.",et.AlreadyClaimed="You have already claimed the token.",et.NotEnoughTokens="There are not enough tokens in the wallet to pay for the claim.",et.NoActiveClaimPhase="There is no active claim phase at the moment. Please check back in later.",et.NoClaimConditionSet="There is no claim condition set.",et.NoWallet="No wallet connected.",et.Unknown="No claim conditions found."})(ClaimEligibility||(ClaimEligibility={}));class GasCostEstimator{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async gasCostOf(_e,tt){const rt=await this.contractWrapper.getPreferredGasPrice(),nt=await this.contractWrapper.estimateGas(_e,tt);return formatEther(nt.mul(rt))}async gasLimitOf(_e,tt){return this.contractWrapper.estimateGas(_e,tt)}async currentGasPriceInGwei(){const _e=await this.contractWrapper.getProvider().getGasPrice();return formatUnits(_e,"gwei")}}class TransactionTask{static make(_e){return new TransactionTask(_e)}constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"functionName",void 0),_defineProperty$3(this,"args",void 0),_defineProperty$3(this,"overrides",void 0),_defineProperty$3(this,"encoder",void 0),_defineProperty$3(this,"estimator",void 0),this.contractWrapper=_e.contractWrapper,this.functionName=_e.functionName,this.args=_e.args||[],this.overrides=_e.overrides,this.encoder=new ContractEncoder(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper)}overrideGasLimit(_e){return this.overrides={...this.overrides,gasLimit:_e},this}overrideGasPrice(_e){return this.overrides={...this.overrides,gasPrice:_e},this}overrideNonce(_e){return this.overrides={...this.overrides,nonce:_e},this}overrideValue(_e){return this.overrides={...this.overrides,value:_e},this}async estimateGasLimit(){return await this.estimator.gasLimitOf(this.functionName,[...this.args,this.overrides||{}])}async estimateGasCostInEther(){return await this.estimator.gasCostOf(this.functionName,[...this.args,this.overrides||{}])}async encodeFunctionData(){return this.encoder.encode(this.functionName,this.args)}async submit(){return await this.contractWrapper.sendTransactionByFunction(this.functionName,this.args,this.overrides||{})}async execute(){return{receipt:await this.contractWrapper.sendTransaction(this.functionName,this.args,this.overrides||{})}}}class DropClaimConditions{constructor(_e,tt,rt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"metadata",void 0),_defineProperty$3(this,"storage",void 0),this.storage=rt,this.contractWrapper=_e,this.metadata=tt}async getActive(_e){const tt=await this.get(),rt=await this.metadata.get();return await transformResultToClaimCondition(tt,await this.getTokenDecimals(),this.contractWrapper.getProvider(),rt.merkle||{},this.storage,(_e==null?void 0:_e.withAllowList)||!1)}async get(_e){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition();return legacyContractModelToAbstract(tt)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const tt=_e!==void 0?_e:await this.contractWrapper.readContract.getActiveClaimConditionId(),rt=await this.contractWrapper.readContract.getClaimConditionById(tt);return legacyContractModelToAbstract(rt)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition();return newContractModelToAbstract(tt)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const tt=_e!==void 0?_e:await this.contractWrapper.readContract.getActiveClaimConditionId(),rt=await this.contractWrapper.readContract.getClaimConditionById(tt);return newContractModelToAbstract(rt)}else throw new Error("Contract does not support claim conditions")}async getAll(_e){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const tt=await this.contractWrapper.readContract.claimCondition(),rt=tt.currentStartId.toNumber(),nt=tt.count.toNumber(),it=[];for(let ct=rt;ct<rt+nt;ct++)it.push(await this.get(ct));const at=await this.metadata.get(),ot=await this.getTokenDecimals();return Promise.all(it.map(ct=>transformResultToClaimCondition(ct,ot,this.contractWrapper.getProvider(),at.merkle,this.storage,(_e==null?void 0:_e.withAllowList)||!1)))}else return[await this.getActive(_e)]}async canClaim(_e,tt){return(await this.getClaimIneligibilityReasons(_e,tt)).length===0}async getClaimIneligibilityReasons(_e,tt){const rt=[];let nt,it;const at=await this.getTokenDecimals(),ot=parseUnits(AmountSchema.parse(_e),at);if(tt===void 0)try{tt=await this.contractWrapper.getSignerAddress()}catch(yt){console.warn("failed to get signer address",yt)}if(!tt)return[ClaimEligibility.NoWallet];try{it=await this.getActive()}catch(yt){return includesErrorMessage(yt,"!CONDITION")||includesErrorMessage(yt,"no active mint condition")?(rt.push(ClaimEligibility.NoClaimConditionSet),rt):(console.warn("failed to get active claim condition",yt),rt.push(ClaimEligibility.Unknown),rt)}it.availableSupply!=="unlimited"&&parseUnits(it.availableSupply,at).lt(ot)&&rt.push(ClaimEligibility.NotEnoughSupply);const ut=stripZeros(it.merkleRootHash).length>0;let ft=null;if(ut){if(ft=await this.getClaimerProofs(tt),!ft&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return rt.push(ClaimEligibility.AddressNotAllowed),rt;if(ft)try{const yt=await this.prepareClaim(_e,!1,at,tt);let bt;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),[bt]=await this.contractWrapper.readContract.verifyClaimMerkleProof(nt,tt,_e,yt.proofs,yt.maxClaimable),!bt)return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([bt]=await this.contractWrapper.readContract.verifyClaimMerkleProof(tt,_e,{proof:yt.proofs,maxQuantityInAllowlist:yt.maxClaimable}),!bt)return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){if(await this.contractWrapper.readContract.verifyClaim(tt,_e,yt.currencyAddress,yt.price,{proof:yt.proofs,quantityLimitPerWallet:yt.maxClaimable,currency:yt.currencyAddressInProof,pricePerToken:yt.priceInProof}),convertQuantityToBigNumber(it.maxClaimablePerWallet,at).eq(0)&&yt.maxClaimable===MaxUint256$1||yt.maxClaimable===BigNumber.from(0))return rt.push(ClaimEligibility.AddressNotAllowed),rt}else if(this.isNewMultiphaseDrop(this.contractWrapper)&&(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),await this.contractWrapper.readContract.verifyClaim(nt,tt,_e,yt.currencyAddress,yt.price,{proof:yt.proofs,quantityLimitPerWallet:yt.maxClaimable,currency:yt.currencyAddressInProof,pricePerToken:yt.priceInProof}),convertQuantityToBigNumber(it.maxClaimablePerWallet,at).eq(0)&&yt.maxClaimable===MaxUint256$1||yt.maxClaimable===BigNumber.from(0)))return rt.push(ClaimEligibility.AddressNotAllowed),rt}catch(yt){return console.warn("Merkle proof verification failed:","reason"in yt?yt.reason:yt),rt.push(ClaimEligibility.AddressNotAllowed),rt}}if((this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&(!ut||ut&&!ft)&&convertQuantityToBigNumber(it.maxClaimablePerWallet,at).eq(0))return rt.push(ClaimEligibility.AddressNotAllowed),rt;if(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)){let[yt,bt]=[BigNumber.from(0),BigNumber.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(nt=await this.contractWrapper.readContract.getActiveClaimConditionId(),[yt,bt]=await this.contractWrapper.readContract.getClaimTimestamp(nt,tt)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([yt,bt]=await this.contractWrapper.readContract.getClaimTimestamp(tt));const Et=BigNumber.from(Date.now()).div(1e3);yt.gt(0)&&Et.lt(bt)&&(bt.eq(MaxUint256$1)?rt.push(ClaimEligibility.AlreadyClaimed):rt.push(ClaimEligibility.WaitBeforeNextClaimTransaction))}if(it.price.gt(0)&&isNode$4()){const yt=it.price.mul(BigNumber.from(_e)),bt=this.contractWrapper.getProvider();isNativeToken(it.currencyAddress)?(await bt.getBalance(tt)).lt(yt)&&rt.push(ClaimEligibility.NotEnoughTokens):(await new ContractWrapper(bt,it.currencyAddress,ERC20Abi,{}).readContract.balanceOf(tt)).lt(yt)&&rt.push(ClaimEligibility.NotEnoughTokens)}return rt}async getClaimerProofs(_e,tt){const nt=(await this.get(tt)).merkleRoot;if(stripZeros(nt).length>0){const at=await this.metadata.get();return await fetchSnapshotEntryForAddress(_e,nt.toString(),at.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async set(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,rt=_e;if(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isNewSinglePhaseDrop(this.contractWrapper)){if(tt=!0,_e.length===0)rt=[{startTime:new Date(0),currencyAddress:AddressZero,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:hexZeroPad([0],32),snapshot:[]}];else if(_e.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&rt.forEach(ft=>{var yt;if(ft.snapshot&&ft.snapshot.length>0&&(ft.maxClaimablePerWallet===void 0||ft.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Example: Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.
contract.claimConditions.set([{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(ft.snapshot&&ft.snapshot.length>0&&((yt=ft.maxClaimablePerWallet)==null?void 0:yt.toString())==="0"&&ft.snapshot.map(bt=>{var Et;return typeof bt=="string"?0:Number(((Et=bt.maxClaimable)==null?void 0:Et.toString())||0)}).reduce((bt,Et)=>bt+Et,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:nt,sortedConditions:it}=await processClaimConditionInputs(rt,await this.getTokenDecimals(),this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion()),at={};nt.forEach(ft=>{at[ft.merkleRoot]=ft.snapshotUri});const ot=await this.metadata.get(),ct=[];if(!fastDeepEqual(ot.merkle,at)){const ft=this.metadata.parseInputMetadata({...ot,merkle:at}),yt=await this.metadata._parseAndUploadMetadata(ft);if(hasFunction("setContractURI",this.contractWrapper))ct.push(this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[yt]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}const ut=this.contractWrapper;if(this.isLegacySinglePhaseDrop(ut))ct.push(ut.readContract.interface.encodeFunctionData("setClaimConditions",[abstractContractModelToLegacy(it[0]),tt]));else if(this.isLegacyMultiPhaseDrop(ut))ct.push(ut.readContract.interface.encodeFunctionData("setClaimConditions",[it.map(abstractContractModelToLegacy),tt]));else if(this.isNewSinglePhaseDrop(ut))ct.push(ut.readContract.interface.encodeFunctionData("setClaimConditions",[abstractContractModelToNew(it[0]),tt]));else if(this.isNewMultiphaseDrop(ut))ct.push(ut.readContract.interface.encodeFunctionData("setClaimConditions",[it.map(abstractContractModelToNew),tt]));else throw new Error("Contract does not support claim conditions");return{receipt:await this.contractWrapper.multiCall(ct)}}async update(_e,tt){const rt=await this.getAll(),nt=await updateExistingClaimConditions(_e,tt,rt);return await this.set(nt)}async getTokenDecimals(){return detectContractFeature(this.contractWrapper,"ERC20")?this.contractWrapper.readContract.decimals():Promise.resolve(0)}async prepareClaim(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nt=arguments.length>3?arguments[3]:void 0;const it=nt||await this.contractWrapper.getSignerAddress();return prepareClaim(it,_e,await this.getActive(),async()=>(await this.metadata.get()).merkle,rt,this.contractWrapper,this.storage,tt,this.getSnapshotFormatVersion())}async getClaimArguments(_e,tt,rt){return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[_e,tt,rt.currencyAddress,rt.price,rt.proofs,rt.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[_e,tt,rt.currencyAddress,rt.price,{proof:rt.proofs,maxQuantityInAllowlist:rt.maxClaimable},toUtf8Bytes("")]:[_e,tt,rt.currencyAddress,rt.price,{proof:rt.proofs,quantityLimitPerWallet:rt.maxClaimable,pricePerToken:rt.priceInProof,currency:rt.currencyAddressInProof},toUtf8Bytes("")]}async getClaimTransaction(_e,tt,rt){if(rt!=null&&rt.pricePerToken)throw new Error("Price per token is be set via claim conditions by calling `contract.erc721.claimConditions.set()`");const nt=await this.prepareClaim(tt,(rt==null?void 0:rt.checkERC20Allowance)===void 0?!0:rt.checkERC20Allowance,await this.getTokenDecimals());return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"claim",args:await this.getClaimArguments(_e,tt,nt),overrides:nt.overrides})}isNewSinglePhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimConditionsV2")||detectContractFeature(_e,"ERC20ClaimConditionsV2")}isNewMultiphaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimPhasesV2")||detectContractFeature(_e,"ERC20ClaimPhasesV2")}isLegacySinglePhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimConditionsV1")||detectContractFeature(_e,"ERC20ClaimConditionsV1")}isLegacyMultiPhaseDrop(_e){return detectContractFeature(_e,"ERC721ClaimPhasesV1")||detectContractFeature(_e,"ERC20ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?SnapshotFormatVersion.V1:SnapshotFormatVersion.V2}}class DropErc1155ClaimConditions{constructor(_e,tt,rt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"metadata",void 0),_defineProperty$3(this,"storage",void 0),this.storage=rt,this.contractWrapper=_e,this.metadata=tt}async getActive(_e,tt){const rt=await this.get(_e),nt=await this.metadata.get();return await transformResultToClaimCondition(rt,0,this.contractWrapper.getProvider(),nt.merkle,this.storage,(tt==null?void 0:tt.withAllowList)||!1)}async get(_e,tt){if(this.isLegacySinglePhaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e);return legacyContractModelToAbstract(rt)}else if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){const rt=tt!==void 0?tt:await this.contractWrapper.readContract.getActiveClaimConditionId(_e),nt=await this.contractWrapper.readContract.getClaimConditionById(_e,rt);return legacyContractModelToAbstract(nt)}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e);return newContractModelToAbstract(rt)}else if(this.isNewMultiphaseDrop(this.contractWrapper)){const rt=tt!==void 0?tt:await this.contractWrapper.readContract.getActiveClaimConditionId(_e),nt=await this.contractWrapper.readContract.getClaimConditionById(_e,rt);return newContractModelToAbstract(nt)}else throw new Error("Contract does not support claim conditions")}async getAll(_e,tt){if(this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper)){const rt=await this.contractWrapper.readContract.claimCondition(_e),nt=rt.currentStartId.toNumber(),it=rt.count.toNumber(),at=[];for(let ct=nt;ct<nt+it;ct++)at.push(await this.get(_e,ct));const ot=await this.metadata.get();return Promise.all(at.map(ct=>transformResultToClaimCondition(ct,0,this.contractWrapper.getProvider(),ot.merkle,this.storage,(tt==null?void 0:tt.withAllowList)||!1)))}else return[await this.getActive(_e,tt)]}async canClaim(_e,tt,rt){return(await this.getClaimIneligibilityReasons(_e,tt,rt)).length===0}async getClaimIneligibilityReasons(_e,tt,rt){const nt=[];let it,at;if(rt===void 0)try{rt=await this.contractWrapper.getSignerAddress()}catch(Et){console.warn("failed to get signer address",Et)}if(!rt)return[ClaimEligibility.NoWallet];try{at=await this.getActive(_e)}catch(Et){return includesErrorMessage(Et,"!CONDITION")||includesErrorMessage(Et,"no active mint condition")?(nt.push(ClaimEligibility.NoClaimConditionSet),nt):(nt.push(ClaimEligibility.Unknown),nt)}at.availableSupply!=="unlimited"&&BigNumber.from(at.availableSupply).lt(tt)&&nt.push(ClaimEligibility.NotEnoughSupply);const ct=stripZeros(at.merkleRootHash).length>0;let ut=null;if(ct){if(ut=await this.getClaimerProofs(_e,rt),!ut&&(this.isLegacySinglePhaseDrop(this.contractWrapper)||this.isLegacyMultiPhaseDrop(this.contractWrapper)))return nt.push(ClaimEligibility.AddressNotAllowed),nt;if(ut)try{const Et=await this.prepareClaim(_e,tt,!1,rt);let Ct;if(this.isLegacyMultiPhaseDrop(this.contractWrapper)){if(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),[Ct]=await this.contractWrapper.readContract.verifyClaimMerkleProof(it,rt,_e,tt,Et.proofs,Et.maxClaimable),!Ct)return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if([Ct]=await this.contractWrapper.readContract.verifyClaimMerkleProof(_e,rt,tt,{proof:Et.proofs,maxQuantityInAllowlist:Et.maxClaimable}),!Ct)return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isNewSinglePhaseDrop(this.contractWrapper)){if(await this.contractWrapper.readContract.verifyClaim(_e,rt,tt,Et.currencyAddress,Et.price,{proof:Et.proofs,quantityLimitPerWallet:Et.maxClaimable,currency:Et.currencyAddressInProof,pricePerToken:Et.priceInProof}),at.maxClaimablePerWallet==="0"&&Et.maxClaimable===MaxUint256$1||Et.maxClaimable===BigNumber.from(0))return nt.push(ClaimEligibility.AddressNotAllowed),nt}else if(this.isNewMultiphaseDrop(this.contractWrapper)&&(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),await this.contractWrapper.readContract.verifyClaim(it,rt,_e,tt,Et.currencyAddress,Et.price,{proof:Et.proofs,quantityLimitPerWallet:Et.maxClaimable,currency:Et.currencyAddressInProof,pricePerToken:Et.priceInProof}),at.maxClaimablePerWallet==="0"&&Et.maxClaimable===MaxUint256$1||Et.maxClaimable===BigNumber.from(0)))return nt.push(ClaimEligibility.AddressNotAllowed),nt}catch(Et){return console.warn("Merkle proof verification failed:","reason"in Et?Et.reason:Et),nt.push(ClaimEligibility.AddressNotAllowed),nt}}if((this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&(!ct||ct&&!ut)&&at.maxClaimablePerWallet==="0")return nt.push(ClaimEligibility.AddressNotAllowed),nt;let[ft,yt]=[BigNumber.from(0),BigNumber.from(0)];this.isLegacyMultiPhaseDrop(this.contractWrapper)?(it=await this.contractWrapper.readContract.getActiveClaimConditionId(_e),[ft,yt]=await this.contractWrapper.readContract.getClaimTimestamp(_e,it,rt)):this.isLegacySinglePhaseDrop(this.contractWrapper)&&([ft,yt]=await this.contractWrapper.readContract.getClaimTimestamp(_e,rt));const bt=BigNumber.from(Date.now()).div(1e3);if(ft.gt(0)&&bt.lt(yt)&&(yt.eq(MaxUint256$1)?nt.push(ClaimEligibility.AlreadyClaimed):nt.push(ClaimEligibility.WaitBeforeNextClaimTransaction)),at.price.gt(0)&&isNode$4()){const Et=at.price.mul(tt),Ct=this.contractWrapper.getProvider();isNativeToken(at.currencyAddress)?(await Ct.getBalance(rt)).lt(Et)&&nt.push(ClaimEligibility.NotEnoughTokens):(await new ContractWrapper(Ct,at.currencyAddress,ERC20Abi,{}).readContract.balanceOf(rt)).lt(Et)&&nt.push(ClaimEligibility.NotEnoughTokens)}return nt}async getClaimerProofs(_e,tt,rt){const it=(await this.get(_e,rt)).merkleRoot;if(stripZeros(it).length>0){const ot=await this.metadata.get();return await fetchSnapshotEntryForAddress(tt,it.toString(),ot.merkle,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion())}else return null}async set(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.setBatch([{tokenId:_e,claimConditions:tt}],rt)}async setBatch(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const rt={},nt=await Promise.all(_e.map(async ot=>{let{tokenId:ct,claimConditions:ut}=ot,ft=ut;if(this.isLegacySinglePhaseDrop(this.contractWrapper)){if(tt=!0,ut.length===0)ft=[{startTime:new Date(0),currencyAddress:AddressZero,price:0,maxClaimableSupply:0,maxClaimablePerWallet:0,waitInSeconds:0,merkleRootHash:hexZeroPad([0],32),snapshot:[]}];else if(ut.length>1)throw new Error("Single phase drop contract cannot have multiple claim conditions, only one is allowed")}(this.isNewSinglePhaseDrop(this.contractWrapper)||this.isNewMultiphaseDrop(this.contractWrapper))&&ft.forEach(Et=>{var Ct;if(Et.snapshot&&Et.snapshot.length>0&&(Et.maxClaimablePerWallet===void 0||Et.maxClaimablePerWallet==="unlimited"))throw new Error(`maxClaimablePerWallet must be set to a specific value when an allowlist is set.
Set it to 0 to only allow addresses in the allowlist to claim the amount specified in the allowlist.

ex:
contract.claimConditions.set(tokenId, [{ snapshot: [{ address: '0x...', maxClaimable: 1 }], maxClaimablePerWallet: 0 }])`);if(Et.snapshot&&Et.snapshot.length>0&&((Ct=Et.maxClaimablePerWallet)==null?void 0:Ct.toString())==="0"&&Et.snapshot.map(At=>{var St;return typeof At=="string"?0:Number(((St=At.maxClaimable)==null?void 0:St.toString())||0)}).reduce((At,St)=>At+St,0)===0)throw new Error("maxClaimablePerWallet is set to 0, and all addresses in the allowlist have max claimable 0. This means that no one can claim.")});const{snapshotInfos:yt,sortedConditions:bt}=await processClaimConditionInputs(ft,0,this.contractWrapper.getProvider(),this.storage,this.getSnapshotFormatVersion());return yt.forEach(Et=>{rt[Et.merkleRoot]=Et.snapshotUri}),{tokenId:ct,sortedConditions:bt}})),it=await this.metadata.get(),at=[];for(const ot of Object.keys(it.merkle||{}))rt[ot]=it.merkle[ot];if(!fastDeepEqual(it.merkle,rt)){const ot=this.metadata.parseInputMetadata({...it,merkle:rt}),ct=await this.metadata._parseAndUploadMetadata(ot);if(hasFunction("setContractURI",this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setContractURI",[ct]));else throw new Error("Setting a merkle root requires implementing ContractMetadata in your contract to support storing a merkle root.")}return nt.forEach(ot=>{let{tokenId:ct,sortedConditions:ut}=ot;if(this.isLegacySinglePhaseDrop(this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[ct,abstractContractModelToLegacy(ut[0]),tt]));else if(this.isLegacyMultiPhaseDrop(this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[ct,ut.map(abstractContractModelToLegacy),tt]));else if(this.isNewSinglePhaseDrop(this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[ct,abstractContractModelToNew(ut[0]),tt]));else if(this.isNewMultiphaseDrop(this.contractWrapper))at.push(this.contractWrapper.readContract.interface.encodeFunctionData("setClaimConditions",[ct,ut.map(abstractContractModelToNew),tt]));else throw new Error("Contract does not support claim conditions")}),{receipt:await this.contractWrapper.multiCall(at)}}async update(_e,tt,rt){const nt=await this.getAll(_e),it=await updateExistingClaimConditions(tt,rt,nt);return await this.set(_e,it)}async prepareClaim(_e,tt,rt,nt){const it=nt||await this.contractWrapper.getSignerAddress();return prepareClaim(it,tt,await this.getActive(_e),async()=>(await this.metadata.get()).merkle,0,this.contractWrapper,this.storage,rt,this.getSnapshotFormatVersion())}async getClaimArguments(_e,tt,rt,nt){return this.isLegacyMultiPhaseDrop(this.contractWrapper)?[tt,_e,rt,nt.currencyAddress,nt.price,nt.proofs,nt.maxClaimable]:this.isLegacySinglePhaseDrop(this.contractWrapper)?[tt,_e,rt,nt.currencyAddress,nt.price,{proof:nt.proofs,maxQuantityInAllowlist:nt.maxClaimable},toUtf8Bytes("")]:[tt,_e,rt,nt.currencyAddress,nt.price,{proof:nt.proofs,quantityLimitPerWallet:nt.maxClaimable,pricePerToken:nt.priceInProof,currency:nt.currencyAddressInProof},toUtf8Bytes("")]}async getClaimTransaction(_e,tt,rt,nt){if(nt!=null&&nt.pricePerToken)throw new Error("Price per token should be set via claim conditions by calling `contract.erc1155.claimConditions.set()`");const it=await this.prepareClaim(tt,rt,(nt==null?void 0:nt.checkERC20Allowance)||!0);return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"claim",args:await this.getClaimArguments(tt,_e,rt,it),overrides:it.overrides})}isNewSinglePhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimConditionsV2")}isNewMultiphaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimPhasesV2")}isLegacySinglePhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimConditionsV1")}isLegacyMultiPhaseDrop(_e){return detectContractFeature(_e,"ERC1155ClaimPhasesV1")}getSnapshotFormatVersion(){return this.isLegacyMultiPhaseDrop(this.contractWrapper)||this.isLegacySinglePhaseDrop(this.contractWrapper)?SnapshotFormatVersion.V1:SnapshotFormatVersion.V2}}class DropErc1155History{constructor(_e){_defineProperty$3(this,"events",void 0),this.events=_e}async getAllClaimerAddresses(_e){const tt=(await this.events.getEvents("TokensClaimed")).filter(rt=>rt.data&&BigNumber.isBigNumber(rt.data.tokenId)?rt.data.tokenId.eq(_e):!1);return Array.from(new Set(tt.filter(rt=>{var nt;return typeof((nt=rt.data)==null?void 0:nt.claimer)=="string"}).map(rt=>rt.data.claimer)))}}class Erc20Burnable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_BURNABLE.name),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"contractWrapper",void 0),this.erc20=_e,this.contractWrapper=tt}async tokens(_e){return{receipt:await this.contractWrapper.sendTransaction("burn",[await this.erc20.normalizeAmount(_e)])}}async from(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("burnFrom",[_e,await this.erc20.normalizeAmount(tt)])}}}class Erc20ClaimableWithConditions{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_CLAIM_CONDITIONS_V2.name),_defineProperty$3(this,"conditions",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"storage",void 0),this.erc20=_e,this.contractWrapper=tt,this.storage=rt;const nt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropClaimConditions(this.contractWrapper,nt,this.storage)}async to(_e,tt,rt){const nt=await this.erc20.normalizeAmount(tt);return await(await this.conditions.getClaimTransaction(_e,nt,rt)).execute()}}class Erc20Droppable{constructor(_e,tt,rt){_defineProperty$3(this,"claim",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"storage",void 0),this.erc20=_e,this.contractWrapper=tt,this.storage=rt,this.claim=new Erc20ClaimableWithConditions(this.erc20,this.contractWrapper,this.storage)}}class Erc20BatchMintable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_BATCH_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc20",void 0),this.erc20=_e,this.contractWrapper=tt}async to(_e){const tt=[];for(const rt of _e)tt.push(this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[rt.toAddress,await this.erc20.normalizeAmount(rt.amount)]));return{receipt:await this.contractWrapper.multiCall(tt)}}}class Erc20Mintable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"batch",void 0),this.erc20=_e,this.contractWrapper=tt,this.batch=this.detectErc20BatchMintable()}async to(_e,tt){return(await this.getMintTransaction(_e,tt)).execute()}async getMintTransaction(_e,tt){return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"mintTo",args:[_e,await this.erc20.normalizeAmount(tt)]})}detectErc20BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC20BatchMintable"))return new Erc20BatchMintable(this.erc20,this.contractWrapper)}}class Erc20SignatureMintable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_TOKEN_SIGNATURE_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"roles",void 0),this.contractWrapper=_e,this.roles=tt}async mint(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt),it=await this.contractWrapper.getCallOverrides();return await setErc20Allowance(this.contractWrapper,BigNumber.from(nt.price),tt.currencyAddress,it),{receipt:await this.contractWrapper.sendTransaction("mintWithSignature",[nt,rt],it)}}async mintBatch(_e){const rt=(await Promise.all(_e.map(async nt=>{const it=await this.mapPayloadToContractStruct(nt.payload),at=nt.signature,ot=nt.payload.price;if(BigNumber.from(ot).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:it,signature:at}}))).map(nt=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[nt.message,nt.signature]));return{receipt:await this.contractWrapper.multiCall(rt)}}async verify(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt);return(await this.contractWrapper.readContract.verify(nt,rt))[0]}async generate(_e){return(await this.generateBatch([_e]))[0]}async generateBatch(_e){var at;await((at=this.roles)==null?void 0:at.verify(["minter"],await this.contractWrapper.getSignerAddress()));const tt=_e.map(ot=>Signature20PayloadInput.parse(ot)),rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.getSigner();invariant$2(nt,"No signer available");const it=await this.contractWrapper.readContract.name();return await Promise.all(tt.map(async ot=>{const ct=Signature20PayloadOutput.parse(ot),ut=await this.contractWrapper.signTypedData(nt,{name:it,version:"1",chainId:rt,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest20},await this.mapPayloadToContractStruct(ct));return{payload:ct,signature:ut.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress),rt=parseUnits(_e.quantity,await this.contractWrapper.readContract.decimals());return{to:_e.to,primarySaleRecipient:_e.primarySaleRecipient,quantity:rt,price:tt,currency:_e.currencyAddress,validityEndTimestamp:_e.mintEndTime,validityStartTimestamp:_e.mintStartTime,uid:_e.uid}}}class Erc20{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_TOKEN.name),_defineProperty$3(this,"mintable",void 0),_defineProperty$3(this,"burnable",void 0),_defineProperty$3(this,"droppable",void 0),_defineProperty$3(this,"signatureMintable",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.mintable=this.detectErc20Mintable(),this.burnable=this.detectErc20Burnable(),this.droppable=this.detectErc20Droppable(),this.signatureMintable=this.detectErc20SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(){return await fetchCurrencyMetadata(this.contractWrapper.getProvider(),this.getAddress())}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async balanceOf(_e){return this.getValue(await this.contractWrapper.readContract.balanceOf(_e))}async totalSupply(){return await this.getValue(await this.contractWrapper.readContract.totalSupply())}async allowance(_e){return await this.allowanceOf(await this.contractWrapper.getSignerAddress(),_e)}async allowanceOf(_e,tt){return await this.getValue(await this.contractWrapper.readContract.allowance(_e,tt))}async transfer(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("transfer",[_e,await this.normalizeAmount(tt)])}}async transferFrom(_e,tt,rt){return{receipt:await this.contractWrapper.sendTransaction("transferFrom",[_e,tt,await this.normalizeAmount(rt)])}}async setAllowance(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("approve",[_e,await this.normalizeAmount(tt)])}}async transferBatch(_e){const tt=await Promise.all(_e.map(async rt=>{const nt=await this.normalizeAmount(rt.amount);return this.contractWrapper.readContract.interface.encodeFunctionData("transfer",[rt.toAddress,nt])}));await this.contractWrapper.multiCall(tt)}async mint(_e){return this.mintTo(await this.contractWrapper.getSignerAddress(),_e)}async mintTo(_e,tt){return assertEnabled(this.mintable,FEATURE_TOKEN_MINTABLE).to(_e,tt)}async getMintTransaction(_e,tt){return assertEnabled(this.mintable,FEATURE_TOKEN_MINTABLE).getMintTransaction(_e,tt)}async mintBatchTo(_e){var tt;return assertEnabled((tt=this.mintable)==null?void 0:tt.batch,FEATURE_TOKEN_BATCH_MINTABLE).to(_e)}async burn(_e){return assertEnabled(this.burnable,FEATURE_TOKEN_BURNABLE).tokens(_e)}async burnFrom(_e,tt){return assertEnabled(this.burnable,FEATURE_TOKEN_BURNABLE).from(_e,tt)}async claim(_e,tt){return this.claimTo(await this.contractWrapper.getSignerAddress(),_e,tt)}async claimTo(_e,tt,rt){var nt;return assertEnabled((nt=this.droppable)==null?void 0:nt.claim,FEATURE_TOKEN_CLAIM_CONDITIONS_V2).to(_e,tt,rt)}get claimConditions(){var _e;return assertEnabled((_e=this.droppable)==null?void 0:_e.claim,FEATURE_TOKEN_CLAIM_CONDITIONS_V2).conditions}get signature(){return assertEnabled(this.signatureMintable,FEATURE_TOKEN_SIGNATURE_MINTABLE)}async normalizeAmount(_e){const tt=await this.contractWrapper.readContract.decimals();return parseUnits(AmountSchema.parse(_e),tt)}async getValue(_e){return await fetchCurrencyValue(this.contractWrapper.getProvider(),this.getAddress(),BigNumber.from(_e))}detectErc20Mintable(){if(detectContractFeature(this.contractWrapper,"ERC20"))return new Erc20Mintable(this,this.contractWrapper)}detectErc20Burnable(){if(detectContractFeature(this.contractWrapper,"ERC20Burnable"))return new Erc20Burnable(this,this.contractWrapper)}detectErc20Droppable(){if(detectContractFeature(this.contractWrapper,"ERC20ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC20ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC20ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC20ClaimPhasesV2"))return new Erc20Droppable(this,this.contractWrapper,this.storage)}detectErc20SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC20SignatureMintable"))return new Erc20SignatureMintable(this.contractWrapper)}}class TokenERC20History{constructor(_e,tt){_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e,this.events=tt}async getAllHolderBalances(){const tt=(await this.events.getEvents("Transfer")).map(nt=>nt.data),rt={};return tt.forEach(nt=>{const it=nt==null?void 0:nt.from,at=nt==null?void 0:nt.to,ot=nt==null?void 0:nt.value;it!==AddressZero&&(it in rt||(rt[it]=BigNumber.from(0)),rt[it]=rt[it].sub(ot)),at!==AddressZero&&(at in rt||(rt[at]=BigNumber.from(0)),rt[at]=rt[at].add(ot))}),Promise.all(Object.keys(rt).map(async nt=>({holder:nt,balance:await fetchCurrencyValue(this.contractWrapper.getProvider(),this.contractWrapper.readContract.address,rt[nt])})))}}class StandardErc20{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc20",void 0),_defineProperty$3(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.erc20=new Erc20(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(){return this.erc20.get()}async balance(){return await this.erc20.balance()}async balanceOf(_e){return this.erc20.balanceOf(_e)}async totalSupply(){return await this.erc20.totalSupply()}async allowance(_e){return await this.erc20.allowance(_e)}async allowanceOf(_e,tt){return await this.erc20.allowanceOf(_e,tt)}async transfer(_e,tt){return this.erc20.transfer(_e,tt)}async transferFrom(_e,tt,rt){return this.erc20.transferFrom(_e,tt,rt)}async setAllowance(_e,tt){return this.erc20.setAllowance(_e,tt)}async transferBatch(_e){return this.erc20.transferBatch(_e)}}class Erc721Burnable{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_NFT_BURNABLE.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async token(_e){return{receipt:await this.contractWrapper.sendTransaction("burn",[_e])}}}class Erc721Claimable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_NFT_CLAIM_CUSTOM.name),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"contractWrapper",void 0),this.erc721=_e,this.contractWrapper=tt}async getClaimTransaction(_e,tt,rt){let nt={};return rt&&rt.pricePerToken&&(nt=await calculateClaimCost(this.contractWrapper,rt.pricePerToken,tt,rt.currencyAddress,rt.checkERC20Allowance)),TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"claim",args:[_e,tt],overrides:nt})}async to(_e,tt,rt){const nt=await this.getClaimTransaction(_e,tt,rt),{receipt:it}=await nt.execute(),ot=this.contractWrapper.parseLogs("TokensClaimed",it==null?void 0:it.logs)[0].args.startTokenId,ct=ot.add(tt),ut=[];for(let ft=ot;ft.lt(ct);ft=ft.add(1))ut.push({id:ft,receipt:it,data:()=>this.erc721.get(ft)});return ut}}class Erc721ClaimableWithConditions{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_CLAIM_CONDITIONS_V2.name),_defineProperty$3(this,"conditions",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"storage",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt;const nt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropClaimConditions(this.contractWrapper,nt,this.storage)}async to(_e,tt,rt){const nt=await this.conditions.getClaimTransaction(_e,tt,rt),{receipt:it}=await nt.execute(),ot=this.contractWrapper.parseLogs("TokensClaimed",it==null?void 0:it.logs)[0].args.startTokenId,ct=ot.add(tt),ut=[];for(let ft=ot;ft.lt(ct);ft=ft.add(1))ut.push({id:ft,receipt:it,data:()=>this.erc721.get(ft)});return ut}}class Erc721LazyMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_LAZY_MINTABLE.name),_defineProperty$3(this,"revealer",void 0),_defineProperty$3(this,"claimWithConditions",void 0),_defineProperty$3(this,"claim",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"storage",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt,this.revealer=this.detectErc721Revealable(),this.claimWithConditions=this.detectErc721ClaimableWithConditions(),this.claim=this.detectErc721Claimable()}async lazyMint(_e,tt){const rt=await this.erc721.nextTokenIdToMint(),nt=await uploadOrExtractURIs(_e,this.storage,rt.toNumber(),tt),it=getBaseUriFromBatch(nt),at=await this.contractWrapper.sendTransaction("lazyMint",[nt.length,it.endsWith("/")?it:`${it}/`,toUtf8Bytes("")]),ot=this.contractWrapper.parseLogs("TokensLazyMinted",at==null?void 0:at.logs),ct=ot[0].args.startTokenId,ut=ot[0].args.endTokenId,ft=[];for(let yt=ct;yt.lte(ut);yt=yt.add(1))ft.push({id:yt,receipt:at,data:()=>this.erc721.getTokenMetadata(yt)});return ft}detectErc721Revealable(){if(detectContractFeature(this.contractWrapper,"ERC721Revealable"))return new DelayedReveal(this.contractWrapper,this.storage,FEATURE_NFT_REVEALABLE.name,()=>this.erc721.nextTokenIdToMint())}detectErc721ClaimableWithConditions(){if(detectContractFeature(this.contractWrapper,"ERC721ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC721ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC721ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC721ClaimPhasesV2"))return new Erc721ClaimableWithConditions(this.erc721,this.contractWrapper,this.storage)}detectErc721Claimable(){if(detectContractFeature(this.contractWrapper,"ERC721ClaimCustom"))return new Erc721Claimable(this.erc721,this.contractWrapper)}}class Erc721BatchMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_BATCH_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc721",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt}async to(_e,tt){const nt=(await uploadOrExtractURIs(tt,this.storage)).map(ot=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[_e,ot])),it=await this.contractWrapper.multiCall(nt),at=this.contractWrapper.parseLogs("TokensMinted",it.logs);if(at.length===0||at.length<tt.length)throw new Error("TokenMinted event not found, minting failed");return at.map(ot=>{const ct=ot.args.tokenIdMinted;return{id:ct,receipt:it,data:()=>this.erc721.get(ct)}})}}class Erc721Mintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"batch",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt,this.batch=this.detectErc721BatchMintable()}async to(_e,tt){const rt=await this.getMintTransaction(_e,tt),{receipt:nt}=await rt.execute(),it=this.contractWrapper.parseLogs("Transfer",nt==null?void 0:nt.logs);if(it.length===0)throw new Error("TransferEvent event not found");const at=it[0].args.tokenId;return{id:at,receipt:nt,data:()=>this.erc721.get(at)}}async getMintTransaction(_e,tt){const rt=await uploadOrExtractURI(tt,this.storage);return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"mintTo",args:[_e,rt]})}detectErc721BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC721BatchMintable"))return new Erc721BatchMintable(this.erc721,this.contractWrapper,this.storage)}}class Erc721Enumerable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_NFT_ENUMERABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),this.erc721=_e,this.contractWrapper=tt}async all(_e){const tt=await this.tokenIds(_e);return await Promise.all(tt.map(rt=>this.erc721.get(rt.toString())))}async tokenIds(_e){const tt=_e||await this.contractWrapper.getSignerAddress(),rt=await this.contractWrapper.readContract.balanceOf(tt),nt=Array.from(Array(rt.toNumber()).keys());return await Promise.all(nt.map(it=>this.contractWrapper.readContract.tokenOfOwnerByIndex(tt,it)))}}class Erc721Supply{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_NFT_SUPPLY.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"owned",void 0),this.erc721=_e,this.contractWrapper=tt,this.owned=this.detectErc721Owned()}async all(_e){const tt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),rt=BigNumber.from((_e==null?void 0:_e.count)||DEFAULT_QUERY_ALL_COUNT).toNumber(),nt=await this.erc721.nextTokenIdToMint(),it=Math.min(nt.toNumber(),tt+rt);return await Promise.all([...Array(it-tt).keys()].map(at=>this.erc721.get((tt+at).toString())))}async allOwners(){return Promise.all([...new Array((await this.totalCount()).toNumber()).keys()].map(async _e=>({tokenId:_e,owner:await this.erc721.ownerOf(_e).catch(()=>AddressZero)})))}async totalCount(){return await this.erc721.nextTokenIdToMint()}async totalCirculatingSupply(){return await this.contractWrapper.readContract.totalSupply()}detectErc721Owned(){if(detectContractFeature(this.contractWrapper,"ERC721Enumerable"))return new Erc721Enumerable(this.erc721,this.contractWrapper)}}const TieredDropPayloadSchema=BaseSignaturePayloadInput.extend({tierPriority:mod.array(mod.string()),royaltyRecipient:mod.string().default(AddressZero),royaltyBps:BasisPointsSchema.default(0),quantity:BigNumberSchema.default(1)});class Erc721TieredDrop{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT_TIERED_DROP.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"storage",void 0),this.erc721=_e,this.contractWrapper=tt,this.storage=rt}async getMetadataInTier(_e){const rt=(await this.contractWrapper.readContract.getMetadataForAllTiers()).find(it=>it.tier===_e);if(!rt)throw new Error("Tier not found in contract.");return await Promise.all(rt.ranges.map((it,at)=>{const ot=[],ct=rt.baseURIs[at];for(let ut=it.startIdInclusive.toNumber();ut<it.endIdNonInclusive.toNumber();ut++){const ft=`${ct}/${ut}`,yt=this.storage.downloadJSON(ft);ot.push(yt)}return ot}).flat())}async getTokensInTier(_e){const tt=await this.contractWrapper.readContract.getTokensInTierLen();if(tt.eq(0))return[];const rt=await this.contractWrapper.readContract.getTokensInTier(_e,0,tt);return await Promise.all(rt.map(it=>{const at=[];for(let ot=it.startIdInclusive.toNumber();ot<it.endIdNonInclusive.toNumber();ot++)at.push(this.erc721.get(ot));return at}).flat())}async createBatchWithTier(_e,tt,rt){const nt=await this.erc721.nextTokenIdToMint(),it=await uploadOrExtractURIs(_e,this.storage,nt.toNumber(),rt),at=getBaseUriFromBatch(it),ot=await this.contractWrapper.sendTransaction("lazyMint",[it.length,at.endsWith("/")?at:`${at}/`,tt,toUtf8Bytes("")]),ct=this.contractWrapper.parseLogs("TokensLazyMinted",ot==null?void 0:ot.logs),ut=ct[0].args[1],ft=ct[0].args[2],yt=[];for(let bt=ut;bt.lte(ft);bt=bt.add(1))yt.push({id:bt,receipt:ot,data:()=>this.erc721.getTokenMetadata(bt)});return yt}async createDelayedRevealBatchWithTier(_e,tt,rt,nt,it){if(!rt)throw new Error("Password is required");const at=await this.storage.uploadBatch([CommonNFTInput.parse(_e)],{rewriteFileNames:{fileStartNumber:0}}),ot=getBaseUriFromBatch(at),ct=await this.erc721.nextTokenIdToMint(),ut=await this.storage.uploadBatch(tt.map(Ht=>CommonNFTInput.parse(Ht)),{onProgress:it==null?void 0:it.onProgress,rewriteFileNames:{fileStartNumber:ct.toNumber()}}),ft=getBaseUriFromBatch(ut),yt=await this.contractWrapper.readContract.getBaseURICount(),bt=await this.contractWrapper.getChainID(),Et=keccak256(["string","uint256","uint256","address"],[rt,bt,yt,this.contractWrapper.readContract.address]),Ct=await this.contractWrapper.readContract.encryptDecrypt(toUtf8Bytes(ft),Et);let At;const St=keccak256(["bytes","bytes","uint256"],[toUtf8Bytes(ft),Et,bt]);At=defaultAbiCoder.encode(["bytes","bytes32"],[Ct,St]);const Tt=await this.contractWrapper.sendTransaction("lazyMint",[ut.length,ot.endsWith("/")?ot:`${ot}/`,nt,At]),$t=this.contractWrapper.parseLogs("TokensLazyMinted",Tt==null?void 0:Tt.logs),kt=$t[0].args[1],Pt=$t[0].args[2],Ot=[];for(let Ht=kt;Ht.lte(Pt);Ht=Ht.add(1))Ot.push({id:Ht,receipt:Tt,data:()=>this.erc721.getTokenMetadata(Ht)});return Ot}async reveal(_e,tt){if(!tt)throw new Error("Password is required");const rt=await this.contractWrapper.getChainID(),nt=keccak256(["string","uint256","uint256","address"],[tt,rt,_e,this.contractWrapper.readContract.address]);try{const it=await this.contractWrapper.callStatic().reveal(_e,nt);if(!it.includes("://")||!it.endsWith("/"))throw new Error("invalid password")}catch{throw new Error("invalid password")}return{receipt:await this.contractWrapper.sendTransaction("reveal",[_e,nt])}}async generate(_e){const[tt]=await this.generateBatch([_e]);return tt}async generateBatch(_e){const tt=_e.map(it=>TieredDropPayloadSchema.parse(it)),rt=await this.contractWrapper.getChainID(),nt=this.contractWrapper.getSigner();return invariant$2(nt,"No signer available"),await Promise.all(tt.map(async it=>{const at=await this.contractWrapper.signTypedData(nt,{name:"SignatureAction",version:"1",chainId:rt,verifyingContract:this.contractWrapper.readContract.address},{GenericRequest},await this.mapPayloadToContractStruct(it));return{payload:it,signature:at.toString()}}))}async verify(_e){const tt=await this.mapPayloadToContractStruct(_e.payload);return(await this.contractWrapper.readContract.verify(tt,_e.signature))[0]}async claimWithSignature(_e){const tt=await this.mapPayloadToContractStruct(_e.payload),nt=(await normalizePriceValue(this.contractWrapper.getProvider(),_e.payload.price,_e.payload.currencyAddress)).mul(_e.payload.quantity),it=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,nt,_e.payload.currencyAddress,it);const at=await this.contractWrapper.sendTransaction("claimWithSignature",[tt,_e.signature],it),ot=this.contractWrapper.parseLogs("TokensClaimed",at==null?void 0:at.logs),ct=ot[0].args.startTokenId,ut=ct.add(ot[0].args.quantityClaimed),ft=[];for(let yt=ct;yt.lt(ut);yt=yt.add(1))ft.push({id:yt,receipt:at,data:()=>this.erc721.get(yt)});return ft}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress),rt=defaultAbiCoder.encode(["string[]","address","address","uint256","address","uint256","uint256","address"],[_e.tierPriority,_e.to,_e.royaltyRecipient,_e.royaltyBps,_e.primarySaleRecipient,_e.quantity,tt,_e.currencyAddress]);return{uid:_e.uid,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,data:rt}}}class Erc721WithQuantitySignatureMintable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_NFT_SIGNATURE_MINTABLE_V2.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),this.contractWrapper=_e,this.storage=tt}async mint(_e){const tt=_e.payload,rt=_e.signature,nt=await this.isLegacyNFTContract();let it,at;nt?(it=await this.mapLegacyPayloadToContractStruct(tt),at=it.price):(it=await this.mapPayloadToContractStruct(tt),at=it.pricePerToken.mul(it.quantity));const ot=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,at,tt.currencyAddress,ot);const ct=await this.contractWrapper.sendTransaction("mintWithSignature",[it,rt],ot),ut=this.contractWrapper.parseLogs("TokensMintedWithSignature",ct.logs);if(ut.length===0)throw new Error("No MintWithSignature event found");return{id:ut[0].args.tokenIdMinted,receipt:ct}}async mintBatch(_e){const tt=await this.isLegacyNFTContract(),nt=(await Promise.all(_e.map(async ot=>{let ct;tt?ct=await this.mapLegacyPayloadToContractStruct(ot.payload):ct=await this.mapPayloadToContractStruct(ot.payload);const ut=ot.signature,ft=ot.payload.price;if(BigNumber.from(ft).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:ct,signature:ut}}))).map(ot=>tt?this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[ot.message,ot.signature]):this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[ot.message,ot.signature])),it=await this.contractWrapper.multiCall(nt),at=this.contractWrapper.parseLogs("TokensMintedWithSignature",it.logs);if(at.length===0)throw new Error("No MintWithSignature event found");return at.map(ot=>({id:ot.args.tokenIdMinted,receipt:it}))}async verify(_e){const tt=await this.isLegacyNFTContract(),rt=_e.payload,nt=_e.signature;let it,at;if(tt){const ot=this.contractWrapper.readContract;it=await this.mapLegacyPayloadToContractStruct(rt),at=await ot.verify(it,nt)}else{const ot=this.contractWrapper.readContract;it=await this.mapPayloadToContractStruct(rt),at=await ot.verify(it,nt)}return at[0]}async generate(_e){return(await this.generateBatch([_e]))[0]}async generateBatch(_e){const tt=await this.isLegacyNFTContract(),rt=_e.map(ct=>Signature721WithQuantityInput.parse(ct)),nt=rt.map(ct=>ct.metadata),it=await uploadOrExtractURIs(nt,this.storage),at=await this.contractWrapper.getChainID(),ot=this.contractWrapper.getSigner();return invariant$2(ot,"No signer available"),await Promise.all(rt.map(async(ct,ut)=>{const ft=it[ut],yt=Signature721WithQuantityOutput.parse({...ct,uri:ft});let bt;return tt?bt=await this.contractWrapper.signTypedData(ot,{name:"TokenERC721",version:"1",chainId:at,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest721},await this.mapLegacyPayloadToContractStruct(yt)):bt=await this.contractWrapper.signTypedData(ot,{name:"SignatureMintERC721",version:"1",chainId:at,verifyingContract:await this.contractWrapper.readContract.address},{MintRequest:MintRequest721withQuantity},await this.mapPayloadToContractStruct(yt)),{payload:yt,signature:bt.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient,uri:_e.uri,quantity:_e.quantity,pricePerToken:tt,currency:_e.currencyAddress,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,uid:_e.uid}}async mapLegacyPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,price:tt,uri:_e.uri,currency:_e.currencyAddress,validityEndTimestamp:_e.mintEndTime,validityStartTimestamp:_e.mintStartTime,uid:_e.uid,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient}}async isLegacyNFTContract(){return detectContractFeature(this.contractWrapper,"ERC721SignatureMintV1")}}class Erc721{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_NFT.name),_defineProperty$3(this,"query",void 0),_defineProperty$3(this,"mintable",void 0),_defineProperty$3(this,"burnable",void 0),_defineProperty$3(this,"lazyMintable",void 0),_defineProperty$3(this,"tieredDropable",void 0),_defineProperty$3(this,"signatureMintable",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.query=this.detectErc721Enumerable(),this.mintable=this.detectErc721Mintable(),this.burnable=this.detectErc721Burnable(),this.lazyMintable=this.detectErc721LazyMintable(),this.tieredDropable=this.detectErc721TieredDrop(),this.signatureMintable=this.detectErc721SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){const[tt,rt]=await Promise.all([this.ownerOf(_e).catch(()=>AddressZero),this.getTokenMetadata(_e).catch(()=>({id:_e.toString(),uri:"",...FALLBACK_METADATA}))]);return{owner:tt,metadata:rt,type:"ERC721",supply:1}}async ownerOf(_e){return await this.contractWrapper.readContract.ownerOf(_e)}async balanceOf(_e){return await this.contractWrapper.readContract.balanceOf(_e)}async balance(){return await this.balanceOf(await this.contractWrapper.getSignerAddress())}async isApproved(_e,tt){return await this.contractWrapper.readContract.isApprovedForAll(_e,tt)}async transfer(_e,tt){const rt=await this.contractWrapper.getSignerAddress();return{receipt:await this.contractWrapper.sendTransaction("safeTransferFrom(address,address,uint256)",[rt,_e,tt])}}async setApprovalForAll(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("setApprovalForAll",[_e,tt])}}async setApprovalForToken(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("approve",[_e,tt])}}async getAll(_e){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).all(_e)}async getAllOwners(){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).allOwners()}async totalCount(){return this.nextTokenIdToMint()}async totalCirculatingSupply(){return assertEnabled(this.query,FEATURE_NFT_SUPPLY).totalCirculatingSupply()}async getOwned(_e){var tt;if((tt=this.query)!=null&&tt.owned)return this.query.owned.all(_e);{const rt=_e||await this.contractWrapper.getSignerAddress(),nt=await this.getAllOwners();return Promise.all((nt||[]).filter(it=>{var at;return(rt==null?void 0:rt.toLowerCase())===((at=it.owner)==null?void 0:at.toLowerCase())}).map(async it=>await this.get(it.tokenId)))}}async getOwnedTokenIds(_e){var tt;if((tt=this.query)!=null&&tt.owned)return this.query.owned.tokenIds(_e);{const rt=_e||await this.contractWrapper.getSignerAddress();return(await this.getAllOwners()||[]).filter(it=>{var at;return(rt==null?void 0:rt.toLowerCase())===((at=it.owner)==null?void 0:at.toLowerCase())}).map(it=>BigNumber.from(it.tokenId))}}async mint(_e){return this.mintTo(await this.contractWrapper.getSignerAddress(),_e)}async mintTo(_e,tt){return assertEnabled(this.mintable,FEATURE_NFT_MINTABLE).to(_e,tt)}async getMintTransaction(_e,tt){return assertEnabled(this.mintable,FEATURE_NFT_MINTABLE).getMintTransaction(_e,tt)}async mintBatch(_e){return this.mintBatchTo(await this.contractWrapper.getSignerAddress(),_e)}async mintBatchTo(_e,tt){var rt;return assertEnabled((rt=this.mintable)==null?void 0:rt.batch,FEATURE_NFT_BATCH_MINTABLE).to(_e,tt)}async burn(_e){return assertEnabled(this.burnable,FEATURE_NFT_BURNABLE).token(_e)}async lazyMint(_e,tt){return assertEnabled(this.lazyMintable,FEATURE_NFT_LAZY_MINTABLE).lazyMint(_e,tt)}async claim(_e,tt){return this.claimTo(await this.contractWrapper.getSignerAddress(),_e,tt)}async claimTo(_e,tt,rt){var at,ot;const nt=(at=this.lazyMintable)==null?void 0:at.claimWithConditions,it=(ot=this.lazyMintable)==null?void 0:ot.claim;if(nt)return nt.to(_e,tt,rt);if(it)return it.to(_e,tt,rt);throw new ExtensionNotImplementedError(FEATURE_NFT_CLAIM_CUSTOM)}async getClaimTransaction(_e,tt,rt){var at,ot;const nt=(at=this.lazyMintable)==null?void 0:at.claimWithConditions,it=(ot=this.lazyMintable)==null?void 0:ot.claim;if(nt)return nt.conditions.getClaimTransaction(_e,tt,rt);if(it)return it.getClaimTransaction(_e,tt,rt);throw new ExtensionNotImplementedError(FEATURE_NFT_CLAIM_CUSTOM)}async totalClaimedSupply(){const _e=this.contractWrapper;if(hasFunction("nextTokenIdToClaim",_e))return _e.readContract.nextTokenIdToClaim();if(hasFunction("totalMinted",_e))return _e.readContract.totalMinted();throw new Error("No function found on contract to get total claimed supply")}async totalUnclaimedSupply(){return(await this.nextTokenIdToMint()).sub(await this.totalClaimedSupply())}get claimConditions(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.claimWithConditions,FEATURE_NFT_CLAIM_CONDITIONS_V2).conditions}get tieredDrop(){return assertEnabled(this.tieredDropable,FEATURE_NFT_TIERED_DROP)}get signature(){return assertEnabled(this.signatureMintable,FEATURE_NFT_SIGNATURE_MINTABLE_V2)}get revealer(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.revealer,FEATURE_NFT_REVEALABLE)}async getTokenMetadata(_e){const tt=await this.contractWrapper.readContract.tokenURI(_e);if(!tt)throw new NotFoundError;return fetchTokenMetadata(_e,tt,this.storage)}async nextTokenIdToMint(){if(hasFunction("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();if(hasFunction("totalSupply",this.contractWrapper))return await this.contractWrapper.readContract.totalSupply();throw new Error("Contract requires either `nextTokenIdToMint` or `totalSupply` function available to determine the next token ID to mint")}detectErc721Enumerable(){if(detectContractFeature(this.contractWrapper,"ERC721Supply")||hasFunction("nextTokenIdToMint",this.contractWrapper))return new Erc721Supply(this,this.contractWrapper)}detectErc721Mintable(){if(detectContractFeature(this.contractWrapper,"ERC721Mintable"))return new Erc721Mintable(this,this.contractWrapper,this.storage)}detectErc721Burnable(){if(detectContractFeature(this.contractWrapper,"ERC721Burnable"))return new Erc721Burnable(this.contractWrapper)}detectErc721LazyMintable(){if(detectContractFeature(this.contractWrapper,"ERC721LazyMintable"))return new Erc721LazyMintable(this,this.contractWrapper,this.storage)}detectErc721TieredDrop(){if(detectContractFeature(this.contractWrapper,"ERC721TieredDrop"))return new Erc721TieredDrop(this,this.contractWrapper,this.storage)}detectErc721SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC721SignatureMintV1")||detectContractFeature(this.contractWrapper,"ERC721SignatureMintV2"))return new Erc721WithQuantitySignatureMintable(this.contractWrapper,this.storage)}}class StandardErc721{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc721",void 0),_defineProperty$3(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.erc721=new Erc721(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async getAll(_e){return this.erc721.getAll(_e)}async getOwned(_e){return this.erc721.getOwned(_e)}async getOwnedTokenIds(_e){return this.erc721.getOwnedTokenIds(_e)}async totalSupply(){return this.erc721.totalCirculatingSupply()}async get(_e){return this.erc721.get(_e)}async ownerOf(_e){return this.erc721.ownerOf(_e)}async balanceOf(_e){return this.erc721.balanceOf(_e)}async balance(){return this.erc721.balance()}async isApproved(_e,tt){return this.erc721.isApproved(_e,tt)}async transfer(_e,tt){return this.erc721.transfer(_e,tt)}async setApprovalForAll(_e,tt){return this.erc721.setApprovalForAll(_e,tt)}async setApprovalForToken(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("approve",[_e,tt])}}}const AirdropAddressInput=mod.object({address:AddressSchema,quantity:AmountSchema.default(1)}),AirdropInputSchema=mod.union([mod.array(mod.string()).transform(et=>et.map(_e=>AirdropAddressInput.parse({address:_e}))),mod.array(AirdropAddressInput)]);class Erc1155Burnable{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_EDITION_BURNABLE.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async tokens(_e,tt){const rt=await this.contractWrapper.getSignerAddress();return this.from(rt,_e,tt)}async from(_e,tt,rt){return{receipt:await this.contractWrapper.sendTransaction("burn",[_e,tt,rt])}}async batch(_e,tt){const rt=await this.contractWrapper.getSignerAddress();return this.batchFrom(rt,_e,tt)}async batchFrom(_e,tt,rt){return{receipt:await this.contractWrapper.sendTransaction("burnBatch",[_e,tt,rt])}}}class Erc1155Enumerable{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_EDITION_ENUMERABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc1155",void 0),this.erc1155=_e,this.contractWrapper=tt}async all(_e){const tt=BigNumber.from((_e==null?void 0:_e.start)||0).toNumber(),rt=BigNumber.from((_e==null?void 0:_e.count)||DEFAULT_QUERY_ALL_COUNT).toNumber(),nt=Math.min((await this.totalCount()).toNumber(),tt+rt);return await Promise.all([...Array(nt-tt).keys()].map(it=>this.erc1155.get((tt+it).toString())))}async totalCount(){return await this.contractWrapper.readContract.nextTokenIdToMint()}async totalCirculatingSupply(_e){return await this.contractWrapper.readContract.totalSupply(_e)}async owned(_e){const tt=_e||await this.contractWrapper.getSignerAddress(),rt=await this.contractWrapper.readContract.nextTokenIdToMint(),it=(await this.contractWrapper.readContract.balanceOfBatch(Array(rt.toNumber()).fill(tt),Array.from(Array(rt.toNumber()).keys()))).map((at,ot)=>({tokenId:ot,balance:at})).filter(at=>at.balance.gt(0));return await Promise.all(it.map(async at=>({...await this.erc1155.get(at.tokenId.toString()),owner:tt,quantityOwned:at.balance.toNumber()})))}}async function getPrebuiltInfo(et,_e){try{const tt=new Contract(et,IThirdwebContractABI,_e),[rt,nt]=await Promise.all([toUtf8String(await tt.contractType()).replace(/\x00/g,""),await tt.contractVersion()]);return{type:rt,version:nt}}catch{return}}class ERC1155Claimable{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_EDITION_CLAIM_CUSTOM.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async getClaimTransaction(_e,tt,rt,nt){let it={};return nt&&nt.pricePerToken&&(it=await calculateClaimCost(this.contractWrapper,nt.pricePerToken,rt,nt.currencyAddress,nt.checkERC20Allowance)),TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"claim",args:[_e,tt,rt],overrides:it})}async to(_e,tt,rt,nt){return await(await this.getClaimTransaction(_e,tt,rt,nt)).execute()}}class Erc1155ClaimableWithConditions{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_EDITION_CLAIM_CONDITIONS_V2.name),_defineProperty$3(this,"conditions",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),this.contractWrapper=_e,this.storage=tt;const rt=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);this.conditions=new DropErc1155ClaimConditions(_e,rt,this.storage)}async to(_e,tt,rt,nt){return await(await this.conditions.getClaimTransaction(_e,tt,rt,nt)).execute()}}class Erc1155LazyMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION_LAZY_MINTABLE_V2.name),_defineProperty$3(this,"revealer",void 0),_defineProperty$3(this,"claimWithConditions",void 0),_defineProperty$3(this,"claim",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc1155",void 0),_defineProperty$3(this,"storage",void 0),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt,this.claim=this.detectErc1155Claimable(),this.claimWithConditions=this.detectErc1155ClaimableWithConditions(),this.revealer=this.detectErc1155Revealable()}async lazyMint(_e,tt){const rt=await this.erc1155.nextTokenIdToMint(),nt=await uploadOrExtractURIs(_e,this.storage,rt.toNumber(),tt),it=nt[0].substring(0,nt[0].lastIndexOf("/"));for(let bt=0;bt<nt.length;bt++){const Et=nt[bt].substring(0,nt[bt].lastIndexOf("/"));if(it!==Et)throw new Error(`Can only create batches with the same base URI for every entry in the batch. Expected '${it}' but got '${Et}'`)}const at=await this.isLegacyEditionDropContract();let ot;at?ot=await this.contractWrapper.sendTransaction("lazyMint",[nt.length,`${it.endsWith("/")?it:`${it}/`}`]):ot=await this.contractWrapper.sendTransaction("lazyMint",[nt.length,`${it.endsWith("/")?it:`${it}/`}`,toUtf8Bytes("")]);const ct=this.contractWrapper.parseLogs("TokensLazyMinted",ot==null?void 0:ot.logs),ut=ct[0].args.startTokenId,ft=ct[0].args.endTokenId,yt=[];for(let bt=ut;bt.lte(ft);bt=bt.add(1))yt.push({id:bt,receipt:ot,data:()=>this.erc1155.getTokenMetadata(bt)});return yt}detectErc1155Claimable(){if(detectContractFeature(this.contractWrapper,"ERC1155ClaimCustom"))return new ERC1155Claimable(this.contractWrapper)}detectErc1155ClaimableWithConditions(){if(detectContractFeature(this.contractWrapper,"ERC1155ClaimConditionsV1")||detectContractFeature(this.contractWrapper,"ERC1155ClaimConditionsV2")||detectContractFeature(this.contractWrapper,"ERC1155ClaimPhasesV1")||detectContractFeature(this.contractWrapper,"ERC1155ClaimPhasesV2"))return new Erc1155ClaimableWithConditions(this.contractWrapper,this.storage)}detectErc1155Revealable(){if(detectContractFeature(this.contractWrapper,"ERC1155Revealable"))return new DelayedReveal(this.contractWrapper,this.storage,FEATURE_EDITION_REVEALABLE.name,()=>this.erc1155.nextTokenIdToMint())}async isLegacyEditionDropContract(){const _e=await getPrebuiltInfo(this.contractWrapper.readContract.address,this.contractWrapper.getProvider());return _e&&_e.type==="DropERC1155"&&_e.version<3}}class Erc1155BatchMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION_BATCH_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc1155",void 0),_defineProperty$3(this,"storage",void 0),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt}async to(_e,tt){const rt=tt.map(ut=>ut.metadata),nt=tt.map(ut=>ut.supply),at=(await uploadOrExtractURIs(rt,this.storage)).map((ut,ft)=>this.contractWrapper.readContract.interface.encodeFunctionData("mintTo",[_e,MaxUint256$1,ut,nt[ft]])),ot=await this.contractWrapper.multiCall(at),ct=this.contractWrapper.parseLogs("TokensMinted",ot.logs);if(ct.length===0||ct.length<rt.length)throw new Error("TokenMinted event not found, minting failed");return ct.map(ut=>{const ft=ut.args.tokenIdMinted;return{id:ft,receipt:ot,data:()=>this.erc1155.get(ft)}})}}class Erc1155Mintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"erc1155",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"batch",void 0),this.erc1155=_e,this.contractWrapper=tt,this.storage=rt,this.batch=this.detectErc1155BatchMintable()}async to(_e,tt){const rt=await this.getMintTransaction(_e,tt),{receipt:nt}=await rt.execute(),it=this.contractWrapper.parseLogs("TransferSingle",nt==null?void 0:nt.logs);if(it.length===0)throw new Error("TransferSingleEvent event not found");const at=it[0].args.id;return{id:at,receipt:nt,data:()=>this.erc1155.get(at.toString())}}async getMintTransaction(_e,tt){const rt=await uploadOrExtractURI(tt.metadata,this.storage);return TransactionTask.make({contractWrapper:this.contractWrapper,functionName:"mintTo",args:[_e,MaxUint256$1,rt,tt.supply]})}async additionalSupplyTo(_e,tt,rt){const nt=await this.erc1155.getTokenMetadata(tt),it=await this.contractWrapper.sendTransaction("mintTo",[_e,tt,nt.uri,rt]);return{id:BigNumber.from(tt),receipt:it,data:()=>this.erc1155.get(tt)}}detectErc1155BatchMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155BatchMintable"))return new Erc1155BatchMintable(this.erc1155,this.contractWrapper,this.storage)}}class Erc1155SignatureMintable{constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION_SIGNATURE_MINTABLE.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"roles",void 0),this.contractWrapper=_e,this.storage=tt,this.roles=rt}async mint(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt),it=await this.contractWrapper.getCallOverrides();await setErc20Allowance(this.contractWrapper,nt.pricePerToken.mul(nt.quantity),tt.currencyAddress,it);const at=await this.contractWrapper.sendTransaction("mintWithSignature",[nt,rt],it),ot=this.contractWrapper.parseLogs("TokensMintedWithSignature",at.logs);if(ot.length===0)throw new Error("No MintWithSignature event found");return{id:ot[0].args.tokenIdMinted,receipt:at}}async mintBatch(_e){const rt=(await Promise.all(_e.map(async at=>{const ot=await this.mapPayloadToContractStruct(at.payload),ct=at.signature,ut=at.payload.price;if(BigNumber.from(ut).gt(0))throw new Error("Can only batch free mints. For mints with a price, use regular mint()");return{message:ot,signature:ct}}))).map(at=>this.contractWrapper.readContract.interface.encodeFunctionData("mintWithSignature",[at.message,at.signature])),nt=await this.contractWrapper.multiCall(rt),it=this.contractWrapper.parseLogs("TokensMintedWithSignature",nt.logs);if(it.length===0)throw new Error("No MintWithSignature event found");return it.map(at=>({id:at.args.tokenIdMinted,receipt:nt}))}async verify(_e){const tt=_e.payload,rt=_e.signature,nt=await this.mapPayloadToContractStruct(tt);return(await this.contractWrapper.readContract.verify(nt,rt))[0]}async generate(_e){const tt={..._e,tokenId:MaxUint256$1};return this.generateFromTokenId(tt)}async generateFromTokenId(_e){return(await this.generateBatchFromTokenIds([_e]))[0]}async generateBatch(_e){const tt=_e.map(rt=>({...rt,tokenId:MaxUint256$1}));return this.generateBatchFromTokenIds(tt)}async generateBatchFromTokenIds(_e){var ut;await((ut=this.roles)==null?void 0:ut.verify(["minter"],await this.contractWrapper.getSignerAddress()));const tt=_e.map(ft=>Signature1155PayloadInputWithTokenId.parse(ft)),rt=tt.map(ft=>ft.metadata),nt=await uploadOrExtractURIs(rt,this.storage),it=await this.contractWrapper.getChainID(),at=this.contractWrapper.getSigner();invariant$2(at,"No signer available");const ot=await getPrebuiltInfo(this.contractWrapper.readContract.address,this.contractWrapper.getProvider()),ct=(ot==null?void 0:ot.type)==="TokenERC1155";return await Promise.all(tt.map(async(ft,yt)=>{const bt=nt[yt],Et=Signature1155PayloadOutput.parse({...ft,uri:bt}),Ct=await this.contractWrapper.signTypedData(at,{name:ct?"TokenERC1155":"SignatureMintERC1155",version:"1",chainId:it,verifyingContract:this.contractWrapper.readContract.address},{MintRequest:MintRequest1155},await this.mapPayloadToContractStruct(Et));return{payload:Et,signature:Ct.toString()}}))}async mapPayloadToContractStruct(_e){const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.price,_e.currencyAddress);return{to:_e.to,tokenId:_e.tokenId,uri:_e.uri,quantity:_e.quantity,pricePerToken:tt,currency:_e.currencyAddress,validityStartTimestamp:_e.mintStartTime,validityEndTimestamp:_e.mintEndTime,uid:_e.uid,royaltyRecipient:_e.royaltyRecipient,royaltyBps:_e.royaltyBps,primarySaleRecipient:_e.primarySaleRecipient}}}class Erc1155{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"featureName",FEATURE_EDITION.name),_defineProperty$3(this,"query",void 0),_defineProperty$3(this,"mintable",void 0),_defineProperty$3(this,"burnable",void 0),_defineProperty$3(this,"lazyMintable",void 0),_defineProperty$3(this,"signatureMintable",void 0),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.query=this.detectErc1155Enumerable(),this.mintable=this.detectErc1155Mintable(),this.burnable=this.detectErc1155Burnable(),this.lazyMintable=this.detectErc1155LazyMintable(),this.signatureMintable=this.detectErc1155SignatureMintable(),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){const[tt,rt]=await Promise.all([this.contractWrapper.readContract.totalSupply(_e).catch(()=>BigNumber.from(0)),this.getTokenMetadata(_e).catch(()=>({id:_e.toString(),uri:"",...FALLBACK_METADATA}))]);return{owner:AddressZero,metadata:rt,type:"ERC1155",supply:tt.toNumber()}}async totalSupply(_e){return await this.contractWrapper.readContract.totalSupply(_e)}async balanceOf(_e,tt){return await this.contractWrapper.readContract.balanceOf(_e,tt)}async balance(_e){return await this.balanceOf(await this.contractWrapper.getSignerAddress(),_e)}async isApproved(_e,tt){return await this.contractWrapper.readContract.isApprovedForAll(_e,tt)}async transfer(_e,tt,rt){let nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];const it=await this.contractWrapper.getSignerAddress();return{receipt:await this.contractWrapper.sendTransaction("safeTransferFrom",[it,_e,tt,rt,nt])}}async setApprovalForAll(_e,tt){return{receipt:await this.contractWrapper.sendTransaction("setApprovalForAll",[_e,tt])}}async airdrop(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];const nt=await this.contractWrapper.getSignerAddress(),it=await this.balanceOf(nt,_e),at=AirdropInputSchema.parse(tt),ot=at.reduce((ut,ft)=>ut+Number((ft==null?void 0:ft.quantity)||1),0);if(it.toNumber()<ot)throw new Error(`The caller owns ${it.toNumber()} NFTs, but wants to airdrop ${ot} NFTs.`);const ct=at.map(ut=>{let{address:ft,quantity:yt}=ut;return this.contractWrapper.readContract.interface.encodeFunctionData("safeTransferFrom",[nt,ft,_e,yt,rt])});return{receipt:await this.contractWrapper.multiCall(ct)}}async nextTokenIdToMint(){if(hasFunction("nextTokenIdToMint",this.contractWrapper))return await this.contractWrapper.readContract.nextTokenIdToMint();throw new Error("Contract requires the `nextTokenIdToMint` function available to determine the next token ID to mint")}async getAll(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).all(_e)}async totalCount(){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).totalCount()}async totalCirculatingSupply(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).totalCirculatingSupply(_e)}async getOwned(_e){return assertEnabled(this.query,FEATURE_EDITION_ENUMERABLE).owned(_e)}async mint(_e){return this.mintTo(await this.contractWrapper.getSignerAddress(),_e)}async mintTo(_e,tt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).to(_e,tt)}async getMintTransaction(_e,tt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).getMintTransaction(_e,tt)}async mintAdditionalSupply(_e,tt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).additionalSupplyTo(await this.contractWrapper.getSignerAddress(),_e,tt)}async mintAdditionalSupplyTo(_e,tt,rt){return assertEnabled(this.mintable,FEATURE_EDITION_MINTABLE).additionalSupplyTo(_e,tt,rt)}async mintBatch(_e){return this.mintBatchTo(await this.contractWrapper.getSignerAddress(),_e)}async mintBatchTo(_e,tt){var rt;return assertEnabled((rt=this.mintable)==null?void 0:rt.batch,FEATURE_EDITION_BATCH_MINTABLE).to(_e,tt)}async burn(_e,tt){return assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).tokens(_e,tt)}async burnFrom(_e,tt,rt){return assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).from(_e,tt,rt)}async burnBatch(_e,tt){return assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).batch(_e,tt)}async burnBatchFrom(_e,tt,rt){return assertEnabled(this.burnable,FEATURE_EDITION_BURNABLE).batchFrom(_e,tt,rt)}async lazyMint(_e,tt){return assertEnabled(this.lazyMintable,FEATURE_EDITION_LAZY_MINTABLE_V2).lazyMint(_e,tt)}async getClaimTransaction(_e,tt,rt,nt){var ot,ct;const it=(ot=this.lazyMintable)==null?void 0:ot.claimWithConditions,at=(ct=this.lazyMintable)==null?void 0:ct.claim;if(it)return it.conditions.getClaimTransaction(_e,tt,rt,nt);if(at)return at.getClaimTransaction(_e,tt,rt,nt);throw new ExtensionNotImplementedError(FEATURE_EDITION_CLAIM_CUSTOM)}async claim(_e,tt,rt){return this.claimTo(await this.contractWrapper.getSignerAddress(),_e,tt,rt)}async claimTo(_e,tt,rt,nt){var ot,ct;const it=(ot=this.lazyMintable)==null?void 0:ot.claimWithConditions,at=(ct=this.lazyMintable)==null?void 0:ct.claim;if(it)return it.to(_e,tt,rt,nt);if(at)return at.to(_e,tt,rt,nt);throw new ExtensionNotImplementedError(FEATURE_EDITION_CLAIM_CUSTOM)}get claimConditions(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.claimWithConditions,FEATURE_EDITION_CLAIM_CONDITIONS_V2).conditions}get signature(){return assertEnabled(this.signatureMintable,FEATURE_EDITION_SIGNATURE_MINTABLE)}get revealer(){var _e;return assertEnabled((_e=this.lazyMintable)==null?void 0:_e.revealer,FEATURE_EDITION_REVEALABLE)}async getTokenMetadata(_e){const tt=await this.contractWrapper.readContract.uri(_e);if(!tt)throw new NotFoundError;return fetchTokenMetadata(_e,tt,this.storage)}detectErc1155Enumerable(){if(detectContractFeature(this.contractWrapper,"ERC1155Enumerable"))return new Erc1155Enumerable(this,this.contractWrapper)}detectErc1155Mintable(){if(detectContractFeature(this.contractWrapper,"ERC1155Mintable"))return new Erc1155Mintable(this,this.contractWrapper,this.storage)}detectErc1155Burnable(){if(detectContractFeature(this.contractWrapper,"ERC1155Burnable"))return new Erc1155Burnable(this.contractWrapper)}detectErc1155LazyMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155LazyMintableV1")||detectContractFeature(this.contractWrapper,"ERC1155LazyMintableV2"))return new Erc1155LazyMintable(this,this.contractWrapper,this.storage)}detectErc1155SignatureMintable(){if(detectContractFeature(this.contractWrapper,"ERC1155SignatureMintable"))return new Erc1155SignatureMintable(this.contractWrapper,this.storage)}}class StandardErc1155{get chainId(){return this._chainId}constructor(_e,tt,rt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"erc1155",void 0),_defineProperty$3(this,"_chainId",void 0),this.contractWrapper=_e,this.storage=tt,this.erc1155=new Erc1155(this.contractWrapper,this.storage,rt),this._chainId=rt}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async get(_e){return this.erc1155.get(_e)}async totalSupply(_e){return this.erc1155.totalSupply(_e)}async balanceOf(_e,tt){return this.erc1155.balanceOf(_e,tt)}async balance(_e){return this.erc1155.balance(_e)}async isApproved(_e,tt){return this.erc1155.isApproved(_e,tt)}async transfer(_e,tt,rt){let nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0];return this.erc1155.transfer(_e,tt,rt,nt)}async setApprovalForAll(_e,tt){return this.erc1155.setApprovalForAll(_e,tt)}async airdrop(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[0];return this.erc1155.airdrop(_e,tt,rt)}}async function isTokenApprovedForTransfer(et,_e,tt,rt,nt){try{const it=new Contract(tt,ERC165Abi,et),at=await it.supportsInterface(InterfaceId_IERC721),ot=await it.supportsInterface(InterfaceId_IERC1155);if(at){const ct=new Contract(tt,Erc721Abi,et);return await ct.isApprovedForAll(nt,_e)?!0:(await ct.getApproved(rt)).toLowerCase()===_e.toLowerCase()}else return ot?await new Contract(tt,Erc1155Abi,et).isApprovedForAll(nt,_e):(console.error("Contract does not implement ERC 1155 or ERC 721."),!1)}catch(it){return console.error("Failed to check if token is approved",it),!1}}async function handleTokenApproval(et,_e,tt,rt,nt){const it=new ContractWrapper(et.getSignerOrProvider(),tt,ERC165Abi,et.options),at=await it.readContract.supportsInterface(InterfaceId_IERC721),ot=await it.readContract.supportsInterface(InterfaceId_IERC1155);if(at){const ct=new ContractWrapper(et.getSignerOrProvider(),tt,Erc721Abi,et.options);await ct.readContract.isApprovedForAll(nt,_e)||(await ct.readContract.getApproved(rt)).toLowerCase()===_e.toLowerCase()||await ct.sendTransaction("setApprovalForAll",[_e,!0])}else if(ot){const ct=new ContractWrapper(et.getSignerOrProvider(),tt,Erc1155Abi,et.options);await ct.readContract.isApprovedForAll(nt,_e)||await ct.sendTransaction("setApprovalForAll",[_e,!0])}else throw Error("Contract must implement ERC 1155 or ERC 721.")}function validateNewListingParam(et){switch(invariant$2(et.assetContractAddress!==void 0&&et.assetContractAddress!==null,"Asset contract address is required"),invariant$2(et.buyoutPricePerToken!==void 0&&et.buyoutPricePerToken!==null,"Buyout price is required"),invariant$2(et.listingDurationInSeconds!==void 0&&et.listingDurationInSeconds!==null,"Listing duration is required"),invariant$2(et.startTimestamp!==void 0&&et.startTimestamp!==null,"Start time is required"),invariant$2(et.tokenId!==void 0&&et.tokenId!==null,"Token ID is required"),invariant$2(et.quantity!==void 0&&et.quantity!==null,"Quantity is required"),et.type){case"NewAuctionListing":invariant$2(et.reservePricePerToken!==void 0&&et.reservePricePerToken!==null,"Reserve price is required")}}async function mapOffer(et,_e,tt){return{quantity:tt.quantityDesired,pricePerToken:tt.pricePerToken,currencyContractAddress:tt.currency,buyerAddress:tt.offeror,quantityDesired:tt.quantityWanted,currencyValue:await fetchCurrencyValue(et,tt.currency,tt.quantityWanted.mul(tt.pricePerToken)),listingId:_e}}function isWinningBid(et,_e,tt){return tt=BigNumber.from(tt),et=BigNumber.from(et),_e=BigNumber.from(_e),et.eq(BigNumber.from(0))?!1:_e.sub(et).mul(MAX_BPS).div(et).gte(tt)}async function getAllInBatches(et,_e,tt){let rt=[];for(;_e-et>DEFAULT_QUERY_ALL_COUNT;)rt.push(tt(et,et+DEFAULT_QUERY_ALL_COUNT-1)),et+=DEFAULT_QUERY_ALL_COUNT;return rt.push(tt(et,_e-1)),await Promise.all(rt)}class MarketplaceDirect{constructor(_e,tt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),this.contractWrapper=_e,this.storage=tt}getAddress(){return this.contractWrapper.readContract.address}async getListing(_e){const tt=await this.contractWrapper.readContract.listings(_e);if(tt.assetContract===AddressZero)throw new ListingNotFoundError(this.getAddress(),_e.toString());if(tt.listingType!==ListingType.Direct)throw new WrongListingTypeError(this.getAddress(),_e.toString(),"Auction","Direct");return await this.mapListing(tt)}async getActiveOffer(_e,tt){await this.validateListing(BigNumber.from(_e)),invariant$2(isAddress(tt),"Address must be a valid address");const rt=await this.contractWrapper.readContract.offers(_e,tt);if(rt.offeror!==AddressZero)return await mapOffer(this.contractWrapper.getProvider(),BigNumber.from(_e),rt)}async createListing(_e){validateNewListingParam(_e),await handleTokenApproval(this.contractWrapper,this.getAddress(),_e.assetContractAddress,_e.tokenId,await this.contractWrapper.getSignerAddress());const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.buyoutPricePerToken,_e.currencyContractAddress);let rt=Math.floor(_e.startTimestamp.getTime()/1e3);const it=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;rt<it&&(rt=it);const at=await this.contractWrapper.sendTransaction("createListing",[{assetContract:_e.assetContractAddress,tokenId:_e.tokenId,buyoutPricePerToken:tt,currencyToAccept:cleanCurrencyAddress(_e.currencyContractAddress),listingType:ListingType.Direct,quantityToList:_e.quantity,reservePricePerToken:tt,secondsUntilEndTime:_e.listingDurationInSeconds,startTime:BigNumber.from(rt)}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("ListingAdded",at==null?void 0:at.logs)[0].args.listingId,receipt:at}}async makeOffer(_e,tt,rt,nt,it){if(isNativeToken(rt))throw new Error("You must use the wrapped native token address when making an offer with a native token");const at=await normalizePriceValue(this.contractWrapper.getProvider(),nt,rt);try{await this.getListing(_e)}catch(yt){throw console.error("Failed to get listing, err =",yt),new Error(`Error getting the listing with id ${_e}`)}const ot=BigNumber.from(tt),ct=BigNumber.from(at).mul(ot),ut=await this.contractWrapper.getCallOverrides()||{};await setErc20Allowance(this.contractWrapper,ct,rt,ut);let ft=MaxUint256$1;return it&&(ft=BigNumber.from(Math.floor(it.getTime()/1e3))),{receipt:await this.contractWrapper.sendTransaction("offer",[_e,tt,rt,at,ft],ut)}}async acceptOffer(_e,tt){await this.validateListing(BigNumber.from(_e));const rt=await this.contractWrapper.readContract.offers(_e,tt);return{receipt:await this.contractWrapper.sendTransaction("acceptOffer",[_e,tt,rt.currency,rt.pricePerToken])}}async buyoutListing(_e,tt,rt){const nt=await this.validateListing(BigNumber.from(_e)),{valid:it,error:at}=await this.isStillValidListing(nt,tt);if(!it)throw new Error(`Listing ${_e} is no longer valid. ${at}`);const ot=rt||await this.contractWrapper.getSignerAddress(),ct=BigNumber.from(tt),ut=BigNumber.from(nt.buyoutPrice).mul(ct),ft=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,ut,nt.currencyContractAddress,ft),{receipt:await this.contractWrapper.sendTransaction("buy",[_e,ot,ct,nt.currencyContractAddress,ut],ft)}}async updateListing(_e){return{receipt:await this.contractWrapper.sendTransaction("updateListing",[_e.id,_e.quantity,_e.buyoutPrice,_e.buyoutPrice,_e.currencyContractAddress,_e.startTimeInSeconds,_e.secondsUntilEnd])}}async cancelListing(_e){return{receipt:await this.contractWrapper.sendTransaction("cancelDirectListing",[_e])}}async validateListing(_e){try{return await this.getListing(_e)}catch(tt){throw console.error(`Error getting the listing with id ${_e}`),tt}}async mapListing(_e){return{assetContractAddress:_e.assetContract,buyoutPrice:BigNumber.from(_e.buyoutPricePerToken),currencyContractAddress:_e.currency,buyoutCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.buyoutPricePerToken),id:_e.listingId.toString(),tokenId:_e.tokenId,quantity:_e.quantity,startTimeInSeconds:_e.startTime,asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),secondsUntilEnd:_e.endTime,sellerAddress:_e.tokenOwner,type:ListingType.Direct}}async isStillValidListing(_e,tt){if(!await isTokenApprovedForTransfer(this.contractWrapper.getProvider(),this.getAddress(),_e.assetContractAddress,_e.tokenId,_e.sellerAddress))return{valid:!1,error:`Token '${_e.tokenId}' from contract '${_e.assetContractAddress}' is not approved for transfer`};const nt=this.contractWrapper.getProvider(),it=new Contract(_e.assetContractAddress,ERC165Abi,nt),at=await it.supportsInterface(InterfaceId_IERC721),ot=await it.supportsInterface(InterfaceId_IERC1155);if(at){const ut=(await new Contract(_e.assetContractAddress,Erc721Abi,nt).ownerOf(_e.tokenId)).toLowerCase()===_e.sellerAddress.toLowerCase();return{valid:ut,error:ut?void 0:`Seller is not the owner of Token '${_e.tokenId}' from contract '${_e.assetContractAddress} anymore'`}}else if(ot){const ft=(await new Contract(_e.assetContractAddress,Erc1155Abi,nt).balanceOf(_e.sellerAddress,_e.tokenId)).gte(tt||_e.quantity);return{valid:ft,error:ft?void 0:`Seller does not have enough balance of Token '${_e.tokenId}' from contract '${_e.assetContractAddress} to fulfill the listing`}}else return{valid:!1,error:"Contract does not implement ERC 1155 or ERC 721."}}}class MarketplaceAuction{constructor(_e,tt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"encoder",void 0),this.contractWrapper=_e,this.storage=tt,this.encoder=new ContractEncoder(_e)}getAddress(){return this.contractWrapper.readContract.address}async getListing(_e){const tt=await this.contractWrapper.readContract.listings(_e);if(tt.listingId.toString()!==_e.toString())throw new ListingNotFoundError(this.getAddress(),_e.toString());if(tt.listingType!==ListingType.Auction)throw new WrongListingTypeError(this.getAddress(),_e.toString(),"Direct","Auction");return await this.mapListing(tt)}async getWinningBid(_e){await this.validateListing(BigNumber.from(_e));const tt=await this.contractWrapper.readContract.winningBid(_e);if(tt.offeror!==AddressZero)return await mapOffer(this.contractWrapper.getProvider(),BigNumber.from(_e),tt)}async getWinner(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=await this.contractWrapper.readContract.winningBid(_e),nt=BigNumber.from(Math.floor(Date.now()/1e3)),it=BigNumber.from(tt.endTimeInEpochSeconds);if(nt.gt(it)&&rt.offeror!==AddressZero)return rt.offeror;const ot=(await this.contractWrapper.readContract.queryFilter(this.contractWrapper.readContract.filters.AuctionClosed())).find(ct=>ct.args.listingId.eq(BigNumber.from(_e)));if(!ot)throw new Error(`Could not find auction with listingId ${_e} in closed auctions`);return ot.args.winningBidder}async createListing(_e){validateNewListingParam(_e),await handleTokenApproval(this.contractWrapper,this.getAddress(),_e.assetContractAddress,_e.tokenId,await this.contractWrapper.getSignerAddress());const tt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.buyoutPricePerToken,_e.currencyContractAddress),rt=await normalizePriceValue(this.contractWrapper.getProvider(),_e.reservePricePerToken,_e.currencyContractAddress);let nt=Math.floor(_e.startTimestamp.getTime()/1e3);const at=(await this.contractWrapper.getProvider().getBlock("latest")).timestamp;nt<at&&(nt=at);const ot=await this.contractWrapper.sendTransaction("createListing",[{assetContract:_e.assetContractAddress,tokenId:_e.tokenId,buyoutPricePerToken:tt,currencyToAccept:cleanCurrencyAddress(_e.currencyContractAddress),listingType:ListingType.Auction,quantityToList:_e.quantity,reservePricePerToken:rt,secondsUntilEndTime:_e.listingDurationInSeconds,startTime:BigNumber.from(nt)}],{gasLimit:5e5});return{id:this.contractWrapper.parseLogs("ListingAdded",ot==null?void 0:ot.logs)[0].args.listingId,receipt:ot}}async buyoutListing(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=await fetchCurrencyMetadata(this.contractWrapper.getProvider(),tt.currencyContractAddress);return this.makeBid(_e,formatUnits(tt.buyoutPrice,rt.decimals))}async makeBid(_e,tt){const rt=await this.validateListing(BigNumber.from(_e)),nt=await normalizePriceValue(this.contractWrapper.getProvider(),tt,rt.currencyContractAddress);if(nt.eq(BigNumber.from(0)))throw new Error("Cannot make a bid with 0 value");const it=await this.contractWrapper.readContract.bidBufferBps(),at=await this.getWinningBid(_e);if(at){const ft=isWinningBid(at.pricePerToken,nt,it);invariant$2(ft,"Bid price is too low based on the current winning bid and the bid buffer")}else{const ft=nt,yt=BigNumber.from(rt.reservePrice);invariant$2(ft.gte(yt),"Bid price is too low based on reserve price")}const ot=BigNumber.from(rt.quantity),ct=nt.mul(ot),ut=await this.contractWrapper.getCallOverrides()||{};return await setErc20Allowance(this.contractWrapper,ct,rt.currencyContractAddress,ut),{receipt:await this.contractWrapper.sendTransaction("offer",[_e,rt.quantity,rt.currencyContractAddress,nt,MaxUint256$1],ut)}}async cancelListing(_e){const tt=await this.validateListing(BigNumber.from(_e)),rt=BigNumber.from(Math.floor(Date.now()/1e3)),nt=BigNumber.from(tt.startTimeInEpochSeconds),it=await this.contractWrapper.readContract.winningBid(_e);if(rt.gt(nt)&&it.offeror!==AddressZero)throw new AuctionAlreadyStartedError(_e.toString());return{receipt:await this.contractWrapper.sendTransaction("closeAuction",[BigNumber.from(_e),await this.contractWrapper.getSignerAddress()])}}async closeListing(_e,tt){tt||(tt=await this.contractWrapper.getSignerAddress());const rt=await this.validateListing(BigNumber.from(_e));try{return{receipt:await this.contractWrapper.sendTransaction("closeAuction",[BigNumber.from(_e),tt])}}catch(nt){throw nt.message.includes("cannot close auction before it has ended")?new AuctionHasNotEndedError(_e.toString(),rt.endTimeInEpochSeconds.toString()):nt}}async executeSale(_e){const tt=await this.validateListing(BigNumber.from(_e));try{const rt=await this.getWinningBid(_e);invariant$2(rt,"No winning bid found");const nt=this.encoder.encode("closeAuction",[_e,tt.sellerAddress]),it=this.encoder.encode("closeAuction",[_e,rt.buyerAddress]);return await this.contractWrapper.multiCall([nt,it])}catch(rt){throw rt.message.includes("cannot close auction before it has ended")?new AuctionHasNotEndedError(_e.toString(),tt.endTimeInEpochSeconds.toString()):rt}}async updateListing(_e){return{receipt:await this.contractWrapper.sendTransaction("updateListing",[_e.id,_e.quantity,_e.reservePrice,_e.buyoutPrice,_e.currencyContractAddress,_e.startTimeInEpochSeconds,_e.endTimeInEpochSeconds])}}async getBidBufferBps(){return this.contractWrapper.readContract.bidBufferBps()}async getMinimumNextBid(_e){const[tt,rt,nt]=await Promise.all([this.getBidBufferBps(),this.getWinningBid(_e),await this.validateListing(BigNumber.from(_e))]),it=rt?rt.currencyValue.value:nt.reservePrice,at=it.add(it.mul(tt).div(1e4));return fetchCurrencyValue(this.contractWrapper.getProvider(),nt.currencyContractAddress,at)}async validateListing(_e){try{return await this.getListing(_e)}catch(tt){throw console.error(`Error getting the listing with id ${_e}`),tt}}async mapListing(_e){return{assetContractAddress:_e.assetContract,buyoutPrice:BigNumber.from(_e.buyoutPricePerToken),currencyContractAddress:_e.currency,buyoutCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.buyoutPricePerToken),id:_e.listingId.toString(),tokenId:_e.tokenId,quantity:_e.quantity,startTimeInEpochSeconds:_e.startTime,asset:await fetchTokenMetadataForContract(_e.assetContract,this.contractWrapper.getProvider(),_e.tokenId,this.storage),reservePriceCurrencyValuePerToken:await fetchCurrencyValue(this.contractWrapper.getProvider(),_e.currency,_e.reservePricePerToken),reservePrice:BigNumber.from(_e.reservePricePerToken),endTimeInEpochSeconds:_e.endTime,sellerAddress:_e.tokenOwner,type:ListingType.Auction}}}async function getCompositePluginABI(et,_e,tt,rt,nt){let it=[];try{if(isFeatureEnabled(AbiSchema.parse(_e),"PluginRouter")){const ut=(await new ContractWrapper(tt,et,RouterABI,rt).readContract.getAllPlugins()).map(yt=>yt.pluginAddress),ft=Array.from(new Set(ut));it=await getPluginABI(ft,tt,nt)}}catch{}return it.length>0?joinABIs([_e,...it]):_e}async function getPluginABI(et,_e,tt){return(await Promise.all(et.map(rt=>fetchContractMetadataFromAddress(rt,_e,tt).catch(nt=>(console.error(`Failed to fetch plug-in for ${rt}`,nt),{abi:[]}))))).map(rt=>rt.abi)}function joinABIs(et){const _e=et.map(nt=>AbiSchema.parse(nt)).flat(),rt=unique(_e,(nt,it)=>nt.name===it.name&&nt.type===it.type&&nt.inputs.length===it.inputs.length).filter(nt=>nt.type!=="constructor");return AbiSchema.parse(rt)}const DropErc20ContractInput=CommonContractSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractOutput=CommonContractOutputSchema.merge(MerkleSchema).merge(CommonSymbolSchema),DropErc20ContractDeploy=DropErc20ContractInput.merge(CommonPlatformFeeSchema).merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema),DropErc20ContractSchema={deploy:DropErc20ContractDeploy,output:DropErc20ContractOutput,input:DropErc20ContractInput},MultiwrapContractInput=CommonContractSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema).merge(CommonSymbolSchema),MultiwrapContractDeploy=MultiwrapContractInput.merge(CommonTrustedForwarderSchema),MultiwrapContractSchema={deploy:MultiwrapContractDeploy,output:MultiwrapContractOutput,input:MultiwrapContractInput},EditionDropInitializer={name:"DropERC1155",contractType:"edition-drop",schema:DropErc1155ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([await EditionDropInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./edition-drop-bfcbf317.esm.3f361524.js"),[]),ot.getNetwork()]);return new ut.EditionDrop(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>2?(await __vitePreload(()=>import("./DropERC1155.3c83bf03.js"),[])).default:(await __vitePreload(()=>import("./DropERC1155_V2.928f548a.js"),[])).default}},EditionInitializer={name:"TokenERC1155",contractType:"edition",schema:TokenErc1155ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([EditionInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./edition-9a187c3b.esm.438ecb13.js"),[]),ot.getNetwork()]);return new ut.Edition(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC1155.b23e2d4d.js"),[])).default}},MarketplaceInitializer={name:"Marketplace",contractType:"marketplace",schema:MarketplaceContractSchema,roles:["admin","lister","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([MarketplaceInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./marketplace-b5a93405.esm.429ac186.js"),[]),ot.getNetwork()]);return new ut.Marketplace(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Marketplace.5f69a33b.js"),[])).default}},MarketplaceV3Initializer={name:"MarketplaceRouter",contractType:"marketplace-v3",schema:MarketplaceContractSchema,roles:["admin","lister","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([MarketplaceV3Initializer.getAbi(nt,ot,it),__vitePreload(()=>import("./marketplacev3-c7322be3.esm.2f1e7f7f.js"),[]),ot.getNetwork()]),yt=typeof ct=="string"?JSON.parse(ct):ct,bt=await getCompositePluginABI(nt,AbiSchema.parse(yt),ot,at,it);return new ut.MarketplaceV3(rt,nt,it,at,bt,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./MarketplaceV3.68abc9f3.js"),[])).default}},MultiwrapInitializer={name:"Multiwrap",contractType:"multiwrap",schema:MultiwrapContractSchema,roles:["admin","transfer","minter","unwrap","asset"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([MultiwrapInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./multiwrap-846e4cd6.esm.32f20d7c.js"),[]),ot.getNetwork()]);return new ut.Multiwrap(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Multiwrap.08c3df31.js"),[])).default}},NFTCollectionInitializer={name:"TokenERC721",contractType:"nft-collection",schema:TokenErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([NFTCollectionInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./nft-collection-4d74298d.esm.82d04946.js"),[]),ot.getNetwork()]);return new ut.NFTCollection(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC721.0de5da1c.js"),[])).default}},NFTDropInitializer={name:"DropERC721",contractType:"nft-drop",schema:DropErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([NFTDropInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./nft-drop-72171cc1.esm.7bc1ad33.js"),[]),ot.getNetwork()]);return new ut.NFTDrop(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>3?(await __vitePreload(()=>import("./DropERC721.d7b1b99a.js"),[])).default:(await __vitePreload(()=>import("./DropERC721_V3.8d3d3fb1.js"),[])).default}},PackInitializer={name:"Pack",contractType:"pack",schema:PackContractSchema,roles:["admin","minter","asset","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([PackInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./pack-949ac07a.esm.136e7b42.js"),[]),ot.getNetwork()]);return new ut.Pack(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Pack.f42377f3.js"),[])).default}},SignatureDropInitializer={name:"SignatureDrop",contractType:"signature-drop",schema:DropErc721ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([SignatureDropInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./signature-drop-e36cf29a.esm.7a9b61ec.js"),[]),ot.getNetwork()]);return new ut.SignatureDrop(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>4?(await __vitePreload(()=>import("./SignatureDrop.2ed03b38.js"),[])).default:(await __vitePreload(()=>import("./SignatureDrop_V4.61df71f5.js"),[])).default}},SplitInitializer={name:"Split",contractType:"split",schema:SplitsContractSchema,roles:["admin"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([SplitInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./split-f5cd58b6.esm.09b4d0a4.js"),[]),ot.getNetwork()]);return new ut.Split(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./Split.77087d36.js"),[])).default}},TokenDropInitializer={name:"DropERC20",contractType:"token-drop",schema:DropErc20ContractSchema,roles:["admin","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([TokenDropInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./token-drop-fa66ac06.esm.9fdc1b89.js"),[]),ot.getNetwork()]);return new ut.TokenDrop(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);if(rt)return rt;const nt=await getContractInfo(et,_e);return!nt||nt.version>2?(await __vitePreload(()=>import("./DropERC20.262e2d28.js"),[])).default:(await __vitePreload(()=>import("./DropERC20_V2.a19f0e78.js"),[])).default}},TokenInitializer={name:"TokenERC20",contractType:"token",schema:TokenErc20ContractSchema,roles:["admin","minter","transfer"],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([TokenInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./token-df443647.esm.778eeca7.js"),[]),ot.getNetwork()]);return new ut.Token(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./TokenERC20.f34516e4.js"),[])).default}},VoteInitializer={name:"VoteERC20",contractType:"vote",schema:VoteContractSchema,roles:[],initialize:async function(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];let[rt,nt,it,at]=_e;const[,ot]=getSignerAndProvider(rt,at),[ct,ut,ft]=await Promise.all([VoteInitializer.getAbi(nt,ot,it),__vitePreload(()=>import("./vote-9de5b5f1.esm.9e8459de.js"),[]),ot.getNetwork()]);return new ut.Vote(rt,nt,it,at,ct,ft.chainId)},getAbi:async(et,_e,tt)=>{const rt=await fetchAbiFromAddress(et,_e,tt);return rt||(await __vitePreload(()=>import("./VoteERC20.db780dba.js"),[])).default}};async function getContractInfo(et,_e){try{return await getPrebuiltInfo(et,_e)}catch{return}}const PREBUILT_CONTRACTS_MAP={[EditionDropInitializer.contractType]:EditionDropInitializer,[EditionInitializer.contractType]:EditionInitializer,[MarketplaceInitializer.contractType]:MarketplaceInitializer,[MarketplaceV3Initializer.contractType]:MarketplaceV3Initializer,[MultiwrapInitializer.contractType]:MultiwrapInitializer,[NFTCollectionInitializer.contractType]:NFTCollectionInitializer,[NFTDropInitializer.contractType]:NFTDropInitializer,[PackInitializer.contractType]:PackInitializer,[SignatureDropInitializer.contractType]:SignatureDropInitializer,[SplitInitializer.contractType]:SplitInitializer,[TokenDropInitializer.contractType]:TokenDropInitializer,[TokenInitializer.contractType]:TokenInitializer,[VoteInitializer.contractType]:VoteInitializer},SmartContract$1={name:"SmartContract",contractType:"custom",schema:{},roles:ALL_ROLES},CONTRACTS_MAP={...PREBUILT_CONTRACTS_MAP,[SmartContract$1.contractType]:SmartContract$1};function getContractTypeForRemoteName(et){var _e;return((_e=Object.values(CONTRACTS_MAP).find(tt=>tt.name===et))==null?void 0:_e.contractType)||"custom"}function getContractName(et){var _e;return(_e=Object.values(CONTRACTS_MAP).find(tt=>tt.contractType===et))==null?void 0:_e.name}class ContractAppURI{constructor(_e,tt){_defineProperty$3(this,"featureName",FEATURE_APPURI.name),_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"metadata",void 0),this.contractWrapper=_e,this.metadata=tt}async get(){return detectContractFeature(this.contractWrapper,"AppURI")?await this.contractWrapper.readContract.appURI():(await this.metadata.get()).appURI||""}async set(_e){return detectContractFeature(this.contractWrapper,"AppURI")?{receipt:await this.contractWrapper.sendTransaction("setAppURI",[_e])}:await this.metadata.update({appURI:_e})}}class ContractEvents{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}addTransactionListener(_e){this.contractWrapper.addListener(EventType.Transaction,_e)}removeTransactionListener(_e){this.contractWrapper.off(EventType.Transaction,_e)}addEventListener(_e,tt){const rt=this.contractWrapper.readContract.interface.getEvent(_e),it={address:this.contractWrapper.readContract.address,topics:[this.contractWrapper.readContract.interface.getEventTopic(rt)]},at=ot=>{const ct=this.contractWrapper.readContract.interface.parseLog(ot);tt(this.toContractEvent(ct.eventFragment,ct.args,ot))};return this.contractWrapper.getProvider().on(it,at),()=>{this.contractWrapper.getProvider().off(it,at)}}listenToAllEvents(_e){const rt={address:this.contractWrapper.readContract.address},nt=it=>{try{const at=this.contractWrapper.readContract.interface.parseLog(it);_e(this.toContractEvent(at.eventFragment,at.args,it))}catch(at){console.error("Could not parse event:",it,at)}};return this.contractWrapper.getProvider().on(rt,nt),()=>{this.contractWrapper.getProvider().off(rt,nt)}}removeEventListener(_e,tt){const rt=this.contractWrapper.readContract.interface.getEvent(_e);this.contractWrapper.readContract.off(rt.name,tt)}removeAllListeners(){this.contractWrapper.readContract.removeAllListeners();const tt={address:this.contractWrapper.readContract.address};this.contractWrapper.getProvider().removeAllListeners(tt)}async getAllEvents(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{fromBlock:0,toBlock:"latest",order:"desc"};const rt=(await this.contractWrapper.readContract.queryFilter({},_e.fromBlock,_e.toBlock)).sort((nt,it)=>_e.order==="desc"?it.blockNumber-nt.blockNumber:nt.blockNumber-it.blockNumber);return this.parseEvents(rt)}async getEvents(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fromBlock:0,toBlock:"latest",order:"desc"};const rt=this.contractWrapper.readContract.interface.getEvent(_e),nt=this.contractWrapper.readContract.interface.getEvent(_e),it=tt.filters?nt.inputs.map(ut=>tt.filters[ut.name]):[],at=this.contractWrapper.readContract.filters[rt.name](...it),ct=(await this.contractWrapper.readContract.queryFilter(at,tt.fromBlock,tt.toBlock)).sort((ut,ft)=>tt.order==="desc"?ft.blockNumber-ut.blockNumber:ut.blockNumber-ft.blockNumber);return this.parseEvents(ct)}parseEvents(_e){return _e.map(tt=>{const rt=Object.fromEntries(Object.entries(tt).filter(nt=>typeof nt[1]!="function"&&nt[0]!=="args"));if(tt.args){const nt=Object.entries(tt.args),it=nt.slice(nt.length/2,nt.length),at={};for(const[ot,ct]of it)at[ot]=ct;return{eventName:tt.event||"",data:at,transaction:rt}}return{eventName:tt.event||"",data:{},transaction:rt}})}toContractEvent(_e,tt,rt){const nt=Object.fromEntries(Object.entries(rt).filter(at=>typeof at[1]!="function"&&at[0]!=="args")),it={};return _e.inputs.forEach((at,ot)=>{if(Array.isArray(tt[ot])){const ct=at.components;if(ct){const ut=tt[ot];if(at.type==="tuple[]"){const ft=[];for(let yt=0;yt<ut.length;yt++){const bt=ut[yt],Et={};for(let Ct=0;Ct<ct.length;Ct++){const At=ct[Ct].name;Et[At]=bt[Ct]}ft.push(Et)}it[at.name]=ft}else{const ft={};for(let yt=0;yt<ct.length;yt++){const bt=ct[yt].name;ft[bt]=ut[yt]}it[at.name]=ft}}}else it[at.name]=tt[ot]}),{eventName:_e.name,data:it,transaction:nt}}}class ContractInterceptor{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}overrideNextTransaction(_e){this.contractWrapper.withTransactionOverride(_e)}}class ContractPlatformFee{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_PLATFORM_FEE.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async get(){const[_e,tt]=await this.contractWrapper.readContract.getPlatformFeeInfo();return CommonPlatformFeeSchema.parse({platform_fee_recipient:_e,platform_fee_basis_points:tt})}async set(_e){const tt=CommonPlatformFeeSchema.parse(_e);return{receipt:await this.contractWrapper.sendTransaction("setPlatformFeeInfo",[tt.platform_fee_recipient,tt.platform_fee_basis_points])}}}class ContractPublishedMetadata{constructor(_e,tt){_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"_cachedMetadata",void 0),this.contractWrapper=_e,this.storage=tt}async get(){return this._cachedMetadata?this._cachedMetadata:(this._cachedMetadata=await fetchContractMetadataFromAddress(this.contractWrapper.readContract.address,this.contractWrapper.getProvider(),this.storage),this._cachedMetadata)}async extractFunctions(){let _e;try{_e=await this.get()}catch{}return extractFunctionsFromAbi(AbiSchema.parse(this.contractWrapper.abi),_e==null?void 0:_e.metadata)}async extractEvents(){let _e;try{_e=await this.get()}catch{}return extractEventsFromAbi(AbiSchema.parse(this.contractWrapper.abi),_e==null?void 0:_e.metadata)}}class SmartContract{get royalties(){return assertEnabled(this.detectRoyalties(),FEATURE_ROYALTY)}get roles(){return assertEnabled(this.detectRoles(),FEATURE_PERMISSIONS)}get sales(){return assertEnabled(this.detectPrimarySales(),FEATURE_PRIMARY_SALE)}get platformFees(){return assertEnabled(this.detectPlatformFees(),FEATURE_PLATFORM_FEE)}get owner(){return assertEnabled(this.detectOwnable(),FEATURE_OWNER)}get erc20(){return assertEnabled(this.detectErc20(),FEATURE_TOKEN)}get erc721(){return assertEnabled(this.detectErc721(),FEATURE_NFT)}get erc1155(){return assertEnabled(this.detectErc1155(),FEATURE_EDITION)}get chainId(){return this._chainId}constructor(_e,tt,rt,nt){let it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},at=arguments.length>5?arguments[5]:void 0,ot=arguments.length>6&&arguments[6]!==void 0?arguments[6]:new ContractWrapper(_e,tt,rt,it);_defineProperty$3(this,"contractWrapper",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"interceptor",void 0),_defineProperty$3(this,"encoder",void 0),_defineProperty$3(this,"estimator",void 0),_defineProperty$3(this,"publishedMetadata",void 0),_defineProperty$3(this,"abi",void 0),_defineProperty$3(this,"metadata",void 0),_defineProperty$3(this,"appURI",void 0),_defineProperty$3(this,"_chainId",void 0),this._chainId=at,this.storage=nt,this.contractWrapper=ot,this.abi=rt,this.events=new ContractEvents(this.contractWrapper),this.encoder=new ContractEncoder(this.contractWrapper),this.interceptor=new ContractInterceptor(this.contractWrapper),this.estimator=new GasCostEstimator(this.contractWrapper),this.publishedMetadata=new ContractPublishedMetadata(this.contractWrapper,this.storage),this.metadata=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage),this.appURI=new ContractAppURI(this.contractWrapper,this.metadata)}onNetworkUpdated(_e){this.contractWrapper.updateSignerOrProvider(_e)}getAddress(){return this.contractWrapper.readContract.address}async call(_e){for(var tt=arguments.length,rt=new Array(tt>1?tt-1:0),nt=1;nt<tt;nt++)rt[nt-1]=arguments[nt];return this.contractWrapper.call(_e,...rt)}detectRoyalties(){if(detectContractFeature(this.contractWrapper,"Royalty")){const _e=new ContractMetadata(this.contractWrapper,CustomContractSchema,this.storage);return new ContractRoyalty(this.contractWrapper,_e)}}detectRoles(){if(detectContractFeature(this.contractWrapper,"Permissions"))return new ContractRoles(this.contractWrapper,ALL_ROLES)}detectPrimarySales(){if(detectContractFeature(this.contractWrapper,"PrimarySale"))return new ContractPrimarySale(this.contractWrapper)}detectPlatformFees(){if(detectContractFeature(this.contractWrapper,"PlatformFee"))return new ContractPlatformFee(this.contractWrapper)}detectErc20(){if(detectContractFeature(this.contractWrapper,"ERC20"))return new Erc20(this.contractWrapper,this.storage,this.chainId)}detectErc721(){if(detectContractFeature(this.contractWrapper,"ERC721"))return new Erc721(this.contractWrapper,this.storage,this.chainId)}detectErc1155(){if(detectContractFeature(this.contractWrapper,"ERC1155"))return new Erc1155(this.contractWrapper,this.storage,this.chainId)}detectOwnable(){if(detectContractFeature(this.contractWrapper,"Ownable"))return new ContractOwner(this.contractWrapper)}}const MAX_LENGTH=256,NUMERIC_IDENTIFIER="0|[1-9]\\d*",MAIN_VERSION_IDENTIFIER=`(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})\\.(${NUMERIC_IDENTIFIER})`,REGEX_MAIN_VERSION=new RegExp(MAIN_VERSION_IDENTIFIER);function toSemver(et){if(et.length>MAX_LENGTH)throw new Error(`version is longer than ${MAX_LENGTH} characters`);const _e=et.trim().match(REGEX_MAIN_VERSION);if(!_e||(_e==null?void 0:_e.length)!==4)throw new Error(`${et} is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`);const tt=Number(_e[1]),rt=Number(_e[2]),nt=Number(_e[3]),it=[tt,rt,nt].join(".");return{major:tt,minor:rt,patch:nt,versionString:it}}function isIncrementalVersion(et,_e){const tt=toSemver(et),rt=toSemver(_e);if(rt.major>tt.major)return!0;const nt=rt.major===tt.major;if(nt&&rt.minor>tt.minor)return!0;const it=rt.minor===tt.minor;return nt&&it&&rt.patch>tt.patch}class ContractPublisher extends RPCConnectionHandler{constructor(_e,tt,rt){super(_e,tt),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"publisher",void 0),this.storage=rt,this.publisher=new ContractWrapper(_e,getContractPublisherAddress(),ContractPublisherAbi,tt)}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.publisher.updateSignerOrProvider(_e)}async extractConstructorParams(_e){return extractConstructorParams(_e,this.storage)}async extractFunctions(_e){return extractFunctions(_e,this.storage)}async fetchCompilerMetadataFromPredeployURI(_e){return fetchPreDeployMetadata(_e,this.storage)}async fetchPrePublishMetadata(_e,tt){const rt=await fetchPreDeployMetadata(_e,this.storage),nt=tt?await this.getLatest(tt,rt.name):void 0,it=nt?await this.fetchPublishedContractInfo(nt):void 0;return{preDeployMetadata:rt,latestPublishedContractMetadata:it}}async fetchCompilerMetadataFromAddress(_e){return fetchContractMetadataFromAddress(_e,this.getProvider(),this.storage)}async fetchPublishedContractInfo(_e){return{name:_e.id,publishedTimestamp:_e.timestamp,publishedMetadata:await this.fetchFullPublishMetadata(_e.metadataUri)}}async fetchFullPublishMetadata(_e){return fetchExtendedReleaseMetadata(_e,this.storage)}async resolvePublishMetadataFromCompilerMetadata(_e){const tt=await this.publisher.readContract.getPublishedUriFromCompilerUri(_e);if(tt.length===0)throw Error(`Could not resolve published metadata URI from ${_e}`);return await Promise.all(tt.filter(rt=>rt.length>0).map(rt=>this.fetchFullPublishMetadata(rt)))}async resolveContractUriFromAddress(_e){const tt=await resolveContractUriFromAddress(_e,this.getProvider());return invariant$2(tt,"Could not resolve contract URI from address"),tt}async fetchContractSourcesFromAddress(_e){const tt=await this.fetchCompilerMetadataFromAddress(_e);return await fetchSourceFilesFromMetadata(tt,this.storage)}async updatePublisherProfile(_e){const tt=this.getSigner();invariant$2(tt,"A signer is required");const rt=await tt.getAddress(),nt=await this.storage.upload(_e);return{receipt:await this.publisher.sendTransaction("setPublisherProfileUri",[rt,nt])}}async getPublisherProfile(_e){const tt=await this.publisher.readContract.getPublisherProfileUri(_e);return!tt||tt.length===0?{}:ProfileSchemaOutput.parse(await this.storage.downloadJSON(tt))}async getAll(_e){const rt=(await this.publisher.readContract.getAllPublishedContracts(_e)).reduce((nt,it)=>(nt[it.contractId]=it,nt),{});return Object.entries(rt).map(nt=>{let[,it]=nt;return this.toPublishedContract(it)})}async getAllVersions(_e,tt){const rt=await this.publisher.readContract.getPublishedContractVersions(_e,tt);if(rt.length===0)throw Error("Not found");return rt.map(nt=>this.toPublishedContract(nt))}async getVersion(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";if(rt==="latest")return this.getLatest(_e,tt);const nt=await this.getAllVersions(_e,tt),at=(await Promise.all(nt.map(ot=>this.fetchPublishedContractInfo(ot)))).find(ot=>ot.publishedMetadata.version===rt);return invariant$2(at,"Contract version not found"),nt.find(ot=>ot.timestamp===at.publishedTimestamp)}async getLatest(_e,tt){const rt=await this.publisher.readContract.getPublishedContract(_e,tt);if(rt&&rt.publishMetadataUri)return this.toPublishedContract(rt)}async publish(_e,tt){const rt=this.getSigner();invariant$2(rt,"A signer is required");const nt=await rt.getAddress(),it=await fetchRawPredeployMetadata(_e,this.storage),at=await this.getLatest(nt,it.name);if(at&&at.metadataUri){const Tt=(await this.fetchPublishedContractInfo(at)).publishedMetadata.version;if(!isIncrementalVersion(Tt,tt.version))throw Error(`Version ${tt.version} is not greater than ${Tt}`)}const ot=await(await this.storage.download(it.bytecodeUri)).text(),ct=ot.startsWith("0x")?ot:`0x${ot}`,ut=keccak256(["bytes"],[ct]),ft=it.name,yt=FullPublishMetadataSchemaInput.parse({...tt,metadataUri:it.metadataUri,bytecodeUri:it.bytecodeUri,name:it.name,analytics:it.analytics,publisher:nt}),bt=await this.storage.upload(yt),Et=await this.publisher.sendTransaction("publishContract",[nt,ft,bt,it.metadataUri,ut,AddressZero]),Ct=this.publisher.parseLogs("ContractPublished",Et.logs);if(Ct.length<1)throw new Error("No ContractPublished event found");const At=Ct[0].args.publishedContract;return{receipt:Et,data:async()=>this.toPublishedContract(At)}}async unpublish(_e,tt){return{receipt:await this.publisher.sendTransaction("unpublishContract",[_e,tt])}}toPublishedContract(_e){return PublishedContractSchema.parse({id:_e.contractId,timestamp:_e.publishTimestamp,metadataUri:_e.publishMetadataUri})}}class MultichainRegistry{constructor(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_defineProperty$3(this,"registryLogic",void 0),_defineProperty$3(this,"registryRouter",void 0),_defineProperty$3(this,"storage",void 0),this.storage=tt,this.registryLogic=new ContractWrapper(_e,getMultichainRegistryAddress(),TWRegistryABI,rt),this.registryRouter=new ContractWrapper(_e,getMultichainRegistryAddress(),TWRegistryRouterABI,rt)}async updateSigner(_e){this.registryLogic.updateSignerOrProvider(_e),this.registryRouter.updateSignerOrProvider(_e)}async getContractMetadataURI(_e,tt){return await this.registryLogic.readContract.getMetadataUri(_e,tt)}async getContractMetadata(_e,tt){const rt=await this.getContractMetadataURI(_e,tt);if(!rt)throw new Error(`No metadata URI found for contract ${tt} on chain ${_e}`);return await this.storage.downloadJSON(rt)}async getContractAddresses(_e){return(await this.registryLogic.readContract.getAll(_e)).filter(tt=>isAddress(tt.deploymentAddress)&&tt.deploymentAddress.toLowerCase()!==AddressZero).map(tt=>({address:tt.deploymentAddress,chainId:tt.chainId.toNumber()}))}async addContract(_e){return await this.addContracts([_e])}async addContracts(_e){const tt=await this.registryRouter.getSignerAddress(),rt=[];return _e.forEach(nt=>{rt.push(this.registryLogic.readContract.interface.encodeFunctionData("add",[tt,nt.address,nt.chainId,nt.metadataURI||""]))}),{receipt:await this.registryRouter.multiCall(rt)}}async removeContract(_e){return await this.removeContracts([_e])}async removeContracts(_e){const tt=await this.registryRouter.getSignerAddress(),rt=[];return _e.forEach(nt=>{rt.push(this.registryLogic.readContract.interface.encodeFunctionData("remove",[tt,nt.address,nt.chainId]))}),{receipt:await this.registryRouter.multiCall(rt)}}}class UserWallet{constructor(_e,tt){_defineProperty$3(this,"connection",void 0),_defineProperty$3(this,"options",void 0),_defineProperty$3(this,"events",new EventEmitter$1$1),this.connection=new RPCConnectionHandler(_e,tt),this.options=tt,this.events=new EventEmitter$1$1}connect(_e){this.connection.updateSignerOrProvider(_e),this.events.emit("signerChanged",this.connection.getSigner())}async transfer(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NATIVE_TOKEN_ADDRESS;const nt=this.requireWallet(),it=await normalizePriceValue(this.connection.getProvider(),tt,rt);if(isNativeToken(rt)){const at=await nt.getAddress();return{receipt:await(await nt.sendTransaction({from:at,to:_e,value:it})).wait()}}else return{receipt:await this.createErc20(rt).sendTransaction("transfer",[_e,it])}}async balance(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NATIVE_TOKEN_ADDRESS;this.requireWallet();const tt=this.connection.getProvider();let rt;return isNativeToken(_e)?rt=await tt.getBalance(await this.getAddress()):rt=await this.createErc20(_e).readContract.balanceOf(await this.getAddress()),await fetchCurrencyValue(tt,_e,rt)}async getAddress(){return await this.requireWallet().getAddress()}async getChainId(){return await this.requireWallet().getChainId()}isConnected(){try{return this.requireWallet(),!0}catch{return!1}}async sign(_e){return await this.requireWallet().signMessage(_e)}async signTypedData(_e,tt,rt){return await signTypedDataInternal(this.requireWallet(),_e,tt,rt)}recoverAddress(_e,tt){const rt=hashMessage(_e),nt=arrayify(rt);return recoverAddress(nt,tt)}async sendRawTransaction(_e){return{receipt:await(await this.requireWallet().sendTransaction(_e)).wait()}}requireWallet(){const _e=this.connection.getSigner();return invariant$2(_e,"This action requires a connected wallet. Please pass a valid signer to the SDK."),_e}createErc20(_e){return new ContractWrapper(this.connection.getSignerOrProvider(),_e,ERC20Abi,this.options)}}class ThirdwebSDK extends RPCConnectionHandler{static async fromWallet(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new ThirdwebStorage;const it=getProviderForNetwork(tt),at=Signer.isSigner(it)?it.provider:typeof it=="string"?getReadOnlyProvider(it):it;let ot=await _e.getSigner();return at&&(ot=ot.connect(at)),ThirdwebSDK.fromSigner(ot,tt,rt,nt)}static fromSigner(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new ThirdwebStorage;const it=new ThirdwebSDK(tt||_e,rt,nt);return it.updateSignerOrProvider(_e),it}static fromPrivateKey(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:new ThirdwebStorage;const it=getProviderForNetwork(tt),at=Signer.isSigner(it)?it.provider:typeof it=="string"?getReadOnlyProvider(it):it,ot=new Wallet(_e,at);return ThirdwebSDK.fromSigner(ot,tt,rt,nt)}constructor(_e){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new ThirdwebStorage;const nt=getProviderForNetwork(_e);super(nt,tt),_defineProperty$3(this,"contractCache",new Map),_defineProperty$3(this,"_publisher",void 0),_defineProperty$3(this,"storageHandler",void 0),_defineProperty$3(this,"deployer",void 0),_defineProperty$3(this,"multiChainRegistry",void 0),_defineProperty$3(this,"wallet",void 0),_defineProperty$3(this,"storage",void 0),this.storageHandler=rt,this.storage=rt,this.wallet=new UserWallet(nt,tt),this.deployer=new ContractDeployer(nt,tt,rt),this.multiChainRegistry=new MultichainRegistry(nt,this.storageHandler,this.options),this._publisher=new ContractPublisher(nt,this.options,this.storageHandler)}get auth(){throw new Error(`The sdk.auth namespace has been moved to the @thirdweb-dev/auth package and is no longer available after @thirdweb-dev/sdk >= 3.7.0. 
      Please visit https://portal.thirdweb.com/auth for instructions on how to switch to using the new auth package (@thirdweb-dev/auth@3.0.0).
      
      If you still want to use the old @thirdweb-dev/auth@2.0.0 package, you can downgrade the SDK to version 3.6.0.`)}async getNFTDrop(_e){return await this.getContract(_e,"nft-drop")}async getSignatureDrop(_e){return await this.getContract(_e,"signature-drop")}async getNFTCollection(_e){return await this.getContract(_e,"nft-collection")}async getEditionDrop(_e){return await this.getContract(_e,"edition-drop")}async getEdition(_e){return await this.getContract(_e,"edition")}async getTokenDrop(_e){return await this.getContract(_e,"token-drop")}async getToken(_e){return await this.getContract(_e,"token")}async getVote(_e){return await this.getContract(_e,"vote")}async getSplit(_e){return await this.getContract(_e,"split")}async getMarketplace(_e){return await this.getContract(_e,"marketplace")}async getMarketplaceV3(_e){return await this.getContract(_e,"marketplace-v3")}async getPack(_e){return await this.getContract(_e,"pack")}async getMultiwrap(_e){return await this.getContract(_e,"multiwrap")}async getContract(_e,tt){if(this.contractCache.has(_e))return this.contractCache.get(_e);let rt;if(!tt||tt==="custom"){const nt=await this.resolveContractType(_e);if(nt==="custom")try{const at=await this.getPublisher().fetchCompilerMetadataFromAddress(_e);rt=await this.getContractFromAbi(_e,at.abi)}catch(it){throw new Error(`Error fetching ABI for this contract

${it}`)}else{const it=await PREBUILT_CONTRACTS_MAP[nt].getAbi(_e,this.getProvider(),this.storage);rt=await this.getContractFromAbi(_e,it)}}else typeof tt=="string"&&tt in PREBUILT_CONTRACTS_MAP?rt=await PREBUILT_CONTRACTS_MAP[tt].initialize(this.getSignerOrProvider(),_e,this.storage,this.options):rt=await this.getContractFromAbi(_e,tt);return this.contractCache.set(_e,rt),rt}async getBuiltInContract(_e,tt){return await this.getContract(_e,tt)}async resolveContractType(_e){try{const tt=new Contract(_e,IThirdwebContractABI,this.getProvider()),rt=toUtf8String(await tt.contractType()).replace(/\x00/g,"");return getContractTypeForRemoteName(rt)}catch{return"custom"}}async getContractList(_e){var nt;const tt=await((nt=await this.deployer.getRegistry())==null?void 0:nt.getContractAddresses(_e))||[];return(await Promise.all(tt.map(async it=>{let at="custom";try{at=await this.resolveContractType(it)}catch{}let ot;if(at==="custom")try{ot=(await this.getContract(it)).metadata}catch(ct){console.warn(`Couldn't get contract metadata for custom contract: ${it} - ${ct}`)}else ot=(await this.getContract(it,at)).metadata;return{address:it,contractType:at,metadata:ot}}))).filter(it=>it.metadata).map(it=>{let{address:at,contractType:ot,metadata:ct}=it;return invariant$2(ct,"All ThirdwebContracts require metadata"),{address:at,contractType:ot,metadata:()=>ct.get()}})}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){this.wallet.connect(this.getSignerOrProvider()),this.deployer.updateSignerOrProvider(this.getSignerOrProvider()),this._publisher.updateSignerOrProvider(this.getSignerOrProvider()),this.multiChainRegistry.updateSigner(this.getSignerOrProvider());for(const[,_e]of this.contractCache)_e.onNetworkUpdated(this.getSignerOrProvider())}async getContractFromAbi(_e,tt){if(this.contractCache.has(_e))return this.contractCache.get(_e);const[,rt]=getSignerAndProvider(this.getSignerOrProvider(),this.options),nt=typeof tt=="string"?JSON.parse(tt):tt,it=new SmartContract(this.getSignerOrProvider(),_e,await getCompositePluginABI(_e,AbiSchema.parse(nt),rt,this.options,this.storage),this.storageHandler,this.options,(await rt.getNetwork()).chainId);return this.contractCache.set(_e,it),it}async getBalance(_e){return fetchCurrencyValue(this.getProvider(),NATIVE_TOKEN_ADDRESS,await this.getProvider().getBalance(_e))}getPublisher(){return this._publisher}}class ContractFactory extends ContractWrapper{constructor(_e,tt,rt,nt){super(tt,_e,TWFactoryAbi,nt),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"DEFAULT_VERSION_MAP",{[NFTDropInitializer.contractType]:3,[NFTCollectionInitializer.contractType]:1,[SignatureDropInitializer.contractType]:4,[MultiwrapInitializer.contractType]:1,[EditionDropInitializer.contractType]:2,[EditionInitializer.contractType]:1,[TokenDropInitializer.contractType]:2,[TokenInitializer.contractType]:1,[VoteInitializer.contractType]:1,[SplitInitializer.contractType]:1,[MarketplaceInitializer.contractType]:2,[MarketplaceV3Initializer.contractType]:1,[PackInitializer.contractType]:2}),this.storage=rt}async deploy(_e,tt,rt,nt){const it=PREBUILT_CONTRACTS_MAP[_e],at=it.schema.deploy.parse(tt),ot=await this.storage.upload(at),ct=await this.getImplementation(it,nt);if(!ct||ct===AddressZero)throw new Error(`No implementation found for ${_e}`);const ut=await it.getAbi(ct,this.getProvider(),this.storage),ft=Contract.getInterface(ut).encodeFunctionData("initialize",await this.getDeployArguments(_e,at,ot)),yt=await this.getProvider().getBlockNumber(),bt=formatBytes32String(yt.toString()),Et=await this.sendTransaction("deployProxyByImplementation",[ct,ft,bt]),Ct=this.parseLogs("ProxyDeployed",Et.logs);if(Ct.length<1)throw new Error("No ProxyDeployed event found");const At=Ct[0].args.proxy;return rt.emit("contractDeployed",{status:"completed",contractAddress:At,transactionHash:Et.transactionHash}),At}async deployProxyByImplementation(_e,tt,rt,nt,it){const at=Contract.getInterface(tt).encodeFunctionData(rt,nt),ot=await this.getProvider().getBlockNumber(),ct=await this.sendTransaction("deployProxyByImplementation",[_e,at,formatBytes32String(ot.toString())]),ut=this.parseLogs("ProxyDeployed",ct.logs);if(ut.length<1)throw new Error("No ProxyDeployed event found");const ft=ut[0].args.proxy;return it.emit("contractDeployed",{status:"completed",contractAddress:ft,transactionHash:ct.transactionHash}),ft}async getDeployArguments(_e,tt,rt){let nt=_e===PackInitializer.contractType?[]:await this.getDefaultTrustedForwarders();switch(tt.trusted_forwarders&&tt.trusted_forwarders.length>0&&(nt=tt.trusted_forwarders),_e){case NFTDropInitializer.contractType:case NFTCollectionInitializer.contractType:const it=NFTDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),it.name,it.symbol,rt,nt,it.primary_sale_recipient,it.fee_recipient,it.seller_fee_basis_points,it.platform_fee_basis_points,it.platform_fee_recipient];case SignatureDropInitializer.contractType:const at=SignatureDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),at.name,at.symbol,rt,nt,at.primary_sale_recipient,at.fee_recipient,at.seller_fee_basis_points,at.platform_fee_basis_points,at.platform_fee_recipient];case MultiwrapInitializer.contractType:const ot=MultiwrapInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),ot.name,ot.symbol,rt,nt,ot.fee_recipient,ot.seller_fee_basis_points];case EditionDropInitializer.contractType:case EditionInitializer.contractType:const ct=EditionDropInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),ct.name,ct.symbol,rt,nt,ct.primary_sale_recipient,ct.fee_recipient,ct.seller_fee_basis_points,ct.platform_fee_basis_points,ct.platform_fee_recipient];case TokenDropInitializer.contractType:case TokenInitializer.contractType:const ut=TokenInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),ut.name,ut.symbol,rt,nt,ut.primary_sale_recipient,ut.platform_fee_recipient,ut.platform_fee_basis_points];case VoteInitializer.contractType:const ft=VoteInitializer.schema.deploy.parse(tt);return[ft.name,rt,nt,ft.voting_token_address,ft.voting_delay_in_blocks,ft.voting_period_in_blocks,BigNumber.from(ft.proposal_token_threshold),ft.voting_quorum_fraction];case SplitInitializer.contractType:const yt=SplitInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,yt.recipients.map(At=>At.address),yt.recipients.map(At=>BigNumber.from(At.sharesBps))];case MarketplaceInitializer.contractType:const bt=MarketplaceInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,bt.platform_fee_recipient,bt.platform_fee_basis_points];case MarketplaceV3Initializer.contractType:const Et=MarketplaceV3Initializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),rt,nt,Et.platform_fee_recipient,Et.platform_fee_basis_points];case PackInitializer.contractType:const Ct=PackInitializer.schema.deploy.parse(tt);return[await this.getSignerAddress(),Ct.name,Ct.symbol,rt,nt,Ct.fee_recipient,Ct.seller_fee_basis_points];default:return[]}}async getDefaultTrustedForwarders(){const _e=await this.getChainID();return getDefaultTrustedForwarders(_e)}async getImplementation(_e,tt){const rt=formatBytes32String(_e.name),nt=await this.getChainID(),it=getApprovedImplementation(nt,_e.contractType);return it&&it.length>0&&tt===void 0?it:this.readContract.getImplementation(rt,tt!==void 0?tt:this.DEFAULT_VERSION_MAP[_e.contractType])}async getLatestVersion(_e){const tt=getContractName(_e);if(!tt)throw new Error(`Invalid contract type ${_e}`);const rt=formatBytes32String(tt);return this.readContract.currentVersion(rt)}}class ContractRegistry extends ContractWrapper{constructor(_e,tt,rt){super(tt,_e,TWRegistryABI$1,rt)}async getContractAddresses(_e){return(await this.readContract.getAll(_e)).filter(tt=>isAddress(tt)&&tt.toLowerCase()!==AddressZero)}async addContract(_e){return await this.addContracts([_e])}async addContracts(_e){const tt=await this.getSignerAddress(),rt=[];return _e.forEach(nt=>{rt.push(this.readContract.interface.encodeFunctionData("add",[tt,nt]))}),{receipt:await this.multiCall(rt)}}async removeContract(_e){return await this.removeContracts([_e])}async removeContracts(_e){const tt=await this.getSignerAddress(),rt=[];return _e.forEach(nt=>{rt.push(this.readContract.interface.encodeFunctionData("remove",[tt,nt]))}),{receipt:await this.multiCall(rt)}}}class ContractDeployer extends RPCConnectionHandler{constructor(_e,tt,rt){super(_e,tt),_defineProperty$3(this,"_factory",void 0),_defineProperty$3(this,"_registry",void 0),_defineProperty$3(this,"storage",void 0),_defineProperty$3(this,"events",void 0),_defineProperty$3(this,"transactionListener",nt=>{nt.status==="submitted"&&this.events.emit("contractDeployed",{status:"submitted",transactionHash:nt.transactionHash})}),this.storage=rt,this.events=new EventEmitter$1$1,this.getFactory(),this.getRegistry()}async deployNFTCollection(_e){return await this.deployBuiltInContract(NFTCollectionInitializer.contractType,_e)}async deployNFTDrop(_e){return await this.deployBuiltInContract(NFTDropInitializer.contractType,_e)}async deploySignatureDrop(_e){return await this.deployBuiltInContract(SignatureDropInitializer.contractType,_e)}async deployMultiwrap(_e){return await this.deployBuiltInContract(MultiwrapInitializer.contractType,_e)}async deployEdition(_e){return await this.deployBuiltInContract(EditionInitializer.contractType,_e)}async deployEditionDrop(_e){return await this.deployBuiltInContract(EditionDropInitializer.contractType,_e)}async deployToken(_e){return await this.deployBuiltInContract(TokenInitializer.contractType,_e)}async deployTokenDrop(_e){return await this.deployBuiltInContract(TokenDropInitializer.contractType,_e)}async deployMarketplace(_e){return await this.deployBuiltInContract(MarketplaceInitializer.contractType,_e)}async deployMarketplaceV3(_e){return await this.deployBuiltInContract(MarketplaceV3Initializer.contractType,_e)}async deployPack(_e){return await this.deployBuiltInContract(PackInitializer.contractType,_e)}async deploySplit(_e){return await this.deployBuiltInContract(SplitInitializer.contractType,_e)}async deployVote(_e){return await this.deployBuiltInContract(VoteInitializer.contractType,_e)}async deployBuiltInContract(_e,tt){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"latest";const nt=(await this.getProvider().getNetwork()).chainId,it=PREBUILT_CONTRACTS_MAP[_e].schema.deploy.parse(tt),at=await this.getFactory();if(nt===ChainId$1.Hardhat||nt===ChainId$1.Localhost){let ft;try{ft=parseInt(rt),isNaN(ft)&&(ft=void 0)}catch{ft=void 0}at.on(EventType.Transaction,this.transactionListener);const yt=await at.deploy(_e,it,this.events,ft);return at.off(EventType.Transaction,this.transactionListener),yt}const ot=getContractName(_e);invariant$2(ot,"contract name not found");const ct=await this.storage.upload(it),ut=await at.getDeployArguments(_e,it,ct);return this.deployReleasedContract("0xdd99b75f095d0c4d5112aCe938e4e6ed962fb024",ot,ut,rt)}async getLatestBuiltInContractVersion(_e){return await(await this.getFactory()).getLatestVersion(_e)}async deployReleasedContract(_e,tt,rt){let nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"latest";const it=await new ThirdwebSDK("polygon").getPublisher().getVersion(_e,tt,nt);if(!it)throw new Error(`No release found for '${tt}' at version '${nt}' by '${_e}'`);return await this.deployContractFromUri(it.metadataUri,rt)}async deployViaFactory(_e,tt,rt,nt,it){const at=this.getSigner();invariant$2(at,"signer is required");const ot=new ContractFactory(_e,this.getSignerOrProvider(),this.storage,this.options);ot.on(EventType.Transaction,this.transactionListener);const ct=await ot.deployProxyByImplementation(tt,rt,nt,it,this.events);return ot.off(EventType.Transaction,this.transactionListener),ct}async deployProxy(_e,tt,rt,nt){const it=Contract.getInterface(tt).encodeFunctionData(rt,nt),{TWProxy__factory:at}=await __vitePreload(()=>import("./thirdweb-dev-contracts-js-factories-TWProxy__factory.esm.6b9d2442.js"),[]);return this.deployContractWithAbi(at.abi,at.bytecode,[_e,it])}async getRegistry(){return this._registry?this._registry:this._registry=this.getProvider().getNetwork().then(async _e=>{let{chainId:tt}=_e;const rt=getContractAddressByChainId(tt,"twRegistry");return new ContractRegistry(rt,this.getSignerOrProvider(),this.options)})}async getFactory(){return this._factory?this._factory:this._factory=this.getProvider().getNetwork().then(async _e=>{let{chainId:tt}=_e;const rt=getContractAddressByChainId(tt,"twFactory");return new ContractFactory(rt,this.getSignerOrProvider(),this.storage,this.options)})}updateSignerOrProvider(_e){super.updateSignerOrProvider(_e),this.updateContractSignerOrProvider()}updateContractSignerOrProvider(){var _e,tt;(_e=this._factory)==null||_e.then(rt=>{rt.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{}),(tt=this._registry)==null||tt.then(rt=>{rt.updateSignerOrProvider(this.getSignerOrProvider())}).catch(()=>{})}async deployContractFromUri(_e,tt,rt){const nt=this.getSigner();invariant$2(nt,"A signer is required");const it=await fetchPreDeployMetadata(_e,this.storage);let at,ot,ct;try{const Et=await fetchExtendedReleaseMetadata(_e,this.storage);at=Et.isDeployableViaFactory,ot=Et.isDeployableViaProxy,ct=FactoryDeploymentSchema.parse(Et.factoryDeploymentData)}catch{}const ut=(rt==null?void 0:rt.forceDirectDeploy)||!1;if(ct&&(ot||at)&&!ut){const Et=(await this.getProvider().getNetwork()).chainId;invariant$2(ct.implementationAddresses,"implementationAddresses is required");const Ct=ct.implementationAddresses[Et];invariant$2(Ct,`implementationAddress not found for chainId '${Et}'`),invariant$2(ct.implementationInitializerFunction,"implementationInitializerFunction not set'");const At=extractFunctionParamsFromAbi(it.abi,ct.implementationInitializerFunction).map(Tt=>Tt.type),St=this.convertParamValues(At,tt);if(at){invariant$2(ct.factoryAddresses,"isDeployableViaFactory is true so factoryAddresses is required");const Tt=ct.factoryAddresses[Et];return invariant$2(Tt,`isDeployableViaFactory is true and factoryAddress not found for chainId '${Et}'`),await this.deployViaFactory(Tt,Ct,it.abi,ct.implementationInitializerFunction,St)}else if(ot)return await this.deployProxy(Ct,it.abi,ct.implementationInitializerFunction,St)}const ft=it.bytecode.startsWith("0x")?it.bytecode:`0x${it.bytecode}`;if(!isHexString$4(ft))throw new Error(`Contract bytecode is invalid.

${ft}`);const yt=extractConstructorParamsFromAbi(it.abi).map(Et=>Et.type),bt=this.convertParamValues(yt,tt);return this.deployContractWithAbi(it.abi,ft,bt)}convertParamValues(_e,tt){if(_e.length!==tt.length)throw Error("Passed the wrong number of constructor arguments");return _e.map((rt,nt)=>rt==="tuple"||rt.endsWith("[]")?typeof tt[nt]=="string"?JSON.parse(tt[nt]):tt[nt]:rt==="bytes32"?(invariant$2(isHexString$4(tt[nt]),`Could not parse bytes32 value. Expected valid hex string but got "${tt[nt]}".`),hexZeroPad(tt[nt],32)):rt.startsWith("bytes")?(invariant$2(isHexString$4(tt[nt]),`Could not parse bytes value. Expected valid hex string but got "${tt[nt]}".`),tt[nt]):rt.startsWith("uint")||rt.startsWith("int")?BigNumber.from(tt[nt].toString()):tt[nt])}async deployContractWithAbi(_e,tt,rt){const nt=this.getSigner();invariant$2(nt,"Signer is required to deploy contracts");const it=await new ContractFactory$1(_e,tt).connect(nt).deploy(...rt);this.events.emit("contractDeployed",{status:"submitted",transactionHash:it.deployTransaction.hash});const at=await it.deployed();return this.events.emit("contractDeployed",{status:"completed",contractAddress:at.address,transactionHash:at.deployTransaction.hash}),at.address}addDeployListener(_e){this.events.on("contractDeployed",_e)}removeDeployListener(_e){this.events.off("contractDeployed",_e)}removeAllDeployListeners(){this.events.removeAllListeners("contractDeployed")}}class ContractOwner{constructor(_e){_defineProperty$3(this,"featureName",FEATURE_OWNER.name),_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async get(){return this.contractWrapper.readContract.owner()}async set(_e){return{receipt:await this.contractWrapper.sendTransaction("setOwner",[_e])}}}const metadataCache={},polygonSDK=new ThirdwebSDK("polygon");function getCacheKey(et,_e){return`${et}-${_e}`}function putInCache(et,_e,tt){metadataCache[getCacheKey(et,_e)]=tt}function getFromCache(et,_e){return metadataCache[getCacheKey(et,_e)]}async function fetchContractMetadataFromAddress(et,_e,tt){const rt=(await _e.getNetwork()).chainId,nt=getFromCache(et,rt);if(nt)return nt;let it;try{const at=await resolveContractUriFromAddress(et,_e);if(!at)throw new Error(`Could not resolve metadata for contract at ${et}`);it=await fetchContractMetadata(at,tt)}catch{try{const ot=await polygonSDK.multiChainRegistry.getContractMetadataURI(rt,et);it=await fetchContractMetadata(ot,tt)}catch{throw new Error(`Could not resolve metadata for contract at ${et}`)}}if(!it)throw new Error(`Could not resolve metadata for contract at ${et}`);return putInCache(et,rt,it),it}async function fetchAbiFromAddress(et,_e,tt){try{const rt=await fetchContractMetadataFromAddress(et,_e,tt);if(rt&&rt.abi)return rt.abi}catch{}}async function fetchContractMetadata(et,_e){const tt=await _e.downloadJSON(et);if(!tt||!tt.output)throw new Error(`Could not resolve metadata for contract at ${et}`);const rt=AbiSchema.parse(tt.output.abi),nt=tt.settings.compilationTarget,it=Object.keys(nt),at=nt[it[0]],ot=ContractInfoSchema.parse({title:tt.output.devdoc.title,author:tt.output.devdoc.author,details:tt.output.devdoc.detail,notice:tt.output.userdoc.notice}),ct=[...new Set(Object.entries(tt.sources).map(ut=>{let[,ft]=ut;return ft.license}))];return{name:at,abi:rt,metadata:tt,info:ot,licenses:ct}}async function fetchSourceFilesFromMetadata(et,_e){return await Promise.all(Object.entries(et.metadata.sources).map(async tt=>{let[rt,nt]=tt;const it=nt.urls,at=it?it.find(ot=>ot.includes("ipfs")):void 0;if(at){const ot=at.split("ipfs/")[1],ct=new Promise((ft,yt)=>setTimeout(()=>yt("timeout"),3e3)),ut=await Promise.race([(await _e.download(`ipfs://${ot}`)).text(),ct]);return{filename:rt,source:ut}}else return{filename:rt,source:nt.content||"Could not find source for this contract"}}))}const BYOCContractMetadataSchema=CommonContractSchema.catchall(mod.union([BigNumberTransformSchema,mod.unknown()])),CustomContractInput=BYOCContractMetadataSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()),CustomContractOutput=CommonContractOutputSchema.merge(CommonRoyaltySchema.merge(MerkleSchema).merge(CommonSymbolSchema).partial()),CustomContractDeploy=CustomContractInput.merge(CommonPlatformFeeSchema.merge(CommonPrimarySaleSchema).merge(CommonTrustedForwarderSchema).partial()),CustomContractSchema={deploy:CustomContractDeploy,output:CustomContractOutput,input:CustomContractInput},AbiTypeBaseSchema=mod.object({type:mod.string(),name:mod.string()}).catchall(mod.any()),AbiTypeSchema=AbiTypeBaseSchema.extend({stateMutability:mod.string().optional(),components:mod.array(AbiTypeBaseSchema).optional()}).catchall(mod.any()),AbiObjectSchema=mod.object({type:mod.string(),name:mod.string().default(""),inputs:mod.array(AbiTypeSchema).default([]),outputs:mod.array(AbiTypeSchema).default([])}).catchall(mod.any()),AbiSchema=mod.array(AbiObjectSchema),PreDeployMetadata=mod.object({name:mod.string(),metadataUri:mod.string(),bytecodeUri:mod.string(),analytics:mod.any().optional()}).catchall(mod.any()),ChainIdToAddressSchema=mod.record(mod.string(),mod.string()),FactoryDeploymentSchema=mod.object({implementationAddresses:ChainIdToAddressSchema,implementationInitializerFunction:mod.string().default("initialize"),factoryAddresses:ChainIdToAddressSchema.optional()}),ExtraPublishMetadataSchemaInput=mod.object({version:mod.string().refine(et=>{try{return toSemver(et),!0}catch{return!1}},et=>({message:`'${et}' is not a valid semantic version. Should be in the format of major.minor.patch. Ex: 0.4.1`})),displayName:mod.string().optional(),description:mod.string().optional(),readme:mod.string().optional(),license:mod.string().optional(),changelog:mod.string().optional(),tags:mod.array(mod.string()).optional(),audit:FileOrBufferOrStringSchema.nullable().optional(),logo:FileOrBufferOrStringSchema.nullable().optional(),isDeployableViaFactory:mod.boolean().optional(),isDeployableViaProxy:mod.boolean().optional(),factoryDeploymentData:FactoryDeploymentSchema.optional(),constructorParams:mod.record(mod.string(),mod.object({displayName:mod.string().optional(),description:mod.string().optional(),defaultValue:mod.string().optional()}).catchall(mod.any())).optional()}).catchall(mod.any()),ExtraPublishMetadataSchemaOutput=ExtraPublishMetadataSchemaInput.extend({audit:mod.string().nullable().optional(),logo:mod.string().nullable().optional()}),FullPublishMetadataSchemaInput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaInput).extend({publisher:AddressSchema.optional()}),FullPublishMetadataSchemaOutput=PreDeployMetadata.merge(ExtraPublishMetadataSchemaOutput).extend({publisher:AddressSchema.optional()}),ProfileSchemaInput=mod.object({name:mod.string().optional(),bio:mod.string().optional(),avatar:FileOrBufferOrStringSchema.nullable().optional(),website:mod.string().optional(),twitter:mod.string().optional(),telegram:mod.string().optional(),facebook:mod.string().optional(),github:mod.string().optional(),medium:mod.string().optional(),linkedin:mod.string().optional(),reddit:mod.string().optional(),discord:mod.string().optional()}),ProfileSchemaOutput=ProfileSchemaInput.extend({avatar:mod.string().nullable().optional()}),PublishedContractSchema=mod.object({id:mod.string(),timestamp:BigNumberishSchema,metadataUri:mod.string()}),ContractInfoSchema=mod.object({title:mod.string().optional(),author:mod.string().optional(),details:mod.string().optional(),notice:mod.string().optional()}),CompilerMetadataFetchedSchema=mod.object({name:mod.string(),abi:AbiSchema,metadata:mod.record(mod.string(),mod.any()),info:ContractInfoSchema,licenses:mod.array(mod.string().optional()).default([]).transform(et=>et.filter(_e=>_e!==void 0))}),PreDeployMetadataFetchedSchema=PreDeployMetadata.merge(CompilerMetadataFetchedSchema).extend({bytecode:mod.string()}),PAPER_API_BASE="https://paper.xyz/api",PAPER_API_VERSION="2022-08-12",PAPER_API_URL=`${PAPER_API_BASE}/${PAPER_API_VERSION}/platform/thirdweb`,PAPER_CHAIN_ID_MAP={[ChainId$1.Mainnet]:"Ethereum",[ChainId$1.Goerli]:"Goerli",[ChainId$1.Polygon]:"Polygon",[ChainId$1.Mumbai]:"Mumbai",[ChainId$1.Avalanche]:"Avalanche"};function parseChainIdToPaperChain(et){return invariant$2(et in PAPER_CHAIN_ID_MAP,`chainId not supported by paper: ${et}`),PAPER_CHAIN_ID_MAP[et]}async function fetchRegisteredCheckoutId(et,_e){const tt=parseChainIdToPaperChain(_e),nt=await(await fetch(`${PAPER_API_URL}/register-contract?contractAddress=${et}&chain=${tt}`)).json();return invariant$2(nt.result.id,"Contract is not registered with paper"),nt.result.id}const DEFAULT_PARAMS={expiresInMinutes:15,feeBearer:"BUYER",sendEmailOnSuccess:!0,redirectAfterPayment:!1};async function createCheckoutLinkIntent(et,_e){const rt=await(await fetch(`${PAPER_API_URL}/checkout-link-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contractId:et,...DEFAULT_PARAMS,..._e,metadata:{..._e.metadata,via_platform:"thirdweb"},hideNativeMint:!0,hidePaperWallet:!!_e.walletAddress,hideExternalWallet:!0,hidePayWithCrypto:!0,usePaperKey:!1})})).json();return invariant$2(rt.checkoutLinkIntentUrl,"Failed to create checkout link intent"),rt.checkoutLinkIntentUrl}class PaperCheckout{constructor(_e){_defineProperty$3(this,"contractWrapper",void 0),this.contractWrapper=_e}async getCheckoutId(){return fetchRegisteredCheckoutId(this.contractWrapper.readContract.address,await this.contractWrapper.getChainID())}async isEnabled(){try{return!!await this.getCheckoutId()}catch{return!1}}async createLinkIntent(_e){return await createCheckoutLinkIntent(await this.getCheckoutId(),_e)}}function _toPrimitive(et,_e){if(typeof et!="object"||et===null)return et;var tt=et[Symbol.toPrimitive];if(tt!==void 0){var rt=tt.call(et,_e||"default");if(typeof rt!="object")return rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(et)}function _toPropertyKey(et){var _e=_toPrimitive(et,"string");return typeof _e=="symbol"?_e:String(_e)}function _defineProperty$1(et,_e,tt){return _e=_toPropertyKey(_e),_e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}mod.string().refine(et=>isAddress(et),et=>({message:`${et} is not a valid address`}));const RawDateSchema=mod.date().transform(et=>BigNumber.from(Math.floor(et.getTime()/1e3))),AccountTypeSchema=mod.union([mod.literal("evm"),mod.literal("solana")]),literalSchema=mod.union([mod.string(),mod.number(),mod.boolean(),mod.null()]),JsonSchema=mod.lazy(()=>mod.union([literalSchema,mod.array(JsonSchema),mod.record(JsonSchema)]),{invalid_type_error:"Provided value was not valid JSON"}),LoginOptionsSchema=mod.object({domain:mod.string().optional(),statement:mod.string().optional(),uri:mod.string().optional(),version:mod.string().optional(),chainId:mod.string().optional(),nonce:mod.string().optional(),expirationTime:mod.date().optional(),invalidBefore:mod.date().optional(),resources:mod.array(mod.string()).optional()}).optional(),LoginPayloadDataSchema=mod.object({type:AccountTypeSchema,domain:mod.string(),address:mod.string(),statement:mod.string().default("Please ensure that the domain above matches the URL of the current website."),uri:mod.string().optional(),version:mod.string().default("1"),chain_id:mod.string().optional(),nonce:mod.string().default(v4()),issued_at:mod.date().default(new Date).transform(et=>et.toISOString()),expiration_time:mod.date().transform(et=>et.toISOString()),invalid_before:mod.date().default(new Date).transform(et=>et.toISOString()),resources:mod.array(mod.string()).optional()}),LoginPayloadSchema=mod.object({payload:LoginPayloadDataSchema,signature:mod.string()}),VerifyOptionsSchemaRequired=mod.object({domain:mod.string().optional(),statement:mod.string().optional(),uri:mod.string().optional(),version:mod.string().optional(),chainId:mod.string().optional(),validateNonce:mod.function().args(mod.string()).optional(),resources:mod.array(mod.string()).optional()}),VerifyOptionsSchema=VerifyOptionsSchemaRequired.optional(),GenerateOptionsSchema=mod.object({domain:mod.string().optional(),tokenId:mod.string().optional(),expirationTime:mod.date().optional(),invalidBefore:mod.date().optional(),session:mod.union([JsonSchema,mod.function().args(mod.string())]).optional(),verifyOptions:VerifyOptionsSchemaRequired.omit({domain:!0}).optional()}).optional(),AuthenticationPayloadDataSchema=mod.object({iss:mod.string(),sub:mod.string(),aud:mod.string(),exp:RawDateSchema.transform(et=>et.toNumber()),nbf:RawDateSchema.transform(et=>et.toNumber()),iat:RawDateSchema.transform(et=>et.toNumber()),jti:mod.string().default(v4()),ctx:JsonSchema.optional()});mod.object({payload:AuthenticationPayloadDataSchema,signature:mod.string()});const AuthenticateOptionsSchema=mod.object({domain:mod.string().optional(),validateTokenId:mod.function().args(mod.string()).optional()}).optional();LoginPayloadSchema.extend({payload:LoginPayloadDataSchema.extend({issued_at:mod.string(),expiration_time:mod.string(),invalid_before:mod.string()})});const isBrowser$4=()=>typeof window<"u";class ThirdwebAuth{constructor(_e,tt){_defineProperty$1(this,"domain",void 0),_defineProperty$1(this,"wallet",void 0),this.wallet=_e,this.domain=tt}updateWallet(_e){this.wallet=_e}async login(_e){const tt=LoginOptionsSchema.parse(_e);let rt=tt==null?void 0:tt.chainId;if(!rt&&this.wallet.getChainId)try{rt=(await this.wallet.getChainId()).toString()}catch{}const nt=LoginPayloadDataSchema.parse({type:this.wallet.type,domain:(tt==null?void 0:tt.domain)||this.domain,address:await this.wallet.getAddress(),statement:tt==null?void 0:tt.statement,version:tt==null?void 0:tt.version,uri:(tt==null?void 0:tt.uri)||(isBrowser$4()?window.location.href:void 0),chain_id:rt,nonce:tt==null?void 0:tt.nonce,expiration_time:(tt==null?void 0:tt.expirationTime)||new Date(Date.now()+1e3*60*5),invalid_before:tt==null?void 0:tt.invalidBefore,resources:tt==null?void 0:tt.resources}),it=this.generateMessage(nt),at=await this.wallet.signMessage(it);return{payload:nt,signature:at}}async verify(_e,tt){const rt=VerifyOptionsSchema.parse(tt);if(_e.payload.type!==this.wallet.type)throw new Error(`Expected chain type '${this.wallet.type}' does not match chain type on payload '${_e.payload.type}'`);const nt=(rt==null?void 0:rt.domain)||this.domain;if(_e.payload.domain!==nt)throw new Error(`Expected domain '${nt}' does not match domain on payload '${_e.payload.domain}'`);if(rt!=null&&rt.statement&&_e.payload.statement!==rt.statement)throw new Error(`Expected statement '${rt.statement}' does not match statement on payload '${_e.payload.statement}'`);if(rt!=null&&rt.uri&&_e.payload.uri!==rt.uri)throw new Error(`Expected URI '${rt.uri}' does not match URI on payload '${_e.payload.uri}'`);if(rt!=null&&rt.version&&_e.payload.version!==rt.version)throw new Error(`Expected version '${rt.version}' does not match version on payload '${_e.payload.version}'`);if(rt!=null&&rt.chainId&&_e.payload.chain_id!==rt.chainId)throw new Error(`Expected chain ID '${rt.chainId}' does not match chain ID on payload '${_e.payload.chain_id}'`);if((rt==null?void 0:rt.validateNonce)!==void 0)try{await rt.validateNonce(_e.payload.nonce)}catch(ut){throw console.log(ut),new Error("Login request nonce is invalid")}const it=new Date;if(it<new Date(_e.payload.invalid_before))throw new Error("Login request is not yet valid");if(it>new Date(_e.payload.expiration_time))throw new Error("Login request has expired");if(rt!=null&&rt.resources){const ut=rt.resources.filter(ft=>{var yt;return!((yt=_e.payload.resources)!=null&&yt.includes(ft))});if(ut.length>0)throw new Error(`Login request is missing required resources: ${ut.join(", ")}`)}const at=this.generateMessage(_e.payload),ot=this.wallet.type==="evm"&&_e.payload.chain_id?parseInt(_e.payload.chain_id):void 0;if(!await this.verifySignature(at,_e.signature,_e.payload.address,ot))throw new Error(`Signer address does not match payload address '${_e.payload.address.toLowerCase()}'`);return _e.payload.address}async generate(_e,tt){if(isBrowser$4())throw new Error("Authentication tokens should not be generated in the browser, as they must be signed by a server-side admin wallet.");const rt=GenerateOptionsSchema.parse(tt),nt=(rt==null?void 0:rt.domain)||this.domain,it=await this.verify(_e,{domain:nt,...rt==null?void 0:rt.verifyOptions});let at;if(typeof(rt==null?void 0:rt.session)=="function"){const St=await rt.session(it);St&&(at=St)}else at=rt==null?void 0:rt.session;const ot=await this.wallet.getAddress(),ct=AuthenticationPayloadDataSchema.parse({iss:ot,sub:it,aud:nt,nbf:(rt==null?void 0:rt.invalidBefore)||new Date,exp:(rt==null?void 0:rt.expirationTime)||new Date(Date.now()+1e3*60*60*5),iat:new Date,jti:rt==null?void 0:rt.tokenId,ctx:at}),ut=JSON.stringify(ct),ft=await this.wallet.signMessage(ut),yt={alg:"ES256",typ:"JWT"},bt=Buffer.from(JSON.stringify(yt)).toString("base64"),Et=Buffer.from(JSON.stringify(ct)).toString("base64").replace(/=/g,""),Ct=Buffer.from(ft).toString("base64");return`${bt}.${Et}.${Ct}`}async authenticate(_e,tt){if(isBrowser$4())throw new Error("Should not authenticate tokens in the browser, as they must be verified by the server-side admin wallet.");const rt=AuthenticateOptionsSchema.parse(tt),nt=(rt==null?void 0:rt.domain)||this.domain,it=_e.split(".")[1],at=_e.split(".")[2],ot=JSON.parse(Buffer.from(it,"base64").toString()),ct=Buffer.from(at,"base64").toString();if((rt==null?void 0:rt.validateTokenId)!==void 0)try{await rt.validateTokenId(ot.jti)}catch{throw new Error("Token ID is invalid")}if(ot.aud!==nt)throw new Error(`Expected token to be for the domain '${nt}', but found token with domain '${ot.aud}'`);const ut=Math.floor(new Date().getTime()/1e3);if(ut<ot.nbf)throw new Error(`This token is invalid before epoch time '${ot.nbf}', current epoch time is '${ut}'`);if(ut>ot.exp)throw new Error(`This token expired at epoch time '${ot.exp}', current epoch time is '${ut}'`);const ft=await this.wallet.getAddress();if(ft.toLowerCase()!==ot.iss.toLowerCase())throw new Error(`Expected the connected wallet address '${ft}' to match the token issuer address '${ot.iss}'`);let yt;if(this.wallet.getChainId)try{yt=await this.wallet.getChainId()}catch{}if(!await this.verifySignature(JSON.stringify(ot),ct,ft,yt))throw new Error(`The connected wallet address '${ft}' did not sign the token`);return{address:ot.sub,session:ot.ctx}}async verifySignature(_e,tt,rt,nt){return this.wallet.verifySignature(_e,tt,rt,nt)}generateMessage(_e){const tt=_e.type==="evm"?"Ethereum":"Solana";let nt=[`${_e.domain} wants you to sign in with your ${tt} account:`,_e.address].join(`
`);nt=[nt,_e.statement].join(`

`),_e.statement&&(nt+=`
`);const it=[];if(_e.uri){const yt=`URI: ${_e.uri}`;it.push(yt)}const at=`Version: ${_e.version}`;if(it.push(at),_e.chain_id){const yt="Chain ID: "+_e.chain_id||"1";it.push(yt)}const ot=`Nonce: ${_e.nonce}`;it.push(ot);const ct=`Issued At: ${_e.issued_at}`;it.push(ct);const ut=`Expiration Time: ${_e.expiration_time}`;if(it.push(ut),_e.invalid_before){const yt=`Not Before: ${_e.invalid_before}`;it.push(yt)}_e.resources&&it.push(["Resources:",..._e.resources.map(yt=>`- ${yt}`)].join(`
`));const ft=it.join(`
`);return[nt,ft].join(`
`)}}function _checkPrivateRedeclaration$1(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec$1(et,_e,tt){_checkPrivateRedeclaration$1(et,_e),_e.set(et,tt)}function _classApplyDescriptorGet$1(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor$1(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet$1(et,_e){var tt=_classExtractFieldDescriptor$1(et,_e,"get");return _classApplyDescriptorGet$1(et,tt)}function _classApplyDescriptorSet$1(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet$1(et,_e,tt){var rt=_classExtractFieldDescriptor$1(et,_e,"set");return _classApplyDescriptorSet$1(et,rt,tt),tt}const arbitrum={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}},arbitrumGoerli={id:421613,name:"Arbitrum Goerli",network:"arbitrum-goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-goerli.g.alchemy.com/v2"],webSocket:["wss://arb-goerli.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-goerli.infura.io/v3"],webSocket:["wss://arbitrum-goerli.infura.io/ws/v3"]},default:{http:["https://goerli-rollup.arbitrum.io/rpc"]},public:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://goerli.arbiscan.io/"},default:{name:"Arbiscan",url:"https://goerli.arbiscan.io/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114}},testnet:!0},avalanche={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}},avalancheFuji={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0},bsc={id:56,name:"BNB Smart Chain",network:"bsc",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]},public:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}},bscTestnet={id:97,name:"Binance Smart Chain Testnet",network:"bsc-testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://bsc-testnet.public.blastapi.io"]},public:{http:["https://bsc-testnet.public.blastapi.io"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://testnet.bscscan.com"},default:{name:"BscScan",url:"https://testnet.bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0},fantom={id:250,name:"Fantom",network:"fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.ankr.com/fantom"]},public:{http:["https://rpc.ankr.com/fantom"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://ftmscan.com"},default:{name:"FTMScan",url:"https://ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}},fantomTestnet={id:4002,name:"Fantom Testnet",network:"fantom-testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.testnet.fantom.network"]},public:{http:["https://rpc.testnet.fantom.network"]}},blockExplorers:{etherscan:{name:"FTMScan",url:"https://testnet.ftmscan.com"},default:{name:"FTMScan",url:"https://testnet.ftmscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8328688}}},goerli={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},mainnet={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},optimism={id:10,name:"Optimism",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Etherscan",url:"https://optimistic.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263}}},optimismGoerli={id:420,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://opt-goerli.g.alchemy.com/v2"],webSocket:["wss://opt-goerli.g.alchemy.com/v2"]},infura:{http:["https://optimism-goerli.infura.io/v3"],webSocket:["wss://optimism-goerli.infura.io/ws/v3"]},default:{http:["https://goerli.optimism.io"]},public:{http:["https://goerli.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"},default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461}},testnet:!0},polygon={id:137,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}},polygonMumbai={id:80001,name:"Polygon Mumbai",network:"maticmum",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:{http:["https://polygon-mumbai.g.alchemy.com/v2"],webSocket:["wss://polygon-mumbai.g.alchemy.com/v2"]},infura:{http:["https://polygon-mumbai.infura.io/v3"],webSocket:["wss://polygon-mumbai.infura.io/ws/v3"]},default:{http:["https://matic-mumbai.chainstacklabs.com"]},public:{http:["https://matic-mumbai.chainstacklabs.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"},default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},testnet:!0};let ChainId;(function(et){et[et.Mainnet=1]="Mainnet",et[et.Goerli=5]="Goerli",et[et.Polygon=137]="Polygon",et[et.Mumbai=80001]="Mumbai",et[et.Fantom=250]="Fantom",et[et.FantomTestnet=4002]="FantomTestnet",et[et.Avalanche=43114]="Avalanche",et[et.AvalancheFujiTestnet=43113]="AvalancheFujiTestnet",et[et.Optimism=10]="Optimism",et[et.OptimismGoerli=420]="OptimismGoerli",et[et.Arbitrum=42161]="Arbitrum",et[et.ArbitrumGoerli=421613]="ArbitrumGoerli",et[et.BinanceSmartChainMainnet=56]="BinanceSmartChainMainnet",et[et.BinanceSmartChainTestnet=97]="BinanceSmartChainTestnet"})(ChainId||(ChainId={}));ChainId.Mainnet,ChainId.Goerli,ChainId.Polygon,ChainId.Mumbai,ChainId.Fantom,ChainId.FantomTestnet,ChainId.Avalanche,ChainId.AvalancheFujiTestnet,ChainId.Optimism,ChainId.OptimismGoerli,ChainId.Arbitrum,ChainId.ArbitrumGoerli,ChainId.BinanceSmartChainMainnet,ChainId.BinanceSmartChainTestnet;const DEFAULT_API_KEY="c6634ad2d97b74baf15ff556016830c251050e6c36b9da508ce3ec80095d3dc1";function getRpcNameFromChainId(et){switch(et){case ChainId.Mainnet:return"mainnet";case ChainId.Goerli:return"goerli";case ChainId.Polygon:return"polygon";case ChainId.Mumbai:return"mumbai";case ChainId.Avalanche:return"avalanche";case ChainId.AvalancheFujiTestnet:return"avalanche-fuji";case ChainId.Fantom:return"fantom";case ChainId.FantomTestnet:return"fantom-testnet";case ChainId.Arbitrum:return"arbitrum";case ChainId.ArbitrumGoerli:return"arbitrum-goerli";case ChainId.Optimism:return"optimism";case ChainId.OptimismGoerli:return"optimism-goerli";case ChainId.BinanceSmartChainMainnet:return"bsc";case ChainId.BinanceSmartChainTestnet:return"bsc-testnet";default:throw new Error("Unsupported chain id")}}function getRpcUrl$1(et){return`https://${getRpcNameFromChainId(et)}.rpc.thirdweb.com/${DEFAULT_API_KEY}`}function enhanceChain(et){var tt;const _e=getRpcUrl$1(et.id);return{...et,rpcUrls:{...et.rpcUrls,default:{...et.rpcUrls.default,http:[_e,...et.rpcUrls.default.http]},public:{...et.rpcUrls.public,http:[_e,...((tt=et.rpcUrls.public)==null?void 0:tt.http)||[]]}}}}const supportedChains={[ChainId.Mainnet]:enhanceChain(mainnet),[ChainId.Goerli]:enhanceChain(goerli),[ChainId.Polygon]:enhanceChain(polygon),[ChainId.Mumbai]:enhanceChain(polygonMumbai),[ChainId.Avalanche]:enhanceChain(avalanche),[ChainId.AvalancheFujiTestnet]:enhanceChain(avalancheFuji),[ChainId.Fantom]:enhanceChain(fantom),[ChainId.FantomTestnet]:enhanceChain(fantomTestnet),[ChainId.Arbitrum]:enhanceChain(arbitrum),[ChainId.ArbitrumGoerli]:enhanceChain(arbitrumGoerli),[ChainId.Optimism]:enhanceChain(optimism),[ChainId.OptimismGoerli]:enhanceChain(optimismGoerli),[ChainId.BinanceSmartChainMainnet]:enhanceChain(bsc),[ChainId.BinanceSmartChainTestnet]:enhanceChain(bscTestnet)};Object.values(supportedChains);const EIP1271_ABI=["function isValidSignature(bytes32 _message, bytes _signature) public view returns (bytes4)"],EIP1271_MAGICVALUE="0x1626ba7e",checkContractWalletSignature=async(et,_e,tt,rt)=>{var ct;const nt=(ct=supportedChains[rt])==null?void 0:ct.rpcUrls.default.http[0];if(!nt)return!1;const it=new JsonRpcProvider$1(nt),at=new Contract(tt,EIP1271_ABI,it),ot=hashMessage(et);try{return await at.isValidSignature(ot,_e)===EIP1271_MAGICVALUE}catch{return!1}};var _signer=new WeakMap;class SignerWallet{constructor(_e){_defineProperty$1(this,"type","evm"),_classPrivateFieldInitSpec$1(this,_signer,{writable:!0,value:void 0}),_classPrivateFieldSet$1(this,_signer,_e)}async getAddress(){return _classPrivateFieldGet$1(this,_signer).getAddress()}async getChainId(){return _classPrivateFieldGet$1(this,_signer).getChainId()}async signMessage(_e){return await _classPrivateFieldGet$1(this,_signer).signMessage(_e)}async verifySignature(_e,tt,rt,nt){const it=hashMessage(_e),at=arrayify(it);if(recoverAddress(at,tt)===rt)return!0;if(nt!==void 0)try{return await checkContractWalletSignature(_e,tt,rt,nt||1)}catch{}return!1}}const chain$2={mainnet:{id:ChainId$1.Mainnet,name:"Ethereum Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.Mainnet],rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},goerli:{id:ChainId$1.Goerli,name:"Goerli",nativeCurrency:NATIVE_TOKENS[ChainId$1.Goerli],rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},polygonMainnet:{id:ChainId$1.Polygon,name:"Polygon Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.Polygon],rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:ChainId$1.Mumbai,name:"Mumbai",nativeCurrency:NATIVE_TOKENS[ChainId$1.Mumbai],rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}],testnet:!0},avalanche:{id:ChainId$1.Avalanche,name:"Avalanche",nativeCurrency:NATIVE_TOKENS[ChainId$1.Avalanche],rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://rpc.ankr.com/avalanche"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io/"}],testnet:!1},avalancheFujiTestnet:{id:ChainId$1.AvalancheFujiTestnet,name:"Avalanche Fuji Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.AvalancheFujiTestnet],rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io/"}],testnet:!0},fantom:{id:ChainId$1.Fantom,name:"Fantom Opera",nativeCurrency:NATIVE_TOKENS[ChainId$1.Fantom],rpcUrls:["https://rpc.ftm.tools"],blockExplorers:[{name:"FTMscan",url:"https://ftmscan.com/"}],testnet:!1},fantomTestnet:{id:ChainId$1.FantomTestnet,name:"Fantom Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.FantomTestnet],rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorers:[{name:"FTMscan",url:"https://testnet.ftmscan.com/"}],testnet:!0},optimism:{id:ChainId$1.Optimism,name:"Optimism",nativeCurrency:NATIVE_TOKENS[ChainId$1.Optimism],rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io/"}],testnet:!1},optimismGoerli:{id:ChainId$1.OptimismGoerli,name:"Optimism Goerli Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.OptimismGoerli],rpcUrls:["https://goerli.optimism.io/"],blockExplorers:[{name:"Etherscan",url:"https://goerli-optimism.etherscan.io/"}],testnet:!0},arbitrum:{id:ChainId$1.Arbitrum,name:"Arbitrum One",nativeCurrency:NATIVE_TOKENS[ChainId$1.Arbitrum],rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io/"}],testnet:!1},arbitrumGoerli:{id:ChainId$1.ArbitrumGoerli,name:"Arbitrum Goerli",nativeCurrency:NATIVE_TOKENS[ChainId$1.ArbitrumGoerli],rpcUrls:["https://goerli-rollup.arbitrum.io/rpc/"],blockExplorers:[{name:"Arbitrum Goerli Rollup Explorer",url:"https://goerli-rollup-explorer.arbitrum.io"}],testnet:!0},binanceSmartChainMainnet:{id:ChainId$1.BinanceSmartChainMainnet,name:"Binance Smart Chain Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.BinanceSmartChainMainnet],rpcUrls:["https://bsc-dataseed1.binance.org"],blockExplorers:[{name:"BscScan",url:"https://bscscan.com/"}],testnet:!1},binanceSmartChainTestnet:{id:ChainId$1.BinanceSmartChainTestnet,name:"Binance Smart Chain Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.BinanceSmartChainTestnet],rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545"],blockExplorers:[{name:"BscScan",url:"https://testnet.bscscan.com/"}],testnet:!0}},defaultSupportedChains$1=Object.values(chain$2),ThirdwebConfigContext=react.exports.createContext({rpcUrlMap:DEFAULT_RPC_URLS,supportedChains:defaultSupportedChains$1}),ThirdwebConfigProvider=et=>{let{value:_e,children:tt}=et;return jsx(ThirdwebConfigContext.Provider,{value:_e,children:tt})};function useThirdwebConfigContext(){return react.exports.useContext(ThirdwebConfigContext)}const INITIAL_CONTEXT_VALUE={wallet:void 0,address:void 0,chainId:void 0,signer:void 0},ThirdwebConnectedWalletContext=react.exports.createContext(INITIAL_CONTEXT_VALUE),ThirdwebConnectedWalletProvider=et=>{let{signer:_e,children:tt}=et;const{rpcUrlMap:rt}=useThirdwebConfigContext(),[nt,it]=react.exports.useState({...INITIAL_CONTEXT_VALUE,signer:_e||void 0});return react.exports.useEffect(()=>{it(at=>({...at,signer:_e||void 0}))},[_e]),react.exports.useEffect(()=>{let at=_e;return _e?Promise.all([_e.getAddress(),_e.getChainId()]).then(ot=>{let[ct,ut]=ot;const ft=rt[ut];if(_e===at){const yt=new UserWallet(_e,{readonlySettings:ft?{rpcUrl:ft,chainId:ut}:void 0});it({wallet:yt,address:ct,chainId:ut,signer:_e})}}).catch(ot=>{}):it(INITIAL_CONTEXT_VALUE),()=>{at=void 0}},[_e]),jsx(ThirdwebConnectedWalletContext.Provider,{value:nt,children:tt})};function useThirdwebConnectedWalletContext(){return react.exports.useContext(ThirdwebConnectedWalletContext)}function useSigner$1(){return useThirdwebConnectedWalletContext().signer}const ThirdwebAuthContext=react.exports.createContext(void 0),ThirdwebAuthProvider=et=>{let{value:_e,children:tt}=et;const rt=useSigner$1(),nt=react.exports.useMemo(()=>{if(!_e)return;const it={..._e,authUrl:_e.authUrl.replace(/\/$/,""),auth:void 0};return rt&&(it.auth=new ThirdwebAuth(new SignerWallet(rt),_e.domain)),it},[_e,rt]);return jsx(ThirdwebAuthContext.Provider,{value:nt,children:tt})};function useThirdwebAuthContext(){return react.exports.useContext(ThirdwebAuthContext)}const ThirdwebSDKContext=react.exports.createContext({desiredChainId:-1}),WrappedThirdwebSDKProvider=et=>{let{sdkOptions:_e,desiredChainId:tt,storageInterface:rt,provider:nt,queryClient:it,authConfig:at,children:ot}=et;const{signer:ct}=useThirdwebConnectedWalletContext(),[ut,ft]=react.exports.useState();react.exports.useEffect(()=>{if(!tt||typeof window>"u")return;const bt=new ThirdwebSDK(nt,_e,rt);ct&&bt.updateSignerOrProvider(ct),bt._constructedAt=Date.now(),bt._chainId=tt,ft(bt)},[nt,_e,rt,tt]),react.exports.useEffect(()=>{ut&&ut._chainId===tt&&(ct?ut.updateSignerOrProvider(ct):ut.updateSignerOrProvider(nt))},[ct,ut,tt,nt]);const yt=react.exports.useMemo(()=>({sdk:ut,desiredChainId:tt||-1,_inProvider:!0}),[tt,ut]);return jsx(QueryClientProviderWithDefault,{queryClient:it,children:jsx(ThirdwebAuthProvider,{value:at,children:jsx(ThirdwebSDKContext.Provider,{value:yt,children:ot})})})},ThirdwebSDKProvider=et=>{let{signer:_e,children:tt,...rt}=et;return jsx(ThirdwebConnectedWalletProvider,{signer:_e,children:jsx(WrappedThirdwebSDKProvider,{...rt,children:tt})})};function useSDKContext(){const et=react.exports.useContext(ThirdwebSDKContext);return invariant$2(et._inProvider,"useSDK must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),et}function useSDK(){const{sdk:et}=useSDKContext();return et}function useSDKChainId(){const et=useSDK();return et==null?void 0:et._chainId}const TW_CACHE_KEY_PREFIX="tw-cache";function enforceCachePrefix(et){return[TW_CACHE_KEY_PREFIX,...et.filter(_e=>typeof _e!="string"||_e!==TW_CACHE_KEY_PREFIX)]}function createContractCacheKey(){let et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AddressZero,_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return enforceCachePrefix(["contract",et,..._e])}function createCacheKeyWithNetwork(et,_e){return enforceCachePrefix(cacheKeys.network.active(_e).concat(et))}const cacheKeys={auth:{user:()=>enforceCachePrefix(["user"])},network:{active:et=>enforceCachePrefix(["chainId",et])},wallet:{balance:(et,_e,tt)=>enforceCachePrefix(createCacheKeyWithNetwork(enforceCachePrefix(["balance",{walletAddress:_e,tokenAddress:tt}]),et))},contract:{read:(et,_e)=>createContractCacheKey(et,["read",_e]),type:et=>createContractCacheKey(et,["contract-type"]),compilerMetadata:et=>createContractCacheKey(et,["publish-metadata"]),typeAndCompilerMetadata:et=>createContractCacheKey(et,["contract-type-and-metadata"]),metadata:et=>createContractCacheKey(et,["metadata"]),extractFunctions:et=>createContractCacheKey(et,["extractFunctions"]),call:(et,_e,tt)=>createContractCacheKey(et,["call",_e,tt]),events:{getEvents:(et,_e)=>createContractCacheKey(et,["events","getEvents",{eventName:_e}]),getAllEvents:et=>createContractCacheKey(et,["events","getAllEvents"])},nft:{get:(et,_e)=>createContractCacheKey(et,["get",{tokenId:_e}]),balanceOf:(et,_e,tt)=>createContractCacheKey(et,["balanceOf",{owner:_e,tokenId:tt}]),query:{all:(et,_e)=>createContractCacheKey(et,_e?["query","all",_e]:["query","all"]),totalCirculatingSupply:et=>createContractCacheKey(et,["query","totalCirculatingSupply"]),totalCount:et=>createContractCacheKey(et,["query","totalCount"]),owned:{all:(et,_e)=>createContractCacheKey(et,["query","owned","all",_e])}},drop:{getAllUnclaimed:(et,_e)=>createContractCacheKey(et,_e?["getAllUnclaimed",_e]:["getAllUnclaimed"]),getAllClaimed:(et,_e)=>createContractCacheKey(et,_e?["getAllClaimed",_e]:["getAllClaimed"]),totalUnclaimedSupply:et=>createContractCacheKey(et,["totalUnclaimedSupply"]),totalClaimedSupply:et=>createContractCacheKey(et,["totalClaimedSupply"]),revealer:{getBatchesToReveal:(et,_e)=>createContractCacheKey(et,_e?["getBatchesToReveal",_e]:["getBatchesToReveal"])}}},token:{totalSupply:et=>createContractCacheKey(et,["totalSupply"]),decimals:et=>createContractCacheKey(et,["decimals"]),balanceOf:(et,_e)=>createContractCacheKey(et,["balanceOf",{walletAddress:_e}])},marketplace:{getListing:(et,_e)=>createContractCacheKey(et,["getListing",{listingId:_e}]),getAllListings:(et,_e)=>createContractCacheKey(et,_e?["getAllListings",_e]:["getAllListings"]),getTotalCount:et=>createContractCacheKey(et,["getTotalCount"]),getActiveListings:(et,_e)=>createContractCacheKey(et,_e?["getActiveListings",_e]:["getActiveListings"]),getBidBufferBps:et=>createContractCacheKey(et,["getBidBufferBps"]),auction:{getWinningBid:(et,_e)=>createContractCacheKey(et,["auction","getWinningBid",{listingId:_e}]),getWinner:(et,_e)=>createContractCacheKey(et,["auction","getWinner",{listingId:_e}])},directListings:{getAll:(et,_e)=>createContractCacheKey(et,_e?["getAllDirectListings",_e]:["getAllDirectListings"]),getAllValid:(et,_e)=>createContractCacheKey(et,_e?["getAllValidDirectListings",_e]:["getAllValidDirectListings"]),getListing:(et,_e)=>createContractCacheKey(et,["getListing",{listingId:_e}]),getTotalCount:et=>createContractCacheKey(et,["getTotalDirectListingsCount"])},englishAuctions:{getAll:(et,_e)=>createContractCacheKey(et,_e?["getAllEnglishAuctions",_e]:["getAllEnglishAuctions"]),getAllValid:(et,_e)=>createContractCacheKey(et,_e?["getAllEValidEnglishAuctions",_e]:["getAllEValidEnglishAuctions"]),getAuction:(et,_e)=>createContractCacheKey(et,["getAuction",{auctionId:_e}]),getWinningBid:(et,_e)=>createContractCacheKey(et,["getWinningBid",{auctionId:_e}]),getTotalCount:et=>createContractCacheKey(et,["getTotalEnglishAuctionsCount"])}}},extensions:{claimConditions:{getActive:(et,_e,tt)=>createContractCacheKey(et,_e?["claimConditions","getActive",{tokenId:_e},tt]:["claimConditions","getActive",tt]),getAll:(et,_e,tt)=>createContractCacheKey(et,_e?["claimConditions","getAll",{tokenId:_e},tt]:["claimConditions","getAll",tt]),getClaimerProofs:(et,_e)=>createContractCacheKey(et,_e?["claimConditions","getClaimerProofs",{tokenId:_e}]:["claimConditions","getClaimerProofs"]),getClaimIneligibilityReasons:(et,_e,tt)=>createContractCacheKey(et,tt?["claimConditions","getIneligibilityReasons",{tokenId:tt},_e]:["claimConditions","getIneligibilityReasons",_e]),useActiveClaimConditionForWallet:(et,_e,tt)=>createContractCacheKey(et,tt?["claimConditions","useActiveClaimConditionForWallet",{tokenId:tt,walletAddress:_e},,]:["claimConditions","getIneligibilityReasons",{walletAddress:_e}])},sales:{getRecipient:et=>createContractCacheKey(et,["sales"])},royalties:{getDefaultRoyaltyInfo:et=>createContractCacheKey(et,["royalties"])},platformFees:{get:et=>createContractCacheKey(et,["platformFees"])},metadata:{get:et=>createContractCacheKey(et,["metadata"])},roles:{getAll:et=>createContractCacheKey(et,["roles"]),get:(et,_e)=>createContractCacheKey(et,["roles",{role:_e}])}}};function useQueryWithNetwork(et,_e,tt){const rt=useSDKChainId(),nt={...tt,enabled:!!(rt&&(tt==null?void 0:tt.enabled))};return useQuery(createCacheKeyWithNetwork(et,rt),_e,nt)}function useBalance(et){const _e=useAddress(),{wallet:tt,address:rt,chainId:nt}=useThirdwebConnectedWalletContext(),it=react.exports.useMemo(()=>cacheKeys.wallet.balance(nt||-1,rt,et),[nt,et,rt]);return useQuery(it,()=>tt==null?void 0:tt.balance(et),{enabled:!!tt&&!!_e&&!!nt,retry:!0,keepPreviousData:!1})}function useAddress(){return useThirdwebConnectedWalletContext().address}function useChainId(){return useThirdwebConnectedWalletContext().chainId}async function fetchContractType(et,_e){if(!et||!_e)return null;try{return await _e.resolveContractType(et)}catch(tt){return console.error("failed to resolve contract type",tt),"custom"}}function useContractType(et){const _e=useSDK();return useQueryWithNetwork(cacheKeys.contract.type(et),()=>fetchContractType(et,_e),{cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!_e})}const contractType={cacheKey:(et,_e)=>createCacheKeyWithNetwork(cacheKeys.contract.type(et),_e),useQuery:useContractType,fetchQuery:fetchContractType};function fetchCompilerMetadata(et,_e){if(!et||!_e)return null;try{return _e.getPublisher().fetchCompilerMetadataFromAddress(et)}catch{return null}}function useCompilerMetadata(et){const _e=useSDK();return useQueryWithNetwork(cacheKeys.contract.compilerMetadata(et),()=>fetchCompilerMetadata(et,_e),{cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!_e})}const compilerMetadata={cacheKey:(et,_e)=>createCacheKeyWithNetwork(cacheKeys.contract.compilerMetadata(et),_e),useQuery:useCompilerMetadata,fetchQuery:fetchCompilerMetadata};function useContract(et,_e){const tt=useSDK(),rt=useQueryClient(),nt=useSDKChainId(),it=useAddress(),at=useChainId(),ot=tt==null?void 0:tt._constructedAt,ct=useQueryWithNetwork(neverPersist(["contract-instance",et,{wallet:it,walletChainId:at,sdkTimestamp:ot}]),async()=>{var ut;if(requiredParamInvariant(et,"contract address is required"),invariant$2(tt,"SDK not initialized"),invariant$2(nt,"active chain id is required"),!_e||_e==="custom"){const ft=await rt.fetchQuery(contractType.cacheKey(et,nt),()=>contractType.fetchQuery(et,tt),{cacheTime:1/0,staleTime:1/0});let yt;return ft==="custom"&&(yt=(ut=await rt.fetchQuery(compilerMetadata.cacheKey(et,nt),()=>compilerMetadata.fetchQuery(et,tt),{cacheTime:1/0,staleTime:1/0,retry:0}))==null?void 0:ut.abi),invariant$2(ft,"failed to resolve contract type"),tt.getContract(et,yt||ft)}return tt.getContract(et,_e)},{keepPreviousData:!0,cacheTime:1/0,staleTime:1/0,enabled:!!et&&!!tt&&!!nt,retry:0});return{...ct,data:ct.data,contract:ct.data}}function getErcs(et){return{erc1155:getErc1155(et),erc721:getErc721(et),erc20:getErc20(et)}}function getErc1155(et){if(!!et)try{if("erc1155"in et)return et.erc1155}catch{return}}function getErc721(et){if(!!et)try{if("erc721"in et)return et.erc721}catch{return}}function getErc20(et){if(!!et)try{if("erc20"in et)return et.erc20}catch{return}}function useNFTBalance(et,_e,tt){const rt=et==null?void 0:et.getAddress(),{erc721:nt,erc1155:it}=getErcs(et);return useQueryWithNetwork(cacheKeys.contract.nft.balanceOf(rt,_e,tt),()=>{if(requiredParamInvariant(et,"No Contract instance provided"),invariant$2(_e,"No owner wallet address provided"),it)return requiredParamInvariant(tt,"No tokenId provided"),invariant$2(it.balanceOf,"Contract instance does not support balanceOf"),it.balanceOf(_e,tt);if(nt)return invariant$2(nt.balanceOf,"Contract instance does not support balanceOf"),nt.balanceOf(_e);invariant$2(!1,"Unknown NFT type")},{enabled:!!nt||!!it&&!!_e})}function useLogin(){const et=useQueryClient(),_e=useThirdwebAuthContext(),tt=useMutation({mutationFn:async rt=>{invariant$2(_e,"Please specify an authConfig in the ThirdwebProvider"),invariant$2(_e.auth,"You need a connected wallet to login.");const nt=await _e.auth.login(rt),it=await fetch(`${_e.authUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:nt})});if(!it.ok){const at=await it.json();throw at.error?new Error(at.error):new Error(`Login request failed with status code ${it.status}`)}et.invalidateQueries(cacheKeys.auth.user())}});return{login:rt=>tt.mutateAsync(rt),isLoading:tt.isLoading}}function useLogout(){const et=useQueryClient(),_e=useThirdwebAuthContext(),tt=useMutation({mutationFn:async()=>{invariant$2(_e,"Please specify an authConfig in the ThirdwebProvider"),await fetch(`${_e.authUrl}/logout`,{method:"POST"}),et.invalidateQueries(cacheKeys.auth.user())}});return{logout:tt.mutateAsync,isLoading:tt.isLoading}}function useUser(){const et=useThirdwebAuthContext(),{data:_e,isLoading:tt}=useQuery(cacheKeys.auth.user(),async()=>(invariant$2(et,"Please specify an authConfig in the ThirdwebProvider"),await(await fetch(`${et.authUrl}/user`,{credentials:"include"})).json()),{enabled:!!et});return{user:_e,isLoggedIn:!!_e,isLoading:tt}}var eventemitter3={exports:{}};(function(et){var _e=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ct,ut,ft){this.fn=ct,this.context=ut,this.once=ft||!1}function it(ct,ut,ft,yt,bt){if(typeof ft!="function")throw new TypeError("The listener must be a function");var Et=new nt(ft,yt||ct,bt),Ct=tt?tt+ut:ut;return ct._events[Ct]?ct._events[Ct].fn?ct._events[Ct]=[ct._events[Ct],Et]:ct._events[Ct].push(Et):(ct._events[Ct]=Et,ct._eventsCount++),ct}function at(ct,ut){--ct._eventsCount===0?ct._events=new rt:delete ct._events[ut]}function ot(){this._events=new rt,this._eventsCount=0}ot.prototype.eventNames=function(){var ut=[],ft,yt;if(this._eventsCount===0)return ut;for(yt in ft=this._events)_e.call(ft,yt)&&ut.push(tt?yt.slice(1):yt);return Object.getOwnPropertySymbols?ut.concat(Object.getOwnPropertySymbols(ft)):ut},ot.prototype.listeners=function(ut){var ft=tt?tt+ut:ut,yt=this._events[ft];if(!yt)return[];if(yt.fn)return[yt.fn];for(var bt=0,Et=yt.length,Ct=new Array(Et);bt<Et;bt++)Ct[bt]=yt[bt].fn;return Ct},ot.prototype.listenerCount=function(ut){var ft=tt?tt+ut:ut,yt=this._events[ft];return yt?yt.fn?1:yt.length:0},ot.prototype.emit=function(ut,ft,yt,bt,Et,Ct){var At=tt?tt+ut:ut;if(!this._events[At])return!1;var St=this._events[At],Tt=arguments.length,$t,kt;if(St.fn){switch(St.once&&this.removeListener(ut,St.fn,void 0,!0),Tt){case 1:return St.fn.call(St.context),!0;case 2:return St.fn.call(St.context,ft),!0;case 3:return St.fn.call(St.context,ft,yt),!0;case 4:return St.fn.call(St.context,ft,yt,bt),!0;case 5:return St.fn.call(St.context,ft,yt,bt,Et),!0;case 6:return St.fn.call(St.context,ft,yt,bt,Et,Ct),!0}for(kt=1,$t=new Array(Tt-1);kt<Tt;kt++)$t[kt-1]=arguments[kt];St.fn.apply(St.context,$t)}else{var Pt=St.length,Ot;for(kt=0;kt<Pt;kt++)switch(St[kt].once&&this.removeListener(ut,St[kt].fn,void 0,!0),Tt){case 1:St[kt].fn.call(St[kt].context);break;case 2:St[kt].fn.call(St[kt].context,ft);break;case 3:St[kt].fn.call(St[kt].context,ft,yt);break;case 4:St[kt].fn.call(St[kt].context,ft,yt,bt);break;default:if(!$t)for(Ot=1,$t=new Array(Tt-1);Ot<Tt;Ot++)$t[Ot-1]=arguments[Ot];St[kt].fn.apply(St[kt].context,$t)}}return!0},ot.prototype.on=function(ut,ft,yt){return it(this,ut,ft,yt,!1)},ot.prototype.once=function(ut,ft,yt){return it(this,ut,ft,yt,!0)},ot.prototype.removeListener=function(ut,ft,yt,bt){var Et=tt?tt+ut:ut;if(!this._events[Et])return this;if(!ft)return at(this,Et),this;var Ct=this._events[Et];if(Ct.fn)Ct.fn===ft&&(!bt||Ct.once)&&(!yt||Ct.context===yt)&&at(this,Et);else{for(var At=0,St=[],Tt=Ct.length;At<Tt;At++)(Ct[At].fn!==ft||bt&&!Ct[At].once||yt&&Ct[At].context!==yt)&&St.push(Ct[At]);St.length?this._events[Et]=St.length===1?St[0]:St:at(this,Et)}return this},ot.prototype.removeAllListeners=function(ut){var ft;return ut?(ft=tt?tt+ut:ut,this._events[ft]&&at(this,ft)):(this._events=new rt,this._eventsCount=0),this},ot.prototype.off=ot.prototype.removeListener,ot.prototype.addListener=ot.prototype.on,ot.prefixed=tt,ot.EventEmitter=ot,et.exports=ot})(eventemitter3);const EventEmitter$2=eventemitter3.exports;function _checkPrivateRedeclaration(et,_e){if(_e.has(et))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldInitSpec(et,_e,tt){_checkPrivateRedeclaration(et,_e),_e.set(et,tt)}function _defineProperty(et,_e,tt){return _e in et?Object.defineProperty(et,_e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[_e]=tt,et}function _classApplyDescriptorGet(et,_e){return _e.get?_e.get.call(et):_e.value}function _classExtractFieldDescriptor(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to "+tt+" private field on non-instance");return _e.get(et)}function _classPrivateFieldGet(et,_e){var tt=_classExtractFieldDescriptor(et,_e,"get");return _classApplyDescriptorGet(et,tt)}function _classApplyDescriptorSet(et,_e,tt){if(_e.set)_e.set.call(et,tt);else{if(!_e.writable)throw new TypeError("attempted to set read only private field");_e.value=tt}}function _classPrivateFieldSet(et,_e,tt){var rt=_classExtractFieldDescriptor(et,_e,"set");return _classApplyDescriptorSet(et,rt,tt),tt}const chain$1={mainnet:{id:1,name:"Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},ropsten:{id:3,name:"Ropsten",nativeCurrency:{name:"Ropsten Ether",symbol:"ropETH",decimals:18},rpcUrls:["https://ropsten.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://ropsten.etherscan.io"}],testnet:!0},rinkeby:{id:4,name:"Rinkeby",nativeCurrency:{name:"Rinkeby Ether",symbol:"rETH",decimals:18},rpcUrls:["https://rinkeby.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://rinkeby.etherscan.io"}],testnet:!0},gnosis:{id:100,name:"Gnosis Chain",nativeCurrency:{name:"xDai",symbol:"xDAI",decimals:18},rpcUrls:["https://rpc.gnosischain.com"],blockExplorers:[{name:"Blockscout",url:"https://blockscout.com"}]},goerli:{id:5,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"gETH",decimals:18},rpcUrls:["https://goerli.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},kovan:{id:42,name:"Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"kETH",decimals:18},rpcUrls:["https://kovan.infura.io/v3"],blockExplorers:[{name:"Etherscan",url:"https://kovan.etherscan.io"}],testnet:!0},optimism:{id:10,name:"Optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io"}]},optimismKovan:{id:69,name:"Optimism Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"KOR",decimals:18},rpcUrls:["https://kovan.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://kovan-optimistic.etherscan.io"}],testnet:!0},polygonMainnet:{id:137,name:"Polygon Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:80001,name:"Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://mumbai.polygonscan.com"}],testnet:!0},arbitrumOne:{id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"AETH",decimals:18},rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io"},{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io"}]},arbitrumRinkeby:{id:421611,name:"Arbitrum Rinkeby",nativeCurrency:{name:"Arbitrum Rinkeby Ether",symbol:"ARETH",decimals:18},rpcUrls:["https://rinkeby.arbitrum.io/rpc"],blockExplorers:[{name:"Arbitrum Explorer",url:"https://rinkeby-explorer.arbitrum.io"}],testnet:!0},avalanche:{id:43114,name:"Avalanche Mainnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io"}],testnet:!1},avalancheFuji:{id:43113,name:"Avalanche Fuji Testnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io"}],testnet:!0},localhost:{id:1337,name:"Localhost",rpcUrls:["https://127.0.0.1:8545"]},hardhat:{id:31337,name:"Hardhat",rpcUrls:["http://127.0.0.1:8545"]}},allChains=Object.values(chain$1),defaultChains=[chain$1.mainnet,chain$1.ropsten,chain$1.rinkeby,chain$1.goerli,chain$1.kovan];chain$1.gnosis,chain$1.optimism,chain$1.optimismKovan,chain$1.polygonMainnet,chain$1.polygonTestnetMumbai,chain$1.arbitrumOne,chain$1.arbitrumRinkeby;chain$1.localhost,chain$1.hardhat;const normalizeChainId=et=>typeof et=="string"?Number.parseInt(et,et.trim().substring(0,2)==="0x"?16:10):et;class AddChainError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","AddChainError"),_defineProperty(this,"message","Error adding chain")}}class ChainNotConfiguredError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","ChainNotConfigured"),_defineProperty(this,"message","Chain not configured")}}class ConnectorAlreadyConnectedError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","ConnectorAlreadyConnectedError"),_defineProperty(this,"message","Connector already connected")}}class ConnectorNotFoundError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","ConnectorNotFoundError"),_defineProperty(this,"message","Connector not found")}}class SwitchChainError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","SwitchChainError"),_defineProperty(this,"message","Error switching chain")}}class UserRejectedRequestError extends Error{constructor(){super(...arguments),_defineProperty(this,"name","UserRejectedRequestError"),_defineProperty(this,"message","User rejected request")}}class Connector$1 extends EventEmitter$2{constructor(_e){let{chains:tt=defaultChains,options:rt}=_e;super(),_defineProperty(this,"id",void 0),_defineProperty(this,"name",void 0),_defineProperty(this,"chains",void 0),_defineProperty(this,"options",void 0),_defineProperty(this,"ready",void 0),this.chains=tt,this.options=rt}isChainUnsupported(_e){return!this.chains.some(tt=>tt.id===_e)}}var utils$6={};const require$$0$3=getAugmentedNamespace(lib_esm$b),require$$1$1=getAugmentedNamespace(lib_esm$f),require$$2$2=getAugmentedNamespace(lib_esm$d),require$$3$2=getAugmentedNamespace(lib_esm$8),require$$4=getAugmentedNamespace(lib_esm$j),require$$5=getAugmentedNamespace(lib_esm$c),require$$6$1=getAugmentedNamespace(lib_esm$6),require$$7=getAugmentedNamespace(lib_esm$4),require$$8=getAugmentedNamespace(lib_esm$h),require$$9=getAugmentedNamespace(lib_esm$k),require$$10=getAugmentedNamespace(lib_esm$7),require$$11=getAugmentedNamespace(lib_esm$1),require$$12=getAugmentedNamespace(lib_esm$5),require$$13=getAugmentedNamespace(lib_esm$i),require$$14=getAugmentedNamespace(lib_esm$g),require$$15=getAugmentedNamespace(lib_esm$a),require$$16=getAugmentedNamespace(lib_esm$e),require$$17=getAugmentedNamespace(lib_esm$9),require$$18=getAugmentedNamespace(lib_esm),require$$19=getAugmentedNamespace(lib_esm$3),require$$20=getAugmentedNamespace(lib_esm$2);(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Rt,Nt,ht,st){st===void 0&&(st=ht),Object.defineProperty(Rt,st,{enumerable:!0,get:function(){return Nt[ht]}})}:function(Rt,Nt,ht,st){st===void 0&&(st=ht),Rt[st]=Nt[ht]}),tt=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Rt,Nt){Object.defineProperty(Rt,"default",{enumerable:!0,value:Nt})}:function(Rt,Nt){Rt.default=Nt}),rt=commonjsGlobal&&commonjsGlobal.__importStar||function(Rt){if(Rt&&Rt.__esModule)return Rt;var Nt={};if(Rt!=null)for(var ht in Rt)ht!=="default"&&Object.prototype.hasOwnProperty.call(Rt,ht)&&_e(Nt,Rt,ht);return tt(Nt,Rt),Nt};Object.defineProperty(et,"__esModule",{value:!0}),et.formatBytes32String=et.Utf8ErrorFuncs=et.toUtf8String=et.toUtf8CodePoints=et.toUtf8Bytes=et._toEscapedUtf8String=et.nameprep=et.hexDataSlice=et.hexDataLength=et.hexZeroPad=et.hexValue=et.hexStripZeros=et.hexConcat=et.isHexString=et.hexlify=et.base64=et.base58=et.TransactionDescription=et.LogDescription=et.Interface=et.SigningKey=et.HDNode=et.defaultPath=et.isBytesLike=et.isBytes=et.zeroPad=et.stripZeros=et.concat=et.arrayify=et.shallowCopy=et.resolveProperties=et.getStatic=et.defineReadOnly=et.deepCopy=et.checkProperties=et.poll=et.fetchJson=et._fetchData=et.RLP=et.Logger=et.checkResultErrors=et.FormatTypes=et.ParamType=et.FunctionFragment=et.EventFragment=et.ErrorFragment=et.ConstructorFragment=et.Fragment=et.defaultAbiCoder=et.AbiCoder=void 0,et.Indexed=et.Utf8ErrorReason=et.UnicodeNormalizationForm=et.SupportedAlgorithm=et.mnemonicToSeed=et.isValidMnemonic=et.entropyToMnemonic=et.mnemonicToEntropy=et.getAccountPath=et.verifyTypedData=et.verifyMessage=et.recoverPublicKey=et.computePublicKey=et.recoverAddress=et.computeAddress=et.getJsonWalletAddress=et.TransactionTypes=et.serializeTransaction=et.parseTransaction=et.accessListify=et.joinSignature=et.splitSignature=et.soliditySha256=et.solidityKeccak256=et.solidityPack=et.shuffled=et.randomBytes=et.sha512=et.sha256=et.ripemd160=et.keccak256=et.computeHmac=et.commify=et.parseUnits=et.formatUnits=et.parseEther=et.formatEther=et.isAddress=et.getCreate2Address=et.getContractAddress=et.getIcapAddress=et.getAddress=et._TypedDataEncoder=et.id=et.isValidName=et.namehash=et.hashMessage=et.dnsEncode=et.parseBytes32String=void 0;var nt=require$$0$3;Object.defineProperty(et,"AbiCoder",{enumerable:!0,get:function(){return nt.AbiCoder}}),Object.defineProperty(et,"checkResultErrors",{enumerable:!0,get:function(){return nt.checkResultErrors}}),Object.defineProperty(et,"ConstructorFragment",{enumerable:!0,get:function(){return nt.ConstructorFragment}}),Object.defineProperty(et,"defaultAbiCoder",{enumerable:!0,get:function(){return nt.defaultAbiCoder}}),Object.defineProperty(et,"ErrorFragment",{enumerable:!0,get:function(){return nt.ErrorFragment}}),Object.defineProperty(et,"EventFragment",{enumerable:!0,get:function(){return nt.EventFragment}}),Object.defineProperty(et,"FormatTypes",{enumerable:!0,get:function(){return nt.FormatTypes}}),Object.defineProperty(et,"Fragment",{enumerable:!0,get:function(){return nt.Fragment}}),Object.defineProperty(et,"FunctionFragment",{enumerable:!0,get:function(){return nt.FunctionFragment}}),Object.defineProperty(et,"Indexed",{enumerable:!0,get:function(){return nt.Indexed}}),Object.defineProperty(et,"Interface",{enumerable:!0,get:function(){return nt.Interface}}),Object.defineProperty(et,"LogDescription",{enumerable:!0,get:function(){return nt.LogDescription}}),Object.defineProperty(et,"ParamType",{enumerable:!0,get:function(){return nt.ParamType}}),Object.defineProperty(et,"TransactionDescription",{enumerable:!0,get:function(){return nt.TransactionDescription}});var it=require$$1$1;Object.defineProperty(et,"getAddress",{enumerable:!0,get:function(){return it.getAddress}}),Object.defineProperty(et,"getCreate2Address",{enumerable:!0,get:function(){return it.getCreate2Address}}),Object.defineProperty(et,"getContractAddress",{enumerable:!0,get:function(){return it.getContractAddress}}),Object.defineProperty(et,"getIcapAddress",{enumerable:!0,get:function(){return it.getIcapAddress}}),Object.defineProperty(et,"isAddress",{enumerable:!0,get:function(){return it.isAddress}});var at=rt(require$$2$2);et.base64=at;var ot=require$$3$2;Object.defineProperty(et,"base58",{enumerable:!0,get:function(){return ot.Base58}});var ct=require$$4;Object.defineProperty(et,"arrayify",{enumerable:!0,get:function(){return ct.arrayify}}),Object.defineProperty(et,"concat",{enumerable:!0,get:function(){return ct.concat}}),Object.defineProperty(et,"hexConcat",{enumerable:!0,get:function(){return ct.hexConcat}}),Object.defineProperty(et,"hexDataSlice",{enumerable:!0,get:function(){return ct.hexDataSlice}}),Object.defineProperty(et,"hexDataLength",{enumerable:!0,get:function(){return ct.hexDataLength}}),Object.defineProperty(et,"hexlify",{enumerable:!0,get:function(){return ct.hexlify}}),Object.defineProperty(et,"hexStripZeros",{enumerable:!0,get:function(){return ct.hexStripZeros}}),Object.defineProperty(et,"hexValue",{enumerable:!0,get:function(){return ct.hexValue}}),Object.defineProperty(et,"hexZeroPad",{enumerable:!0,get:function(){return ct.hexZeroPad}}),Object.defineProperty(et,"isBytes",{enumerable:!0,get:function(){return ct.isBytes}}),Object.defineProperty(et,"isBytesLike",{enumerable:!0,get:function(){return ct.isBytesLike}}),Object.defineProperty(et,"isHexString",{enumerable:!0,get:function(){return ct.isHexString}}),Object.defineProperty(et,"joinSignature",{enumerable:!0,get:function(){return ct.joinSignature}}),Object.defineProperty(et,"zeroPad",{enumerable:!0,get:function(){return ct.zeroPad}}),Object.defineProperty(et,"splitSignature",{enumerable:!0,get:function(){return ct.splitSignature}}),Object.defineProperty(et,"stripZeros",{enumerable:!0,get:function(){return ct.stripZeros}});var ut=require$$5;Object.defineProperty(et,"_TypedDataEncoder",{enumerable:!0,get:function(){return ut._TypedDataEncoder}}),Object.defineProperty(et,"dnsEncode",{enumerable:!0,get:function(){return ut.dnsEncode}}),Object.defineProperty(et,"hashMessage",{enumerable:!0,get:function(){return ut.hashMessage}}),Object.defineProperty(et,"id",{enumerable:!0,get:function(){return ut.id}}),Object.defineProperty(et,"isValidName",{enumerable:!0,get:function(){return ut.isValidName}}),Object.defineProperty(et,"namehash",{enumerable:!0,get:function(){return ut.namehash}});var ft=require$$6$1;Object.defineProperty(et,"defaultPath",{enumerable:!0,get:function(){return ft.defaultPath}}),Object.defineProperty(et,"entropyToMnemonic",{enumerable:!0,get:function(){return ft.entropyToMnemonic}}),Object.defineProperty(et,"getAccountPath",{enumerable:!0,get:function(){return ft.getAccountPath}}),Object.defineProperty(et,"HDNode",{enumerable:!0,get:function(){return ft.HDNode}}),Object.defineProperty(et,"isValidMnemonic",{enumerable:!0,get:function(){return ft.isValidMnemonic}}),Object.defineProperty(et,"mnemonicToEntropy",{enumerable:!0,get:function(){return ft.mnemonicToEntropy}}),Object.defineProperty(et,"mnemonicToSeed",{enumerable:!0,get:function(){return ft.mnemonicToSeed}});var yt=require$$7;Object.defineProperty(et,"getJsonWalletAddress",{enumerable:!0,get:function(){return yt.getJsonWalletAddress}});var bt=require$$8;Object.defineProperty(et,"keccak256",{enumerable:!0,get:function(){return bt.keccak256}});var Et=require$$9;Object.defineProperty(et,"Logger",{enumerable:!0,get:function(){return Et.Logger}});var Ct=require$$10;Object.defineProperty(et,"computeHmac",{enumerable:!0,get:function(){return Ct.computeHmac}}),Object.defineProperty(et,"ripemd160",{enumerable:!0,get:function(){return Ct.ripemd160}}),Object.defineProperty(et,"sha256",{enumerable:!0,get:function(){return Ct.sha256}}),Object.defineProperty(et,"sha512",{enumerable:!0,get:function(){return Ct.sha512}});var At=require$$11;Object.defineProperty(et,"solidityKeccak256",{enumerable:!0,get:function(){return At.keccak256}}),Object.defineProperty(et,"solidityPack",{enumerable:!0,get:function(){return At.pack}}),Object.defineProperty(et,"soliditySha256",{enumerable:!0,get:function(){return At.sha256}});var St=require$$12;Object.defineProperty(et,"randomBytes",{enumerable:!0,get:function(){return St.randomBytes}}),Object.defineProperty(et,"shuffled",{enumerable:!0,get:function(){return St.shuffled}});var Tt=require$$13;Object.defineProperty(et,"checkProperties",{enumerable:!0,get:function(){return Tt.checkProperties}}),Object.defineProperty(et,"deepCopy",{enumerable:!0,get:function(){return Tt.deepCopy}}),Object.defineProperty(et,"defineReadOnly",{enumerable:!0,get:function(){return Tt.defineReadOnly}}),Object.defineProperty(et,"getStatic",{enumerable:!0,get:function(){return Tt.getStatic}}),Object.defineProperty(et,"resolveProperties",{enumerable:!0,get:function(){return Tt.resolveProperties}}),Object.defineProperty(et,"shallowCopy",{enumerable:!0,get:function(){return Tt.shallowCopy}});var $t=rt(require$$14);et.RLP=$t;var kt=require$$15;Object.defineProperty(et,"computePublicKey",{enumerable:!0,get:function(){return kt.computePublicKey}}),Object.defineProperty(et,"recoverPublicKey",{enumerable:!0,get:function(){return kt.recoverPublicKey}}),Object.defineProperty(et,"SigningKey",{enumerable:!0,get:function(){return kt.SigningKey}});var Pt=require$$16;Object.defineProperty(et,"formatBytes32String",{enumerable:!0,get:function(){return Pt.formatBytes32String}}),Object.defineProperty(et,"nameprep",{enumerable:!0,get:function(){return Pt.nameprep}}),Object.defineProperty(et,"parseBytes32String",{enumerable:!0,get:function(){return Pt.parseBytes32String}}),Object.defineProperty(et,"_toEscapedUtf8String",{enumerable:!0,get:function(){return Pt._toEscapedUtf8String}}),Object.defineProperty(et,"toUtf8Bytes",{enumerable:!0,get:function(){return Pt.toUtf8Bytes}}),Object.defineProperty(et,"toUtf8CodePoints",{enumerable:!0,get:function(){return Pt.toUtf8CodePoints}}),Object.defineProperty(et,"toUtf8String",{enumerable:!0,get:function(){return Pt.toUtf8String}}),Object.defineProperty(et,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Pt.Utf8ErrorFuncs}});var Ot=require$$17;Object.defineProperty(et,"accessListify",{enumerable:!0,get:function(){return Ot.accessListify}}),Object.defineProperty(et,"computeAddress",{enumerable:!0,get:function(){return Ot.computeAddress}}),Object.defineProperty(et,"parseTransaction",{enumerable:!0,get:function(){return Ot.parse}}),Object.defineProperty(et,"recoverAddress",{enumerable:!0,get:function(){return Ot.recoverAddress}}),Object.defineProperty(et,"serializeTransaction",{enumerable:!0,get:function(){return Ot.serialize}}),Object.defineProperty(et,"TransactionTypes",{enumerable:!0,get:function(){return Ot.TransactionTypes}});var Ht=require$$18;Object.defineProperty(et,"commify",{enumerable:!0,get:function(){return Ht.commify}}),Object.defineProperty(et,"formatEther",{enumerable:!0,get:function(){return Ht.formatEther}}),Object.defineProperty(et,"parseEther",{enumerable:!0,get:function(){return Ht.parseEther}}),Object.defineProperty(et,"formatUnits",{enumerable:!0,get:function(){return Ht.formatUnits}}),Object.defineProperty(et,"parseUnits",{enumerable:!0,get:function(){return Ht.parseUnits}});var qt=require$$19;Object.defineProperty(et,"verifyMessage",{enumerable:!0,get:function(){return qt.verifyMessage}}),Object.defineProperty(et,"verifyTypedData",{enumerable:!0,get:function(){return qt.verifyTypedData}});var Zt=require$$20;Object.defineProperty(et,"_fetchData",{enumerable:!0,get:function(){return Zt._fetchData}}),Object.defineProperty(et,"fetchJson",{enumerable:!0,get:function(){return Zt.fetchJson}}),Object.defineProperty(et,"poll",{enumerable:!0,get:function(){return Zt.poll}});var tr=require$$10;Object.defineProperty(et,"SupportedAlgorithm",{enumerable:!0,get:function(){return tr.SupportedAlgorithm}});var Dt=require$$16;Object.defineProperty(et,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return Dt.UnicodeNormalizationForm}}),Object.defineProperty(et,"Utf8ErrorReason",{enumerable:!0,get:function(){return Dt.Utf8ErrorReason}})})(utils$6);const getInjectedName=et=>et?et.isBraveWallet?"Brave Wallet":et.isMetaMask?"MetaMask":et.isCoinbaseWallet?"Coinbase Wallet":et.isFrame?"Frame":et.isTally?"Tally":"Injected":"Injected",shimKey="wagmi.shimDisconnect";var _provider$2=new WeakMap;class InjectedConnector extends Connector$1{constructor(_e){super({..._e,options:_e==null?void 0:_e.options}),_defineProperty(this,"id","injected"),_defineProperty(this,"name",void 0),_defineProperty(this,"ready",typeof window<"u"&&!!window.ethereum),_classPrivateFieldInitSpec(this,_provider$2,{writable:!0,value:void 0}),_defineProperty(this,"onAccountsChanged",rt=>{rt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(rt[0])})}),_defineProperty(this,"onChainChanged",rt=>{const nt=normalizeChainId(rt),it=this.isChainUnsupported(nt);this.emit("change",{chain:{id:nt,unsupported:it}})}),_defineProperty(this,"onDisconnect",()=>{var rt;this.emit("disconnect"),(rt=this.options)!==null&&rt!==void 0&&rt.shimDisconnect&&typeof localStorage<"u"&&localStorage.removeItem(shimKey)});let tt="Injected";typeof window<"u"&&(tt=getInjectedName(window.ethereum)),this.name=tt}async connect(){try{var _e;const rt=this.getProvider();if(!rt)throw new ConnectorNotFoundError;if(rt.on){var tt;rt.on("accountsChanged",this.onAccountsChanged),rt.on("chainChanged",this.onChainChanged),(tt=this.options)!==null&&tt!==void 0&&tt.shimChainChangedDisconnect||rt.on("disconnect",this.onDisconnect)}const nt=await this.getAccount(),it=await this.getChainId(),at=this.isChainUnsupported(it);return(_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage<"u"&&localStorage.setItem(shimKey,"true"),{account:nt,chain:{id:it,unsupported:at},provider:rt}}catch(rt){throw rt.code===4001?new UserRejectedRequestError:rt}}async disconnect(){var _e;const tt=this.getProvider();!(tt!=null&&tt.removeListener)||(tt.removeListener("accountsChanged",this.onAccountsChanged),tt.removeListener("chainChanged",this.onChainChanged),tt.removeListener("disconnect",this.onDisconnect),(_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage<"u"&&localStorage.removeItem(shimKey))}async getAccount(){const _e=this.getProvider();if(!_e)throw new ConnectorNotFoundError;const tt=await _e.request({method:"eth_requestAccounts"});return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();if(!_e)throw new ConnectorNotFoundError;return await _e.request({method:"eth_chainId"}).then(normalizeChainId)}getProvider(){return typeof window<"u"&&!!window.ethereum&&_classPrivateFieldSet(this,_provider$2,window.ethereum),_classPrivateFieldGet(this,_provider$2)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{var _e;if((_e=this.options)!==null&&_e!==void 0&&_e.shimDisconnect&&typeof localStorage<"u"&&!localStorage.getItem(shimKey))return!1;const tt=this.getProvider();if(!tt)throw new ConnectorNotFoundError;return!!(await tt.request({method:"eth_accounts"}))[0]}catch{return!1}}async switchChain(_e){const tt=this.getProvider();if(!tt)throw new ConnectorNotFoundError;const rt=utils$6.hexValue(_e);try{return await tt.request({method:"wallet_switchEthereumChain",params:[{chainId:rt}]}),[...this.chains,...allChains].find(at=>at.id===_e)}catch(it){if(it.code===4902)try{var nt;const at=this.chains.find(ot=>ot.id===_e);if(!at)throw new ChainNotConfiguredError;return await tt.request({method:"wallet_addEthereumChain",params:[{chainId:rt,chainName:at.name,nativeCurrency:at.nativeCurrency,rpcUrls:at.rpcUrls,blockExplorerUrls:(nt=at.blockExplorers)===null||nt===void 0?void 0:nt.map(ot=>ot.url)}]}),at}catch{throw new AddChainError}else throw it.code===4001?new UserRejectedRequestError:new SwitchChainError}}async watchAsset(_e){let{address:tt,decimals:rt=18,image:nt,symbol:it}=_e;const at=this.getProvider();if(!at)throw new ConnectorNotFoundError;await at.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:tt,decimals:rt,image:nt,symbol:it}}})}}const useProvider=()=>{const{state:et}=useContext();return et.provider},useCacheBuster=()=>useContext().state.cacheBuster,useCancel=()=>{const et=react.exports.useRef(null);return react.exports.useEffect(()=>()=>{var tt;return(tt=et.current)===null||tt===void 0?void 0:tt.call(et)},[]),react.exports.useCallback(tt=>{var rt;(rt=et.current)===null||rt===void 0||rt.call(et),tt&&(et.current=tt)},[])},useLocalStorage=function(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const[tt,rt]=react.exports.useState(()=>{if(typeof localStorage>"u")return _e;const it=localStorage.getItem(et);try{return it?JSON.parse(it):_e}catch(at){return console.warn(at),_e}}),nt=react.exports.useCallback(it=>{if(it!==tt)if(rt(it),it===null?localStorage.removeItem(et):localStorage.setItem(et,JSON.stringify(it)),it===null)localStorage.removeItem(et);else try{localStorage.setItem(et,JSON.stringify(it))}catch(at){console.error(at)}},[tt,rt,et]);return[tt,nt]},initialState$g={loading:!1},useEnsAvatar=function(){let{addressOrName:et,skip:_e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const tt=useCacheBuster(),rt=useProvider(),[nt,it]=react.exports.useState(initialState$g),at=useCancel(),ot=react.exports.useCallback(async ct=>{let ut=!1;at(()=>{ut=!0});try{const ft=ct!=null?ct:{addressOrName:et};if(!ft.addressOrName)throw new Error("addressOrName is required");it(bt=>({...bt,error:void 0,loading:!0}));const yt=await rt.getAvatar(ft.addressOrName);return ut||it(bt=>({...bt,avatar:yt,loading:!1})),yt}catch(ft){const yt=ft;return ut||it(bt=>({...bt,error:yt,loading:!1})),yt}},[et,at,rt]);return react.exports.useEffect(()=>{if(!(_e||!et))return ot({addressOrName:et}),at},[et,tt,at,_e]),[{data:nt.avatar,loading:nt.loading,error:nt.error},ot]},initialState$f={loading:!1},useEnsLookup=function(){let{address:et,skip:_e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const tt=useCacheBuster(),rt=useProvider(),[nt,it]=react.exports.useState(initialState$f),at=useCancel(),ot=react.exports.useCallback(async ct=>{let ut=!1;at(()=>{ut=!0});try{const ft=ct!=null?ct:{address:et};if(!ft.address)throw new Error("address is required");it(bt=>({...bt,error:void 0,loading:!0}));const yt=await rt.lookupAddress(ft.address);return ut||it(bt=>({...bt,ens:yt,loading:!1})),{data:yt,error:void 0}}catch(ft){const yt=ft;return ut||it(bt=>({...bt,error:yt,loading:!1})),{data:void 0,error:yt}}},[et,at,rt]);return react.exports.useEffect(()=>{if(!(_e||!et))return ot({address:et}),at},[et,tt,at,_e]),[{data:nt.ens,loading:nt.loading,error:nt.error},ot]},useAccount=function(){var et;let{fetchEns:_e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{state:tt,setState:rt}=useContext(),nt=(et=tt.data)===null||et===void 0?void 0:et.account,[{data:it,error:at,loading:ot}]=useEnsLookup({address:nt,skip:!_e}),[{data:ct,error:ut,loading:ft}]=useEnsAvatar({addressOrName:it,skip:!_e||!it}),yt=react.exports.useCallback(()=>{rt(Ct=>{var At;return(At=Ct.connector)===null||At===void 0||At.disconnect(),{cacheBuster:Ct.cacheBuster+1}})},[rt]),bt=at||ut,Et=ot||ft;return[{data:nt?{address:nt,connector:tt.connector,ens:it?{avatar:ct,name:it}:void 0}:void 0,error:bt,loading:Et},yt]},initialState$9={loading:!1},useConnect$1=()=>{var et;const{state:_e,setState:tt,setLastUsedConnector:rt}=useContext(),[nt,it]=react.exports.useState(initialState$9),at=useCancel(),ot=react.exports.useCallback(async ct=>{let ut=!1;at(()=>{ut=!0});try{const ft=_e==null?void 0:_e.connector;if(ct===ft)throw new ConnectorAlreadyConnectedError;it(bt=>({...bt,loading:!0,connector:ct,error:void 0}));const yt=await ct.connect();return ut||(tt(bt=>({...bt,connector:ct,data:yt})),rt(ct.name),it(bt=>({...bt,loading:!1}))),{data:yt,error:void 0}}catch(ft){const yt=ft;return ut||it(bt=>({...bt,connector:void 0,error:yt,loading:!1})),{data:void 0,error:yt}}},[at,_e.connector,tt,rt]);return react.exports.useEffect(()=>(it(ct=>({...ct,connector:_e.connector,error:void 0})),at),[at,_e.connector]),[{data:{connected:!!((et=_e.data)!==null&&et!==void 0&&et.account),connector:nt.connector,connectors:_e.connectors},error:nt.error,loading:nt.loading||_e.connecting},ot]},initialState$8={loading:!1},useNetwork$1=()=>{var et,_e,tt;const{state:{connector:rt,data:nt}}=useContext(),[it,at]=react.exports.useState(initialState$8),ot=nt==null||(et=nt.chain)===null||et===void 0?void 0:et.id,ct=nt==null||(_e=nt.chain)===null||_e===void 0?void 0:_e.unsupported,ut=(tt=rt==null?void 0:rt.chains)!==null&&tt!==void 0?tt:[],ft=[...ut,...allChains].find(Et=>Et.id===ot),yt=useCancel(),bt=react.exports.useCallback(async Et=>{let Ct=!1;if(yt(()=>{Ct=!0}),!(rt!=null&&rt.switchChain))return{data:void 0,error:new SwitchChainError};try{at(St=>({...St,error:void 0,loading:!0}));const At=await rt.switchChain(Et);return Ct||at(St=>({...St,loading:!1})),{data:At,error:void 0}}catch(At){const St=At;return Ct||at(Tt=>({...Tt,error:St,loading:!1})),{data:void 0,error:St}}},[yt,rt]);return[{data:{chain:ot?{...ft,id:ot,unsupported:ct}:void 0,chains:ut},error:it.error,loading:it.loading},rt!=null&&rt.switchChain?bt:void 0]},initialState$7={data:void 0,error:void 0,loading:!1},useSigner=function(){let{skip:et}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const _e=useCacheBuster(),{state:{connector:tt}}=useContext(),[rt,nt]=react.exports.useState(initialState$7),it=useCancel(),at=react.exports.useCallback(async()=>{let ot=!1;it(()=>{ot=!0});try{nt(ut=>({...ut,error:void 0,loading:!0}));const ct=await(tt==null?void 0:tt.getSigner());return ot||nt(ut=>({...ut,data:ct,loading:!1})),ct}catch(ct){const ut=ct;ot||nt(ft=>({...ft,data:void 0,error:ut,loading:!1}))}},[it,tt]);return react.exports.useEffect(()=>{if(!et)return at(),it},[_e,tt,it,et]),[rt,at]},Context$1=react.exports.createContext(null),Provider=et=>{var _e,tt,rt,nt,it,at;let{autoConnect:ot=!1,children:ct,connectors:ut=[new InjectedConnector],connectorStorageKey:ft="wagmi.wallet",provider:yt=getDefaultProvider(),webSocketProvider:bt}=et;const[Et,Ct]=useLocalStorage(ft),[At,St]=react.exports.useState({cacheBuster:1,connecting:ot}),Tt=react.exports.useMemo(()=>{var Ot,Ht;return typeof ut!="function"?ut:ut({chainId:(Ot=At.data)===null||Ot===void 0||(Ht=Ot.chain)===null||Ht===void 0?void 0:Ht.id})},[ut,(_e=At.data)===null||_e===void 0||(tt=_e.chain)===null||tt===void 0?void 0:tt.id]),$t=react.exports.useMemo(()=>{var Ot,Ht;return typeof yt!="function"?yt:yt({chainId:(Ot=At.data)===null||Ot===void 0||(Ht=Ot.chain)===null||Ht===void 0?void 0:Ht.id,connector:At.connector})},[yt,(rt=At.data)===null||rt===void 0||(nt=rt.chain)===null||nt===void 0?void 0:nt.id,At.connector]),kt=react.exports.useMemo(()=>{var Ot,Ht;if(!!bt)return typeof bt!="function"?bt:bt({chainId:(Ot=At.data)===null||Ot===void 0||(Ht=Ot.chain)===null||Ht===void 0?void 0:Ht.id,connector:At.connector})},[bt,(it=At.data)===null||it===void 0||(at=it.chain)===null||at===void 0?void 0:at.id,At.connector]);react.exports.useEffect(()=>{!ot||(async()=>{St(Ht=>({...Ht,connecting:!0}));const Ot=Et?[...Tt].sort(Ht=>Ht.name===Et?-1:1):Tt;for(const Ht of Ot){if(!Ht.ready||!Ht.isAuthorized||!await Ht.isAuthorized())continue;const Zt=await Ht.connect();St(tr=>({...tr,connector:Ht,data:Zt}));break}St(Ht=>({...Ht,connecting:!1}))})()},[]),react.exports.useEffect(()=>()=>{!At.connector||At.connector.disconnect()},[At.connector]),react.exports.useEffect(()=>{if(!At.connector)return;const Ot=Zt=>St(tr=>({...tr,cacheBuster:tr.cacheBuster+1,data:{...tr.data,...Zt}})),Ht=()=>St({cacheBuster:1}),qt=Zt=>St(tr=>({...tr,error:Zt}));return At.connector.on("change",Ot),At.connector.on("disconnect",Ht),At.connector.on("error",qt),()=>{!At.connector||(At.connector.off("change",Ot),At.connector.off("disconnect",Ht),At.connector.off("error",qt))}},[At.connector]);const Pt={state:{cacheBuster:At.cacheBuster,connecting:At.connecting,connectors:Tt,connector:At.connector,data:At.data,provider:$t,webSocketProvider:kt},setState:St,setLastUsedConnector:Ct};return react.exports.createElement(Context$1.Provider,{value:Pt},ct)},useContext=()=>{const et=react.exports.useContext(Context$1);if(!et)throw Error("Must be used within Provider");return et};var dist$2={},CoinbaseWalletSDK$1={},ScopedLocalStorage$1={};Object.defineProperty(ScopedLocalStorage$1,"__esModule",{value:!0});ScopedLocalStorage$1.ScopedLocalStorage=void 0;class ScopedLocalStorage{constructor(_e){this.scope=_e}setItem(_e,tt){localStorage.setItem(this.scopedKey(_e),tt)}getItem(_e){return localStorage.getItem(this.scopedKey(_e))}removeItem(_e){localStorage.removeItem(this.scopedKey(_e))}clear(){const _e=this.scopedKey(""),tt=[];for(let rt=0;rt<localStorage.length;rt++){const nt=localStorage.key(rt);typeof nt=="string"&&nt.startsWith(_e)&&tt.push(nt)}tt.forEach(rt=>localStorage.removeItem(rt))}scopedKey(_e){return`${this.scope}:${_e}`}}ScopedLocalStorage$1.ScopedLocalStorage=ScopedLocalStorage;var CoinbaseWalletProvider$1={},safeEventEmitter$1={},events={exports:{}},R$2=typeof Reflect=="object"?Reflect:null,ReflectApply$1=R$2&&typeof R$2.apply=="function"?R$2.apply:function(_e,tt,rt){return Function.prototype.apply.call(_e,tt,rt)},ReflectOwnKeys;R$2&&typeof R$2.ownKeys=="function"?ReflectOwnKeys=R$2.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:ReflectOwnKeys=function(_e){return Object.getOwnPropertyNames(_e)};function ProcessEmitWarning(et){console&&console.warn&&console.warn(et)}var NumberIsNaN=Number.isNaN||function(_e){return _e!==_e};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once$2;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(et){if(typeof et!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof et)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(et){if(typeof et!="number"||et<0||NumberIsNaN(et))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+et+".");defaultMaxListeners=et}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function(_e){if(typeof _e!="number"||_e<0||NumberIsNaN(_e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_e+".");return this._maxListeners=_e,this};function _getMaxListeners(et){return et._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:et._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function(_e){for(var tt=[],rt=1;rt<arguments.length;rt++)tt.push(arguments[rt]);var nt=_e==="error",it=this._events;if(it!==void 0)nt=nt&&it.error===void 0;else if(!nt)return!1;if(nt){var at;if(tt.length>0&&(at=tt[0]),at instanceof Error)throw at;var ot=new Error("Unhandled error."+(at?" ("+at.message+")":""));throw ot.context=at,ot}var ct=it[_e];if(ct===void 0)return!1;if(typeof ct=="function")ReflectApply$1(ct,this,tt);else for(var ut=ct.length,ft=arrayClone$2(ct,ut),rt=0;rt<ut;++rt)ReflectApply$1(ft[rt],this,tt);return!0};function _addListener(et,_e,tt,rt){var nt,it,at;if(checkListener(tt),it=et._events,it===void 0?(it=et._events=Object.create(null),et._eventsCount=0):(it.newListener!==void 0&&(et.emit("newListener",_e,tt.listener?tt.listener:tt),it=et._events),at=it[_e]),at===void 0)at=it[_e]=tt,++et._eventsCount;else if(typeof at=="function"?at=it[_e]=rt?[tt,at]:[at,tt]:rt?at.unshift(tt):at.push(tt),nt=_getMaxListeners(et),nt>0&&at.length>nt&&!at.warned){at.warned=!0;var ot=new Error("Possible EventEmitter memory leak detected. "+at.length+" "+String(_e)+" listeners added. Use emitter.setMaxListeners() to increase limit");ot.name="MaxListenersExceededWarning",ot.emitter=et,ot.type=_e,ot.count=at.length,ProcessEmitWarning(ot)}return et}EventEmitter$1.prototype.addListener=function(_e,tt){return _addListener(this,_e,tt,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function(_e,tt){return _addListener(this,_e,tt,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(et,_e,tt){var rt={fired:!1,wrapFn:void 0,target:et,type:_e,listener:tt},nt=onceWrapper.bind(rt);return nt.listener=tt,rt.wrapFn=nt,nt}EventEmitter$1.prototype.once=function(_e,tt){return checkListener(tt),this.on(_e,_onceWrap(this,_e,tt)),this};EventEmitter$1.prototype.prependOnceListener=function(_e,tt){return checkListener(tt),this.prependListener(_e,_onceWrap(this,_e,tt)),this};EventEmitter$1.prototype.removeListener=function(_e,tt){var rt,nt,it,at,ot;if(checkListener(tt),nt=this._events,nt===void 0)return this;if(rt=nt[_e],rt===void 0)return this;if(rt===tt||rt.listener===tt)--this._eventsCount===0?this._events=Object.create(null):(delete nt[_e],nt.removeListener&&this.emit("removeListener",_e,rt.listener||tt));else if(typeof rt!="function"){for(it=-1,at=rt.length-1;at>=0;at--)if(rt[at]===tt||rt[at].listener===tt){ot=rt[at].listener,it=at;break}if(it<0)return this;it===0?rt.shift():spliceOne(rt,it),rt.length===1&&(nt[_e]=rt[0]),nt.removeListener!==void 0&&this.emit("removeListener",_e,ot||tt)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function(_e){var tt,rt,nt;if(rt=this._events,rt===void 0)return this;if(rt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):rt[_e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete rt[_e]),this;if(arguments.length===0){var it=Object.keys(rt),at;for(nt=0;nt<it.length;++nt)at=it[nt],at!=="removeListener"&&this.removeAllListeners(at);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(tt=rt[_e],typeof tt=="function")this.removeListener(_e,tt);else if(tt!==void 0)for(nt=tt.length-1;nt>=0;nt--)this.removeListener(_e,tt[nt]);return this};function _listeners(et,_e,tt){var rt=et._events;if(rt===void 0)return[];var nt=rt[_e];return nt===void 0?[]:typeof nt=="function"?tt?[nt.listener||nt]:[nt]:tt?unwrapListeners(nt):arrayClone$2(nt,nt.length)}EventEmitter$1.prototype.listeners=function(_e){return _listeners(this,_e,!0)};EventEmitter$1.prototype.rawListeners=function(_e){return _listeners(this,_e,!1)};EventEmitter$1.listenerCount=function(et,_e){return typeof et.listenerCount=="function"?et.listenerCount(_e):listenerCount.call(et,_e)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(et){var _e=this._events;if(_e!==void 0){var tt=_e[et];if(typeof tt=="function")return 1;if(tt!==void 0)return tt.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone$2(et,_e){for(var tt=new Array(_e),rt=0;rt<_e;++rt)tt[rt]=et[rt];return tt}function spliceOne(et,_e){for(;_e+1<et.length;_e++)et[_e]=et[_e+1];et.pop()}function unwrapListeners(et){for(var _e=new Array(et.length),tt=0;tt<_e.length;++tt)_e[tt]=et[tt].listener||et[tt];return _e}function once$2(et,_e){return new Promise(function(tt,rt){function nt(at){et.removeListener(_e,it),rt(at)}function it(){typeof et.removeListener=="function"&&et.removeListener("error",nt),tt([].slice.call(arguments))}eventTargetAgnosticAddListener(et,_e,it,{once:!0}),_e!=="error"&&addErrorHandlerIfEventEmitter(et,nt,{once:!0})})}function addErrorHandlerIfEventEmitter(et,_e,tt){typeof et.on=="function"&&eventTargetAgnosticAddListener(et,"error",_e,tt)}function eventTargetAgnosticAddListener(et,_e,tt,rt){if(typeof et.on=="function")rt.once?et.once(_e,tt):et.on(_e,tt);else if(typeof et.addEventListener=="function")et.addEventListener(_e,function nt(it){rt.once&&et.removeEventListener(_e,nt),tt(it)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof et)}Object.defineProperty(safeEventEmitter$1,"__esModule",{value:!0});const events_1=events.exports;function safeApply$1(et,_e,tt){try{Reflect.apply(et,_e,tt)}catch(rt){setTimeout(()=>{throw rt})}}function arrayClone$1(et){const _e=et.length,tt=new Array(_e);for(let rt=0;rt<_e;rt+=1)tt[rt]=et[rt];return tt}class SafeEventEmitter$4 extends events_1.EventEmitter{emit(_e,...tt){let rt=_e==="error";const nt=this._events;if(nt!==void 0)rt=rt&&nt.error===void 0;else if(!rt)return!1;if(rt){let at;if(tt.length>0&&([at]=tt),at instanceof Error)throw at;const ot=new Error(`Unhandled error.${at?` (${at.message})`:""}`);throw ot.context=at,ot}const it=nt[_e];if(it===void 0)return!1;if(typeof it=="function")safeApply$1(it,this,tt);else{const at=it.length,ot=arrayClone$1(it);for(let ct=0;ct<at;ct+=1)safeApply$1(ot[ct],this,tt)}return!0}}safeEventEmitter$1.default=SafeEventEmitter$4;var bn$1={exports:{}};(function(et){(function(_e,tt){function rt(ht,st){if(!ht)throw new Error(st||"Assertion failed")}function nt(ht,st){ht.super_=st;var dt=function(){};dt.prototype=st.prototype,ht.prototype=new dt,ht.prototype.constructor=ht}function it(ht,st,dt){if(it.isBN(ht))return ht;this.negative=0,this.words=null,this.length=0,this.red=null,ht!==null&&((st==="le"||st==="be")&&(dt=st,st=10),this._init(ht||0,st||10,dt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=require$$0$4.Buffer}catch{}it.isBN=function(st){return st instanceof it?!0:st!==null&&typeof st=="object"&&st.constructor.wordSize===it.wordSize&&Array.isArray(st.words)},it.max=function(st,dt){return st.cmp(dt)>0?st:dt},it.min=function(st,dt){return st.cmp(dt)<0?st:dt},it.prototype._init=function(st,dt,mt){if(typeof st=="number")return this._initNumber(st,dt,mt);if(typeof st=="object")return this._initArray(st,dt,mt);dt==="hex"&&(dt=16),rt(dt===(dt|0)&&dt>=2&&dt<=36),st=st.toString().replace(/\s+/g,"");var _t=0;st[0]==="-"&&(_t++,this.negative=1),_t<st.length&&(dt===16?this._parseHex(st,_t,mt):(this._parseBase(st,dt,_t),mt==="le"&&this._initArray(this.toArray(),dt,mt)))},it.prototype._initNumber=function(st,dt,mt){st<0&&(this.negative=1,st=-st),st<67108864?(this.words=[st&67108863],this.length=1):st<4503599627370496?(this.words=[st&67108863,st/67108864&67108863],this.length=2):(rt(st<9007199254740992),this.words=[st&67108863,st/67108864&67108863,1],this.length=3),mt==="le"&&this._initArray(this.toArray(),dt,mt)},it.prototype._initArray=function(st,dt,mt){if(rt(typeof st.length=="number"),st.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(st.length/3),this.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)this.words[_t]=0;var xt,vt,Mt=0;if(mt==="be")for(_t=st.length-1,xt=0;_t>=0;_t-=3)vt=st[_t]|st[_t-1]<<8|st[_t-2]<<16,this.words[xt]|=vt<<Mt&67108863,this.words[xt+1]=vt>>>26-Mt&67108863,Mt+=24,Mt>=26&&(Mt-=26,xt++);else if(mt==="le")for(_t=0,xt=0;_t<st.length;_t+=3)vt=st[_t]|st[_t+1]<<8|st[_t+2]<<16,this.words[xt]|=vt<<Mt&67108863,this.words[xt+1]=vt>>>26-Mt&67108863,Mt+=24,Mt>=26&&(Mt-=26,xt++);return this._strip()};function ot(ht,st){var dt=ht.charCodeAt(st);if(dt>=48&&dt<=57)return dt-48;if(dt>=65&&dt<=70)return dt-55;if(dt>=97&&dt<=102)return dt-87;rt(!1,"Invalid character in "+ht)}function ct(ht,st,dt){var mt=ot(ht,dt);return dt-1>=st&&(mt|=ot(ht,dt-1)<<4),mt}it.prototype._parseHex=function(st,dt,mt){this.length=Math.ceil((st.length-dt)/6),this.words=new Array(this.length);for(var _t=0;_t<this.length;_t++)this.words[_t]=0;var xt=0,vt=0,Mt;if(mt==="be")for(_t=st.length-1;_t>=dt;_t-=2)Mt=ct(st,dt,_t)<<xt,this.words[vt]|=Mt&67108863,xt>=18?(xt-=18,vt+=1,this.words[vt]|=Mt>>>26):xt+=8;else{var gt=st.length-dt;for(_t=gt%2===0?dt+1:dt;_t<st.length;_t+=2)Mt=ct(st,dt,_t)<<xt,this.words[vt]|=Mt&67108863,xt>=18?(xt-=18,vt+=1,this.words[vt]|=Mt>>>26):xt+=8}this._strip()};function ut(ht,st,dt,mt){for(var _t=0,xt=0,vt=Math.min(ht.length,dt),Mt=st;Mt<vt;Mt++){var gt=ht.charCodeAt(Mt)-48;_t*=mt,gt>=49?xt=gt-49+10:gt>=17?xt=gt-17+10:xt=gt,rt(gt>=0&&xt<mt,"Invalid character"),_t+=xt}return _t}it.prototype._parseBase=function(st,dt,mt){this.words=[0],this.length=1;for(var _t=0,xt=1;xt<=67108863;xt*=dt)_t++;_t--,xt=xt/dt|0;for(var vt=st.length-mt,Mt=vt%_t,gt=Math.min(vt,vt-Mt)+mt,lt=0,wt=mt;wt<gt;wt+=_t)lt=ut(st,wt,wt+_t,dt),this.imuln(xt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt);if(Mt!==0){var jt=1;for(lt=ut(st,wt,st.length,dt),wt=0;wt<Mt;wt++)jt*=dt;this.imuln(jt),this.words[0]+lt<67108864?this.words[0]+=lt:this._iaddn(lt)}this._strip()},it.prototype.copy=function(st){st.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)st.words[dt]=this.words[dt];st.length=this.length,st.negative=this.negative,st.red=this.red};function ft(ht,st){ht.words=st.words,ht.length=st.length,ht.negative=st.negative,ht.red=st.red}if(it.prototype._move=function(st){ft(st,this)},it.prototype.clone=function(){var st=new it(null);return this.copy(st),st},it.prototype._expand=function(st){for(;this.length<st;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=yt}catch{it.prototype.inspect=yt}else it.prototype.inspect=yt;function yt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var bt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Et=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ct=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(st,dt){st=st||10,dt=dt|0||1;var mt;if(st===16||st==="hex"){mt="";for(var _t=0,xt=0,vt=0;vt<this.length;vt++){var Mt=this.words[vt],gt=((Mt<<_t|xt)&16777215).toString(16);xt=Mt>>>24-_t&16777215,xt!==0||vt!==this.length-1?mt=bt[6-gt.length]+gt+mt:mt=gt+mt,_t+=2,_t>=26&&(_t-=26,vt--)}for(xt!==0&&(mt=xt.toString(16)+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}if(st===(st|0)&&st>=2&&st<=36){var lt=Et[st],wt=Ct[st];mt="";var jt=this.clone();for(jt.negative=0;!jt.isZero();){var It=jt.modrn(wt).toString(st);jt=jt.idivn(wt),jt.isZero()?mt=It+mt:mt=bt[lt-It.length]+It+mt}for(this.isZero()&&(mt="0"+mt);mt.length%dt!==0;)mt="0"+mt;return this.negative!==0&&(mt="-"+mt),mt}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var st=this.words[0];return this.length===2?st+=this.words[1]*67108864:this.length===3&&this.words[2]===1?st+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-st:st},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(st,dt){return this.toArrayLike(at,st,dt)}),it.prototype.toArray=function(st,dt){return this.toArrayLike(Array,st,dt)};var At=function(st,dt){return st.allocUnsafe?st.allocUnsafe(dt):new st(dt)};it.prototype.toArrayLike=function(st,dt,mt){this._strip();var _t=this.byteLength(),xt=mt||Math.max(1,_t);rt(_t<=xt,"byte array longer than desired length"),rt(xt>0,"Requested array length <= 0");var vt=At(st,xt),Mt=dt==="le"?"LE":"BE";return this["_toArrayLike"+Mt](vt,_t),vt},it.prototype._toArrayLikeLE=function(st,dt){for(var mt=0,_t=0,xt=0,vt=0;xt<this.length;xt++){var Mt=this.words[xt]<<vt|_t;st[mt++]=Mt&255,mt<st.length&&(st[mt++]=Mt>>8&255),mt<st.length&&(st[mt++]=Mt>>16&255),vt===6?(mt<st.length&&(st[mt++]=Mt>>24&255),_t=0,vt=0):(_t=Mt>>>24,vt+=2)}if(mt<st.length)for(st[mt++]=_t;mt<st.length;)st[mt++]=0},it.prototype._toArrayLikeBE=function(st,dt){for(var mt=st.length-1,_t=0,xt=0,vt=0;xt<this.length;xt++){var Mt=this.words[xt]<<vt|_t;st[mt--]=Mt&255,mt>=0&&(st[mt--]=Mt>>8&255),mt>=0&&(st[mt--]=Mt>>16&255),vt===6?(mt>=0&&(st[mt--]=Mt>>24&255),_t=0,vt=0):(_t=Mt>>>24,vt+=2)}if(mt>=0)for(st[mt--]=_t;mt>=0;)st[mt--]=0},Math.clz32?it.prototype._countBits=function(st){return 32-Math.clz32(st)}:it.prototype._countBits=function(st){var dt=st,mt=0;return dt>=4096&&(mt+=13,dt>>>=13),dt>=64&&(mt+=7,dt>>>=7),dt>=8&&(mt+=4,dt>>>=4),dt>=2&&(mt+=2,dt>>>=2),mt+dt},it.prototype._zeroBits=function(st){if(st===0)return 26;var dt=st,mt=0;return(dt&8191)===0&&(mt+=13,dt>>>=13),(dt&127)===0&&(mt+=7,dt>>>=7),(dt&15)===0&&(mt+=4,dt>>>=4),(dt&3)===0&&(mt+=2,dt>>>=2),(dt&1)===0&&mt++,mt},it.prototype.bitLength=function(){var st=this.words[this.length-1],dt=this._countBits(st);return(this.length-1)*26+dt};function St(ht){for(var st=new Array(ht.bitLength()),dt=0;dt<st.length;dt++){var mt=dt/26|0,_t=dt%26;st[dt]=ht.words[mt]>>>_t&1}return st}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var st=0,dt=0;dt<this.length;dt++){var mt=this._zeroBits(this.words[dt]);if(st+=mt,mt!==26)break}return st},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(st){return this.negative!==0?this.abs().inotn(st).iaddn(1):this.clone()},it.prototype.fromTwos=function(st){return this.testn(st-1)?this.notn(st).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(st){for(;this.length<st.length;)this.words[this.length++]=0;for(var dt=0;dt<st.length;dt++)this.words[dt]=this.words[dt]|st.words[dt];return this._strip()},it.prototype.ior=function(st){return rt((this.negative|st.negative)===0),this.iuor(st)},it.prototype.or=function(st){return this.length>st.length?this.clone().ior(st):st.clone().ior(this)},it.prototype.uor=function(st){return this.length>st.length?this.clone().iuor(st):st.clone().iuor(this)},it.prototype.iuand=function(st){var dt;this.length>st.length?dt=st:dt=this;for(var mt=0;mt<dt.length;mt++)this.words[mt]=this.words[mt]&st.words[mt];return this.length=dt.length,this._strip()},it.prototype.iand=function(st){return rt((this.negative|st.negative)===0),this.iuand(st)},it.prototype.and=function(st){return this.length>st.length?this.clone().iand(st):st.clone().iand(this)},it.prototype.uand=function(st){return this.length>st.length?this.clone().iuand(st):st.clone().iuand(this)},it.prototype.iuxor=function(st){var dt,mt;this.length>st.length?(dt=this,mt=st):(dt=st,mt=this);for(var _t=0;_t<mt.length;_t++)this.words[_t]=dt.words[_t]^mt.words[_t];if(this!==dt)for(;_t<dt.length;_t++)this.words[_t]=dt.words[_t];return this.length=dt.length,this._strip()},it.prototype.ixor=function(st){return rt((this.negative|st.negative)===0),this.iuxor(st)},it.prototype.xor=function(st){return this.length>st.length?this.clone().ixor(st):st.clone().ixor(this)},it.prototype.uxor=function(st){return this.length>st.length?this.clone().iuxor(st):st.clone().iuxor(this)},it.prototype.inotn=function(st){rt(typeof st=="number"&&st>=0);var dt=Math.ceil(st/26)|0,mt=st%26;this._expand(dt),mt>0&&dt--;for(var _t=0;_t<dt;_t++)this.words[_t]=~this.words[_t]&67108863;return mt>0&&(this.words[_t]=~this.words[_t]&67108863>>26-mt),this._strip()},it.prototype.notn=function(st){return this.clone().inotn(st)},it.prototype.setn=function(st,dt){rt(typeof st=="number"&&st>=0);var mt=st/26|0,_t=st%26;return this._expand(mt+1),dt?this.words[mt]=this.words[mt]|1<<_t:this.words[mt]=this.words[mt]&~(1<<_t),this._strip()},it.prototype.iadd=function(st){var dt;if(this.negative!==0&&st.negative===0)return this.negative=0,dt=this.isub(st),this.negative^=1,this._normSign();if(this.negative===0&&st.negative!==0)return st.negative=0,dt=this.isub(st),st.negative=1,dt._normSign();var mt,_t;this.length>st.length?(mt=this,_t=st):(mt=st,_t=this);for(var xt=0,vt=0;vt<_t.length;vt++)dt=(mt.words[vt]|0)+(_t.words[vt]|0)+xt,this.words[vt]=dt&67108863,xt=dt>>>26;for(;xt!==0&&vt<mt.length;vt++)dt=(mt.words[vt]|0)+xt,this.words[vt]=dt&67108863,xt=dt>>>26;if(this.length=mt.length,xt!==0)this.words[this.length]=xt,this.length++;else if(mt!==this)for(;vt<mt.length;vt++)this.words[vt]=mt.words[vt];return this},it.prototype.add=function(st){var dt;return st.negative!==0&&this.negative===0?(st.negative=0,dt=this.sub(st),st.negative^=1,dt):st.negative===0&&this.negative!==0?(this.negative=0,dt=st.sub(this),this.negative=1,dt):this.length>st.length?this.clone().iadd(st):st.clone().iadd(this)},it.prototype.isub=function(st){if(st.negative!==0){st.negative=0;var dt=this.iadd(st);return st.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(st),this.negative=1,this._normSign();var mt=this.cmp(st);if(mt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _t,xt;mt>0?(_t=this,xt=st):(_t=st,xt=this);for(var vt=0,Mt=0;Mt<xt.length;Mt++)dt=(_t.words[Mt]|0)-(xt.words[Mt]|0)+vt,vt=dt>>26,this.words[Mt]=dt&67108863;for(;vt!==0&&Mt<_t.length;Mt++)dt=(_t.words[Mt]|0)+vt,vt=dt>>26,this.words[Mt]=dt&67108863;if(vt===0&&Mt<_t.length&&_t!==this)for(;Mt<_t.length;Mt++)this.words[Mt]=_t.words[Mt];return this.length=Math.max(this.length,Mt),_t!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(st){return this.clone().isub(st)};function Tt(ht,st,dt){dt.negative=st.negative^ht.negative;var mt=ht.length+st.length|0;dt.length=mt,mt=mt-1|0;var _t=ht.words[0]|0,xt=st.words[0]|0,vt=_t*xt,Mt=vt&67108863,gt=vt/67108864|0;dt.words[0]=Mt;for(var lt=1;lt<mt;lt++){for(var wt=gt>>>26,jt=gt&67108863,It=Math.min(lt,st.length-1),Wt=Math.max(0,lt-ht.length+1);Wt<=It;Wt++){var Qt=lt-Wt|0;_t=ht.words[Qt]|0,xt=st.words[Wt]|0,vt=_t*xt+jt,wt+=vt/67108864|0,jt=vt&67108863}dt.words[lt]=jt|0,gt=wt|0}return gt!==0?dt.words[lt]=gt|0:dt.length--,dt._strip()}var $t=function(st,dt,mt){var _t=st.words,xt=dt.words,vt=mt.words,Mt=0,gt,lt,wt,jt=_t[0]|0,It=jt&8191,Wt=jt>>>13,Qt=_t[1]|0,Gt=Qt&8191,er=Qt>>>13,hr=_t[2]|0,Vt=hr&8191,Kt=hr>>>13,lr=_t[3]|0,ir=lr&8191,ur=lr>>>13,Xt=_t[4]|0,Ft=Xt&8191,Ut=Xt>>>13,Yt=_t[5]|0,rr=Yt&8191,ar=Yt>>>13,br=_t[6]|0,dr=br&8191,pr=br>>>13,Lr=_t[7]|0,mr=Lr&8191,zt=Lr>>>13,Lt=_t[8]|0,Bt=Lt&8191,Jt=Lt>>>13,cr=_t[9]|0,nr=cr&8191,sr=cr>>>13,Fr=xt[0]|0,vr=Fr&8191,gr=Fr>>>13,Dr=xt[1]|0,yr=Dr&8191,Sr=Dr>>>13,Vr=xt[2]|0,Tr=Vr&8191,wr=Vr>>>13,Zr=xt[3]|0,Cr=Zr&8191,Ar=Zr>>>13,Kr=xt[4]|0,Mr=Kr&8191,$r=Kr>>>13,Gr=xt[5]|0,Rr=Gr&8191,_r=Gr>>>13,Ur=xt[6]|0,xr=Ur&8191,Er=Ur>>>13,Qr=xt[7]|0,kr=Qr&8191,Ir=Qr>>>13,Yr=xt[8]|0,Pr=Yr&8191,Nr=Yr>>>13,Jr=xt[9]|0,Or=Jr&8191,Br=Jr>>>13;mt.negative=st.negative^dt.negative,mt.length=19,gt=Math.imul(It,vr),lt=Math.imul(It,gr),lt=lt+Math.imul(Wt,vr)|0,wt=Math.imul(Wt,gr);var jr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(jr>>>26)|0,jr&=67108863,gt=Math.imul(Gt,vr),lt=Math.imul(Gt,gr),lt=lt+Math.imul(er,vr)|0,wt=Math.imul(er,gr),gt=gt+Math.imul(It,yr)|0,lt=lt+Math.imul(It,Sr)|0,lt=lt+Math.imul(Wt,yr)|0,wt=wt+Math.imul(Wt,Sr)|0;var Wr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,gt=Math.imul(Vt,vr),lt=Math.imul(Vt,gr),lt=lt+Math.imul(Kt,vr)|0,wt=Math.imul(Kt,gr),gt=gt+Math.imul(Gt,yr)|0,lt=lt+Math.imul(Gt,Sr)|0,lt=lt+Math.imul(er,yr)|0,wt=wt+Math.imul(er,Sr)|0,gt=gt+Math.imul(It,Tr)|0,lt=lt+Math.imul(It,wr)|0,lt=lt+Math.imul(Wt,Tr)|0,wt=wt+Math.imul(Wt,wr)|0;var Hr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,gt=Math.imul(ir,vr),lt=Math.imul(ir,gr),lt=lt+Math.imul(ur,vr)|0,wt=Math.imul(ur,gr),gt=gt+Math.imul(Vt,yr)|0,lt=lt+Math.imul(Vt,Sr)|0,lt=lt+Math.imul(Kt,yr)|0,wt=wt+Math.imul(Kt,Sr)|0,gt=gt+Math.imul(Gt,Tr)|0,lt=lt+Math.imul(Gt,wr)|0,lt=lt+Math.imul(er,Tr)|0,wt=wt+Math.imul(er,wr)|0,gt=gt+Math.imul(It,Cr)|0,lt=lt+Math.imul(It,Ar)|0,lt=lt+Math.imul(Wt,Cr)|0,wt=wt+Math.imul(Wt,Ar)|0;var zr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(zr>>>26)|0,zr&=67108863,gt=Math.imul(Ft,vr),lt=Math.imul(Ft,gr),lt=lt+Math.imul(Ut,vr)|0,wt=Math.imul(Ut,gr),gt=gt+Math.imul(ir,yr)|0,lt=lt+Math.imul(ir,Sr)|0,lt=lt+Math.imul(ur,yr)|0,wt=wt+Math.imul(ur,Sr)|0,gt=gt+Math.imul(Vt,Tr)|0,lt=lt+Math.imul(Vt,wr)|0,lt=lt+Math.imul(Kt,Tr)|0,wt=wt+Math.imul(Kt,wr)|0,gt=gt+Math.imul(Gt,Cr)|0,lt=lt+Math.imul(Gt,Ar)|0,lt=lt+Math.imul(er,Cr)|0,wt=wt+Math.imul(er,Ar)|0,gt=gt+Math.imul(It,Mr)|0,lt=lt+Math.imul(It,$r)|0,lt=lt+Math.imul(Wt,Mr)|0,wt=wt+Math.imul(Wt,$r)|0;var qr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(qr>>>26)|0,qr&=67108863,gt=Math.imul(rr,vr),lt=Math.imul(rr,gr),lt=lt+Math.imul(ar,vr)|0,wt=Math.imul(ar,gr),gt=gt+Math.imul(Ft,yr)|0,lt=lt+Math.imul(Ft,Sr)|0,lt=lt+Math.imul(Ut,yr)|0,wt=wt+Math.imul(Ut,Sr)|0,gt=gt+Math.imul(ir,Tr)|0,lt=lt+Math.imul(ir,wr)|0,lt=lt+Math.imul(ur,Tr)|0,wt=wt+Math.imul(ur,wr)|0,gt=gt+Math.imul(Vt,Cr)|0,lt=lt+Math.imul(Vt,Ar)|0,lt=lt+Math.imul(Kt,Cr)|0,wt=wt+Math.imul(Kt,Ar)|0,gt=gt+Math.imul(Gt,Mr)|0,lt=lt+Math.imul(Gt,$r)|0,lt=lt+Math.imul(er,Mr)|0,wt=wt+Math.imul(er,$r)|0,gt=gt+Math.imul(It,Rr)|0,lt=lt+Math.imul(It,_r)|0,lt=lt+Math.imul(Wt,Rr)|0,wt=wt+Math.imul(Wt,_r)|0;var Xr=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,gt=Math.imul(dr,vr),lt=Math.imul(dr,gr),lt=lt+Math.imul(pr,vr)|0,wt=Math.imul(pr,gr),gt=gt+Math.imul(rr,yr)|0,lt=lt+Math.imul(rr,Sr)|0,lt=lt+Math.imul(ar,yr)|0,wt=wt+Math.imul(ar,Sr)|0,gt=gt+Math.imul(Ft,Tr)|0,lt=lt+Math.imul(Ft,wr)|0,lt=lt+Math.imul(Ut,Tr)|0,wt=wt+Math.imul(Ut,wr)|0,gt=gt+Math.imul(ir,Cr)|0,lt=lt+Math.imul(ir,Ar)|0,lt=lt+Math.imul(ur,Cr)|0,wt=wt+Math.imul(ur,Ar)|0,gt=gt+Math.imul(Vt,Mr)|0,lt=lt+Math.imul(Vt,$r)|0,lt=lt+Math.imul(Kt,Mr)|0,wt=wt+Math.imul(Kt,$r)|0,gt=gt+Math.imul(Gt,Rr)|0,lt=lt+Math.imul(Gt,_r)|0,lt=lt+Math.imul(er,Rr)|0,wt=wt+Math.imul(er,_r)|0,gt=gt+Math.imul(It,xr)|0,lt=lt+Math.imul(It,Er)|0,lt=lt+Math.imul(Wt,xr)|0,wt=wt+Math.imul(Wt,Er)|0;var tn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(tn>>>26)|0,tn&=67108863,gt=Math.imul(mr,vr),lt=Math.imul(mr,gr),lt=lt+Math.imul(zt,vr)|0,wt=Math.imul(zt,gr),gt=gt+Math.imul(dr,yr)|0,lt=lt+Math.imul(dr,Sr)|0,lt=lt+Math.imul(pr,yr)|0,wt=wt+Math.imul(pr,Sr)|0,gt=gt+Math.imul(rr,Tr)|0,lt=lt+Math.imul(rr,wr)|0,lt=lt+Math.imul(ar,Tr)|0,wt=wt+Math.imul(ar,wr)|0,gt=gt+Math.imul(Ft,Cr)|0,lt=lt+Math.imul(Ft,Ar)|0,lt=lt+Math.imul(Ut,Cr)|0,wt=wt+Math.imul(Ut,Ar)|0,gt=gt+Math.imul(ir,Mr)|0,lt=lt+Math.imul(ir,$r)|0,lt=lt+Math.imul(ur,Mr)|0,wt=wt+Math.imul(ur,$r)|0,gt=gt+Math.imul(Vt,Rr)|0,lt=lt+Math.imul(Vt,_r)|0,lt=lt+Math.imul(Kt,Rr)|0,wt=wt+Math.imul(Kt,_r)|0,gt=gt+Math.imul(Gt,xr)|0,lt=lt+Math.imul(Gt,Er)|0,lt=lt+Math.imul(er,xr)|0,wt=wt+Math.imul(er,Er)|0,gt=gt+Math.imul(It,kr)|0,lt=lt+Math.imul(It,Ir)|0,lt=lt+Math.imul(Wt,kr)|0,wt=wt+Math.imul(Wt,Ir)|0;var rn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(rn>>>26)|0,rn&=67108863,gt=Math.imul(Bt,vr),lt=Math.imul(Bt,gr),lt=lt+Math.imul(Jt,vr)|0,wt=Math.imul(Jt,gr),gt=gt+Math.imul(mr,yr)|0,lt=lt+Math.imul(mr,Sr)|0,lt=lt+Math.imul(zt,yr)|0,wt=wt+Math.imul(zt,Sr)|0,gt=gt+Math.imul(dr,Tr)|0,lt=lt+Math.imul(dr,wr)|0,lt=lt+Math.imul(pr,Tr)|0,wt=wt+Math.imul(pr,wr)|0,gt=gt+Math.imul(rr,Cr)|0,lt=lt+Math.imul(rr,Ar)|0,lt=lt+Math.imul(ar,Cr)|0,wt=wt+Math.imul(ar,Ar)|0,gt=gt+Math.imul(Ft,Mr)|0,lt=lt+Math.imul(Ft,$r)|0,lt=lt+Math.imul(Ut,Mr)|0,wt=wt+Math.imul(Ut,$r)|0,gt=gt+Math.imul(ir,Rr)|0,lt=lt+Math.imul(ir,_r)|0,lt=lt+Math.imul(ur,Rr)|0,wt=wt+Math.imul(ur,_r)|0,gt=gt+Math.imul(Vt,xr)|0,lt=lt+Math.imul(Vt,Er)|0,lt=lt+Math.imul(Kt,xr)|0,wt=wt+Math.imul(Kt,Er)|0,gt=gt+Math.imul(Gt,kr)|0,lt=lt+Math.imul(Gt,Ir)|0,lt=lt+Math.imul(er,kr)|0,wt=wt+Math.imul(er,Ir)|0,gt=gt+Math.imul(It,Pr)|0,lt=lt+Math.imul(It,Nr)|0,lt=lt+Math.imul(Wt,Pr)|0,wt=wt+Math.imul(Wt,Nr)|0;var nn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(nn>>>26)|0,nn&=67108863,gt=Math.imul(nr,vr),lt=Math.imul(nr,gr),lt=lt+Math.imul(sr,vr)|0,wt=Math.imul(sr,gr),gt=gt+Math.imul(Bt,yr)|0,lt=lt+Math.imul(Bt,Sr)|0,lt=lt+Math.imul(Jt,yr)|0,wt=wt+Math.imul(Jt,Sr)|0,gt=gt+Math.imul(mr,Tr)|0,lt=lt+Math.imul(mr,wr)|0,lt=lt+Math.imul(zt,Tr)|0,wt=wt+Math.imul(zt,wr)|0,gt=gt+Math.imul(dr,Cr)|0,lt=lt+Math.imul(dr,Ar)|0,lt=lt+Math.imul(pr,Cr)|0,wt=wt+Math.imul(pr,Ar)|0,gt=gt+Math.imul(rr,Mr)|0,lt=lt+Math.imul(rr,$r)|0,lt=lt+Math.imul(ar,Mr)|0,wt=wt+Math.imul(ar,$r)|0,gt=gt+Math.imul(Ft,Rr)|0,lt=lt+Math.imul(Ft,_r)|0,lt=lt+Math.imul(Ut,Rr)|0,wt=wt+Math.imul(Ut,_r)|0,gt=gt+Math.imul(ir,xr)|0,lt=lt+Math.imul(ir,Er)|0,lt=lt+Math.imul(ur,xr)|0,wt=wt+Math.imul(ur,Er)|0,gt=gt+Math.imul(Vt,kr)|0,lt=lt+Math.imul(Vt,Ir)|0,lt=lt+Math.imul(Kt,kr)|0,wt=wt+Math.imul(Kt,Ir)|0,gt=gt+Math.imul(Gt,Pr)|0,lt=lt+Math.imul(Gt,Nr)|0,lt=lt+Math.imul(er,Pr)|0,wt=wt+Math.imul(er,Nr)|0,gt=gt+Math.imul(It,Or)|0,lt=lt+Math.imul(It,Br)|0,lt=lt+Math.imul(Wt,Or)|0,wt=wt+Math.imul(Wt,Br)|0;var an=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(an>>>26)|0,an&=67108863,gt=Math.imul(nr,yr),lt=Math.imul(nr,Sr),lt=lt+Math.imul(sr,yr)|0,wt=Math.imul(sr,Sr),gt=gt+Math.imul(Bt,Tr)|0,lt=lt+Math.imul(Bt,wr)|0,lt=lt+Math.imul(Jt,Tr)|0,wt=wt+Math.imul(Jt,wr)|0,gt=gt+Math.imul(mr,Cr)|0,lt=lt+Math.imul(mr,Ar)|0,lt=lt+Math.imul(zt,Cr)|0,wt=wt+Math.imul(zt,Ar)|0,gt=gt+Math.imul(dr,Mr)|0,lt=lt+Math.imul(dr,$r)|0,lt=lt+Math.imul(pr,Mr)|0,wt=wt+Math.imul(pr,$r)|0,gt=gt+Math.imul(rr,Rr)|0,lt=lt+Math.imul(rr,_r)|0,lt=lt+Math.imul(ar,Rr)|0,wt=wt+Math.imul(ar,_r)|0,gt=gt+Math.imul(Ft,xr)|0,lt=lt+Math.imul(Ft,Er)|0,lt=lt+Math.imul(Ut,xr)|0,wt=wt+Math.imul(Ut,Er)|0,gt=gt+Math.imul(ir,kr)|0,lt=lt+Math.imul(ir,Ir)|0,lt=lt+Math.imul(ur,kr)|0,wt=wt+Math.imul(ur,Ir)|0,gt=gt+Math.imul(Vt,Pr)|0,lt=lt+Math.imul(Vt,Nr)|0,lt=lt+Math.imul(Kt,Pr)|0,wt=wt+Math.imul(Kt,Nr)|0,gt=gt+Math.imul(Gt,Or)|0,lt=lt+Math.imul(Gt,Br)|0,lt=lt+Math.imul(er,Or)|0,wt=wt+Math.imul(er,Br)|0;var on=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(on>>>26)|0,on&=67108863,gt=Math.imul(nr,Tr),lt=Math.imul(nr,wr),lt=lt+Math.imul(sr,Tr)|0,wt=Math.imul(sr,wr),gt=gt+Math.imul(Bt,Cr)|0,lt=lt+Math.imul(Bt,Ar)|0,lt=lt+Math.imul(Jt,Cr)|0,wt=wt+Math.imul(Jt,Ar)|0,gt=gt+Math.imul(mr,Mr)|0,lt=lt+Math.imul(mr,$r)|0,lt=lt+Math.imul(zt,Mr)|0,wt=wt+Math.imul(zt,$r)|0,gt=gt+Math.imul(dr,Rr)|0,lt=lt+Math.imul(dr,_r)|0,lt=lt+Math.imul(pr,Rr)|0,wt=wt+Math.imul(pr,_r)|0,gt=gt+Math.imul(rr,xr)|0,lt=lt+Math.imul(rr,Er)|0,lt=lt+Math.imul(ar,xr)|0,wt=wt+Math.imul(ar,Er)|0,gt=gt+Math.imul(Ft,kr)|0,lt=lt+Math.imul(Ft,Ir)|0,lt=lt+Math.imul(Ut,kr)|0,wt=wt+Math.imul(Ut,Ir)|0,gt=gt+Math.imul(ir,Pr)|0,lt=lt+Math.imul(ir,Nr)|0,lt=lt+Math.imul(ur,Pr)|0,wt=wt+Math.imul(ur,Nr)|0,gt=gt+Math.imul(Vt,Or)|0,lt=lt+Math.imul(Vt,Br)|0,lt=lt+Math.imul(Kt,Or)|0,wt=wt+Math.imul(Kt,Br)|0;var sn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(sn>>>26)|0,sn&=67108863,gt=Math.imul(nr,Cr),lt=Math.imul(nr,Ar),lt=lt+Math.imul(sr,Cr)|0,wt=Math.imul(sr,Ar),gt=gt+Math.imul(Bt,Mr)|0,lt=lt+Math.imul(Bt,$r)|0,lt=lt+Math.imul(Jt,Mr)|0,wt=wt+Math.imul(Jt,$r)|0,gt=gt+Math.imul(mr,Rr)|0,lt=lt+Math.imul(mr,_r)|0,lt=lt+Math.imul(zt,Rr)|0,wt=wt+Math.imul(zt,_r)|0,gt=gt+Math.imul(dr,xr)|0,lt=lt+Math.imul(dr,Er)|0,lt=lt+Math.imul(pr,xr)|0,wt=wt+Math.imul(pr,Er)|0,gt=gt+Math.imul(rr,kr)|0,lt=lt+Math.imul(rr,Ir)|0,lt=lt+Math.imul(ar,kr)|0,wt=wt+Math.imul(ar,Ir)|0,gt=gt+Math.imul(Ft,Pr)|0,lt=lt+Math.imul(Ft,Nr)|0,lt=lt+Math.imul(Ut,Pr)|0,wt=wt+Math.imul(Ut,Nr)|0,gt=gt+Math.imul(ir,Or)|0,lt=lt+Math.imul(ir,Br)|0,lt=lt+Math.imul(ur,Or)|0,wt=wt+Math.imul(ur,Br)|0;var cn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(cn>>>26)|0,cn&=67108863,gt=Math.imul(nr,Mr),lt=Math.imul(nr,$r),lt=lt+Math.imul(sr,Mr)|0,wt=Math.imul(sr,$r),gt=gt+Math.imul(Bt,Rr)|0,lt=lt+Math.imul(Bt,_r)|0,lt=lt+Math.imul(Jt,Rr)|0,wt=wt+Math.imul(Jt,_r)|0,gt=gt+Math.imul(mr,xr)|0,lt=lt+Math.imul(mr,Er)|0,lt=lt+Math.imul(zt,xr)|0,wt=wt+Math.imul(zt,Er)|0,gt=gt+Math.imul(dr,kr)|0,lt=lt+Math.imul(dr,Ir)|0,lt=lt+Math.imul(pr,kr)|0,wt=wt+Math.imul(pr,Ir)|0,gt=gt+Math.imul(rr,Pr)|0,lt=lt+Math.imul(rr,Nr)|0,lt=lt+Math.imul(ar,Pr)|0,wt=wt+Math.imul(ar,Nr)|0,gt=gt+Math.imul(Ft,Or)|0,lt=lt+Math.imul(Ft,Br)|0,lt=lt+Math.imul(Ut,Or)|0,wt=wt+Math.imul(Ut,Br)|0;var ln=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(ln>>>26)|0,ln&=67108863,gt=Math.imul(nr,Rr),lt=Math.imul(nr,_r),lt=lt+Math.imul(sr,Rr)|0,wt=Math.imul(sr,_r),gt=gt+Math.imul(Bt,xr)|0,lt=lt+Math.imul(Bt,Er)|0,lt=lt+Math.imul(Jt,xr)|0,wt=wt+Math.imul(Jt,Er)|0,gt=gt+Math.imul(mr,kr)|0,lt=lt+Math.imul(mr,Ir)|0,lt=lt+Math.imul(zt,kr)|0,wt=wt+Math.imul(zt,Ir)|0,gt=gt+Math.imul(dr,Pr)|0,lt=lt+Math.imul(dr,Nr)|0,lt=lt+Math.imul(pr,Pr)|0,wt=wt+Math.imul(pr,Nr)|0,gt=gt+Math.imul(rr,Or)|0,lt=lt+Math.imul(rr,Br)|0,lt=lt+Math.imul(ar,Or)|0,wt=wt+Math.imul(ar,Br)|0;var un=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(un>>>26)|0,un&=67108863,gt=Math.imul(nr,xr),lt=Math.imul(nr,Er),lt=lt+Math.imul(sr,xr)|0,wt=Math.imul(sr,Er),gt=gt+Math.imul(Bt,kr)|0,lt=lt+Math.imul(Bt,Ir)|0,lt=lt+Math.imul(Jt,kr)|0,wt=wt+Math.imul(Jt,Ir)|0,gt=gt+Math.imul(mr,Pr)|0,lt=lt+Math.imul(mr,Nr)|0,lt=lt+Math.imul(zt,Pr)|0,wt=wt+Math.imul(zt,Nr)|0,gt=gt+Math.imul(dr,Or)|0,lt=lt+Math.imul(dr,Br)|0,lt=lt+Math.imul(pr,Or)|0,wt=wt+Math.imul(pr,Br)|0;var dn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(dn>>>26)|0,dn&=67108863,gt=Math.imul(nr,kr),lt=Math.imul(nr,Ir),lt=lt+Math.imul(sr,kr)|0,wt=Math.imul(sr,Ir),gt=gt+Math.imul(Bt,Pr)|0,lt=lt+Math.imul(Bt,Nr)|0,lt=lt+Math.imul(Jt,Pr)|0,wt=wt+Math.imul(Jt,Nr)|0,gt=gt+Math.imul(mr,Or)|0,lt=lt+Math.imul(mr,Br)|0,lt=lt+Math.imul(zt,Or)|0,wt=wt+Math.imul(zt,Br)|0;var fn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(fn>>>26)|0,fn&=67108863,gt=Math.imul(nr,Pr),lt=Math.imul(nr,Nr),lt=lt+Math.imul(sr,Pr)|0,wt=Math.imul(sr,Nr),gt=gt+Math.imul(Bt,Or)|0,lt=lt+Math.imul(Bt,Br)|0,lt=lt+Math.imul(Jt,Or)|0,wt=wt+Math.imul(Jt,Br)|0;var hn=(Mt+gt|0)+((lt&8191)<<13)|0;Mt=(wt+(lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,gt=Math.imul(nr,Or),lt=Math.imul(nr,Br),lt=lt+Math.imul(sr,Or)|0,wt=Math.imul(sr,Br);var pn=(Mt+gt|0)+((lt&8191)<<13)|0;return Mt=(wt+(lt>>>13)|0)+(pn>>>26)|0,pn&=67108863,vt[0]=jr,vt[1]=Wr,vt[2]=Hr,vt[3]=zr,vt[4]=qr,vt[5]=Xr,vt[6]=tn,vt[7]=rn,vt[8]=nn,vt[9]=an,vt[10]=on,vt[11]=sn,vt[12]=cn,vt[13]=ln,vt[14]=un,vt[15]=dn,vt[16]=fn,vt[17]=hn,vt[18]=pn,Mt!==0&&(vt[19]=Mt,mt.length++),mt};Math.imul||($t=Tt);function kt(ht,st,dt){dt.negative=st.negative^ht.negative,dt.length=ht.length+st.length;for(var mt=0,_t=0,xt=0;xt<dt.length-1;xt++){var vt=_t;_t=0;for(var Mt=mt&67108863,gt=Math.min(xt,st.length-1),lt=Math.max(0,xt-ht.length+1);lt<=gt;lt++){var wt=xt-lt,jt=ht.words[wt]|0,It=st.words[lt]|0,Wt=jt*It,Qt=Wt&67108863;vt=vt+(Wt/67108864|0)|0,Qt=Qt+Mt|0,Mt=Qt&67108863,vt=vt+(Qt>>>26)|0,_t+=vt>>>26,vt&=67108863}dt.words[xt]=Mt,mt=vt,vt=_t}return mt!==0?dt.words[xt]=mt:dt.length--,dt._strip()}function Pt(ht,st,dt){return kt(ht,st,dt)}it.prototype.mulTo=function(st,dt){var mt,_t=this.length+st.length;return this.length===10&&st.length===10?mt=$t(this,st,dt):_t<63?mt=Tt(this,st,dt):_t<1024?mt=kt(this,st,dt):mt=Pt(this,st,dt),mt},it.prototype.mul=function(st){var dt=new it(null);return dt.words=new Array(this.length+st.length),this.mulTo(st,dt)},it.prototype.mulf=function(st){var dt=new it(null);return dt.words=new Array(this.length+st.length),Pt(this,st,dt)},it.prototype.imul=function(st){return this.clone().mulTo(st,this)},it.prototype.imuln=function(st){var dt=st<0;dt&&(st=-st),rt(typeof st=="number"),rt(st<67108864);for(var mt=0,_t=0;_t<this.length;_t++){var xt=(this.words[_t]|0)*st,vt=(xt&67108863)+(mt&67108863);mt>>=26,mt+=xt/67108864|0,mt+=vt>>>26,this.words[_t]=vt&67108863}return mt!==0&&(this.words[_t]=mt,this.length++),dt?this.ineg():this},it.prototype.muln=function(st){return this.clone().imuln(st)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(st){var dt=St(st);if(dt.length===0)return new it(1);for(var mt=this,_t=0;_t<dt.length&&dt[_t]===0;_t++,mt=mt.sqr());if(++_t<dt.length)for(var xt=mt.sqr();_t<dt.length;_t++,xt=xt.sqr())dt[_t]!==0&&(mt=mt.mul(xt));return mt},it.prototype.iushln=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26,_t=67108863>>>26-dt<<26-dt,xt;if(dt!==0){var vt=0;for(xt=0;xt<this.length;xt++){var Mt=this.words[xt]&_t,gt=(this.words[xt]|0)-Mt<<dt;this.words[xt]=gt|vt,vt=Mt>>>26-dt}vt&&(this.words[xt]=vt,this.length++)}if(mt!==0){for(xt=this.length-1;xt>=0;xt--)this.words[xt+mt]=this.words[xt];for(xt=0;xt<mt;xt++)this.words[xt]=0;this.length+=mt}return this._strip()},it.prototype.ishln=function(st){return rt(this.negative===0),this.iushln(st)},it.prototype.iushrn=function(st,dt,mt){rt(typeof st=="number"&&st>=0);var _t;dt?_t=(dt-dt%26)/26:_t=0;var xt=st%26,vt=Math.min((st-xt)/26,this.length),Mt=67108863^67108863>>>xt<<xt,gt=mt;if(_t-=vt,_t=Math.max(0,_t),gt){for(var lt=0;lt<vt;lt++)gt.words[lt]=this.words[lt];gt.length=vt}if(vt!==0)if(this.length>vt)for(this.length-=vt,lt=0;lt<this.length;lt++)this.words[lt]=this.words[lt+vt];else this.words[0]=0,this.length=1;var wt=0;for(lt=this.length-1;lt>=0&&(wt!==0||lt>=_t);lt--){var jt=this.words[lt]|0;this.words[lt]=wt<<26-xt|jt>>>xt,wt=jt&Mt}return gt&&wt!==0&&(gt.words[gt.length++]=wt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(st,dt,mt){return rt(this.negative===0),this.iushrn(st,dt,mt)},it.prototype.shln=function(st){return this.clone().ishln(st)},it.prototype.ushln=function(st){return this.clone().iushln(st)},it.prototype.shrn=function(st){return this.clone().ishrn(st)},it.prototype.ushrn=function(st){return this.clone().iushrn(st)},it.prototype.testn=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26,_t=1<<dt;if(this.length<=mt)return!1;var xt=this.words[mt];return!!(xt&_t)},it.prototype.imaskn=function(st){rt(typeof st=="number"&&st>=0);var dt=st%26,mt=(st-dt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=mt)return this;if(dt!==0&&mt++,this.length=Math.min(mt,this.length),dt!==0){var _t=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=_t}return this._strip()},it.prototype.maskn=function(st){return this.clone().imaskn(st)},it.prototype.iaddn=function(st){return rt(typeof st=="number"),rt(st<67108864),st<0?this.isubn(-st):this.negative!==0?this.length===1&&(this.words[0]|0)<=st?(this.words[0]=st-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(st),this.negative=1,this):this._iaddn(st)},it.prototype._iaddn=function(st){this.words[0]+=st;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(st){if(rt(typeof st=="number"),rt(st<67108864),st<0)return this.iaddn(-st);if(this.negative!==0)return this.negative=0,this.iaddn(st),this.negative=1,this;if(this.words[0]-=st,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this._strip()},it.prototype.addn=function(st){return this.clone().iaddn(st)},it.prototype.subn=function(st){return this.clone().isubn(st)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(st,dt,mt){var _t=st.length+mt,xt;this._expand(_t);var vt,Mt=0;for(xt=0;xt<st.length;xt++){vt=(this.words[xt+mt]|0)+Mt;var gt=(st.words[xt]|0)*dt;vt-=gt&67108863,Mt=(vt>>26)-(gt/67108864|0),this.words[xt+mt]=vt&67108863}for(;xt<this.length-mt;xt++)vt=(this.words[xt+mt]|0)+Mt,Mt=vt>>26,this.words[xt+mt]=vt&67108863;if(Mt===0)return this._strip();for(rt(Mt===-1),Mt=0,xt=0;xt<this.length;xt++)vt=-(this.words[xt]|0)+Mt,Mt=vt>>26,this.words[xt]=vt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(st,dt){var mt=this.length-st.length,_t=this.clone(),xt=st,vt=xt.words[xt.length-1]|0,Mt=this._countBits(vt);mt=26-Mt,mt!==0&&(xt=xt.ushln(mt),_t.iushln(mt),vt=xt.words[xt.length-1]|0);var gt=_t.length-xt.length,lt;if(dt!=="mod"){lt=new it(null),lt.length=gt+1,lt.words=new Array(lt.length);for(var wt=0;wt<lt.length;wt++)lt.words[wt]=0}var jt=_t.clone()._ishlnsubmul(xt,1,gt);jt.negative===0&&(_t=jt,lt&&(lt.words[gt]=1));for(var It=gt-1;It>=0;It--){var Wt=(_t.words[xt.length+It]|0)*67108864+(_t.words[xt.length+It-1]|0);for(Wt=Math.min(Wt/vt|0,67108863),_t._ishlnsubmul(xt,Wt,It);_t.negative!==0;)Wt--,_t.negative=0,_t._ishlnsubmul(xt,1,It),_t.isZero()||(_t.negative^=1);lt&&(lt.words[It]=Wt)}return lt&&lt._strip(),_t._strip(),dt!=="div"&&mt!==0&&_t.iushrn(mt),{div:lt||null,mod:_t}},it.prototype.divmod=function(st,dt,mt){if(rt(!st.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var _t,xt,vt;return this.negative!==0&&st.negative===0?(vt=this.neg().divmod(st,dt),dt!=="mod"&&(_t=vt.div.neg()),dt!=="div"&&(xt=vt.mod.neg(),mt&&xt.negative!==0&&xt.iadd(st)),{div:_t,mod:xt}):this.negative===0&&st.negative!==0?(vt=this.divmod(st.neg(),dt),dt!=="mod"&&(_t=vt.div.neg()),{div:_t,mod:vt.mod}):(this.negative&st.negative)!==0?(vt=this.neg().divmod(st.neg(),dt),dt!=="div"&&(xt=vt.mod.neg(),mt&&xt.negative!==0&&xt.isub(st)),{div:vt.div,mod:xt}):st.length>this.length||this.cmp(st)<0?{div:new it(0),mod:this}:st.length===1?dt==="div"?{div:this.divn(st.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modrn(st.words[0]))}:{div:this.divn(st.words[0]),mod:new it(this.modrn(st.words[0]))}:this._wordDiv(st,dt)},it.prototype.div=function(st){return this.divmod(st,"div",!1).div},it.prototype.mod=function(st){return this.divmod(st,"mod",!1).mod},it.prototype.umod=function(st){return this.divmod(st,"mod",!0).mod},it.prototype.divRound=function(st){var dt=this.divmod(st);if(dt.mod.isZero())return dt.div;var mt=dt.div.negative!==0?dt.mod.isub(st):dt.mod,_t=st.ushrn(1),xt=st.andln(1),vt=mt.cmp(_t);return vt<0||xt===1&&vt===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modrn=function(st){var dt=st<0;dt&&(st=-st),rt(st<=67108863);for(var mt=(1<<26)%st,_t=0,xt=this.length-1;xt>=0;xt--)_t=(mt*_t+(this.words[xt]|0))%st;return dt?-_t:_t},it.prototype.modn=function(st){return this.modrn(st)},it.prototype.idivn=function(st){var dt=st<0;dt&&(st=-st),rt(st<=67108863);for(var mt=0,_t=this.length-1;_t>=0;_t--){var xt=(this.words[_t]|0)+mt*67108864;this.words[_t]=xt/st|0,mt=xt%st}return this._strip(),dt?this.ineg():this},it.prototype.divn=function(st){return this.clone().idivn(st)},it.prototype.egcd=function(st){rt(st.negative===0),rt(!st.isZero());var dt=this,mt=st.clone();dt.negative!==0?dt=dt.umod(st):dt=dt.clone();for(var _t=new it(1),xt=new it(0),vt=new it(0),Mt=new it(1),gt=0;dt.isEven()&&mt.isEven();)dt.iushrn(1),mt.iushrn(1),++gt;for(var lt=mt.clone(),wt=dt.clone();!dt.isZero();){for(var jt=0,It=1;(dt.words[0]&It)===0&&jt<26;++jt,It<<=1);if(jt>0)for(dt.iushrn(jt);jt-- >0;)(_t.isOdd()||xt.isOdd())&&(_t.iadd(lt),xt.isub(wt)),_t.iushrn(1),xt.iushrn(1);for(var Wt=0,Qt=1;(mt.words[0]&Qt)===0&&Wt<26;++Wt,Qt<<=1);if(Wt>0)for(mt.iushrn(Wt);Wt-- >0;)(vt.isOdd()||Mt.isOdd())&&(vt.iadd(lt),Mt.isub(wt)),vt.iushrn(1),Mt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),_t.isub(vt),xt.isub(Mt)):(mt.isub(dt),vt.isub(_t),Mt.isub(xt))}return{a:vt,b:Mt,gcd:mt.iushln(gt)}},it.prototype._invmp=function(st){rt(st.negative===0),rt(!st.isZero());var dt=this,mt=st.clone();dt.negative!==0?dt=dt.umod(st):dt=dt.clone();for(var _t=new it(1),xt=new it(0),vt=mt.clone();dt.cmpn(1)>0&&mt.cmpn(1)>0;){for(var Mt=0,gt=1;(dt.words[0]&gt)===0&&Mt<26;++Mt,gt<<=1);if(Mt>0)for(dt.iushrn(Mt);Mt-- >0;)_t.isOdd()&&_t.iadd(vt),_t.iushrn(1);for(var lt=0,wt=1;(mt.words[0]&wt)===0&&lt<26;++lt,wt<<=1);if(lt>0)for(mt.iushrn(lt);lt-- >0;)xt.isOdd()&&xt.iadd(vt),xt.iushrn(1);dt.cmp(mt)>=0?(dt.isub(mt),_t.isub(xt)):(mt.isub(dt),xt.isub(_t))}var jt;return dt.cmpn(1)===0?jt=_t:jt=xt,jt.cmpn(0)<0&&jt.iadd(st),jt},it.prototype.gcd=function(st){if(this.isZero())return st.abs();if(st.isZero())return this.abs();var dt=this.clone(),mt=st.clone();dt.negative=0,mt.negative=0;for(var _t=0;dt.isEven()&&mt.isEven();_t++)dt.iushrn(1),mt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;mt.isEven();)mt.iushrn(1);var xt=dt.cmp(mt);if(xt<0){var vt=dt;dt=mt,mt=vt}else if(xt===0||mt.cmpn(1)===0)break;dt.isub(mt)}while(!0);return mt.iushln(_t)},it.prototype.invm=function(st){return this.egcd(st).a.umod(st)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(st){return this.words[0]&st},it.prototype.bincn=function(st){rt(typeof st=="number");var dt=st%26,mt=(st-dt)/26,_t=1<<dt;if(this.length<=mt)return this._expand(mt+1),this.words[mt]|=_t,this;for(var xt=_t,vt=mt;xt!==0&&vt<this.length;vt++){var Mt=this.words[vt]|0;Mt+=xt,xt=Mt>>>26,Mt&=67108863,this.words[vt]=Mt}return xt!==0&&(this.words[vt]=xt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(st){var dt=st<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this._strip();var mt;if(this.length>1)mt=1;else{dt&&(st=-st),rt(st<=67108863,"Number is too big");var _t=this.words[0]|0;mt=_t===st?0:_t<st?-1:1}return this.negative!==0?-mt|0:mt},it.prototype.cmp=function(st){if(this.negative!==0&&st.negative===0)return-1;if(this.negative===0&&st.negative!==0)return 1;var dt=this.ucmp(st);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(st){if(this.length>st.length)return 1;if(this.length<st.length)return-1;for(var dt=0,mt=this.length-1;mt>=0;mt--){var _t=this.words[mt]|0,xt=st.words[mt]|0;if(_t!==xt){_t<xt?dt=-1:_t>xt&&(dt=1);break}}return dt},it.prototype.gtn=function(st){return this.cmpn(st)===1},it.prototype.gt=function(st){return this.cmp(st)===1},it.prototype.gten=function(st){return this.cmpn(st)>=0},it.prototype.gte=function(st){return this.cmp(st)>=0},it.prototype.ltn=function(st){return this.cmpn(st)===-1},it.prototype.lt=function(st){return this.cmp(st)===-1},it.prototype.lten=function(st){return this.cmpn(st)<=0},it.prototype.lte=function(st){return this.cmp(st)<=0},it.prototype.eqn=function(st){return this.cmpn(st)===0},it.prototype.eq=function(st){return this.cmp(st)===0},it.red=function(st){return new Rt(st)},it.prototype.toRed=function(st){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),st.convertTo(this)._forceRed(st)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(st){return this.red=st,this},it.prototype.forceRed=function(st){return rt(!this.red,"Already a number in reduction context"),this._forceRed(st)},it.prototype.redAdd=function(st){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,st)},it.prototype.redIAdd=function(st){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,st)},it.prototype.redSub=function(st){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,st)},it.prototype.redISub=function(st){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,st)},it.prototype.redShl=function(st){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,st)},it.prototype.redMul=function(st){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,st),this.red.mul(this,st)},it.prototype.redIMul=function(st){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,st),this.red.imul(this,st)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(st){return rt(this.red&&!st.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,st)};var Ot={k256:null,p224:null,p192:null,p25519:null};function Ht(ht,st){this.name=ht,this.p=new it(st,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ht.prototype._tmp=function(){var st=new it(null);return st.words=new Array(Math.ceil(this.n/13)),st},Ht.prototype.ireduce=function(st){var dt=st,mt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),mt=dt.bitLength();while(mt>this.n);var _t=mt<this.n?-1:dt.ucmp(this.p);return _t===0?(dt.words[0]=0,dt.length=1):_t>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},Ht.prototype.split=function(st,dt){st.iushrn(this.n,0,dt)},Ht.prototype.imulK=function(st){return st.imul(this.k)};function qt(){Ht.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(qt,Ht),qt.prototype.split=function(st,dt){for(var mt=4194303,_t=Math.min(st.length,9),xt=0;xt<_t;xt++)dt.words[xt]=st.words[xt];if(dt.length=_t,st.length<=9){st.words[0]=0,st.length=1;return}var vt=st.words[9];for(dt.words[dt.length++]=vt&mt,xt=10;xt<st.length;xt++){var Mt=st.words[xt]|0;st.words[xt-10]=(Mt&mt)<<4|vt>>>22,vt=Mt}vt>>>=22,st.words[xt-10]=vt,vt===0&&st.length>10?st.length-=10:st.length-=9},qt.prototype.imulK=function(st){st.words[st.length]=0,st.words[st.length+1]=0,st.length+=2;for(var dt=0,mt=0;mt<st.length;mt++){var _t=st.words[mt]|0;dt+=_t*977,st.words[mt]=dt&67108863,dt=_t*64+(dt/67108864|0)}return st.words[st.length-1]===0&&(st.length--,st.words[st.length-1]===0&&st.length--),st};function Zt(){Ht.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Zt,Ht);function tr(){Ht.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(tr,Ht);function Dt(){Ht.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(Dt,Ht),Dt.prototype.imulK=function(st){for(var dt=0,mt=0;mt<st.length;mt++){var _t=(st.words[mt]|0)*19+dt,xt=_t&67108863;_t>>>=26,st.words[mt]=xt,dt=_t}return dt!==0&&(st.words[st.length++]=dt),st},it._prime=function(st){if(Ot[st])return Ot[st];var dt;if(st==="k256")dt=new qt;else if(st==="p224")dt=new Zt;else if(st==="p192")dt=new tr;else if(st==="p25519")dt=new Dt;else throw new Error("Unknown prime "+st);return Ot[st]=dt,dt};function Rt(ht){if(typeof ht=="string"){var st=it._prime(ht);this.m=st.p,this.prime=st}else rt(ht.gtn(1),"modulus must be greater than 1"),this.m=ht,this.prime=null}Rt.prototype._verify1=function(st){rt(st.negative===0,"red works only with positives"),rt(st.red,"red works only with red numbers")},Rt.prototype._verify2=function(st,dt){rt((st.negative|dt.negative)===0,"red works only with positives"),rt(st.red&&st.red===dt.red,"red works only with red numbers")},Rt.prototype.imod=function(st){return this.prime?this.prime.ireduce(st)._forceRed(this):(ft(st,st.umod(this.m)._forceRed(this)),st)},Rt.prototype.neg=function(st){return st.isZero()?st.clone():this.m.sub(st)._forceRed(this)},Rt.prototype.add=function(st,dt){this._verify2(st,dt);var mt=st.add(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt._forceRed(this)},Rt.prototype.iadd=function(st,dt){this._verify2(st,dt);var mt=st.iadd(dt);return mt.cmp(this.m)>=0&&mt.isub(this.m),mt},Rt.prototype.sub=function(st,dt){this._verify2(st,dt);var mt=st.sub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt._forceRed(this)},Rt.prototype.isub=function(st,dt){this._verify2(st,dt);var mt=st.isub(dt);return mt.cmpn(0)<0&&mt.iadd(this.m),mt},Rt.prototype.shl=function(st,dt){return this._verify1(st),this.imod(st.ushln(dt))},Rt.prototype.imul=function(st,dt){return this._verify2(st,dt),this.imod(st.imul(dt))},Rt.prototype.mul=function(st,dt){return this._verify2(st,dt),this.imod(st.mul(dt))},Rt.prototype.isqr=function(st){return this.imul(st,st.clone())},Rt.prototype.sqr=function(st){return this.mul(st,st)},Rt.prototype.sqrt=function(st){if(st.isZero())return st.clone();var dt=this.m.andln(3);if(rt(dt%2===1),dt===3){var mt=this.m.add(new it(1)).iushrn(2);return this.pow(st,mt)}for(var _t=this.m.subn(1),xt=0;!_t.isZero()&&_t.andln(1)===0;)xt++,_t.iushrn(1);rt(!_t.isZero());var vt=new it(1).toRed(this),Mt=vt.redNeg(),gt=this.m.subn(1).iushrn(1),lt=this.m.bitLength();for(lt=new it(2*lt*lt).toRed(this);this.pow(lt,gt).cmp(Mt)!==0;)lt.redIAdd(Mt);for(var wt=this.pow(lt,_t),jt=this.pow(st,_t.addn(1).iushrn(1)),It=this.pow(st,_t),Wt=xt;It.cmp(vt)!==0;){for(var Qt=It,Gt=0;Qt.cmp(vt)!==0;Gt++)Qt=Qt.redSqr();rt(Gt<Wt);var er=this.pow(wt,new it(1).iushln(Wt-Gt-1));jt=jt.redMul(er),wt=er.redSqr(),It=It.redMul(wt),Wt=Gt}return jt},Rt.prototype.invm=function(st){var dt=st._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Rt.prototype.pow=function(st,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return st.clone();var mt=4,_t=new Array(1<<mt);_t[0]=new it(1).toRed(this),_t[1]=st;for(var xt=2;xt<_t.length;xt++)_t[xt]=this.mul(_t[xt-1],st);var vt=_t[0],Mt=0,gt=0,lt=dt.bitLength()%26;for(lt===0&&(lt=26),xt=dt.length-1;xt>=0;xt--){for(var wt=dt.words[xt],jt=lt-1;jt>=0;jt--){var It=wt>>jt&1;if(vt!==_t[0]&&(vt=this.sqr(vt)),It===0&&Mt===0){gt=0;continue}Mt<<=1,Mt|=It,gt++,!(gt!==mt&&(xt!==0||jt!==0))&&(vt=this.mul(vt,_t[Mt]),gt=0,Mt=0)}lt=26}return vt},Rt.prototype.convertTo=function(st){var dt=st.umod(this.m);return dt===st?dt.clone():dt},Rt.prototype.convertFrom=function(st){var dt=st.clone();return dt.red=null,dt},it.mont=function(st){return new Nt(st)};function Nt(ht){Rt.call(this,ht),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(Nt,Rt),Nt.prototype.convertTo=function(st){return this.imod(st.ushln(this.shift))},Nt.prototype.convertFrom=function(st){var dt=this.imod(st.mul(this.rinv));return dt.red=null,dt},Nt.prototype.imul=function(st,dt){if(st.isZero()||dt.isZero())return st.words[0]=0,st.length=1,st;var mt=st.imul(dt),_t=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xt=mt.isub(_t).iushrn(this.shift),vt=xt;return xt.cmp(this.m)>=0?vt=xt.isub(this.m):xt.cmpn(0)<0&&(vt=xt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.mul=function(st,dt){if(st.isZero()||dt.isZero())return new it(0)._forceRed(this);var mt=st.mul(dt),_t=mt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xt=mt.isub(_t).iushrn(this.shift),vt=xt;return xt.cmp(this.m)>=0?vt=xt.isub(this.m):xt.cmpn(0)<0&&(vt=xt.iadd(this.m)),vt._forceRed(this)},Nt.prototype.invm=function(st){var dt=this.imod(st._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(et,commonjsGlobal)})(bn$1);var dist$1={},classes={},fastSafeStringify=stringify$3;stringify$3.default=stringify$3;stringify$3.stable=deterministicStringify;stringify$3.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions$1(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$3(et,_e,tt,rt){typeof rt>"u"&&(rt=defaultOptions$1()),decirc(et,"",0,[],void 0,0,rt);var nt;try{replacerStack.length===0?nt=JSON.stringify(et,_e,tt):nt=JSON.stringify(et,replaceGetterValues(_e),tt)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var it=arr.pop();it.length===4?Object.defineProperty(it[0],it[1],it[3]):it[0][it[1]]=it[2]}}return nt}function setReplace(et,_e,tt,rt){var nt=Object.getOwnPropertyDescriptor(rt,tt);nt.get!==void 0?nt.configurable?(Object.defineProperty(rt,tt,{value:et}),arr.push([rt,tt,_e,nt])):replacerStack.push([_e,tt,et]):(rt[tt]=et,arr.push([rt,tt,_e]))}function decirc(et,_e,tt,rt,nt,it,at){it+=1;var ot;if(typeof et=="object"&&et!==null){for(ot=0;ot<rt.length;ot++)if(rt[ot]===et){setReplace(CIRCULAR_REPLACE_NODE,et,_e,nt);return}if(typeof at.depthLimit<"u"&&it>at.depthLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(typeof at.edgesLimit<"u"&&tt+1>at.edgesLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(rt.push(et),Array.isArray(et))for(ot=0;ot<et.length;ot++)decirc(et[ot],ot,ot,rt,et,it,at);else{var ct=Object.keys(et);for(ot=0;ot<ct.length;ot++){var ut=ct[ot];decirc(et[ut],ut,ot,rt,et,it,at)}}rt.pop()}}function compareFunction(et,_e){return et<_e?-1:et>_e?1:0}function deterministicStringify(et,_e,tt,rt){typeof rt>"u"&&(rt=defaultOptions$1());var nt=deterministicDecirc(et,"",0,[],void 0,0,rt)||et,it;try{replacerStack.length===0?it=JSON.stringify(nt,_e,tt):it=JSON.stringify(nt,replaceGetterValues(_e),tt)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var at=arr.pop();at.length===4?Object.defineProperty(at[0],at[1],at[3]):at[0][at[1]]=at[2]}}return it}function deterministicDecirc(et,_e,tt,rt,nt,it,at){it+=1;var ot;if(typeof et=="object"&&et!==null){for(ot=0;ot<rt.length;ot++)if(rt[ot]===et){setReplace(CIRCULAR_REPLACE_NODE,et,_e,nt);return}try{if(typeof et.toJSON=="function")return}catch{return}if(typeof at.depthLimit<"u"&&it>at.depthLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(typeof at.edgesLimit<"u"&&tt+1>at.edgesLimit){setReplace(LIMIT_REPLACE_NODE,et,_e,nt);return}if(rt.push(et),Array.isArray(et))for(ot=0;ot<et.length;ot++)deterministicDecirc(et[ot],ot,ot,rt,et,it,at);else{var ct={},ut=Object.keys(et).sort(compareFunction);for(ot=0;ot<ut.length;ot++){var ft=ut[ot];deterministicDecirc(et[ft],ft,ot,rt,et,it,at),ct[ft]=et[ft]}if(typeof nt<"u")arr.push([nt,_e,et]),nt[_e]=ct;else return ct}rt.pop()}}function replaceGetterValues(et){return et=typeof et<"u"?et:function(_e,tt){return tt},function(_e,tt){if(replacerStack.length>0)for(var rt=0;rt<replacerStack.length;rt++){var nt=replacerStack[rt];if(nt[1]===_e&&nt[0]===tt){tt=nt[2],replacerStack.splice(rt,1);break}}return et.call(this,_e,tt)}}Object.defineProperty(classes,"__esModule",{value:!0});classes.EthereumProviderError=classes.EthereumRpcError=void 0;const fast_safe_stringify_1=fastSafeStringify;class EthereumRpcError extends Error{constructor(_e,tt,rt){if(!Number.isInteger(_e))throw new Error('"code" must be an integer.');if(!tt||typeof tt!="string")throw new Error('"message" must be a nonempty string.');super(tt),this.code=_e,rt!==void 0&&(this.data=rt)}serialize(){const _e={code:this.code,message:this.message};return this.data!==void 0&&(_e.data=this.data),this.stack&&(_e.stack=this.stack),_e}toString(){return fast_safe_stringify_1.default(this.serialize(),stringifyReplacer,2)}}classes.EthereumRpcError=EthereumRpcError;class EthereumProviderError extends EthereumRpcError{constructor(_e,tt,rt){if(!isValidEthProviderCode(_e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(_e,tt,rt)}}classes.EthereumProviderError=EthereumProviderError;function isValidEthProviderCode(et){return Number.isInteger(et)&&et>=1e3&&et<=4999}function stringifyReplacer(et,_e){if(_e!=="[Circular]")return _e}var utils$5={},errorConstants={};Object.defineProperty(errorConstants,"__esModule",{value:!0});errorConstants.errorValues=errorConstants.errorCodes=void 0;errorConstants.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};errorConstants.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.serializeError=et.isValidCode=et.getMessageFromCode=et.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const _e=errorConstants,tt=classes,rt=_e.errorCodes.rpc.internal,nt="Unspecified error message. This is a bug, please report it.",it={code:rt,message:at(rt)};et.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function at(bt,Et=nt){if(Number.isInteger(bt)){const Ct=bt.toString();if(yt(_e.errorValues,Ct))return _e.errorValues[Ct].message;if(ut(bt))return et.JSON_RPC_SERVER_ERROR_MESSAGE}return Et}et.getMessageFromCode=at;function ot(bt){if(!Number.isInteger(bt))return!1;const Et=bt.toString();return!!(_e.errorValues[Et]||ut(bt))}et.isValidCode=ot;function ct(bt,{fallbackError:Et=it,shouldIncludeStack:Ct=!1}={}){var At,St;if(!Et||!Number.isInteger(Et.code)||typeof Et.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(bt instanceof tt.EthereumRpcError)return bt.serialize();const Tt={};if(bt&&typeof bt=="object"&&!Array.isArray(bt)&&yt(bt,"code")&&ot(bt.code)){const kt=bt;Tt.code=kt.code,kt.message&&typeof kt.message=="string"?(Tt.message=kt.message,yt(kt,"data")&&(Tt.data=kt.data)):(Tt.message=at(Tt.code),Tt.data={originalError:ft(bt)})}else{Tt.code=Et.code;const kt=(At=bt)===null||At===void 0?void 0:At.message;Tt.message=kt&&typeof kt=="string"?kt:Et.message,Tt.data={originalError:ft(bt)}}const $t=(St=bt)===null||St===void 0?void 0:St.stack;return Ct&&bt&&$t&&typeof $t=="string"&&(Tt.stack=$t),Tt}et.serializeError=ct;function ut(bt){return bt>=-32099&&bt<=-32e3}function ft(bt){return bt&&typeof bt=="object"&&!Array.isArray(bt)?Object.assign({},bt):bt}function yt(bt,Et){return Object.prototype.hasOwnProperty.call(bt,Et)}})(utils$5);var errors={};Object.defineProperty(errors,"__esModule",{value:!0});errors.ethErrors=void 0;const classes_1=classes,utils_1=utils$5,error_constants_1=errorConstants;errors.ethErrors={rpc:{parse:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse,et),invalidRequest:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest,et),invalidParams:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams,et),methodNotFound:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound,et),internal:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal,et),server:et=>{if(!et||typeof et!="object"||Array.isArray(et))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:_e}=et;if(!Number.isInteger(_e)||_e>-32005||_e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(_e,et)},invalidInput:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput,et),resourceNotFound:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound,et),resourceUnavailable:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable,et),transactionRejected:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected,et),methodNotSupported:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported,et),limitExceeded:et=>getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded,et)},provider:{userRejectedRequest:et=>getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest,et),unauthorized:et=>getEthProviderError(error_constants_1.errorCodes.provider.unauthorized,et),unsupportedMethod:et=>getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod,et),disconnected:et=>getEthProviderError(error_constants_1.errorCodes.provider.disconnected,et),chainDisconnected:et=>getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected,et),custom:et=>{if(!et||typeof et!="object"||Array.isArray(et))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:_e,message:tt,data:rt}=et;if(!tt||typeof tt!="string")throw new Error('"message" must be a nonempty string');return new classes_1.EthereumProviderError(_e,tt,rt)}}};function getEthJsonRpcError(et,_e){const[tt,rt]=parseOpts(_e);return new classes_1.EthereumRpcError(et,tt||utils_1.getMessageFromCode(et),rt)}function getEthProviderError(et,_e){const[tt,rt]=parseOpts(_e);return new classes_1.EthereumProviderError(et,tt||utils_1.getMessageFromCode(et),rt)}function parseOpts(et){if(et){if(typeof et=="string")return[et];if(typeof et=="object"&&!Array.isArray(et)){const{message:_e,data:tt}=et;if(_e&&typeof _e!="string")throw new Error("Must specify string message.");return[_e||void 0,tt]}}return[]}(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.getMessageFromCode=et.serializeError=et.EthereumProviderError=et.EthereumRpcError=et.ethErrors=et.errorCodes=void 0;const _e=classes;Object.defineProperty(et,"EthereumRpcError",{enumerable:!0,get:function(){return _e.EthereumRpcError}}),Object.defineProperty(et,"EthereumProviderError",{enumerable:!0,get:function(){return _e.EthereumProviderError}});const tt=utils$5;Object.defineProperty(et,"serializeError",{enumerable:!0,get:function(){return tt.serializeError}}),Object.defineProperty(et,"getMessageFromCode",{enumerable:!0,get:function(){return tt.getMessageFromCode}});const rt=errors;Object.defineProperty(et,"ethErrors",{enumerable:!0,get:function(){return rt.ethErrors}});const nt=errorConstants;Object.defineProperty(et,"errorCodes",{enumerable:!0,get:function(){return nt.errorCodes}})})(dist$1);var EventListener={};Object.defineProperty(EventListener,"__esModule",{value:!0});EventListener.EVENTS=void 0;EventListener.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Session$1={},sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=globalThis:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(et){return Object.prototype.toString.call(et)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(et){return typeof et=="object"&&et.buffer&&et.buffer.constructor===ArrayBuffer});var createOutputMethod=function(et,_e){return function(tt){return new Sha256(_e,!0).update(tt)[et]()}},createMethod=function(et){var _e=createOutputMethod("hex",et);NODE_JS&&(_e=nodeWrap(_e,et)),_e.create=function(){return new Sha256(et)},_e.update=function(nt){return _e.create().update(nt)};for(var tt=0;tt<OUTPUT_TYPES.length;++tt){var rt=OUTPUT_TYPES[tt];_e[rt]=createOutputMethod(rt,et)}return _e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(et){if(typeof et=="string")return crypto.createHash(algorithm).update(et,"utf8").digest("hex");if(et==null)throw new Error(ERROR);return et.constructor===ArrayBuffer&&(et=new Uint8Array(et)),Array.isArray(et)||ArrayBuffer.isView(et)||et.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(et)).digest("hex"):method(et)};return nodeMethod},createHmacOutputMethod=function(et,_e){return function(tt,rt){return new HmacSha256(tt,_e,!0).update(rt)[et]()}},createHmacMethod=function(et){var _e=createHmacOutputMethod("hex",et);_e.create=function(nt){return new HmacSha256(nt,et)},_e.update=function(nt,it){return _e.create(nt).update(it)};for(var tt=0;tt<OUTPUT_TYPES.length;++tt){var rt=OUTPUT_TYPES[tt];_e[rt]=createHmacOutputMethod(rt,et)}return _e};function Sha256(et,_e){_e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],et?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=et}Sha256.prototype.update=function(et){if(!this.finalized){var _e,tt=typeof et;if(tt!=="string"){if(tt==="object"){if(et===null)throw new Error(ERROR);if(ARRAY_BUFFER&&et.constructor===ArrayBuffer)et=new Uint8Array(et);else if(!Array.isArray(et)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(et)))throw new Error(ERROR)}else throw new Error(ERROR);_e=!0}for(var rt,nt=0,it,at=et.length,ot=this.blocks;nt<at;){if(this.hashed&&(this.hashed=!1,ot[0]=this.block,ot[16]=ot[1]=ot[2]=ot[3]=ot[4]=ot[5]=ot[6]=ot[7]=ot[8]=ot[9]=ot[10]=ot[11]=ot[12]=ot[13]=ot[14]=ot[15]=0),_e)for(it=this.start;nt<at&&it<64;++nt)ot[it>>2]|=et[nt]<<SHIFT[it++&3];else for(it=this.start;nt<at&&it<64;++nt)rt=et.charCodeAt(nt),rt<128?ot[it>>2]|=rt<<SHIFT[it++&3]:rt<2048?(ot[it>>2]|=(192|rt>>6)<<SHIFT[it++&3],ot[it>>2]|=(128|rt&63)<<SHIFT[it++&3]):rt<55296||rt>=57344?(ot[it>>2]|=(224|rt>>12)<<SHIFT[it++&3],ot[it>>2]|=(128|rt>>6&63)<<SHIFT[it++&3],ot[it>>2]|=(128|rt&63)<<SHIFT[it++&3]):(rt=65536+((rt&1023)<<10|et.charCodeAt(++nt)&1023),ot[it>>2]|=(240|rt>>18)<<SHIFT[it++&3],ot[it>>2]|=(128|rt>>12&63)<<SHIFT[it++&3],ot[it>>2]|=(128|rt>>6&63)<<SHIFT[it++&3],ot[it>>2]|=(128|rt&63)<<SHIFT[it++&3]);this.lastByteIndex=it,this.bytes+=it-this.start,it>=64?(this.block=ot[16],this.start=it-64,this.hash(),this.hashed=!0):this.start=it}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var et=this.blocks,_e=this.lastByteIndex;et[16]=this.block,et[_e>>2]|=EXTRA[_e&3],this.block=et[16],_e>=56&&(this.hashed||this.hash(),et[0]=this.block,et[16]=et[1]=et[2]=et[3]=et[4]=et[5]=et[6]=et[7]=et[8]=et[9]=et[10]=et[11]=et[12]=et[13]=et[14]=et[15]=0),et[14]=this.hBytes<<3|this.bytes>>>29,et[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var et=this.h0,_e=this.h1,tt=this.h2,rt=this.h3,nt=this.h4,it=this.h5,at=this.h6,ot=this.h7,ct=this.blocks,ut,ft,yt,bt,Et,Ct,At,St,Tt,$t,kt;for(ut=16;ut<64;++ut)Et=ct[ut-15],ft=(Et>>>7|Et<<25)^(Et>>>18|Et<<14)^Et>>>3,Et=ct[ut-2],yt=(Et>>>17|Et<<15)^(Et>>>19|Et<<13)^Et>>>10,ct[ut]=ct[ut-16]+ft+ct[ut-7]+yt<<0;for(kt=_e&tt,ut=0;ut<64;ut+=4)this.first?(this.is224?(St=300032,Et=ct[0]-1413257819,ot=Et-150054599<<0,rt=Et+24177077<<0):(St=704751109,Et=ct[0]-210244248,ot=Et-1521486534<<0,rt=Et+143694565<<0),this.first=!1):(ft=(et>>>2|et<<30)^(et>>>13|et<<19)^(et>>>22|et<<10),yt=(nt>>>6|nt<<26)^(nt>>>11|nt<<21)^(nt>>>25|nt<<7),St=et&_e,bt=St^et&tt^kt,At=nt&it^~nt&at,Et=ot+yt+At+K[ut]+ct[ut],Ct=ft+bt,ot=rt+Et<<0,rt=Et+Ct<<0),ft=(rt>>>2|rt<<30)^(rt>>>13|rt<<19)^(rt>>>22|rt<<10),yt=(ot>>>6|ot<<26)^(ot>>>11|ot<<21)^(ot>>>25|ot<<7),Tt=rt&et,bt=Tt^rt&_e^St,At=ot&nt^~ot&it,Et=at+yt+At+K[ut+1]+ct[ut+1],Ct=ft+bt,at=tt+Et<<0,tt=Et+Ct<<0,ft=(tt>>>2|tt<<30)^(tt>>>13|tt<<19)^(tt>>>22|tt<<10),yt=(at>>>6|at<<26)^(at>>>11|at<<21)^(at>>>25|at<<7),$t=tt&rt,bt=$t^tt&et^Tt,At=at&ot^~at&nt,Et=it+yt+At+K[ut+2]+ct[ut+2],Ct=ft+bt,it=_e+Et<<0,_e=Et+Ct<<0,ft=(_e>>>2|_e<<30)^(_e>>>13|_e<<19)^(_e>>>22|_e<<10),yt=(it>>>6|it<<26)^(it>>>11|it<<21)^(it>>>25|it<<7),kt=_e&tt,bt=kt^_e&rt^$t,At=it&at^~it&ot,Et=nt+yt+At+K[ut+3]+ct[ut+3],Ct=ft+bt,nt=et+Et<<0,et=Et+Ct<<0;this.h0=this.h0+et<<0,this.h1=this.h1+_e<<0,this.h2=this.h2+tt<<0,this.h3=this.h3+rt<<0,this.h4=this.h4+nt<<0,this.h5=this.h5+it<<0,this.h6=this.h6+at<<0,this.h7=this.h7+ot<<0},Sha256.prototype.hex=function(){this.finalize();var et=this.h0,_e=this.h1,tt=this.h2,rt=this.h3,nt=this.h4,it=this.h5,at=this.h6,ot=this.h7,ct=HEX_CHARS[et>>28&15]+HEX_CHARS[et>>24&15]+HEX_CHARS[et>>20&15]+HEX_CHARS[et>>16&15]+HEX_CHARS[et>>12&15]+HEX_CHARS[et>>8&15]+HEX_CHARS[et>>4&15]+HEX_CHARS[et&15]+HEX_CHARS[_e>>28&15]+HEX_CHARS[_e>>24&15]+HEX_CHARS[_e>>20&15]+HEX_CHARS[_e>>16&15]+HEX_CHARS[_e>>12&15]+HEX_CHARS[_e>>8&15]+HEX_CHARS[_e>>4&15]+HEX_CHARS[_e&15]+HEX_CHARS[tt>>28&15]+HEX_CHARS[tt>>24&15]+HEX_CHARS[tt>>20&15]+HEX_CHARS[tt>>16&15]+HEX_CHARS[tt>>12&15]+HEX_CHARS[tt>>8&15]+HEX_CHARS[tt>>4&15]+HEX_CHARS[tt&15]+HEX_CHARS[rt>>28&15]+HEX_CHARS[rt>>24&15]+HEX_CHARS[rt>>20&15]+HEX_CHARS[rt>>16&15]+HEX_CHARS[rt>>12&15]+HEX_CHARS[rt>>8&15]+HEX_CHARS[rt>>4&15]+HEX_CHARS[rt&15]+HEX_CHARS[nt>>28&15]+HEX_CHARS[nt>>24&15]+HEX_CHARS[nt>>20&15]+HEX_CHARS[nt>>16&15]+HEX_CHARS[nt>>12&15]+HEX_CHARS[nt>>8&15]+HEX_CHARS[nt>>4&15]+HEX_CHARS[nt&15]+HEX_CHARS[it>>28&15]+HEX_CHARS[it>>24&15]+HEX_CHARS[it>>20&15]+HEX_CHARS[it>>16&15]+HEX_CHARS[it>>12&15]+HEX_CHARS[it>>8&15]+HEX_CHARS[it>>4&15]+HEX_CHARS[it&15]+HEX_CHARS[at>>28&15]+HEX_CHARS[at>>24&15]+HEX_CHARS[at>>20&15]+HEX_CHARS[at>>16&15]+HEX_CHARS[at>>12&15]+HEX_CHARS[at>>8&15]+HEX_CHARS[at>>4&15]+HEX_CHARS[at&15];return this.is224||(ct+=HEX_CHARS[ot>>28&15]+HEX_CHARS[ot>>24&15]+HEX_CHARS[ot>>20&15]+HEX_CHARS[ot>>16&15]+HEX_CHARS[ot>>12&15]+HEX_CHARS[ot>>8&15]+HEX_CHARS[ot>>4&15]+HEX_CHARS[ot&15]),ct},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var et=this.h0,_e=this.h1,tt=this.h2,rt=this.h3,nt=this.h4,it=this.h5,at=this.h6,ot=this.h7,ct=[et>>24&255,et>>16&255,et>>8&255,et&255,_e>>24&255,_e>>16&255,_e>>8&255,_e&255,tt>>24&255,tt>>16&255,tt>>8&255,tt&255,rt>>24&255,rt>>16&255,rt>>8&255,rt&255,nt>>24&255,nt>>16&255,nt>>8&255,nt&255,it>>24&255,it>>16&255,it>>8&255,it&255,at>>24&255,at>>16&255,at>>8&255,at&255];return this.is224||ct.push(ot>>24&255,ot>>16&255,ot>>8&255,ot&255),ct},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var et=new ArrayBuffer(this.is224?28:32),_e=new DataView(et);return _e.setUint32(0,this.h0),_e.setUint32(4,this.h1),_e.setUint32(8,this.h2),_e.setUint32(12,this.h3),_e.setUint32(16,this.h4),_e.setUint32(20,this.h5),_e.setUint32(24,this.h6),this.is224||_e.setUint32(28,this.h7),et};function HmacSha256(et,_e,tt){var rt,nt=typeof et;if(nt==="string"){var it=[],at=et.length,ot=0,ct;for(rt=0;rt<at;++rt)ct=et.charCodeAt(rt),ct<128?it[ot++]=ct:ct<2048?(it[ot++]=192|ct>>6,it[ot++]=128|ct&63):ct<55296||ct>=57344?(it[ot++]=224|ct>>12,it[ot++]=128|ct>>6&63,it[ot++]=128|ct&63):(ct=65536+((ct&1023)<<10|et.charCodeAt(++rt)&1023),it[ot++]=240|ct>>18,it[ot++]=128|ct>>12&63,it[ot++]=128|ct>>6&63,it[ot++]=128|ct&63);et=it}else if(nt==="object"){if(et===null)throw new Error(ERROR);if(ARRAY_BUFFER&&et.constructor===ArrayBuffer)et=new Uint8Array(et);else if(!Array.isArray(et)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(et)))throw new Error(ERROR)}else throw new Error(ERROR);et.length>64&&(et=new Sha256(_e,!0).update(et).array());var ut=[],ft=[];for(rt=0;rt<64;++rt){var yt=et[rt]||0;ut[rt]=92^yt,ft[rt]=54^yt}Sha256.call(this,_e,tt),this.update(ft),this.oKeyPad=ut,this.inner=!0,this.sharedMemory=tt}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var et=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(et),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(et,_e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,rt){tt.__proto__=rt}||function(tt,rt){for(var nt in rt)rt.hasOwnProperty(nt)&&(tt[nt]=rt[nt])},extendStatics(et,_e)};function __extends(et,_e){extendStatics(et,_e);function tt(){this.constructor=et}et.prototype=_e===null?Object.create(_e):(tt.prototype=_e.prototype,new tt)}function isFunction$1(et){return typeof et=="function"}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config$1={Promise:void 0,set useDeprecatedSynchronousErrorHandling(et){if(et){var _e=new Error;""+_e.stack}_enable_super_gross_mode_that_will_cause_bad_things=et},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(et){setTimeout(function(){throw et},0)}var empty$1={closed:!0,next:function(et){},error:function(et){if(config$1.useDeprecatedSynchronousErrorHandling)throw et;hostReportError(et)},complete:function(){}},isArray$9=function(){return Array.isArray||function(et){return et&&typeof et.length=="number"}}();function isObject$3(et){return et!==null&&typeof et=="object"}var UnsubscriptionErrorImpl=function(){function et(_e){return Error.call(this),this.message=_e?_e.length+` errors occurred during unsubscription:
`+_e.map(function(tt,rt){return rt+1+") "+tt.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=_e,this}return et.prototype=Object.create(Error.prototype),et}(),UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function et(_e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,_e&&(this._ctorUnsubscribe=!0,this._unsubscribe=_e)}return et.prototype.unsubscribe=function(){var _e;if(!this.closed){var tt=this,rt=tt._parentOrParents,nt=tt._ctorUnsubscribe,it=tt._unsubscribe,at=tt._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,rt instanceof et)rt.remove(this);else if(rt!==null)for(var ot=0;ot<rt.length;++ot){var ct=rt[ot];ct.remove(this)}if(isFunction$1(it)){nt&&(this._unsubscribe=void 0);try{it.call(this)}catch(yt){_e=yt instanceof UnsubscriptionError?flattenUnsubscriptionErrors(yt.errors):[yt]}}if(isArray$9(at))for(var ot=-1,ut=at.length;++ot<ut;){var ft=at[ot];if(isObject$3(ft))try{ft.unsubscribe()}catch(bt){_e=_e||[],bt instanceof UnsubscriptionError?_e=_e.concat(flattenUnsubscriptionErrors(bt.errors)):_e.push(bt)}}if(_e)throw new UnsubscriptionError(_e)}},et.prototype.add=function(_e){var tt=_e;if(!_e)return et.EMPTY;switch(typeof _e){case"function":tt=new et(_e);case"object":if(tt===this||tt.closed||typeof tt.unsubscribe!="function")return tt;if(this.closed)return tt.unsubscribe(),tt;if(!(tt instanceof et)){var rt=tt;tt=new et,tt._subscriptions=[rt]}break;default:throw new Error("unrecognized teardown "+_e+" added to Subscription.")}var nt=tt._parentOrParents;if(nt===null)tt._parentOrParents=this;else if(nt instanceof et){if(nt===this)return tt;tt._parentOrParents=[nt,this]}else if(nt.indexOf(this)===-1)nt.push(this);else return tt;var it=this._subscriptions;return it===null?this._subscriptions=[tt]:it.push(tt),tt},et.prototype.remove=function(_e){var tt=this._subscriptions;if(tt){var rt=tt.indexOf(_e);rt!==-1&&tt.splice(rt,1)}},et.EMPTY=function(_e){return _e.closed=!0,_e}(new et),et}();function flattenUnsubscriptionErrors(et){return et.reduce(function(_e,tt){return _e.concat(tt instanceof UnsubscriptionError?tt.errors:tt)},[])}var rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Subscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;switch(it.syncErrorValue=null,it.syncErrorThrown=!1,it.syncErrorThrowable=!1,it.isStopped=!1,arguments.length){case 0:it.destination=empty$1;break;case 1:if(!tt){it.destination=empty$1;break}if(typeof tt=="object"){tt instanceof _e?(it.syncErrorThrowable=tt.syncErrorThrowable,it.destination=tt,tt.add(it)):(it.syncErrorThrowable=!0,it.destination=new SafeSubscriber(it,tt));break}default:it.syncErrorThrowable=!0,it.destination=new SafeSubscriber(it,tt,rt,nt);break}return it}return _e.prototype[rxSubscriber]=function(){return this},_e.create=function(tt,rt,nt){var it=new _e(tt,rt,nt);return it.syncErrorThrowable=!1,it},_e.prototype.next=function(tt){this.isStopped||this._next(tt)},_e.prototype.error=function(tt){this.isStopped||(this.isStopped=!0,this._error(tt))},_e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},_e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,et.prototype.unsubscribe.call(this))},_e.prototype._next=function(tt){this.destination.next(tt)},_e.prototype._error=function(tt){this.destination.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},_e.prototype._unsubscribeAndRecycle=function(){var tt=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=tt,this},_e}(Subscription),SafeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this)||this;at._parentSubscriber=tt;var ot,ct=at;return isFunction$1(rt)?ot=rt:rt&&(ot=rt.next,nt=rt.error,it=rt.complete,rt!==empty$1&&(ct=Object.create(rt),isFunction$1(ct.unsubscribe)&&at.add(ct.unsubscribe.bind(ct)),ct.unsubscribe=at.unsubscribe.bind(at))),at._context=ct,at._next=ot,at._error=nt,at._complete=it,at}return _e.prototype.next=function(tt){if(!this.isStopped&&this._next){var rt=this._parentSubscriber;!config$1.useDeprecatedSynchronousErrorHandling||!rt.syncErrorThrowable?this.__tryOrUnsub(this._next,tt):this.__tryOrSetError(rt,this._next,tt)&&this.unsubscribe()}},_e.prototype.error=function(tt){if(!this.isStopped){var rt=this._parentSubscriber,nt=config$1.useDeprecatedSynchronousErrorHandling;if(this._error)!nt||!rt.syncErrorThrowable?(this.__tryOrUnsub(this._error,tt),this.unsubscribe()):(this.__tryOrSetError(rt,this._error,tt),this.unsubscribe());else if(rt.syncErrorThrowable)nt?(rt.syncErrorValue=tt,rt.syncErrorThrown=!0):hostReportError(tt),this.unsubscribe();else{if(this.unsubscribe(),nt)throw tt;hostReportError(tt)}}},_e.prototype.complete=function(){var tt=this;if(!this.isStopped){var rt=this._parentSubscriber;if(this._complete){var nt=function(){return tt._complete.call(tt._context)};!config$1.useDeprecatedSynchronousErrorHandling||!rt.syncErrorThrowable?(this.__tryOrUnsub(nt),this.unsubscribe()):(this.__tryOrSetError(rt,nt),this.unsubscribe())}else this.unsubscribe()}},_e.prototype.__tryOrUnsub=function(tt,rt){try{tt.call(this._context,rt)}catch(nt){if(this.unsubscribe(),config$1.useDeprecatedSynchronousErrorHandling)throw nt;hostReportError(nt)}},_e.prototype.__tryOrSetError=function(tt,rt,nt){if(!config$1.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{rt.call(this._context,nt)}catch(it){return config$1.useDeprecatedSynchronousErrorHandling?(tt.syncErrorValue=it,tt.syncErrorThrown=!0,!0):(hostReportError(it),!0)}return!1},_e.prototype._unsubscribe=function(){var tt=this._parentSubscriber;this._context=null,this._parentSubscriber=null,tt.unsubscribe()},_e}(Subscriber);function canReportError(et){for(;et;){var _e=et,tt=_e.closed,rt=_e.destination,nt=_e.isStopped;if(tt||nt)return!1;rt&&rt instanceof Subscriber?et=rt:et=null}return!0}function toSubscriber(et,_e,tt){if(et){if(et instanceof Subscriber)return et;if(et[rxSubscriber])return et[rxSubscriber]()}return!et&&!_e&&!tt?new Subscriber(empty$1):new Subscriber(et,_e,tt)}var observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(et){return et}function pipe$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return pipeFromArray(et)}function pipeFromArray(et){return et.length===0?identity:et.length===1?et[0]:function(tt){return et.reduce(function(rt,nt){return nt(rt)},tt)}}var Observable=function(){function et(_e){this._isScalar=!1,_e&&(this._subscribe=_e)}return et.prototype.lift=function(_e){var tt=new et;return tt.source=this,tt.operator=_e,tt},et.prototype.subscribe=function(_e,tt,rt){var nt=this.operator,it=toSubscriber(_e,tt,rt);if(nt?it.add(nt.call(it,this.source)):it.add(this.source||config$1.useDeprecatedSynchronousErrorHandling&&!it.syncErrorThrowable?this._subscribe(it):this._trySubscribe(it)),config$1.useDeprecatedSynchronousErrorHandling&&it.syncErrorThrowable&&(it.syncErrorThrowable=!1,it.syncErrorThrown))throw it.syncErrorValue;return it},et.prototype._trySubscribe=function(_e){try{return this._subscribe(_e)}catch(tt){config$1.useDeprecatedSynchronousErrorHandling&&(_e.syncErrorThrown=!0,_e.syncErrorValue=tt),canReportError(_e)?_e.error(tt):console.warn(tt)}},et.prototype.forEach=function(_e,tt){var rt=this;return tt=getPromiseCtor(tt),new tt(function(nt,it){var at;at=rt.subscribe(function(ot){try{_e(ot)}catch(ct){it(ct),at&&at.unsubscribe()}},it,nt)})},et.prototype._subscribe=function(_e){var tt=this.source;return tt&&tt.subscribe(_e)},et.prototype[observable]=function(){return this},et.prototype.pipe=function(){for(var _e=[],tt=0;tt<arguments.length;tt++)_e[tt]=arguments[tt];return _e.length===0?this:pipeFromArray(_e)(this)},et.prototype.toPromise=function(_e){var tt=this;return _e=getPromiseCtor(_e),new _e(function(rt,nt){var it;tt.subscribe(function(at){return it=at},function(at){return nt(at)},function(){return rt(it)})})},et.create=function(_e){return new et(_e)},et}();function getPromiseCtor(et){if(et||(et=config$1.Promise||Promise),!et)throw new Error("no Promise impl found");return et}var ObjectUnsubscribedErrorImpl=function(){function et(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return et.prototype=Object.create(Error.prototype),et}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.subject=tt,nt.subscriber=rt,nt.closed=!1,nt}return _e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var tt=this.subject,rt=tt.observers;if(this.subject=null,!(!rt||rt.length===0||tt.isStopped||tt.closed)){var nt=rt.indexOf(this.subscriber);nt!==-1&&rt.splice(nt,1)}}},_e}(Subscription),SubjectSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.destination=tt,rt}return _e}(Subscriber),Subject=function(et){__extends(_e,et);function _e(){var tt=et.call(this)||this;return tt.observers=[],tt.closed=!1,tt.isStopped=!1,tt.hasError=!1,tt.thrownError=null,tt}return _e.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},_e.prototype.lift=function(tt){var rt=new AnonymousSubject(this,this);return rt.operator=tt,rt},_e.prototype.next=function(tt){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var rt=this.observers,nt=rt.length,it=rt.slice(),at=0;at<nt;at++)it[at].next(tt)},_e.prototype.error=function(tt){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=tt,this.isStopped=!0;for(var rt=this.observers,nt=rt.length,it=rt.slice(),at=0;at<nt;at++)it[at].error(tt);this.observers.length=0},_e.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var tt=this.observers,rt=tt.length,nt=tt.slice(),it=0;it<rt;it++)nt[it].complete();this.observers.length=0},_e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},_e.prototype._trySubscribe=function(tt){if(this.closed)throw new ObjectUnsubscribedError;return et.prototype._trySubscribe.call(this,tt)},_e.prototype._subscribe=function(tt){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(tt.error(this.thrownError),Subscription.EMPTY):this.isStopped?(tt.complete(),Subscription.EMPTY):(this.observers.push(tt),new SubjectSubscription(this,tt))},_e.prototype.asObservable=function(){var tt=new Observable;return tt.source=this,tt},_e.create=function(tt,rt){return new AnonymousSubject(tt,rt)},_e}(Observable),AnonymousSubject=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.destination=tt,nt.source=rt,nt}return _e.prototype.next=function(tt){var rt=this.destination;rt&&rt.next&&rt.next(tt)},_e.prototype.error=function(tt){var rt=this.destination;rt&&rt.error&&this.destination.error(tt)},_e.prototype.complete=function(){var tt=this.destination;tt&&tt.complete&&this.destination.complete()},_e.prototype._subscribe=function(tt){var rt=this.source;return rt?this.source.subscribe(tt):Subscription.EMPTY},_e}(Subject);function refCount(){return function(_e){return _e.lift(new RefCountOperator(_e))}}var RefCountOperator=function(){function et(_e){this.connectable=_e}return et.prototype.call=function(_e,tt){var rt=this.connectable;rt._refCount++;var nt=new RefCountSubscriber(_e,rt),it=tt.subscribe(nt);return nt.closed||(nt.connection=rt.connect()),it},et}(),RefCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.connectable=rt,nt}return _e.prototype._unsubscribe=function(){var tt=this.connectable;if(!tt){this.connection=null;return}this.connectable=null;var rt=tt._refCount;if(rt<=0){this.connection=null;return}if(tt._refCount=rt-1,rt>1){this.connection=null;return}var nt=this.connection,it=tt._connection;this.connection=null,it&&(!nt||it===nt)&&it.unsubscribe()},_e}(Subscriber),ConnectableObservable=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.source=tt,nt.subjectFactory=rt,nt._refCount=0,nt._isComplete=!1,nt}return _e.prototype._subscribe=function(tt){return this.getSubject().subscribe(tt)},_e.prototype.getSubject=function(){var tt=this._subject;return(!tt||tt.isStopped)&&(this._subject=this.subjectFactory()),this._subject},_e.prototype.connect=function(){var tt=this._connection;return tt||(this._isComplete=!1,tt=this._connection=new Subscription,tt.add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),tt.closed&&(this._connection=null,tt=Subscription.EMPTY)),tt},_e.prototype.refCount=function(){return refCount()(this)},_e}(Observable),connectableObservableDescriptor=function(){var et=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}}}(),ConnectableSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.connectable=rt,nt}return _e.prototype._error=function(tt){this._unsubscribe(),et.prototype._error.call(this,tt)},_e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){var tt=this.connectable;if(tt){this.connectable=null;var rt=tt._connection;tt._refCount=0,tt._subject=null,tt._connection=null,rt&&rt.unsubscribe()}},_e}(SubjectSubscriber);function groupBy(et,_e,tt,rt){return function(nt){return nt.lift(new GroupByOperator(et,_e,tt,rt))}}var GroupByOperator=function(){function et(_e,tt,rt,nt){this.keySelector=_e,this.elementSelector=tt,this.durationSelector=rt,this.subjectSelector=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new GroupBySubscriber(_e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},et}(),GroupBySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var ot=et.call(this,tt)||this;return ot.keySelector=rt,ot.elementSelector=nt,ot.durationSelector=it,ot.subjectSelector=at,ot.groups=null,ot.attemptedToUnsubscribe=!1,ot.count=0,ot}return _e.prototype._next=function(tt){var rt;try{rt=this.keySelector(tt)}catch(nt){this.error(nt);return}this._group(tt,rt)},_e.prototype._group=function(tt,rt){var nt=this.groups;nt||(nt=this.groups=new Map);var it=nt.get(rt),at;if(this.elementSelector)try{at=this.elementSelector(tt)}catch(ut){this.error(ut)}else at=tt;if(!it){it=this.subjectSelector?this.subjectSelector():new Subject,nt.set(rt,it);var ot=new GroupedObservable(rt,it,this);if(this.destination.next(ot),this.durationSelector){var ct=void 0;try{ct=this.durationSelector(new GroupedObservable(rt,it))}catch(ut){this.error(ut);return}this.add(ct.subscribe(new GroupDurationSubscriber(rt,it,this)))}}it.closed||it.next(at)},_e.prototype._error=function(tt){var rt=this.groups;rt&&(rt.forEach(function(nt,it){nt.error(tt)}),rt.clear()),this.destination.error(tt)},_e.prototype._complete=function(){var tt=this.groups;tt&&(tt.forEach(function(rt,nt){rt.complete()}),tt.clear()),this.destination.complete()},_e.prototype.removeGroup=function(tt){this.groups.delete(tt)},_e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&et.prototype.unsubscribe.call(this))},_e}(Subscriber),GroupDurationSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,rt)||this;return it.key=tt,it.group=rt,it.parent=nt,it}return _e.prototype._next=function(tt){this.complete()},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.parent,nt=tt.key;this.key=this.parent=null,rt&&rt.removeGroup(nt)},_e}(Subscriber),GroupedObservable=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;return it.key=tt,it.groupSubject=rt,it.refCountSubscription=nt,it}return _e.prototype._subscribe=function(tt){var rt=new Subscription,nt=this,it=nt.refCountSubscription,at=nt.groupSubject;return it&&!it.closed&&rt.add(new InnerRefCountSubscription(it)),rt.add(at.subscribe(tt)),rt},_e}(Observable),InnerRefCountSubscription=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt.parent=tt,tt.count++,rt}return _e.prototype.unsubscribe=function(){var tt=this.parent;!tt.closed&&!this.closed&&(et.prototype.unsubscribe.call(this),tt.count-=1,tt.count===0&&tt.attemptedToUnsubscribe&&tt.unsubscribe())},_e}(Subscription),BehaviorSubject=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt._value=tt,rt}return Object.defineProperty(_e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),_e.prototype._subscribe=function(tt){var rt=et.prototype._subscribe.call(this,tt);return rt&&!rt.closed&&tt.next(this._value),rt},_e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},_e.prototype.next=function(tt){et.prototype.next.call(this,this._value=tt)},_e}(Subject),Action$1=function(et){__extends(_e,et);function _e(tt,rt){return et.call(this)||this}return _e.prototype.schedule=function(tt,rt){return this},_e}(Subscription),AsyncAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt.pending=!1,nt}return _e.prototype.schedule=function(tt,rt){if(rt===void 0&&(rt=0),this.closed)return this;this.state=tt;var nt=this.id,it=this.scheduler;return nt!=null&&(this.id=this.recycleAsyncId(it,nt,rt)),this.pending=!0,this.delay=rt,this.id=this.id||this.requestAsyncId(it,this.id,rt),this},_e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),setInterval(tt.flush.bind(tt,this),nt)},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&this.delay===nt&&this.pending===!1)return rt;clearInterval(rt)},_e.prototype.execute=function(tt,rt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var nt=this._execute(tt,rt);if(nt)return nt;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},_e.prototype._execute=function(tt,rt){var nt=!1,it=void 0;try{this.work(tt)}catch(at){nt=!0,it=!!at&&at||new Error(at)}if(nt)return this.unsubscribe(),it},_e.prototype._unsubscribe=function(){var tt=this.id,rt=this.scheduler,nt=rt.actions,it=nt.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,it!==-1&&nt.splice(it,1),tt!=null&&(this.id=this.recycleAsyncId(rt,tt,null)),this.delay=null},_e}(Action$1),QueueAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.schedule=function(tt,rt){return rt===void 0&&(rt=0),rt>0?et.prototype.schedule.call(this,tt,rt):(this.delay=rt,this.state=tt,this.scheduler.flush(this),this)},_e.prototype.execute=function(tt,rt){return rt>0||this.closed?et.prototype.execute.call(this,tt,rt):this._execute(tt,rt)},_e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):tt.flush(this)},_e}(AsyncAction),Scheduler=function(){function et(_e,tt){tt===void 0&&(tt=et.now),this.SchedulerAction=_e,this.now=tt}return et.prototype.schedule=function(_e,tt,rt){return tt===void 0&&(tt=0),new this.SchedulerAction(this,_e).schedule(rt,tt)},et.now=function(){return Date.now()},et}(),AsyncScheduler=function(et){__extends(_e,et);function _e(tt,rt){rt===void 0&&(rt=Scheduler.now);var nt=et.call(this,tt,function(){return _e.delegate&&_e.delegate!==nt?_e.delegate.now():rt()})||this;return nt.actions=[],nt.active=!1,nt.scheduled=void 0,nt}return _e.prototype.schedule=function(tt,rt,nt){return rt===void 0&&(rt=0),_e.delegate&&_e.delegate!==this?_e.delegate.schedule(tt,rt,nt):et.prototype.schedule.call(this,tt,rt,nt)},_e.prototype.flush=function(tt){var rt=this.actions;if(this.active){rt.push(tt);return}var nt;this.active=!0;do if(nt=tt.execute(tt.state,tt.delay))break;while(tt=rt.shift());if(this.active=!1,nt){for(;tt=rt.shift();)tt.unsubscribe();throw nt}},_e}(Scheduler),QueueScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e}(AsyncScheduler),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable(function(et){return et.complete()});function empty(et){return et?emptyScheduled(et):EMPTY}function emptyScheduled(et){return new Observable(function(_e){return et.schedule(function(){return _e.complete()})})}function isScheduler(et){return et&&typeof et.schedule=="function"}var subscribeToArray=function(et){return function(_e){for(var tt=0,rt=et.length;tt<rt&&!_e.closed;tt++)_e.next(et[tt]);_e.complete()}};function scheduleArray(et,_e){return new Observable(function(tt){var rt=new Subscription,nt=0;return rt.add(_e.schedule(function(){if(nt===et.length){tt.complete();return}tt.next(et[nt++]),tt.closed||rt.add(this.schedule())})),rt})}function fromArray(et,_e){return _e?scheduleArray(et,_e):new Observable(subscribeToArray(et))}function of(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return isScheduler(tt)?(et.pop(),scheduleArray(et,tt)):fromArray(et)}function throwError(et,_e){return _e?new Observable(function(tt){return _e.schedule(dispatch$7,0,{error:et,subscriber:tt})}):new Observable(function(tt){return tt.error(et)})}function dispatch$7(et){var _e=et.error,tt=et.subscriber;tt.error(_e)}var NotificationKind;NotificationKind||(NotificationKind={});var Notification$1=function(){function et(_e,tt,rt){this.kind=_e,this.value=tt,this.error=rt,this.hasValue=_e==="N"}return et.prototype.observe=function(_e){switch(this.kind){case"N":return _e.next&&_e.next(this.value);case"E":return _e.error&&_e.error(this.error);case"C":return _e.complete&&_e.complete()}},et.prototype.do=function(_e,tt,rt){var nt=this.kind;switch(nt){case"N":return _e&&_e(this.value);case"E":return tt&&tt(this.error);case"C":return rt&&rt()}},et.prototype.accept=function(_e,tt,rt){return _e&&typeof _e.next=="function"?this.observe(_e):this.do(_e,tt,rt)},et.prototype.toObservable=function(){var _e=this.kind;switch(_e){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty()}throw new Error("unexpected notification kind value")},et.createNext=function(_e){return typeof _e<"u"?new et("N",_e):et.undefinedValueNotification},et.createError=function(_e){return new et("E",void 0,_e)},et.createComplete=function(){return et.completeNotification},et.completeNotification=new et("C"),et.undefinedValueNotification=new et("N",void 0),et}();function observeOn(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new ObserveOnOperator(et,_e))}}var ObserveOnOperator=function(){function et(_e,tt){tt===void 0&&(tt=0),this.scheduler=_e,this.delay=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ObserveOnSubscriber(_e,this.scheduler,this.delay))},et}(),ObserveOnSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=0);var it=et.call(this,tt)||this;return it.scheduler=rt,it.delay=nt,it}return _e.dispatch=function(tt){var rt=tt.notification,nt=tt.destination;rt.observe(nt),this.unsubscribe()},_e.prototype.scheduleMessage=function(tt){var rt=this.destination;rt.add(this.scheduler.schedule(_e.dispatch,this.delay,new ObserveOnMessage(tt,this.destination)))},_e.prototype._next=function(tt){this.scheduleMessage(Notification$1.createNext(tt))},_e.prototype._error=function(tt){this.scheduleMessage(Notification$1.createError(tt)),this.unsubscribe()},_e.prototype._complete=function(){this.scheduleMessage(Notification$1.createComplete()),this.unsubscribe()},_e}(Subscriber),ObserveOnMessage=function(){function et(_e,tt){this.notification=_e,this.destination=tt}return et}(),ReplaySubject=function(et){__extends(_e,et);function _e(tt,rt,nt){tt===void 0&&(tt=Number.POSITIVE_INFINITY),rt===void 0&&(rt=Number.POSITIVE_INFINITY);var it=et.call(this)||this;return it.scheduler=nt,it._events=[],it._infiniteTimeWindow=!1,it._bufferSize=tt<1?1:tt,it._windowTime=rt<1?1:rt,rt===Number.POSITIVE_INFINITY?(it._infiniteTimeWindow=!0,it.next=it.nextInfiniteTimeWindow):it.next=it.nextTimeWindow,it}return _e.prototype.nextInfiniteTimeWindow=function(tt){if(!this.isStopped){var rt=this._events;rt.push(tt),rt.length>this._bufferSize&&rt.shift()}et.prototype.next.call(this,tt)},_e.prototype.nextTimeWindow=function(tt){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),tt)),this._trimBufferThenGetEvents()),et.prototype.next.call(this,tt)},_e.prototype._subscribe=function(tt){var rt=this._infiniteTimeWindow,nt=rt?this._events:this._trimBufferThenGetEvents(),it=this.scheduler,at=nt.length,ot;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?ot=Subscription.EMPTY:(this.observers.push(tt),ot=new SubjectSubscription(this,tt)),it&&tt.add(tt=new ObserveOnSubscriber(tt,it)),rt)for(var ct=0;ct<at&&!tt.closed;ct++)tt.next(nt[ct]);else for(var ct=0;ct<at&&!tt.closed;ct++)tt.next(nt[ct].value);return this.hasError?tt.error(this.thrownError):this.isStopped&&tt.complete(),ot},_e.prototype._getNow=function(){return(this.scheduler||queue).now()},_e.prototype._trimBufferThenGetEvents=function(){for(var tt=this._getNow(),rt=this._bufferSize,nt=this._windowTime,it=this._events,at=it.length,ot=0;ot<at&&!(tt-it[ot].time<nt);)ot++;return at>rt&&(ot=Math.max(ot,at-rt)),ot>0&&it.splice(0,ot),it},_e}(Subject),ReplayEvent=function(){function et(_e,tt){this.time=_e,this.value=tt}return et}(),AsyncSubject=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt.value=null,tt.hasNext=!1,tt.hasCompleted=!1,tt}return _e.prototype._subscribe=function(tt){return this.hasError?(tt.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(tt.next(this.value),tt.complete(),Subscription.EMPTY):et.prototype._subscribe.call(this,tt)},_e.prototype.next=function(tt){this.hasCompleted||(this.value=tt,this.hasNext=!0)},_e.prototype.error=function(tt){this.hasCompleted||et.prototype.error.call(this,tt)},_e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&et.prototype.next.call(this,this.value),et.prototype.complete.call(this)},_e}(Subject),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(et){return et in activeHandles?(delete activeHandles[et],!0):!1}var Immediate={setImmediate:function(et){var _e=nextHandle++;return activeHandles[_e]=!0,RESOLVED.then(function(){return findAndClearHandle(_e)&&et()}),_e},clearImmediate:function(et){findAndClearHandle(et)}},AsapAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):(tt.actions.push(this),tt.scheduled||(tt.scheduled=Immediate.setImmediate(tt.flush.bind(tt,null))))},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0)return et.prototype.recycleAsyncId.call(this,tt,rt,nt);tt.actions.length===0&&(Immediate.clearImmediate(rt),tt.scheduled=void 0)},_e}(AsyncAction),AsapScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.flush=function(tt){this.active=!0,this.scheduled=void 0;var rt=this.actions,nt,it=-1,at=rt.length;tt=tt||rt.shift();do if(nt=tt.execute(tt.state,tt.delay))break;while(++it<at&&(tt=rt.shift()));if(this.active=!1,nt){for(;++it<at&&(tt=rt.shift());)tt.unsubscribe();throw nt}},_e}(AsyncScheduler),asapScheduler=new AsapScheduler(AsapAction),asap=asapScheduler,asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,AnimationFrameAction=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt,rt)||this;return nt.scheduler=tt,nt.work=rt,nt}return _e.prototype.requestAsyncId=function(tt,rt,nt){return nt===void 0&&(nt=0),nt!==null&&nt>0?et.prototype.requestAsyncId.call(this,tt,rt,nt):(tt.actions.push(this),tt.scheduled||(tt.scheduled=requestAnimationFrame(function(){return tt.flush(null)})))},_e.prototype.recycleAsyncId=function(tt,rt,nt){if(nt===void 0&&(nt=0),nt!==null&&nt>0||nt===null&&this.delay>0)return et.prototype.recycleAsyncId.call(this,tt,rt,nt);tt.actions.length===0&&(cancelAnimationFrame(rt),tt.scheduled=void 0)},_e}(AsyncAction),AnimationFrameScheduler=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.flush=function(tt){this.active=!0,this.scheduled=void 0;var rt=this.actions,nt,it=-1,at=rt.length;tt=tt||rt.shift();do if(nt=tt.execute(tt.state,tt.delay))break;while(++it<at&&(tt=rt.shift()));if(this.active=!1,nt){for(;++it<at&&(tt=rt.shift());)tt.unsubscribe();throw nt}},_e}(AsyncScheduler),animationFrameScheduler=new AnimationFrameScheduler(AnimationFrameAction),animationFrame=animationFrameScheduler,VirtualTimeScheduler=function(et){__extends(_e,et);function _e(tt,rt){tt===void 0&&(tt=VirtualAction),rt===void 0&&(rt=Number.POSITIVE_INFINITY);var nt=et.call(this,tt,function(){return nt.frame})||this;return nt.maxFrames=rt,nt.frame=0,nt.index=-1,nt}return _e.prototype.flush=function(){for(var tt=this,rt=tt.actions,nt=tt.maxFrames,it,at;(at=rt[0])&&at.delay<=nt&&(rt.shift(),this.frame=at.delay,!(it=at.execute(at.state,at.delay))););if(it){for(;at=rt.shift();)at.unsubscribe();throw it}},_e.frameTimeFactor=10,_e}(AsyncScheduler),VirtualAction=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=tt.index+=1);var it=et.call(this,tt,rt)||this;return it.scheduler=tt,it.work=rt,it.index=nt,it.active=!0,it.index=tt.index=nt,it}return _e.prototype.schedule=function(tt,rt){if(rt===void 0&&(rt=0),!this.id)return et.prototype.schedule.call(this,tt,rt);this.active=!1;var nt=new _e(this.scheduler,this.work);return this.add(nt),nt.schedule(tt,rt)},_e.prototype.requestAsyncId=function(tt,rt,nt){nt===void 0&&(nt=0),this.delay=tt.frame+nt;var it=tt.actions;return it.push(this),it.sort(_e.sortActions),!0},_e.prototype.recycleAsyncId=function(tt,rt,nt){},_e.prototype._execute=function(tt,rt){if(this.active===!0)return et.prototype._execute.call(this,tt,rt)},_e.sortActions=function(tt,rt){return tt.delay===rt.delay?tt.index===rt.index?0:tt.index>rt.index?1:-1:tt.delay>rt.delay?1:-1},_e}(AsyncAction);function noop$4(){}function isObservable(et){return!!et&&(et instanceof Observable||typeof et.lift=="function"&&typeof et.subscribe=="function")}var ArgumentOutOfRangeErrorImpl=function(){function et(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return et.prototype=Object.create(Error.prototype),et}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function et(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return et.prototype=Object.create(Error.prototype),et}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function et(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return et.prototype=Object.create(Error.prototype),et}(),TimeoutError=TimeoutErrorImpl;function map(et,_e){return function(rt){if(typeof et!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return rt.lift(new MapOperator(et,_e))}}var MapOperator=function(){function et(_e,tt){this.project=_e,this.thisArg=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MapSubscriber(_e,this.project,this.thisArg))},et}(),MapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.project=rt,it.count=0,it.thisArg=nt||it,it}return _e.prototype._next=function(tt){var rt;try{rt=this.project.call(this.thisArg,tt,this.count++)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(Subscriber);function bindCallback(et,_e,tt){if(_e)if(isScheduler(_e))tt=_e;else return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return bindCallback(et,tt).apply(void 0,rt).pipe(map(function(it){return isArray$9(it)?_e.apply(void 0,it):_e(it)}))};return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it=this,at,ot={context:it,subject:at,callbackFunc:et,scheduler:tt};return new Observable(function(ct){if(tt){var ft={args:rt,subscriber:ct,params:ot};return tt.schedule(dispatch$6,0,ft)}else{if(!at){at=new AsyncSubject;var ut=function(){for(var yt=[],bt=0;bt<arguments.length;bt++)yt[bt]=arguments[bt];at.next(yt.length<=1?yt[0]:yt),at.complete()};try{et.apply(it,rt.concat([ut]))}catch(yt){canReportError(at)?at.error(yt):console.warn(yt)}}return at.subscribe(ct)}})}}function dispatch$6(et){var _e=this,tt=et.args,rt=et.subscriber,nt=et.params,it=nt.callbackFunc,at=nt.context,ot=nt.scheduler,ct=nt.subject;if(!ct){ct=nt.subject=new AsyncSubject;var ut=function(){for(var ft=[],yt=0;yt<arguments.length;yt++)ft[yt]=arguments[yt];var bt=ft.length<=1?ft[0]:ft;_e.add(ot.schedule(dispatchNext$3,0,{value:bt,subject:ct}))};try{it.apply(at,tt.concat([ut]))}catch(ft){ct.error(ft)}}this.add(ct.subscribe(rt))}function dispatchNext$3(et){var _e=et.value,tt=et.subject;tt.next(_e),tt.complete()}function bindNodeCallback(et,_e,tt){if(_e)if(isScheduler(_e))tt=_e;else return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return bindNodeCallback(et,tt).apply(void 0,rt).pipe(map(function(it){return isArray$9(it)?_e.apply(void 0,it):_e(it)}))};return function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it={subject:void 0,args:rt,callbackFunc:et,scheduler:tt,context:this};return new Observable(function(at){var ot=it.context,ct=it.subject;if(tt)return tt.schedule(dispatch$5,0,{params:it,subscriber:at,context:ot});if(!ct){ct=it.subject=new AsyncSubject;var ut=function(){for(var ft=[],yt=0;yt<arguments.length;yt++)ft[yt]=arguments[yt];var bt=ft.shift();if(bt){ct.error(bt);return}ct.next(ft.length<=1?ft[0]:ft),ct.complete()};try{et.apply(ot,rt.concat([ut]))}catch(ft){canReportError(ct)?ct.error(ft):console.warn(ft)}}return ct.subscribe(at)})}}function dispatch$5(et){var _e=this,tt=et.params,rt=et.subscriber,nt=et.context,it=tt.callbackFunc,at=tt.args,ot=tt.scheduler,ct=tt.subject;if(!ct){ct=tt.subject=new AsyncSubject;var ut=function(){for(var ft=[],yt=0;yt<arguments.length;yt++)ft[yt]=arguments[yt];var bt=ft.shift();if(bt)_e.add(ot.schedule(dispatchError,0,{err:bt,subject:ct}));else{var Et=ft.length<=1?ft[0]:ft;_e.add(ot.schedule(dispatchNext$2,0,{value:Et,subject:ct}))}};try{it.apply(nt,at.concat([ut]))}catch(ft){this.add(ot.schedule(dispatchError,0,{err:ft,subject:ct}))}}this.add(ct.subscribe(rt))}function dispatchNext$2(et){var _e=et.value,tt=et.subject;tt.next(_e),tt.complete()}function dispatchError(et){var _e=et.err,tt=et.subject;tt.error(_e)}var OuterSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.destination.next(rt)},_e.prototype.notifyError=function(tt,rt){this.destination.error(tt)},_e.prototype.notifyComplete=function(tt){this.destination.complete()},_e}(Subscriber),InnerSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this)||this;return it.parent=tt,it.outerValue=rt,it.outerIndex=nt,it.index=0,it}return _e.prototype._next=function(tt){this.parent.notifyNext(this.outerValue,tt,this.outerIndex,this.index++,this)},_e.prototype._error=function(tt){this.parent.notifyError(tt,this),this.unsubscribe()},_e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},_e}(Subscriber),subscribeToPromise=function(et){return function(_e){return et.then(function(tt){_e.closed||(_e.next(tt),_e.complete())},function(tt){return _e.error(tt)}).then(null,hostReportError),_e}};function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator(),subscribeToIterable=function(et){return function(_e){var tt=et[iterator]();do{var rt=void 0;try{rt=tt.next()}catch(nt){return _e.error(nt),_e}if(rt.done){_e.complete();break}if(_e.next(rt.value),_e.closed)break}while(!0);return typeof tt.return=="function"&&_e.add(function(){tt.return&&tt.return()}),_e}},subscribeToObservable=function(et){return function(_e){var tt=et[observable]();if(typeof tt.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return tt.subscribe(_e)}},isArrayLike=function(et){return et&&typeof et.length=="number"&&typeof et!="function"};function isPromise(et){return!!et&&typeof et.subscribe!="function"&&typeof et.then=="function"}var subscribeTo=function(et){if(!!et&&typeof et[observable]=="function")return subscribeToObservable(et);if(isArrayLike(et))return subscribeToArray(et);if(isPromise(et))return subscribeToPromise(et);if(!!et&&typeof et[iterator]=="function")return subscribeToIterable(et);var _e=isObject$3(et)?"an invalid object":"'"+et+"'",tt="You provided "+_e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(tt)};function subscribeToResult(et,_e,tt,rt,nt){if(nt===void 0&&(nt=new InnerSubscriber(et,tt,rt)),!nt.closed)return _e instanceof Observable?_e.subscribe(nt):subscribeTo(_e)(nt)}var NONE={};function combineLatest$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=void 0,rt=void 0;return isScheduler(et[et.length-1])&&(rt=et.pop()),typeof et[et.length-1]=="function"&&(tt=et.pop()),et.length===1&&isArray$9(et[0])&&(et=et[0]),fromArray(et,rt).lift(new CombineLatestOperator(tt))}var CombineLatestOperator=function(){function et(_e){this.resultSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new CombineLatestSubscriber(_e,this.resultSelector))},et}(),CombineLatestSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.resultSelector=rt,nt.active=0,nt.values=[],nt.observables=[],nt}return _e.prototype._next=function(tt){this.values.push(NONE),this.observables.push(tt)},_e.prototype._complete=function(){var tt=this.observables,rt=tt.length;if(rt===0)this.destination.complete();else{this.active=rt,this.toRespond=rt;for(var nt=0;nt<rt;nt++){var it=tt[nt];this.add(subscribeToResult(this,it,void 0,nt))}}},_e.prototype.notifyComplete=function(tt){(this.active-=1)===0&&this.destination.complete()},_e.prototype.notifyNext=function(tt,rt,nt){var it=this.values,at=it[nt],ot=this.toRespond?at===NONE?--this.toRespond:this.toRespond:0;it[nt]=rt,ot===0&&(this.resultSelector?this._tryResultSelector(it):this.destination.next(it.slice()))},_e.prototype._tryResultSelector=function(tt){var rt;try{rt=this.resultSelector.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(OuterSubscriber);function scheduleObservable(et,_e){return new Observable(function(tt){var rt=new Subscription;return rt.add(_e.schedule(function(){var nt=et[observable]();rt.add(nt.subscribe({next:function(it){rt.add(_e.schedule(function(){return tt.next(it)}))},error:function(it){rt.add(_e.schedule(function(){return tt.error(it)}))},complete:function(){rt.add(_e.schedule(function(){return tt.complete()}))}}))})),rt})}function schedulePromise(et,_e){return new Observable(function(tt){var rt=new Subscription;return rt.add(_e.schedule(function(){return et.then(function(nt){rt.add(_e.schedule(function(){tt.next(nt),rt.add(_e.schedule(function(){return tt.complete()}))}))},function(nt){rt.add(_e.schedule(function(){return tt.error(nt)}))})})),rt})}function scheduleIterable(et,_e){if(!et)throw new Error("Iterable cannot be null");return new Observable(function(tt){var rt=new Subscription,nt;return rt.add(function(){nt&&typeof nt.return=="function"&&nt.return()}),rt.add(_e.schedule(function(){nt=et[iterator](),rt.add(_e.schedule(function(){if(!tt.closed){var it,at;try{var ot=nt.next();it=ot.value,at=ot.done}catch(ct){tt.error(ct);return}at?tt.complete():(tt.next(it),this.schedule())}}))})),rt})}function isInteropObservable(et){return et&&typeof et[observable]=="function"}function isIterable(et){return et&&typeof et[iterator]=="function"}function scheduled(et,_e){if(et!=null){if(isInteropObservable(et))return scheduleObservable(et,_e);if(isPromise(et))return schedulePromise(et,_e);if(isArrayLike(et))return scheduleArray(et,_e);if(isIterable(et)||typeof et=="string")return scheduleIterable(et,_e)}throw new TypeError((et!==null&&typeof et||et)+" is not observable")}function from$2(et,_e){return _e?scheduled(et,_e):et instanceof Observable?et:new Observable(subscribeTo(et))}var SimpleInnerSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this)||this;return rt.parent=tt,rt}return _e.prototype._next=function(tt){this.parent.notifyNext(tt)},_e.prototype._error=function(tt){this.parent.notifyError(tt),this.unsubscribe()},_e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},_e}(Subscriber),SimpleOuterSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyError=function(tt){this.destination.error(tt)},_e.prototype.notifyComplete=function(){this.destination.complete()},_e}(Subscriber);function innerSubscribe(et,_e){if(!_e.closed){if(et instanceof Observable)return et.subscribe(_e);var tt;try{tt=subscribeTo(et)(_e)}catch(rt){_e.error(rt)}return tt}}function mergeMap(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),typeof _e=="function"?function(rt){return rt.pipe(mergeMap(function(nt,it){return from$2(et(nt,it)).pipe(map(function(at,ot){return _e(nt,at,it,ot)}))},tt))}:(typeof _e=="number"&&(tt=_e),function(rt){return rt.lift(new MergeMapOperator(et,tt))})}var MergeMapOperator=function(){function et(_e,tt){tt===void 0&&(tt=Number.POSITIVE_INFINITY),this.project=_e,this.concurrent=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MergeMapSubscriber(_e,this.project,this.concurrent))},et}(),MergeMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){nt===void 0&&(nt=Number.POSITIVE_INFINITY);var it=et.call(this,tt)||this;return it.project=rt,it.concurrent=nt,it.hasCompleted=!1,it.buffer=[],it.active=0,it.index=0,it}return _e.prototype._next=function(tt){this.active<this.concurrent?this._tryNext(tt):this.buffer.push(tt)},_e.prototype._tryNext=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this.active++,this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt.length>0?this._next(tt.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber),flatMap=mergeMap;function mergeAll(et){return et===void 0&&(et=Number.POSITIVE_INFINITY),mergeMap(identity,et)}function concatAll(){return mergeAll(1)}function concat$2(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return concatAll()(of.apply(void 0,et))}function defer(et){return new Observable(function(_e){var tt;try{tt=et()}catch(nt){_e.error(nt);return}var rt=tt?from$2(tt):empty();return rt.subscribe(_e)})}function forkJoin(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===1){var tt=et[0];if(isArray$9(tt))return forkJoinInternal(tt,null);if(isObject$3(tt)&&Object.getPrototypeOf(tt)===Object.prototype){var rt=Object.keys(tt);return forkJoinInternal(rt.map(function(it){return tt[it]}),rt)}}if(typeof et[et.length-1]=="function"){var nt=et.pop();return et=et.length===1&&isArray$9(et[0])?et[0]:et,forkJoinInternal(et,null).pipe(map(function(it){return nt.apply(void 0,it)}))}return forkJoinInternal(et,null)}function forkJoinInternal(et,_e){return new Observable(function(tt){var rt=et.length;if(rt===0){tt.complete();return}for(var nt=new Array(rt),it=0,at=0,ot=function(ut){var ft=from$2(et[ut]),yt=!1;tt.add(ft.subscribe({next:function(bt){yt||(yt=!0,at++),nt[ut]=bt},error:function(bt){return tt.error(bt)},complete:function(){it++,(it===rt||!yt)&&(at===rt&&tt.next(_e?_e.reduce(function(bt,Et,Ct){return bt[Et]=nt[Ct],bt},{}):nt),tt.complete())}}))},ct=0;ct<rt;ct++)ot(ct)})}function fromEvent(et,_e,tt,rt){return isFunction$1(tt)&&(rt=tt,tt=void 0),rt?fromEvent(et,_e,tt).pipe(map(function(nt){return isArray$9(nt)?rt.apply(void 0,nt):rt(nt)})):new Observable(function(nt){function it(at){arguments.length>1?nt.next(Array.prototype.slice.call(arguments)):nt.next(at)}setupSubscription(et,_e,it,nt,tt)})}function setupSubscription(et,_e,tt,rt,nt){var it;if(isEventTarget(et)){var at=et;et.addEventListener(_e,tt,nt),it=function(){return at.removeEventListener(_e,tt,nt)}}else if(isJQueryStyleEventEmitter(et)){var ot=et;et.on(_e,tt),it=function(){return ot.off(_e,tt)}}else if(isNodeStyleEventEmitter(et)){var ct=et;et.addListener(_e,tt),it=function(){return ct.removeListener(_e,tt)}}else if(et&&et.length)for(var ut=0,ft=et.length;ut<ft;ut++)setupSubscription(et[ut],_e,tt,rt,nt);else throw new TypeError("Invalid event target");rt.add(it)}function isNodeStyleEventEmitter(et){return et&&typeof et.addListener=="function"&&typeof et.removeListener=="function"}function isJQueryStyleEventEmitter(et){return et&&typeof et.on=="function"&&typeof et.off=="function"}function isEventTarget(et){return et&&typeof et.addEventListener=="function"&&typeof et.removeEventListener=="function"}function fromEventPattern(et,_e,tt){return tt?fromEventPattern(et,_e).pipe(map(function(rt){return isArray$9(rt)?tt.apply(void 0,rt):tt(rt)})):new Observable(function(rt){var nt=function(){for(var at=[],ot=0;ot<arguments.length;ot++)at[ot]=arguments[ot];return rt.next(at.length===1?at[0]:at)},it;try{it=et(nt)}catch(at){rt.error(at);return}if(!!isFunction$1(_e))return function(){return _e(nt,it)}})}function generate(et,_e,tt,rt,nt){var it,at;if(arguments.length==1){var ot=et;at=ot.initialState,_e=ot.condition,tt=ot.iterate,it=ot.resultSelector||identity,nt=ot.scheduler}else rt===void 0||isScheduler(rt)?(at=et,it=identity,nt=rt):(at=et,it=rt);return new Observable(function(ct){var ut=at;if(nt)return nt.schedule(dispatch$4,0,{subscriber:ct,iterate:tt,condition:_e,resultSelector:it,state:ut});do{if(_e){var ft=void 0;try{ft=_e(ut)}catch(bt){ct.error(bt);return}if(!ft){ct.complete();break}}var yt=void 0;try{yt=it(ut)}catch(bt){ct.error(bt);return}if(ct.next(yt),ct.closed)break;try{ut=tt(ut)}catch(bt){ct.error(bt);return}}while(!0)})}function dispatch$4(et){var _e=et.subscriber,tt=et.condition;if(!_e.closed){if(et.needIterate)try{et.state=et.iterate(et.state)}catch(it){_e.error(it);return}else et.needIterate=!0;if(tt){var rt=void 0;try{rt=tt(et.state)}catch(it){_e.error(it);return}if(!rt){_e.complete();return}if(_e.closed)return}var nt;try{nt=et.resultSelector(et.state)}catch(it){_e.error(it);return}if(!_e.closed&&(_e.next(nt),!_e.closed))return this.schedule(et)}}function iif(et,_e,tt){return _e===void 0&&(_e=EMPTY),tt===void 0&&(tt=EMPTY),defer(function(){return et()?_e:tt})}function isNumeric(et){return!isArray$9(et)&&et-parseFloat(et)+1>=0}function interval(et,_e){return et===void 0&&(et=0),_e===void 0&&(_e=async),(!isNumeric(et)||et<0)&&(et=0),(!_e||typeof _e.schedule!="function")&&(_e=async),new Observable(function(tt){return tt.add(_e.schedule(dispatch$3,et,{subscriber:tt,counter:0,period:et})),tt})}function dispatch$3(et){var _e=et.subscriber,tt=et.counter,rt=et.period;_e.next(tt),this.schedule({subscriber:_e,counter:tt+1,period:rt},rt)}function merge$2(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=Number.POSITIVE_INFINITY,rt=null,nt=et[et.length-1];return isScheduler(nt)?(rt=et.pop(),et.length>1&&typeof et[et.length-1]=="number"&&(tt=et.pop())):typeof nt=="number"&&(tt=et.pop()),rt===null&&et.length===1&&et[0]instanceof Observable?et[0]:mergeAll(tt)(fromArray(et,rt))}var NEVER=new Observable(noop$4);function never(){return NEVER}function onErrorResumeNext$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===0)return EMPTY;var tt=et[0],rt=et.slice(1);return et.length===1&&isArray$9(tt)?onErrorResumeNext$1.apply(void 0,tt):new Observable(function(nt){var it=function(){return nt.add(onErrorResumeNext$1.apply(void 0,rt).subscribe(nt))};return from$2(tt).subscribe({next:function(at){nt.next(at)},error:it,complete:it})})}function pairs(et,_e){return _e?new Observable(function(tt){var rt=Object.keys(et),nt=new Subscription;return nt.add(_e.schedule(dispatch$2,0,{keys:rt,index:0,subscriber:tt,subscription:nt,obj:et})),nt}):new Observable(function(tt){for(var rt=Object.keys(et),nt=0;nt<rt.length&&!tt.closed;nt++){var it=rt[nt];et.hasOwnProperty(it)&&tt.next([it,et[it]])}tt.complete()})}function dispatch$2(et){var _e=et.keys,tt=et.index,rt=et.subscriber,nt=et.subscription,it=et.obj;if(!rt.closed)if(tt<_e.length){var at=_e[tt];rt.next([at,it[at]]),nt.add(this.schedule({keys:_e,index:tt+1,subscriber:rt,subscription:nt,obj:it}))}else rt.complete()}function not$2(et,_e){function tt(){return!tt.pred.apply(tt.thisArg,arguments)}return tt.pred=et,tt.thisArg=_e,tt}function filter(et,_e){return function(rt){return rt.lift(new FilterOperator(et,_e))}}var FilterOperator=function(){function et(_e,tt){this.predicate=_e,this.thisArg=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new FilterSubscriber(_e,this.predicate,this.thisArg))},et}(),FilterSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.thisArg=nt,it.count=0,it}return _e.prototype._next=function(tt){var rt;try{rt=this.predicate.call(this.thisArg,tt,this.count++)}catch(nt){this.destination.error(nt);return}rt&&this.destination.next(tt)},_e}(Subscriber);function partition$1(et,_e,tt){return[filter(_e,tt)(new Observable(subscribeTo(et))),filter(not$2(_e,tt))(new Observable(subscribeTo(et)))]}function race$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];if(et.length===1)if(isArray$9(et[0]))et=et[0];else return et[0];return fromArray(et,void 0).lift(new RaceOperator)}var RaceOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new RaceSubscriber(_e))},et}(),RaceSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasFirst=!1,rt.observables=[],rt.subscriptions=[],rt}return _e.prototype._next=function(tt){this.observables.push(tt)},_e.prototype._complete=function(){var tt=this.observables,rt=tt.length;if(rt===0)this.destination.complete();else{for(var nt=0;nt<rt&&!this.hasFirst;nt++){var it=tt[nt],at=subscribeToResult(this,it,void 0,nt);this.subscriptions&&this.subscriptions.push(at),this.add(at)}this.observables=null}},_e.prototype.notifyNext=function(tt,rt,nt){if(!this.hasFirst){this.hasFirst=!0;for(var it=0;it<this.subscriptions.length;it++)if(it!==nt){var at=this.subscriptions[it];at.unsubscribe(),this.remove(at)}this.subscriptions=null}this.destination.next(rt)},_e}(OuterSubscriber);function range$1(et,_e,tt){return et===void 0&&(et=0),new Observable(function(rt){_e===void 0&&(_e=et,et=0);var nt=0,it=et;if(tt)return tt.schedule(dispatch$1,0,{index:nt,count:_e,start:et,subscriber:rt});do{if(nt++>=_e){rt.complete();break}if(rt.next(it++),rt.closed)break}while(!0)})}function dispatch$1(et){var _e=et.start,tt=et.index,rt=et.count,nt=et.subscriber;if(tt>=rt){nt.complete();return}nt.next(_e),!nt.closed&&(et.index=tt+1,et.start=_e+1,this.schedule(et))}function timer(et,_e,tt){et===void 0&&(et=0);var rt=-1;return isNumeric(_e)?rt=Number(_e)<1&&1||Number(_e):isScheduler(_e)&&(tt=_e),isScheduler(tt)||(tt=async),new Observable(function(nt){var it=isNumeric(et)?et:+et-tt.now();return tt.schedule(dispatch,it,{index:0,period:rt,subscriber:nt})})}function dispatch(et){var _e=et.index,tt=et.period,rt=et.subscriber;if(rt.next(_e),!rt.closed){if(tt===-1)return rt.complete();et.index=_e+1,this.schedule(et,tt)}}function using(et,_e){return new Observable(function(tt){var rt;try{rt=et()}catch(ot){tt.error(ot);return}var nt;try{nt=_e(rt)}catch(ot){tt.error(ot);return}var it=nt?from$2(nt):EMPTY,at=it.subscribe(tt);return function(){at.unsubscribe(),rt&&rt.unsubscribe()}})}function zip$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return typeof tt=="function"&&et.pop(),fromArray(et,void 0).lift(new ZipOperator(tt))}var ZipOperator=function(){function et(_e){this.resultSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ZipSubscriber(_e,this.resultSelector))},et}(),ZipSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.resultSelector=rt,it.iterators=[],it.active=0,it.resultSelector=typeof rt=="function"?rt:void 0,it}return _e.prototype._next=function(tt){var rt=this.iterators;isArray$9(tt)?rt.push(new StaticArrayIterator(tt)):typeof tt[iterator]=="function"?rt.push(new StaticIterator(tt[iterator]())):rt.push(new ZipBufferIterator(this.destination,this,tt))},_e.prototype._complete=function(){var tt=this.iterators,rt=tt.length;if(this.unsubscribe(),rt===0){this.destination.complete();return}this.active=rt;for(var nt=0;nt<rt;nt++){var it=tt[nt];if(it.stillUnsubscribed){var at=this.destination;at.add(it.subscribe())}else this.active--}},_e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},_e.prototype.checkIterators=function(){for(var tt=this.iterators,rt=tt.length,nt=this.destination,it=0;it<rt;it++){var at=tt[it];if(typeof at.hasValue=="function"&&!at.hasValue())return}for(var ot=!1,ct=[],it=0;it<rt;it++){var at=tt[it],ut=at.next();if(at.hasCompleted()&&(ot=!0),ut.done){nt.complete();return}ct.push(ut.value)}this.resultSelector?this._tryresultSelector(ct):nt.next(ct),ot&&nt.complete()},_e.prototype._tryresultSelector=function(tt){var rt;try{rt=this.resultSelector.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(Subscriber),StaticIterator=function(){function et(_e){this.iterator=_e,this.nextResult=_e.next()}return et.prototype.hasValue=function(){return!0},et.prototype.next=function(){var _e=this.nextResult;return this.nextResult=this.iterator.next(),_e},et.prototype.hasCompleted=function(){var _e=this.nextResult;return Boolean(_e&&_e.done)},et}(),StaticArrayIterator=function(){function et(_e){this.array=_e,this.index=0,this.length=0,this.length=_e.length}return et.prototype[iterator]=function(){return this},et.prototype.next=function(_e){var tt=this.index++,rt=this.array;return tt<this.length?{value:rt[tt],done:!1}:{value:null,done:!0}},et.prototype.hasValue=function(){return this.array.length>this.index},et.prototype.hasCompleted=function(){return this.array.length===this.index},et}(),ZipBufferIterator=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.parent=rt,it.observable=nt,it.stillUnsubscribed=!0,it.buffer=[],it.isComplete=!1,it}return _e.prototype[iterator]=function(){return this},_e.prototype.next=function(){var tt=this.buffer;return tt.length===0&&this.isComplete?{value:null,done:!0}:{value:tt.shift(),done:!1}},_e.prototype.hasValue=function(){return this.buffer.length>0},_e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},_e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},_e.prototype.notifyNext=function(tt){this.buffer.push(tt),this.parent.checkIterators()},_e.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},_e}(SimpleOuterSubscriber);const _esm5=Object.freeze(Object.defineProperty({__proto__:null,Observable,ConnectableObservable,GroupedObservable,observable,Subject,BehaviorSubject,ReplaySubject,AsyncSubject,asap,asapScheduler,async,asyncScheduler,queue,queueScheduler,animationFrame,animationFrameScheduler,VirtualTimeScheduler,VirtualAction,Scheduler,Subscription,Subscriber,Notification:Notification$1,get NotificationKind(){return NotificationKind},pipe:pipe$1,noop:noop$4,identity,isObservable,ArgumentOutOfRangeError,EmptyError,ObjectUnsubscribedError,UnsubscriptionError,TimeoutError,bindCallback,bindNodeCallback,combineLatest:combineLatest$1,concat:concat$2,defer,empty,forkJoin,from:from$2,fromEvent,fromEventPattern,generate,iif,interval,merge:merge$2,never,of,onErrorResumeNext:onErrorResumeNext$1,pairs,partition:partition$1,race:race$1,range:range$1,throwError,timer,using,zip:zip$1,scheduled,EMPTY,NEVER,config:config$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(_esm5);function audit(et){return function(tt){return tt.lift(new AuditOperator(et))}}var AuditOperator=function(){function et(_e){this.durationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new AuditSubscriber(_e,this.durationSelector))},et}(),AuditSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.durationSelector=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){if(this.value=tt,this.hasValue=!0,!this.throttled){var rt=void 0;try{var nt=this.durationSelector;rt=nt(tt)}catch(at){return this.destination.error(at)}var it=innerSubscribe(rt,new SimpleInnerSubscriber(this));!it||it.closed?this.clearThrottle():this.add(this.throttled=it)}},_e.prototype.clearThrottle=function(){var tt=this,rt=tt.value,nt=tt.hasValue,it=tt.throttled;it&&(this.remove(it),this.throttled=void 0,it.unsubscribe()),nt&&(this.value=void 0,this.hasValue=!1,this.destination.next(rt))},_e.prototype.notifyNext=function(){this.clearThrottle()},_e.prototype.notifyComplete=function(){this.clearThrottle()},_e}(SimpleOuterSubscriber);function auditTime(et,_e){return _e===void 0&&(_e=async),audit(function(){return timer(et,_e)})}function buffer$1(et){return function(tt){return tt.lift(new BufferOperator(et))}}var BufferOperator=function(){function et(_e){this.closingNotifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferSubscriber(_e,this.closingNotifier))},et}(),BufferSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.buffer=[],nt.add(innerSubscribe(rt,new SimpleInnerSubscriber(nt))),nt}return _e.prototype._next=function(tt){this.buffer.push(tt)},_e.prototype.notifyNext=function(){var tt=this.buffer;this.buffer=[],this.destination.next(tt)},_e}(SimpleOuterSubscriber);function bufferCount(et,_e){return _e===void 0&&(_e=null),function(rt){return rt.lift(new BufferCountOperator(et,_e))}}var BufferCountOperator=function(){function et(_e,tt){this.bufferSize=_e,this.startBufferEvery=tt,!tt||_e===tt?this.subscriberClass=BufferCountSubscriber:this.subscriberClass=BufferSkipCountSubscriber}return et.prototype.call=function(_e,tt){return tt.subscribe(new this.subscriberClass(_e,this.bufferSize,this.startBufferEvery))},et}(),BufferCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.bufferSize=rt,nt.buffer=[],nt}return _e.prototype._next=function(tt){var rt=this.buffer;rt.push(tt),rt.length==this.bufferSize&&(this.destination.next(rt),this.buffer=[])},_e.prototype._complete=function(){var tt=this.buffer;tt.length>0&&this.destination.next(tt),et.prototype._complete.call(this)},_e}(Subscriber),BufferSkipCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.bufferSize=rt,it.startBufferEvery=nt,it.buffers=[],it.count=0,it}return _e.prototype._next=function(tt){var rt=this,nt=rt.bufferSize,it=rt.startBufferEvery,at=rt.buffers,ot=rt.count;this.count++,ot%it===0&&at.push([]);for(var ct=at.length;ct--;){var ut=at[ct];ut.push(tt),ut.length===nt&&(at.splice(ct,1),this.destination.next(ut))}},_e.prototype._complete=function(){for(var tt=this,rt=tt.buffers,nt=tt.destination;rt.length>0;){var it=rt.shift();it.length>0&&nt.next(it)}et.prototype._complete.call(this)},_e}(Subscriber);function bufferTime(et){var _e=arguments.length,tt=async;isScheduler(arguments[arguments.length-1])&&(tt=arguments[arguments.length-1],_e--);var rt=null;_e>=2&&(rt=arguments[1]);var nt=Number.POSITIVE_INFINITY;return _e>=3&&(nt=arguments[2]),function(at){return at.lift(new BufferTimeOperator(et,rt,nt,tt))}}var BufferTimeOperator=function(){function et(_e,tt,rt,nt){this.bufferTimeSpan=_e,this.bufferCreationInterval=tt,this.maxBufferSize=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferTimeSubscriber(_e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},et}(),Context=function(){function et(){this.buffer=[]}return et}(),BufferTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var ot=et.call(this,tt)||this;ot.bufferTimeSpan=rt,ot.bufferCreationInterval=nt,ot.maxBufferSize=it,ot.scheduler=at,ot.contexts=[];var ct=ot.openContext();if(ot.timespanOnly=nt==null||nt<0,ot.timespanOnly){var ut={subscriber:ot,context:ct,bufferTimeSpan:rt};ot.add(ct.closeAction=at.schedule(dispatchBufferTimeSpanOnly,rt,ut))}else{var ft={subscriber:ot,context:ct},yt={bufferTimeSpan:rt,bufferCreationInterval:nt,subscriber:ot,scheduler:at};ot.add(ct.closeAction=at.schedule(dispatchBufferClose,rt,ft)),ot.add(at.schedule(dispatchBufferCreation,nt,yt))}return ot}return _e.prototype._next=function(tt){for(var rt=this.contexts,nt=rt.length,it,at=0;at<nt;at++){var ot=rt[at],ct=ot.buffer;ct.push(tt),ct.length==this.maxBufferSize&&(it=ot)}it&&this.onBufferFull(it)},_e.prototype._error=function(tt){this.contexts.length=0,et.prototype._error.call(this,tt)},_e.prototype._complete=function(){for(var tt=this,rt=tt.contexts,nt=tt.destination;rt.length>0;){var it=rt.shift();nt.next(it.buffer)}et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){this.contexts=null},_e.prototype.onBufferFull=function(tt){this.closeContext(tt);var rt=tt.closeAction;if(rt.unsubscribe(),this.remove(rt),!this.closed&&this.timespanOnly){tt=this.openContext();var nt=this.bufferTimeSpan,it={subscriber:this,context:tt,bufferTimeSpan:nt};this.add(tt.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,nt,it))}},_e.prototype.openContext=function(){var tt=new Context;return this.contexts.push(tt),tt},_e.prototype.closeContext=function(tt){this.destination.next(tt.buffer);var rt=this.contexts,nt=rt?rt.indexOf(tt):-1;nt>=0&&rt.splice(rt.indexOf(tt),1)},_e}(Subscriber);function dispatchBufferTimeSpanOnly(et){var _e=et.subscriber,tt=et.context;tt&&_e.closeContext(tt),_e.closed||(et.context=_e.openContext(),et.context.closeAction=this.schedule(et,et.bufferTimeSpan))}function dispatchBufferCreation(et){var _e=et.bufferCreationInterval,tt=et.bufferTimeSpan,rt=et.subscriber,nt=et.scheduler,it=rt.openContext(),at=this;rt.closed||(rt.add(it.closeAction=nt.schedule(dispatchBufferClose,tt,{subscriber:rt,context:it})),at.schedule(et,_e))}function dispatchBufferClose(et){var _e=et.subscriber,tt=et.context;_e.closeContext(tt)}function bufferToggle(et,_e){return function(rt){return rt.lift(new BufferToggleOperator(et,_e))}}var BufferToggleOperator=function(){function et(_e,tt){this.openings=_e,this.closingSelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferToggleSubscriber(_e,this.openings,this.closingSelector))},et}(),BufferToggleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.closingSelector=nt,it.contexts=[],it.add(subscribeToResult(it,rt)),it}return _e.prototype._next=function(tt){for(var rt=this.contexts,nt=rt.length,it=0;it<nt;it++)rt[it].buffer.push(tt)},_e.prototype._error=function(tt){for(var rt=this.contexts;rt.length>0;){var nt=rt.shift();nt.subscription.unsubscribe(),nt.buffer=null,nt.subscription=null}this.contexts=null,et.prototype._error.call(this,tt)},_e.prototype._complete=function(){for(var tt=this.contexts;tt.length>0;){var rt=tt.shift();this.destination.next(rt.buffer),rt.subscription.unsubscribe(),rt.buffer=null,rt.subscription=null}this.contexts=null,et.prototype._complete.call(this)},_e.prototype.notifyNext=function(tt,rt){tt?this.closeBuffer(tt):this.openBuffer(rt)},_e.prototype.notifyComplete=function(tt){this.closeBuffer(tt.context)},_e.prototype.openBuffer=function(tt){try{var rt=this.closingSelector,nt=rt.call(this,tt);nt&&this.trySubscribe(nt)}catch(it){this._error(it)}},_e.prototype.closeBuffer=function(tt){var rt=this.contexts;if(rt&&tt){var nt=tt.buffer,it=tt.subscription;this.destination.next(nt),rt.splice(rt.indexOf(tt),1),this.remove(it),it.unsubscribe()}},_e.prototype.trySubscribe=function(tt){var rt=this.contexts,nt=[],it=new Subscription,at={buffer:nt,subscription:it};rt.push(at);var ot=subscribeToResult(this,tt,at);!ot||ot.closed?this.closeBuffer(at):(ot.context=at,this.add(ot),it.add(ot))},_e}(OuterSubscriber);function bufferWhen(et){return function(_e){return _e.lift(new BufferWhenOperator(et))}}var BufferWhenOperator=function(){function et(_e){this.closingSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new BufferWhenSubscriber(_e,this.closingSelector))},et}(),BufferWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.closingSelector=rt,nt.subscribing=!1,nt.openBuffer(),nt}return _e.prototype._next=function(tt){this.buffer.push(tt)},_e.prototype._complete=function(){var tt=this.buffer;tt&&this.destination.next(tt),et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},_e.prototype.notifyNext=function(){this.openBuffer()},_e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},_e.prototype.openBuffer=function(){var tt=this.closingSubscription;tt&&(this.remove(tt),tt.unsubscribe());var rt=this.buffer;this.buffer&&this.destination.next(rt),this.buffer=[];var nt;try{var it=this.closingSelector;nt=it()}catch(at){return this.error(at)}tt=new Subscription,this.closingSubscription=tt,this.add(tt),this.subscribing=!0,tt.add(innerSubscribe(nt,new SimpleInnerSubscriber(this))),this.subscribing=!1},_e}(SimpleOuterSubscriber);function catchError(et){return function(tt){var rt=new CatchOperator(et),nt=tt.lift(rt);return rt.caught=nt}}var CatchOperator=function(){function et(_e){this.selector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new CatchSubscriber(_e,this.selector,this.caught))},et}(),CatchSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.selector=rt,it.caught=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=void 0;try{rt=this.selector(tt,this.caught)}catch(at){et.prototype.error.call(this,at);return}this._unsubscribeAndRecycle();var nt=new SimpleInnerSubscriber(this);this.add(nt);var it=innerSubscribe(rt,nt);it!==nt&&this.add(it)}},_e}(SimpleOuterSubscriber);function combineAll(et){return function(_e){return _e.lift(new CombineLatestOperator(et))}}function combineLatest(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=null;return typeof et[et.length-1]=="function"&&(tt=et.pop()),et.length===1&&isArray$9(et[0])&&(et=et[0].slice()),function(rt){return rt.lift.call(from$2([rt].concat(et)),new CombineLatestOperator(tt))}}function concat$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return tt.lift.call(concat$2.apply(void 0,[tt].concat(et)))}}function concatMap(et,_e){return mergeMap(et,_e,1)}function concatMapTo(et,_e){return concatMap(function(){return et},_e)}function count(et){return function(_e){return _e.lift(new CountOperator(et,_e))}}var CountOperator=function(){function et(_e,tt){this.predicate=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new CountSubscriber(_e,this.predicate,this.source))},et}(),CountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.source=nt,it.count=0,it.index=0,it}return _e.prototype._next=function(tt){this.predicate?this._tryPredicate(tt):this.count++},_e.prototype._tryPredicate=function(tt){var rt;try{rt=this.predicate(tt,this.index++,this.source)}catch(nt){this.destination.error(nt);return}rt&&this.count++},_e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},_e}(Subscriber);function debounce(et){return function(_e){return _e.lift(new DebounceOperator(et))}}var DebounceOperator=function(){function et(_e){this.durationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DebounceSubscriber(_e,this.durationSelector))},et}(),DebounceSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.durationSelector=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){try{var rt=this.durationSelector.call(this,tt);rt&&this._tryNext(tt,rt)}catch(nt){this.destination.error(nt)}},_e.prototype._complete=function(){this.emitValue(),this.destination.complete()},_e.prototype._tryNext=function(tt,rt){var nt=this.durationSubscription;this.value=tt,this.hasValue=!0,nt&&(nt.unsubscribe(),this.remove(nt)),nt=innerSubscribe(rt,new SimpleInnerSubscriber(this)),nt&&!nt.closed&&this.add(this.durationSubscription=nt)},_e.prototype.notifyNext=function(){this.emitValue()},_e.prototype.notifyComplete=function(){this.emitValue()},_e.prototype.emitValue=function(){if(this.hasValue){var tt=this.value,rt=this.durationSubscription;rt&&(this.durationSubscription=void 0,rt.unsubscribe(),this.remove(rt)),this.value=void 0,this.hasValue=!1,et.prototype._next.call(this,tt)}},_e}(SimpleOuterSubscriber);function debounceTime(et,_e){return _e===void 0&&(_e=async),function(tt){return tt.lift(new DebounceTimeOperator(et,_e))}}var DebounceTimeOperator=function(){function et(_e,tt){this.dueTime=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DebounceTimeSubscriber(_e,this.dueTime,this.scheduler))},et}(),DebounceTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.dueTime=rt,it.scheduler=nt,it.debouncedSubscription=null,it.lastValue=null,it.hasValue=!1,it}return _e.prototype._next=function(tt){this.clearDebounce(),this.lastValue=tt,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$1,this.dueTime,this))},_e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},_e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var tt=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(tt)}},_e.prototype.clearDebounce=function(){var tt=this.debouncedSubscription;tt!==null&&(this.remove(tt),tt.unsubscribe(),this.debouncedSubscription=null)},_e}(Subscriber);function dispatchNext$1(et){et.debouncedNext()}function defaultIfEmpty(et){return et===void 0&&(et=null),function(_e){return _e.lift(new DefaultIfEmptyOperator(et))}}var DefaultIfEmptyOperator=function(){function et(_e){this.defaultValue=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DefaultIfEmptySubscriber(_e,this.defaultValue))},et}(),DefaultIfEmptySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.defaultValue=rt,nt.isEmpty=!0,nt}return _e.prototype._next=function(tt){this.isEmpty=!1,this.destination.next(tt)},_e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},_e}(Subscriber);function isDate$1(et){return et instanceof Date&&!isNaN(+et)}function delay(et,_e){_e===void 0&&(_e=async);var tt=isDate$1(et),rt=tt?+et-_e.now():Math.abs(et);return function(nt){return nt.lift(new DelayOperator(rt,_e))}}var DelayOperator=function(){function et(_e,tt){this.delay=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DelaySubscriber(_e,this.delay,this.scheduler))},et}(),DelaySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.delay=rt,it.scheduler=nt,it.queue=[],it.active=!1,it.errored=!1,it}return _e.dispatch=function(tt){for(var rt=tt.source,nt=rt.queue,it=tt.scheduler,at=tt.destination;nt.length>0&&nt[0].time-it.now()<=0;)nt.shift().notification.observe(at);if(nt.length>0){var ot=Math.max(0,nt[0].time-it.now());this.schedule(tt,ot)}else this.unsubscribe(),rt.active=!1},_e.prototype._schedule=function(tt){this.active=!0;var rt=this.destination;rt.add(tt.schedule(_e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:tt}))},_e.prototype.scheduleNotification=function(tt){if(this.errored!==!0){var rt=this.scheduler,nt=new DelayMessage(rt.now()+this.delay,tt);this.queue.push(nt),this.active===!1&&this._schedule(rt)}},_e.prototype._next=function(tt){this.scheduleNotification(Notification$1.createNext(tt))},_e.prototype._error=function(tt){this.errored=!0,this.queue=[],this.destination.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.scheduleNotification(Notification$1.createComplete()),this.unsubscribe()},_e}(Subscriber),DelayMessage=function(){function et(_e,tt){this.time=_e,this.notification=tt}return et}();function delayWhen(et,_e){return _e?function(tt){return new SubscriptionDelayObservable(tt,_e).lift(new DelayWhenOperator(et))}:function(tt){return tt.lift(new DelayWhenOperator(et))}}var DelayWhenOperator=function(){function et(_e){this.delayDurationSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new DelayWhenSubscriber(_e,this.delayDurationSelector))},et}(),DelayWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.delayDurationSelector=rt,nt.completed=!1,nt.delayNotifierSubscriptions=[],nt.index=0,nt}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.destination.next(tt),this.removeSubscription(at),this.tryComplete()},_e.prototype.notifyError=function(tt,rt){this._error(tt)},_e.prototype.notifyComplete=function(tt){var rt=this.removeSubscription(tt);rt&&this.destination.next(rt),this.tryComplete()},_e.prototype._next=function(tt){var rt=this.index++;try{var nt=this.delayDurationSelector(tt,rt);nt&&this.tryDelay(nt,tt)}catch(it){this.destination.error(it)}},_e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},_e.prototype.removeSubscription=function(tt){tt.unsubscribe();var rt=this.delayNotifierSubscriptions.indexOf(tt);return rt!==-1&&this.delayNotifierSubscriptions.splice(rt,1),tt.outerValue},_e.prototype.tryDelay=function(tt,rt){var nt=subscribeToResult(this,tt,rt);if(nt&&!nt.closed){var it=this.destination;it.add(nt),this.delayNotifierSubscriptions.push(nt)}},_e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},_e}(OuterSubscriber),SubscriptionDelayObservable=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.source=tt,nt.subscriptionDelay=rt,nt}return _e.prototype._subscribe=function(tt){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(tt,this.source))},_e}(Observable),SubscriptionDelaySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this)||this;return nt.parent=tt,nt.source=rt,nt.sourceSubscribed=!1,nt}return _e.prototype._next=function(tt){this.subscribeToSource()},_e.prototype._error=function(tt){this.unsubscribe(),this.parent.error(tt)},_e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},_e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},_e}(Subscriber);function dematerialize(){return function(_e){return _e.lift(new DeMaterializeOperator)}}var DeMaterializeOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new DeMaterializeSubscriber(_e))},et}(),DeMaterializeSubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype._next=function(tt){tt.observe(this.destination)},_e}(Subscriber);function distinct(et,_e){return function(tt){return tt.lift(new DistinctOperator(et,_e))}}var DistinctOperator=function(){function et(_e,tt){this.keySelector=_e,this.flushes=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DistinctSubscriber(_e,this.keySelector,this.flushes))},et}(),DistinctSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.keySelector=rt,it.values=new Set,nt&&it.add(innerSubscribe(nt,new SimpleInnerSubscriber(it))),it}return _e.prototype.notifyNext=function(){this.values.clear()},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype._next=function(tt){this.keySelector?this._useKeySelector(tt):this._finalizeNext(tt,tt)},_e.prototype._useKeySelector=function(tt){var rt,nt=this.destination;try{rt=this.keySelector(tt)}catch(it){nt.error(it);return}this._finalizeNext(rt,tt)},_e.prototype._finalizeNext=function(tt,rt){var nt=this.values;nt.has(tt)||(nt.add(tt),this.destination.next(rt))},_e}(SimpleOuterSubscriber);function distinctUntilChanged(et,_e){return function(tt){return tt.lift(new DistinctUntilChangedOperator(et,_e))}}var DistinctUntilChangedOperator=function(){function et(_e,tt){this.compare=_e,this.keySelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new DistinctUntilChangedSubscriber(_e,this.compare,this.keySelector))},et}(),DistinctUntilChangedSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.keySelector=nt,it.hasKey=!1,typeof rt=="function"&&(it.compare=rt),it}return _e.prototype.compare=function(tt,rt){return tt===rt},_e.prototype._next=function(tt){var rt;try{var nt=this.keySelector;rt=nt?nt(tt):tt}catch(ot){return this.destination.error(ot)}var it=!1;if(this.hasKey)try{var at=this.compare;it=at(this.key,rt)}catch(ot){return this.destination.error(ot)}else this.hasKey=!0;it||(this.key=rt,this.destination.next(tt))},_e}(Subscriber);function distinctUntilKeyChanged(et,_e){return distinctUntilChanged(function(tt,rt){return _e?_e(tt[et],rt[et]):tt[et]===rt[et]})}function throwIfEmpty(et){return et===void 0&&(et=defaultErrorFactory),function(_e){return _e.lift(new ThrowIfEmptyOperator(et))}}var ThrowIfEmptyOperator=function(){function et(_e){this.errorFactory=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrowIfEmptySubscriber(_e,this.errorFactory))},et}(),ThrowIfEmptySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.errorFactory=rt,nt.hasValue=!1,nt}return _e.prototype._next=function(tt){this.hasValue=!0,this.destination.next(tt)},_e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var tt=void 0;try{tt=this.errorFactory()}catch(rt){tt=rt}this.destination.error(tt)},_e}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(et){return function(_e){return et===0?empty():_e.lift(new TakeOperator(et))}}var TakeOperator=function(){function et(_e){if(this.total=_e,this.total<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeSubscriber(_e,this.total))},et}(),TakeSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.count=0,nt}return _e.prototype._next=function(tt){var rt=this.total,nt=++this.count;nt<=rt&&(this.destination.next(tt),nt===rt&&(this.destination.complete(),this.unsubscribe()))},_e}(Subscriber);function elementAt(et,_e){if(et<0)throw new ArgumentOutOfRangeError;var tt=arguments.length>=2;return function(rt){return rt.pipe(filter(function(nt,it){return it===et}),take(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new ArgumentOutOfRangeError}))}}function endWith(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return concat$2(tt,of.apply(void 0,et))}}function every(et,_e){return function(tt){return tt.lift(new EveryOperator(et,_e,tt))}}var EveryOperator=function(){function et(_e,tt,rt){this.predicate=_e,this.thisArg=tt,this.source=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new EverySubscriber(_e,this.predicate,this.thisArg,this.source))},et}(),EverySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.predicate=rt,at.thisArg=nt,at.source=it,at.index=0,at.thisArg=nt||at,at}return _e.prototype.notifyComplete=function(tt){this.destination.next(tt),this.destination.complete()},_e.prototype._next=function(tt){var rt=!1;try{rt=this.predicate.call(this.thisArg,tt,this.index++,this.source)}catch(nt){this.destination.error(nt);return}rt||this.notifyComplete(!1)},_e.prototype._complete=function(){this.notifyComplete(!0)},_e}(Subscriber);function exhaust(){return function(et){return et.lift(new SwitchFirstOperator)}}var SwitchFirstOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new SwitchFirstSubscriber(_e))},et}(),SwitchFirstSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasCompleted=!1,rt.hasSubscription=!1,rt}return _e.prototype._next=function(tt){this.hasSubscription||(this.hasSubscription=!0,this.add(innerSubscribe(tt,new SimpleInnerSubscriber(this))))},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},_e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber);function exhaustMap(et,_e){return _e?function(tt){return tt.pipe(exhaustMap(function(rt,nt){return from$2(et(rt,nt)).pipe(map(function(it,at){return _e(rt,it,nt,at)}))}))}:function(tt){return tt.lift(new ExhaustMapOperator(et))}}var ExhaustMapOperator=function(){function et(_e){this.project=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new ExhaustMapSubscriber(_e,this.project))},et}(),ExhaustMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.project=rt,nt.hasSubscription=!1,nt.hasCompleted=!1,nt.index=0,nt}return _e.prototype._next=function(tt){this.hasSubscription||this.tryNext(tt)},_e.prototype.tryNext=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this.hasSubscription=!0,this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e.prototype.notifyError=function(tt){this.destination.error(tt)},_e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},_e}(SimpleOuterSubscriber);function expand(et,_e,tt){return _e===void 0&&(_e=Number.POSITIVE_INFINITY),_e=(_e||0)<1?Number.POSITIVE_INFINITY:_e,function(rt){return rt.lift(new ExpandOperator(et,_e,tt))}}var ExpandOperator=function(){function et(_e,tt,rt){this.project=_e,this.concurrent=tt,this.scheduler=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ExpandSubscriber(_e,this.project,this.concurrent,this.scheduler))},et}(),ExpandSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.project=rt,at.concurrent=nt,at.scheduler=it,at.index=0,at.active=0,at.hasCompleted=!1,nt<Number.POSITIVE_INFINITY&&(at.buffer=[]),at}return _e.dispatch=function(tt){var rt=tt.subscriber,nt=tt.result,it=tt.value,at=tt.index;rt.subscribeToProjection(nt,it,at)},_e.prototype._next=function(tt){var rt=this.destination;if(rt.closed){this._complete();return}var nt=this.index++;if(this.active<this.concurrent){rt.next(tt);try{var it=this.project,at=it(tt,nt);if(!this.scheduler)this.subscribeToProjection(at,tt,nt);else{var ot={subscriber:this,result:at,value:tt,index:nt},ct=this.destination;ct.add(this.scheduler.schedule(_e.dispatch,0,ot))}}catch(ut){rt.error(ut)}}else this.buffer.push(tt)},_e.prototype.subscribeToProjection=function(tt,rt,nt){this.active++;var it=this.destination;it.add(innerSubscribe(tt,new SimpleInnerSubscriber(this)))},_e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},_e.prototype.notifyNext=function(tt){this._next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt&&tt.length>0&&this._next(tt.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},_e}(SimpleOuterSubscriber);function finalize(et){return function(_e){return _e.lift(new FinallyOperator(et))}}var FinallyOperator=function(){function et(_e){this.callback=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new FinallySubscriber(_e,this.callback))},et}(),FinallySubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.add(new Subscription(rt)),nt}return _e}(Subscriber);function find(et,_e){if(typeof et!="function")throw new TypeError("predicate is not a function");return function(tt){return tt.lift(new FindValueOperator(et,tt,!1,_e))}}var FindValueOperator=function(){function et(_e,tt,rt,nt){this.predicate=_e,this.source=tt,this.yieldIndex=rt,this.thisArg=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new FindValueSubscriber(_e,this.predicate,this.source,this.yieldIndex,this.thisArg))},et}(),FindValueSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var ot=et.call(this,tt)||this;return ot.predicate=rt,ot.source=nt,ot.yieldIndex=it,ot.thisArg=at,ot.index=0,ot}return _e.prototype.notifyComplete=function(tt){var rt=this.destination;rt.next(tt),rt.complete(),this.unsubscribe()},_e.prototype._next=function(tt){var rt=this,nt=rt.predicate,it=rt.thisArg,at=this.index++;try{var ot=nt.call(it||this,tt,at,this.source);ot&&this.notifyComplete(this.yieldIndex?at:tt)}catch(ct){this.destination.error(ct)}},_e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},_e}(Subscriber);function findIndex(et,_e){return function(tt){return tt.lift(new FindValueOperator(et,tt,!0,_e))}}function first$1(et,_e){var tt=arguments.length>=2;return function(rt){return rt.pipe(et?filter(function(nt,it){return et(nt,it,rt)}):identity,take(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(_e){return _e.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new IgnoreElementsSubscriber(_e))},et}(),IgnoreElementsSubscriber=function(et){__extends(_e,et);function _e(){return et!==null&&et.apply(this,arguments)||this}return _e.prototype._next=function(tt){},_e}(Subscriber);function isEmpty$1(){return function(et){return et.lift(new IsEmptyOperator)}}var IsEmptyOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new IsEmptySubscriber(_e))},et}(),IsEmptySubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype.notifyComplete=function(tt){var rt=this.destination;rt.next(tt),rt.complete()},_e.prototype._next=function(tt){this.notifyComplete(!1)},_e.prototype._complete=function(){this.notifyComplete(!0)},_e}(Subscriber);function takeLast(et){return function(tt){return et===0?empty():tt.lift(new TakeLastOperator(et))}}var TakeLastOperator=function(){function et(_e){if(this.total=_e,this.total<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeLastSubscriber(_e,this.total))},et}(),TakeLastSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.ring=new Array,nt.count=0,nt}return _e.prototype._next=function(tt){var rt=this.ring,nt=this.total,it=this.count++;if(rt.length<nt)rt.push(tt);else{var at=it%nt;rt[at]=tt}},_e.prototype._complete=function(){var tt=this.destination,rt=this.count;if(rt>0)for(var nt=this.count>=this.total?this.total:this.count,it=this.ring,at=0;at<nt;at++){var ot=rt++%nt;tt.next(it[ot])}tt.complete()},_e}(Subscriber);function last$1(et,_e){var tt=arguments.length>=2;return function(rt){return rt.pipe(et?filter(function(nt,it){return et(nt,it,rt)}):identity,takeLast(1),tt?defaultIfEmpty(_e):throwIfEmpty(function(){return new EmptyError}))}}function mapTo(et){return function(_e){return _e.lift(new MapToOperator(et))}}var MapToOperator=function(){function et(_e){this.value=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new MapToSubscriber(_e,this.value))},et}(),MapToSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.value=rt,nt}return _e.prototype._next=function(tt){this.destination.next(this.value)},_e}(Subscriber);function materialize(){return function(_e){return _e.lift(new MaterializeOperator)}}var MaterializeOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new MaterializeSubscriber(_e))},et}(),MaterializeSubscriber=function(et){__extends(_e,et);function _e(tt){return et.call(this,tt)||this}return _e.prototype._next=function(tt){this.destination.next(Notification$1.createNext(tt))},_e.prototype._error=function(tt){var rt=this.destination;rt.next(Notification$1.createError(tt)),rt.complete()},_e.prototype._complete=function(){var tt=this.destination;tt.next(Notification$1.createComplete()),tt.complete()},_e}(Subscriber);function scan(et,_e){var tt=!1;return arguments.length>=2&&(tt=!0),function(nt){return nt.lift(new ScanOperator(et,_e,tt))}}var ScanOperator=function(){function et(_e,tt,rt){rt===void 0&&(rt=!1),this.accumulator=_e,this.seed=tt,this.hasSeed=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ScanSubscriber(_e,this.accumulator,this.seed,this.hasSeed))},et}(),ScanSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.accumulator=rt,at._seed=nt,at.hasSeed=it,at.index=0,at}return Object.defineProperty(_e.prototype,"seed",{get:function(){return this._seed},set:function(tt){this.hasSeed=!0,this._seed=tt},enumerable:!0,configurable:!0}),_e.prototype._next=function(tt){if(!this.hasSeed)this.seed=tt,this.destination.next(tt);else return this._tryNext(tt)},_e.prototype._tryNext=function(tt){var rt=this.index++,nt;try{nt=this.accumulator(this.seed,tt,rt)}catch(it){this.destination.error(it)}this.seed=nt,this.destination.next(nt)},_e}(Subscriber);function reduce(et,_e){return arguments.length>=2?function(rt){return pipe$1(scan(et,_e),takeLast(1),defaultIfEmpty(_e))(rt)}:function(rt){return pipe$1(scan(function(nt,it,at){return et(nt,it,at+1)}),takeLast(1))(rt)}}function max$2(et){var _e=typeof et=="function"?function(tt,rt){return et(tt,rt)>0?tt:rt}:function(tt,rt){return tt>rt?tt:rt};return reduce(_e)}function merge$1(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){return tt.lift.call(merge$2.apply(void 0,[tt].concat(et)))}}function mergeMapTo(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),typeof _e=="function"?mergeMap(function(){return et},_e,tt):(typeof _e=="number"&&(tt=_e),mergeMap(function(){return et},tt))}function mergeScan(et,_e,tt){return tt===void 0&&(tt=Number.POSITIVE_INFINITY),function(rt){return rt.lift(new MergeScanOperator(et,_e,tt))}}var MergeScanOperator=function(){function et(_e,tt,rt){this.accumulator=_e,this.seed=tt,this.concurrent=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new MergeScanSubscriber(_e,this.accumulator,this.seed,this.concurrent))},et}(),MergeScanSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.accumulator=rt,at.acc=nt,at.concurrent=it,at.hasValue=!1,at.hasCompleted=!1,at.buffer=[],at.active=0,at.index=0,at}return _e.prototype._next=function(tt){if(this.active<this.concurrent){var rt=this.index++,nt=this.destination,it=void 0;try{var at=this.accumulator;it=at(this.acc,tt,rt)}catch(ot){return nt.error(ot)}this.active++,this._innerSub(it)}else this.buffer.push(tt)},_e.prototype._innerSub=function(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)},_e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},_e.prototype.notifyNext=function(tt){var rt=this.destination;this.acc=tt,this.hasValue=!0,rt.next(tt)},_e.prototype.notifyComplete=function(){var tt=this.buffer;this.active--,tt.length>0?this._next(tt.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},_e}(SimpleOuterSubscriber);function min$2(et){var _e=typeof et=="function"?function(tt,rt){return et(tt,rt)<0?tt:rt}:function(tt,rt){return tt<rt?tt:rt};return reduce(_e)}function multicast(et,_e){return function(rt){var nt;if(typeof et=="function"?nt=et:nt=function(){return et},typeof _e=="function")return rt.lift(new MulticastOperator(nt,_e));var it=Object.create(rt,connectableObservableDescriptor);return it.source=rt,it.subjectFactory=nt,it}}var MulticastOperator=function(){function et(_e,tt){this.subjectFactory=_e,this.selector=tt}return et.prototype.call=function(_e,tt){var rt=this.selector,nt=this.subjectFactory(),it=rt(nt).subscribe(_e);return it.add(tt.subscribe(nt)),it},et}();function onErrorResumeNext(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return et.length===1&&isArray$9(et[0])&&(et=et[0]),function(tt){return tt.lift(new OnErrorResumeNextOperator(et))}}var OnErrorResumeNextOperator=function(){function et(_e){this.nextSources=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new OnErrorResumeNextSubscriber(_e,this.nextSources))},et}(),OnErrorResumeNextSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.destination=tt,nt.nextSources=rt,nt}return _e.prototype.notifyError=function(){this.subscribeToNextSource()},_e.prototype.notifyComplete=function(){this.subscribeToNextSource()},_e.prototype._error=function(tt){this.subscribeToNextSource(),this.unsubscribe()},_e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},_e.prototype.subscribeToNextSource=function(){var tt=this.nextSources.shift();if(tt){var rt=new SimpleInnerSubscriber(this),nt=this.destination;nt.add(rt);var it=innerSubscribe(tt,rt);it!==rt&&nt.add(it)}else this.destination.complete()},_e}(SimpleOuterSubscriber);function pairwise(){return function(et){return et.lift(new PairwiseOperator)}}var PairwiseOperator=function(){function et(){}return et.prototype.call=function(_e,tt){return tt.subscribe(new PairwiseSubscriber(_e))},et}(),PairwiseSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.hasPrev=!1,rt}return _e.prototype._next=function(tt){var rt;this.hasPrev?rt=[this.prev,tt]:this.hasPrev=!0,this.prev=tt,rt&&this.destination.next(rt)},_e}(Subscriber);function partition(et,_e){return function(tt){return[filter(et,_e)(tt),filter(not$2(et,_e))(tt)]}}function pluck(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et.length;if(tt===0)throw new Error("list of properties cannot be empty.");return function(rt){return map(plucker(et,tt))(rt)}}function plucker(et,_e){var tt=function(rt){for(var nt=rt,it=0;it<_e;it++){var at=nt!=null?nt[et[it]]:void 0;if(at!==void 0)nt=at;else return}return nt};return tt}function publish(et){return et?multicast(function(){return new Subject},et):multicast(new Subject)}function publishBehavior(et){return function(_e){return multicast(new BehaviorSubject(et))(_e)}}function publishLast(){return function(et){return multicast(new AsyncSubject)(et)}}function publishReplay(et,_e,tt,rt){tt&&typeof tt!="function"&&(rt=tt);var nt=typeof tt=="function"?tt:void 0,it=new ReplaySubject(et,_e,rt);return function(at){return multicast(function(){return it},nt)(at)}}function race(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(rt){return et.length===1&&isArray$9(et[0])&&(et=et[0]),rt.lift.call(race$1.apply(void 0,[rt].concat(et)))}}function repeat(et){return et===void 0&&(et=-1),function(_e){return et===0?empty():et<0?_e.lift(new RepeatOperator(-1,_e)):_e.lift(new RepeatOperator(et-1,_e))}}var RepeatOperator=function(){function et(_e,tt){this.count=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RepeatSubscriber(_e,this.count,this.source))},et}(),RepeatSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.count=rt,it.source=nt,it}return _e.prototype.complete=function(){if(!this.isStopped){var tt=this,rt=tt.source,nt=tt.count;if(nt===0)return et.prototype.complete.call(this);nt>-1&&(this.count=nt-1),rt.subscribe(this._unsubscribeAndRecycle())}},_e}(Subscriber);function repeatWhen(et){return function(_e){return _e.lift(new RepeatWhenOperator(et))}}var RepeatWhenOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new RepeatWhenSubscriber(_e,this.notifier,tt))},et}(),RepeatWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.notifier=rt,it.source=nt,it.sourceIsBeingSubscribedTo=!0,it}return _e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},_e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return et.prototype.complete.call(this)},_e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return et.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.notifications,nt=tt.retriesSubscription;rt&&(rt.unsubscribe(),this.notifications=void 0),nt&&(nt.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},_e.prototype._unsubscribeAndRecycle=function(){var tt=this._unsubscribe;return this._unsubscribe=null,et.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=tt,this},_e.prototype.subscribeToRetries=function(){this.notifications=new Subject;var tt;try{var rt=this.notifier;tt=rt(this.notifications)}catch{return et.prototype.complete.call(this)}this.retries=tt,this.retriesSubscription=innerSubscribe(tt,new SimpleInnerSubscriber(this))},_e}(SimpleOuterSubscriber);function retry(et){return et===void 0&&(et=-1),function(_e){return _e.lift(new RetryOperator(et,_e))}}var RetryOperator=function(){function et(_e,tt){this.count=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RetrySubscriber(_e,this.count,this.source))},et}(),RetrySubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.count=rt,it.source=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=this,nt=rt.source,it=rt.count;if(it===0)return et.prototype.error.call(this,tt);it>-1&&(this.count=it-1),nt.subscribe(this._unsubscribeAndRecycle())}},_e}(Subscriber);function retryWhen(et){return function(_e){return _e.lift(new RetryWhenOperator(et,_e))}}var RetryWhenOperator=function(){function et(_e,tt){this.notifier=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new RetryWhenSubscriber(_e,this.notifier,this.source))},et}(),RetryWhenSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.notifier=rt,it.source=nt,it}return _e.prototype.error=function(tt){if(!this.isStopped){var rt=this.errors,nt=this.retries,it=this.retriesSubscription;if(nt)this.errors=void 0,this.retriesSubscription=void 0;else{rt=new Subject;try{var at=this.notifier;nt=at(rt)}catch(ot){return et.prototype.error.call(this,ot)}it=innerSubscribe(nt,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=rt,this.retries=nt,this.retriesSubscription=it,rt.next(tt)}},_e.prototype._unsubscribe=function(){var tt=this,rt=tt.errors,nt=tt.retriesSubscription;rt&&(rt.unsubscribe(),this.errors=void 0),nt&&(nt.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},_e.prototype.notifyNext=function(){var tt=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=tt,this.source.subscribe(this)},_e}(SimpleOuterSubscriber);function sample(et){return function(_e){return _e.lift(new SampleOperator(et))}}var SampleOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){var rt=new SampleSubscriber(_e),nt=tt.subscribe(rt);return nt.add(innerSubscribe(this.notifier,new SimpleInnerSubscriber(rt))),nt},et}(),SampleSubscriber=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt.hasValue=!1,tt}return _e.prototype._next=function(tt){this.value=tt,this.hasValue=!0},_e.prototype.notifyNext=function(){this.emitValue()},_e.prototype.notifyComplete=function(){this.emitValue()},_e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},_e}(SimpleOuterSubscriber);function sampleTime(et,_e){return _e===void 0&&(_e=async),function(tt){return tt.lift(new SampleTimeOperator(et,_e))}}var SampleTimeOperator=function(){function et(_e,tt){this.period=_e,this.scheduler=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SampleTimeSubscriber(_e,this.period,this.scheduler))},et}(),SampleTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.period=rt,it.scheduler=nt,it.hasValue=!1,it.add(nt.schedule(dispatchNotification,rt,{subscriber:it,period:rt})),it}return _e.prototype._next=function(tt){this.lastValue=tt,this.hasValue=!0},_e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},_e}(Subscriber);function dispatchNotification(et){var _e=et.subscriber,tt=et.period;_e.notifyNext(),this.schedule(et,tt)}function sequenceEqual(et,_e){return function(tt){return tt.lift(new SequenceEqualOperator(et,_e))}}var SequenceEqualOperator=function(){function et(_e,tt){this.compareTo=_e,this.comparator=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SequenceEqualSubscriber(_e,this.compareTo,this.comparator))},et}(),SequenceEqualSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.compareTo=rt,it.comparator=nt,it._a=[],it._b=[],it._oneComplete=!1,it.destination.add(rt.subscribe(new SequenceEqualCompareToSubscriber(tt,it))),it}return _e.prototype._next=function(tt){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(tt),this.checkValues())},_e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},_e.prototype.checkValues=function(){for(var tt=this,rt=tt._a,nt=tt._b,it=tt.comparator;rt.length>0&&nt.length>0;){var at=rt.shift(),ot=nt.shift(),ct=!1;try{ct=it?it(at,ot):at===ot}catch(ut){this.destination.error(ut)}ct||this.emit(!1)}},_e.prototype.emit=function(tt){var rt=this.destination;rt.next(tt),rt.complete()},_e.prototype.nextB=function(tt){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(tt),this.checkValues())},_e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},_e}(Subscriber),SequenceEqualCompareToSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.parent=rt,nt}return _e.prototype._next=function(tt){this.parent.nextB(tt)},_e.prototype._error=function(tt){this.parent.error(tt),this.unsubscribe()},_e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},_e}(Subscriber);function shareSubjectFactory(){return new Subject}function share(){return function(et){return refCount()(multicast(shareSubjectFactory)(et))}}function shareReplay(et,_e,tt){var rt;return et&&typeof et=="object"?rt=et:rt={bufferSize:et,windowTime:_e,refCount:!1,scheduler:tt},function(nt){return nt.lift(shareReplayOperator(rt))}}function shareReplayOperator(et){var _e=et.bufferSize,tt=_e===void 0?Number.POSITIVE_INFINITY:_e,rt=et.windowTime,nt=rt===void 0?Number.POSITIVE_INFINITY:rt,it=et.refCount,at=et.scheduler,ot,ct=0,ut,ft=!1,yt=!1;return function(Et){ct++;var Ct;!ot||ft?(ft=!1,ot=new ReplaySubject(tt,nt,at),Ct=ot.subscribe(this),ut=Et.subscribe({next:function(At){ot.next(At)},error:function(At){ft=!0,ot.error(At)},complete:function(){yt=!0,ut=void 0,ot.complete()}}),yt&&(ut=void 0)):Ct=ot.subscribe(this),this.add(function(){ct--,Ct.unsubscribe(),Ct=void 0,ut&&!yt&&it&&ct===0&&(ut.unsubscribe(),ut=void 0,ot=void 0)})}}function single(et){return function(_e){return _e.lift(new SingleOperator(et,_e))}}var SingleOperator=function(){function et(_e,tt){this.predicate=_e,this.source=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new SingleSubscriber(_e,this.predicate,this.source))},et}(),SingleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.source=nt,it.seenValue=!1,it.index=0,it}return _e.prototype.applySingleValue=function(tt){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=tt)},_e.prototype._next=function(tt){var rt=this.index++;this.predicate?this.tryNext(tt,rt):this.applySingleValue(tt)},_e.prototype.tryNext=function(tt,rt){try{this.predicate(tt,rt,this.source)&&this.applySingleValue(tt)}catch(nt){this.destination.error(nt)}},_e.prototype._complete=function(){var tt=this.destination;this.index>0?(tt.next(this.seenValue?this.singleValue:void 0),tt.complete()):tt.error(new EmptyError)},_e}(Subscriber);function skip(et){return function(_e){return _e.lift(new SkipOperator(et))}}var SkipOperator=function(){function et(_e){this.total=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipSubscriber(_e,this.total))},et}(),SkipSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.total=rt,nt.count=0,nt}return _e.prototype._next=function(tt){++this.count>this.total&&this.destination.next(tt)},_e}(Subscriber);function skipLast(et){return function(_e){return _e.lift(new SkipLastOperator(et))}}var SkipLastOperator=function(){function et(_e){if(this._skipCount=_e,this._skipCount<0)throw new ArgumentOutOfRangeError}return et.prototype.call=function(_e,tt){return this._skipCount===0?tt.subscribe(new Subscriber(_e)):tt.subscribe(new SkipLastSubscriber(_e,this._skipCount))},et}(),SkipLastSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt._skipCount=rt,nt._count=0,nt._ring=new Array(rt),nt}return _e.prototype._next=function(tt){var rt=this._skipCount,nt=this._count++;if(nt<rt)this._ring[nt]=tt;else{var it=nt%rt,at=this._ring,ot=at[it];at[it]=tt,this.destination.next(ot)}},_e}(Subscriber);function skipUntil(et){return function(_e){return _e.lift(new SkipUntilOperator(et))}}var SkipUntilOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipUntilSubscriber(_e,this.notifier))},et}(),SkipUntilSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;nt.hasValue=!1;var it=new SimpleInnerSubscriber(nt);nt.add(it),nt.innerSubscription=it;var at=innerSubscribe(rt,it);return at!==it&&(nt.add(at),nt.innerSubscription=at),nt}return _e.prototype._next=function(tt){this.hasValue&&et.prototype._next.call(this,tt)},_e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},_e.prototype.notifyComplete=function(){},_e}(SimpleOuterSubscriber);function skipWhile(et){return function(_e){return _e.lift(new SkipWhileOperator(et))}}var SkipWhileOperator=function(){function et(_e){this.predicate=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SkipWhileSubscriber(_e,this.predicate))},et}(),SkipWhileSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.predicate=rt,nt.skipping=!0,nt.index=0,nt}return _e.prototype._next=function(tt){var rt=this.destination;this.skipping&&this.tryCallPredicate(tt),this.skipping||rt.next(tt)},_e.prototype.tryCallPredicate=function(tt){try{var rt=this.predicate(tt,this.index++);this.skipping=Boolean(rt)}catch(nt){this.destination.error(nt)}},_e}(Subscriber);function startWith(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];var tt=et[et.length-1];return isScheduler(tt)?(et.pop(),function(rt){return concat$2(et,rt,tt)}):function(rt){return concat$2(et,rt)}}var SubscribeOnObservable=function(et){__extends(_e,et);function _e(tt,rt,nt){rt===void 0&&(rt=0),nt===void 0&&(nt=asap);var it=et.call(this)||this;return it.source=tt,it.delayTime=rt,it.scheduler=nt,(!isNumeric(rt)||rt<0)&&(it.delayTime=0),(!nt||typeof nt.schedule!="function")&&(it.scheduler=asap),it}return _e.create=function(tt,rt,nt){return rt===void 0&&(rt=0),nt===void 0&&(nt=asap),new _e(tt,rt,nt)},_e.dispatch=function(tt){var rt=tt.source,nt=tt.subscriber;return this.add(rt.subscribe(nt))},_e.prototype._subscribe=function(tt){var rt=this.delayTime,nt=this.source,it=this.scheduler;return it.schedule(_e.dispatch,rt,{source:nt,subscriber:tt})},_e}(Observable);function subscribeOn(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new SubscribeOnOperator(et,_e))}}var SubscribeOnOperator=function(){function et(_e,tt){this.scheduler=_e,this.delay=tt}return et.prototype.call=function(_e,tt){return new SubscribeOnObservable(tt,this.delay,this.scheduler).subscribe(_e)},et}();function switchMap(et,_e){return typeof _e=="function"?function(tt){return tt.pipe(switchMap(function(rt,nt){return from$2(et(rt,nt)).pipe(map(function(it,at){return _e(rt,it,nt,at)}))}))}:function(tt){return tt.lift(new SwitchMapOperator(et))}}var SwitchMapOperator=function(){function et(_e){this.project=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new SwitchMapSubscriber(_e,this.project))},et}(),SwitchMapSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.project=rt,nt.index=0,nt}return _e.prototype._next=function(tt){var rt,nt=this.index++;try{rt=this.project(tt,nt)}catch(it){this.destination.error(it);return}this._innerSub(rt)},_e.prototype._innerSub=function(tt){var rt=this.innerSubscription;rt&&rt.unsubscribe();var nt=new SimpleInnerSubscriber(this),it=this.destination;it.add(nt),this.innerSubscription=innerSubscribe(tt,nt),this.innerSubscription!==nt&&it.add(this.innerSubscription)},_e.prototype._complete=function(){var tt=this.innerSubscription;(!tt||tt.closed)&&et.prototype._complete.call(this),this.unsubscribe()},_e.prototype._unsubscribe=function(){this.innerSubscription=void 0},_e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&et.prototype._complete.call(this)},_e.prototype.notifyNext=function(tt){this.destination.next(tt)},_e}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity)}function switchMapTo(et,_e){return _e?switchMap(function(){return et},_e):switchMap(function(){return et})}function takeUntil(et){return function(_e){return _e.lift(new TakeUntilOperator(et))}}var TakeUntilOperator=function(){function et(_e){this.notifier=_e}return et.prototype.call=function(_e,tt){var rt=new TakeUntilSubscriber(_e),nt=innerSubscribe(this.notifier,new SimpleInnerSubscriber(rt));return nt&&!rt.seenValue?(rt.add(nt),tt.subscribe(rt)):rt},et}(),TakeUntilSubscriber=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.seenValue=!1,rt}return _e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},_e.prototype.notifyComplete=function(){},_e}(SimpleOuterSubscriber);function takeWhile(et,_e){return _e===void 0&&(_e=!1),function(tt){return tt.lift(new TakeWhileOperator(et,_e))}}var TakeWhileOperator=function(){function et(_e,tt){this.predicate=_e,this.inclusive=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TakeWhileSubscriber(_e,this.predicate,this.inclusive))},et}(),TakeWhileSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.predicate=rt,it.inclusive=nt,it.index=0,it}return _e.prototype._next=function(tt){var rt=this.destination,nt;try{nt=this.predicate(tt,this.index++)}catch(it){rt.error(it);return}this.nextOrComplete(tt,nt)},_e.prototype.nextOrComplete=function(tt,rt){var nt=this.destination;Boolean(rt)?nt.next(tt):(this.inclusive&&nt.next(tt),nt.complete())},_e}(Subscriber);function tap(et,_e,tt){return function(nt){return nt.lift(new DoOperator(et,_e,tt))}}var DoOperator=function(){function et(_e,tt,rt){this.nextOrObserver=_e,this.error=tt,this.complete=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TapSubscriber(_e,this.nextOrObserver,this.error,this.complete))},et}(),TapSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at._tapNext=noop$4,at._tapError=noop$4,at._tapComplete=noop$4,at._tapError=nt||noop$4,at._tapComplete=it||noop$4,isFunction$1(rt)?(at._context=at,at._tapNext=rt):rt&&(at._context=rt,at._tapNext=rt.next||noop$4,at._tapError=rt.error||noop$4,at._tapComplete=rt.complete||noop$4),at}return _e.prototype._next=function(tt){try{this._tapNext.call(this._context,tt)}catch(rt){this.destination.error(rt);return}this.destination.next(tt)},_e.prototype._error=function(tt){try{this._tapError.call(this._context,tt)}catch(rt){this.destination.error(rt);return}this.destination.error(tt)},_e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(tt){this.destination.error(tt);return}return this.destination.complete()},_e}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttle(et,_e){return _e===void 0&&(_e=defaultThrottleConfig),function(tt){return tt.lift(new ThrottleOperator(et,!!_e.leading,!!_e.trailing))}}var ThrottleOperator=function(){function et(_e,tt,rt){this.durationSelector=_e,this.leading=tt,this.trailing=rt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrottleSubscriber(_e,this.durationSelector,this.leading,this.trailing))},et}(),ThrottleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it){var at=et.call(this,tt)||this;return at.destination=tt,at.durationSelector=rt,at._leading=nt,at._trailing=it,at._hasValue=!1,at}return _e.prototype._next=function(tt){this._hasValue=!0,this._sendValue=tt,this._throttled||(this._leading?this.send():this.throttle(tt))},_e.prototype.send=function(){var tt=this,rt=tt._hasValue,nt=tt._sendValue;rt&&(this.destination.next(nt),this.throttle(nt)),this._hasValue=!1,this._sendValue=void 0},_e.prototype.throttle=function(tt){var rt=this.tryDurationSelector(tt);rt&&this.add(this._throttled=innerSubscribe(rt,new SimpleInnerSubscriber(this)))},_e.prototype.tryDurationSelector=function(tt){try{return this.durationSelector(tt)}catch(rt){return this.destination.error(rt),null}},_e.prototype.throttlingDone=function(){var tt=this,rt=tt._throttled,nt=tt._trailing;rt&&rt.unsubscribe(),this._throttled=void 0,nt&&this.send()},_e.prototype.notifyNext=function(){this.throttlingDone()},_e.prototype.notifyComplete=function(){this.throttlingDone()},_e}(SimpleOuterSubscriber);function throttleTime(et,_e,tt){return _e===void 0&&(_e=async),tt===void 0&&(tt=defaultThrottleConfig),function(rt){return rt.lift(new ThrottleTimeOperator(et,_e,tt.leading,tt.trailing))}}var ThrottleTimeOperator=function(){function et(_e,tt,rt,nt){this.duration=_e,this.scheduler=tt,this.leading=rt,this.trailing=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new ThrottleTimeSubscriber(_e,this.duration,this.scheduler,this.leading,this.trailing))},et}(),ThrottleTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var ot=et.call(this,tt)||this;return ot.duration=rt,ot.scheduler=nt,ot.leading=it,ot.trailing=at,ot._hasTrailingValue=!1,ot._trailingValue=null,ot}return _e.prototype._next=function(tt){this.throttled?this.trailing&&(this._trailingValue=tt,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(tt):this.trailing&&(this._trailingValue=tt,this._hasTrailingValue=!0))},_e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},_e.prototype.clearThrottle=function(){var tt=this.throttled;tt&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),tt.unsubscribe(),this.remove(tt),this.throttled=null)},_e}(Subscriber);function dispatchNext(et){var _e=et.subscriber;_e.clearThrottle()}function timeInterval(et){return et===void 0&&(et=async),function(_e){return defer(function(){return _e.pipe(scan(function(tt,rt){var nt=tt.current;return{value:rt,current:et.now(),last:nt}},{current:et.now(),value:void 0,last:void 0}),map(function(tt){var rt=tt.current,nt=tt.last,it=tt.value;return new TimeInterval(it,rt-nt)}))})}}var TimeInterval=function(){function et(_e,tt){this.value=_e,this.interval=tt}return et}();function timeoutWith(et,_e,tt){return tt===void 0&&(tt=async),function(rt){var nt=isDate$1(et),it=nt?+et-tt.now():Math.abs(et);return rt.lift(new TimeoutWithOperator(it,nt,_e,tt))}}var TimeoutWithOperator=function(){function et(_e,tt,rt,nt){this.waitFor=_e,this.absoluteTimeout=tt,this.withObservable=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new TimeoutWithSubscriber(_e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},et}(),TimeoutWithSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var ot=et.call(this,tt)||this;return ot.absoluteTimeout=rt,ot.waitFor=nt,ot.withObservable=it,ot.scheduler=at,ot.scheduleTimeout(),ot}return _e.dispatchTimeout=function(tt){var rt=tt.withObservable;tt._unsubscribeAndRecycle(),tt.add(innerSubscribe(rt,new SimpleInnerSubscriber(tt)))},_e.prototype.scheduleTimeout=function(){var tt=this.action;tt?this.action=tt.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(_e.dispatchTimeout,this.waitFor,this))},_e.prototype._next=function(tt){this.absoluteTimeout||this.scheduleTimeout(),et.prototype._next.call(this,tt)},_e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},_e}(SimpleOuterSubscriber);function timeout$1(et,_e){return _e===void 0&&(_e=async),timeoutWith(et,throwError(new TimeoutError),_e)}function timestamp(et){return et===void 0&&(et=async),map(function(_e){return new Timestamp(_e,et.now())})}var Timestamp=function(){function et(_e,tt){this.value=_e,this.timestamp=tt}return et}();function toArrayReducer(et,_e,tt){return tt===0?[_e]:(et.push(_e),et)}function toArray$1(){return reduce(toArrayReducer,[])}function window$1(et){return function(tt){return tt.lift(new WindowOperator$1(et))}}var WindowOperator$1=function(){function et(_e){this.windowBoundaries=_e}return et.prototype.call=function(_e,tt){var rt=new WindowSubscriber$1(_e),nt=tt.subscribe(rt);return nt.closed||rt.add(innerSubscribe(this.windowBoundaries,new SimpleInnerSubscriber(rt))),nt},et}(),WindowSubscriber$1=function(et){__extends(_e,et);function _e(tt){var rt=et.call(this,tt)||this;return rt.window=new Subject,tt.next(rt.window),rt}return _e.prototype.notifyNext=function(){this.openWindow()},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype.notifyComplete=function(){this._complete()},_e.prototype._next=function(tt){this.window.next(tt)},_e.prototype._error=function(tt){this.window.error(tt),this.destination.error(tt)},_e.prototype._complete=function(){this.window.complete(),this.destination.complete()},_e.prototype._unsubscribe=function(){this.window=null},_e.prototype.openWindow=function(){var tt=this.window;tt&&tt.complete();var rt=this.destination,nt=this.window=new Subject;rt.next(nt)},_e}(SimpleOuterSubscriber);function windowCount(et,_e){return _e===void 0&&(_e=0),function(rt){return rt.lift(new WindowCountOperator(et,_e))}}var WindowCountOperator=function(){function et(_e,tt){this.windowSize=_e,this.startWindowEvery=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowCountSubscriber(_e,this.windowSize,this.startWindowEvery))},et}(),WindowCountSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.destination=tt,it.windowSize=rt,it.startWindowEvery=nt,it.windows=[new Subject],it.count=0,tt.next(it.windows[0]),it}return _e.prototype._next=function(tt){for(var rt=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,nt=this.destination,it=this.windowSize,at=this.windows,ot=at.length,ct=0;ct<ot&&!this.closed;ct++)at[ct].next(tt);var ut=this.count-it+1;if(ut>=0&&ut%rt===0&&!this.closed&&at.shift().complete(),++this.count%rt===0&&!this.closed){var ft=new Subject;at.push(ft),nt.next(ft)}},_e.prototype._error=function(tt){var rt=this.windows;if(rt)for(;rt.length>0&&!this.closed;)rt.shift().error(tt);this.destination.error(tt)},_e.prototype._complete=function(){var tt=this.windows;if(tt)for(;tt.length>0&&!this.closed;)tt.shift().complete();this.destination.complete()},_e.prototype._unsubscribe=function(){this.count=0,this.windows=null},_e}(Subscriber);function windowTime(et){var _e=async,tt=null,rt=Number.POSITIVE_INFINITY;return isScheduler(arguments[3])&&(_e=arguments[3]),isScheduler(arguments[2])?_e=arguments[2]:isNumeric(arguments[2])&&(rt=Number(arguments[2])),isScheduler(arguments[1])?_e=arguments[1]:isNumeric(arguments[1])&&(tt=Number(arguments[1])),function(it){return it.lift(new WindowTimeOperator(et,tt,rt,_e))}}var WindowTimeOperator=function(){function et(_e,tt,rt,nt){this.windowTimeSpan=_e,this.windowCreationInterval=tt,this.maxWindowSize=rt,this.scheduler=nt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowTimeSubscriber(_e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},et}(),CountedSubject=function(et){__extends(_e,et);function _e(){var tt=et!==null&&et.apply(this,arguments)||this;return tt._numberOfNextedValues=0,tt}return _e.prototype.next=function(tt){this._numberOfNextedValues++,et.prototype.next.call(this,tt)},Object.defineProperty(_e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),_e}(Subject),WindowTimeSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt,it,at){var ot=et.call(this,tt)||this;ot.destination=tt,ot.windowTimeSpan=rt,ot.windowCreationInterval=nt,ot.maxWindowSize=it,ot.scheduler=at,ot.windows=[];var ct=ot.openWindow();if(nt!==null&&nt>=0){var ut={subscriber:ot,window:ct,context:null},ft={windowTimeSpan:rt,windowCreationInterval:nt,subscriber:ot,scheduler:at};ot.add(at.schedule(dispatchWindowClose,rt,ut)),ot.add(at.schedule(dispatchWindowCreation,nt,ft))}else{var yt={subscriber:ot,window:ct,windowTimeSpan:rt};ot.add(at.schedule(dispatchWindowTimeSpanOnly,rt,yt))}return ot}return _e.prototype._next=function(tt){for(var rt=this.windows,nt=rt.length,it=0;it<nt;it++){var at=rt[it];at.closed||(at.next(tt),at.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(at))}},_e.prototype._error=function(tt){for(var rt=this.windows;rt.length>0;)rt.shift().error(tt);this.destination.error(tt)},_e.prototype._complete=function(){for(var tt=this.windows;tt.length>0;){var rt=tt.shift();rt.closed||rt.complete()}this.destination.complete()},_e.prototype.openWindow=function(){var tt=new CountedSubject;this.windows.push(tt);var rt=this.destination;return rt.next(tt),tt},_e.prototype.closeWindow=function(tt){tt.complete();var rt=this.windows;rt.splice(rt.indexOf(tt),1)},_e}(Subscriber);function dispatchWindowTimeSpanOnly(et){var _e=et.subscriber,tt=et.windowTimeSpan,rt=et.window;rt&&_e.closeWindow(rt),et.window=_e.openWindow(),this.schedule(et,tt)}function dispatchWindowCreation(et){var _e=et.windowTimeSpan,tt=et.subscriber,rt=et.scheduler,nt=et.windowCreationInterval,it=tt.openWindow(),at=this,ot={action:at,subscription:null},ct={subscriber:tt,window:it,context:ot};ot.subscription=rt.schedule(dispatchWindowClose,_e,ct),at.add(ot.subscription),at.schedule(et,nt)}function dispatchWindowClose(et){var _e=et.subscriber,tt=et.window,rt=et.context;rt&&rt.action&&rt.subscription&&rt.action.remove(rt.subscription),_e.closeWindow(tt)}function windowToggle(et,_e){return function(tt){return tt.lift(new WindowToggleOperator(et,_e))}}var WindowToggleOperator=function(){function et(_e,tt){this.openings=_e,this.closingSelector=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowToggleSubscriber(_e,this.openings,this.closingSelector))},et}(),WindowToggleSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;return it.openings=rt,it.closingSelector=nt,it.contexts=[],it.add(it.openSubscription=subscribeToResult(it,rt,rt)),it}return _e.prototype._next=function(tt){var rt=this.contexts;if(rt)for(var nt=rt.length,it=0;it<nt;it++)rt[it].window.next(tt)},_e.prototype._error=function(tt){var rt=this.contexts;if(this.contexts=null,rt)for(var nt=rt.length,it=-1;++it<nt;){var at=rt[it];at.window.error(tt),at.subscription.unsubscribe()}et.prototype._error.call(this,tt)},_e.prototype._complete=function(){var tt=this.contexts;if(this.contexts=null,tt)for(var rt=tt.length,nt=-1;++nt<rt;){var it=tt[nt];it.window.complete(),it.subscription.unsubscribe()}et.prototype._complete.call(this)},_e.prototype._unsubscribe=function(){var tt=this.contexts;if(this.contexts=null,tt)for(var rt=tt.length,nt=-1;++nt<rt;){var it=tt[nt];it.window.unsubscribe(),it.subscription.unsubscribe()}},_e.prototype.notifyNext=function(tt,rt,nt,it,at){if(tt===this.openings){var ot=void 0;try{var ct=this.closingSelector;ot=ct(rt)}catch(Et){return this.error(Et)}var ut=new Subject,ft=new Subscription,yt={window:ut,subscription:ft};this.contexts.push(yt);var bt=subscribeToResult(this,ot,yt);bt.closed?this.closeWindow(this.contexts.length-1):(bt.context=yt,ft.add(bt)),this.destination.next(ut)}else this.closeWindow(this.contexts.indexOf(tt))},_e.prototype.notifyError=function(tt){this.error(tt)},_e.prototype.notifyComplete=function(tt){tt!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(tt.context))},_e.prototype.closeWindow=function(tt){if(tt!==-1){var rt=this.contexts,nt=rt[tt],it=nt.window,at=nt.subscription;rt.splice(tt,1),it.complete(),at.unsubscribe()}},_e}(OuterSubscriber);function windowWhen(et){return function(tt){return tt.lift(new WindowOperator(et))}}var WindowOperator=function(){function et(_e){this.closingSelector=_e}return et.prototype.call=function(_e,tt){return tt.subscribe(new WindowSubscriber(_e,this.closingSelector))},et}(),WindowSubscriber=function(et){__extends(_e,et);function _e(tt,rt){var nt=et.call(this,tt)||this;return nt.destination=tt,nt.closingSelector=rt,nt.openWindow(),nt}return _e.prototype.notifyNext=function(tt,rt,nt,it,at){this.openWindow(at)},_e.prototype.notifyError=function(tt){this._error(tt)},_e.prototype.notifyComplete=function(tt){this.openWindow(tt)},_e.prototype._next=function(tt){this.window.next(tt)},_e.prototype._error=function(tt){this.window.error(tt),this.destination.error(tt),this.unsubscribeClosingNotification()},_e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},_e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},_e.prototype.openWindow=function(tt){tt===void 0&&(tt=null),tt&&(this.remove(tt),tt.unsubscribe());var rt=this.window;rt&&rt.complete();var nt=this.window=new Subject;this.destination.next(nt);var it;try{var at=this.closingSelector;it=at()}catch(ot){this.destination.error(ot),this.window.error(ot);return}this.add(this.closingNotification=subscribeToResult(this,it))},_e}(OuterSubscriber);function withLatestFrom(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(tt){var rt;typeof et[et.length-1]=="function"&&(rt=et.pop());var nt=et;return tt.lift(new WithLatestFromOperator(nt,rt))}}var WithLatestFromOperator=function(){function et(_e,tt){this.observables=_e,this.project=tt}return et.prototype.call=function(_e,tt){return tt.subscribe(new WithLatestFromSubscriber(_e,this.observables,this.project))},et}(),WithLatestFromSubscriber=function(et){__extends(_e,et);function _e(tt,rt,nt){var it=et.call(this,tt)||this;it.observables=rt,it.project=nt,it.toRespond=[];var at=rt.length;it.values=new Array(at);for(var ot=0;ot<at;ot++)it.toRespond.push(ot);for(var ot=0;ot<at;ot++){var ct=rt[ot];it.add(subscribeToResult(it,ct,void 0,ot))}return it}return _e.prototype.notifyNext=function(tt,rt,nt){this.values[nt]=rt;var it=this.toRespond;if(it.length>0){var at=it.indexOf(nt);at!==-1&&it.splice(at,1)}},_e.prototype.notifyComplete=function(){},_e.prototype._next=function(tt){if(this.toRespond.length===0){var rt=[tt].concat(this.values);this.project?this._tryProject(rt):this.destination.next(rt)}},_e.prototype._tryProject=function(tt){var rt;try{rt=this.project.apply(this,tt)}catch(nt){this.destination.error(nt);return}this.destination.next(rt)},_e}(OuterSubscriber);function zip(){for(var et=[],_e=0;_e<arguments.length;_e++)et[_e]=arguments[_e];return function(rt){return rt.lift.call(zip$1.apply(void 0,[rt].concat(et)))}}function zipAll(et){return function(_e){return _e.lift(new ZipOperator(et))}}const operators=Object.freeze(Object.defineProperty({__proto__:null,audit,auditTime,buffer:buffer$1,bufferCount,bufferTime,bufferToggle,bufferWhen,catchError,combineAll,combineLatest,concat:concat$1,concatAll,concatMap,concatMapTo,count,debounce,debounceTime,defaultIfEmpty,delay,delayWhen,dematerialize,distinct,distinctUntilChanged,distinctUntilKeyChanged,elementAt,endWith,every,exhaust,exhaustMap,expand,filter,finalize,find,findIndex,first:first$1,groupBy,ignoreElements,isEmpty:isEmpty$1,last:last$1,map,mapTo,materialize,max:max$2,merge:merge$1,mergeAll,mergeMap,flatMap,mergeMapTo,mergeScan,min:min$2,multicast,observeOn,onErrorResumeNext,pairwise,partition,pluck,publish,publishBehavior,publishLast,publishReplay,race,reduce,repeat,repeatWhen,retry,retryWhen,refCount,sample,sampleTime,scan,sequenceEqual,share,shareReplay,single,skip,skipLast,skipUntil,skipWhile,startWith,subscribeOn,switchAll,switchMap,switchMapTo,take,takeLast,takeUntil,takeWhile,tap,throttle,throttleTime,throwIfEmpty,timeInterval,timeout:timeout$1,timeoutWith,timestamp,toArray:toArray$1,window:window$1,windowCount,windowTime,windowToggle,windowWhen,withLatestFrom,zip,zipAll},Symbol.toStringTag,{value:"Module"})),require$$3$1=getAugmentedNamespace(operators);var util$5={},shams$1=function et(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var _e={},tt=Symbol("test"),rt=Object(tt);if(typeof tt=="string"||Object.prototype.toString.call(tt)!=="[object Symbol]"||Object.prototype.toString.call(rt)!=="[object Symbol]")return!1;var nt=42;_e[tt]=nt;for(tt in _e)return!1;if(typeof Object.keys=="function"&&Object.keys(_e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(_e).length!==0)return!1;var it=Object.getOwnPropertySymbols(_e);if(it.length!==1||it[0]!==tt||!Object.prototype.propertyIsEnumerable.call(_e,tt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var at=Object.getOwnPropertyDescriptor(_e,tt);if(at.value!==nt||at.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$2=function et(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$2=Array.prototype.slice,toStr$4=Object.prototype.toString,funcType="[object Function]",implementation$1=function et(_e){var tt=this;if(typeof tt!="function"||toStr$4.call(tt)!==funcType)throw new TypeError(ERROR_MESSAGE+tt);for(var rt=slice$2.call(arguments,1),nt,it=function(){if(this instanceof nt){var ft=tt.apply(this,rt.concat(slice$2.call(arguments)));return Object(ft)===ft?ft:this}else return tt.apply(_e,rt.concat(slice$2.call(arguments)))},at=Math.max(0,tt.length-rt.length),ot=[],ct=0;ct<at;ct++)ot.push("$"+ct);if(nt=Function("binder","return function ("+ot.join(",")+"){ return binder.apply(this,arguments); }")(it),tt.prototype){var ut=function(){};ut.prototype=tt.prototype,nt.prototype=new ut,ut.prototype=null}return nt},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$2=functionBind,src=bind$2.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(et){try{return $Function('"use strict"; return ('+et+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$1=hasSymbols$2(),getProto$1=Object.getPrototypeOf||function(et){return et.__proto__},needsEval={},TypedArray=typeof Uint8Array>"u"?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet},doEval=function et(_e){var tt;if(_e==="%AsyncFunction%")tt=getEvalledConstructor("async function () {}");else if(_e==="%GeneratorFunction%")tt=getEvalledConstructor("function* () {}");else if(_e==="%AsyncGeneratorFunction%")tt=getEvalledConstructor("async function* () {}");else if(_e==="%AsyncGenerator%"){var rt=et("%AsyncGeneratorFunction%");rt&&(tt=rt.prototype)}else if(_e==="%AsyncIteratorPrototype%"){var nt=et("%AsyncGenerator%");nt&&(tt=getProto$1(nt.prototype))}return INTRINSICS[_e]=tt,tt},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn$1=src,$concat$1=bind$1.call(Function.call,Array.prototype.concat),$spliceApply=bind$1.call(Function.apply,Array.prototype.splice),$replace$1=bind$1.call(Function.call,String.prototype.replace),$strSlice=bind$1.call(Function.call,String.prototype.slice),$exec=bind$1.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function et(_e){var tt=$strSlice(_e,0,1),rt=$strSlice(_e,-1);if(tt==="%"&&rt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(rt==="%"&&tt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var nt=[];return $replace$1(_e,rePropName,function(it,at,ot,ct){nt[nt.length]=ot?$replace$1(ct,reEscapeChar,"$1"):at||it}),nt},getBaseIntrinsic=function et(_e,tt){var rt=_e,nt;if(hasOwn$1(LEGACY_ALIASES,rt)&&(nt=LEGACY_ALIASES[rt],rt="%"+nt[0]+"%"),hasOwn$1(INTRINSICS,rt)){var it=INTRINSICS[rt];if(it===needsEval&&(it=doEval(rt)),typeof it>"u"&&!tt)throw new $TypeError$1("intrinsic "+_e+" exists, but is not available. Please file an issue!");return{alias:nt,name:rt,value:it}}throw new $SyntaxError("intrinsic "+_e+" does not exist!")},getIntrinsic=function et(_e,tt){if(typeof _e!="string"||_e.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof tt!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,_e)===null)throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var rt=stringToPath(_e),nt=rt.length>0?rt[0]:"",it=getBaseIntrinsic("%"+nt+"%",tt),at=it.name,ot=it.value,ct=!1,ut=it.alias;ut&&(nt=ut[0],$spliceApply(rt,$concat$1([0,1],ut)));for(var ft=1,yt=!0;ft<rt.length;ft+=1){var bt=rt[ft],Et=$strSlice(bt,0,1),Ct=$strSlice(bt,-1);if((Et==='"'||Et==="'"||Et==="`"||Ct==='"'||Ct==="'"||Ct==="`")&&Et!==Ct)throw new $SyntaxError("property names with quotes must have matching quotes");if((bt==="constructor"||!yt)&&(ct=!0),nt+="."+bt,at="%"+nt+"%",hasOwn$1(INTRINSICS,at))ot=INTRINSICS[at];else if(ot!=null){if(!(bt in ot)){if(!tt)throw new $TypeError$1("base intrinsic for "+_e+" exists, but the property is not available.");return}if($gOPD$1&&ft+1>=rt.length){var At=$gOPD$1(ot,bt);yt=!!At,yt&&"get"in At&&!("originalValue"in At.get)?ot=At.get:ot=ot[bt]}else yt=hasOwn$1(ot,bt),ot=ot[bt];yt&&!ct&&(INTRINSICS[at]=ot)}}return ot},callBind$1={exports:{}};(function(et){var _e=functionBind,tt=getIntrinsic,rt=tt("%Function.prototype.apply%"),nt=tt("%Function.prototype.call%"),it=tt("%Reflect.apply%",!0)||_e.call(nt,rt),at=tt("%Object.getOwnPropertyDescriptor%",!0),ot=tt("%Object.defineProperty%",!0),ct=tt("%Math.max%");if(ot)try{ot({},"a",{value:1})}catch{ot=null}et.exports=function(yt){var bt=it(_e,nt,arguments);if(at&&ot){var Et=at(bt,"length");Et.configurable&&ot(bt,"length",{value:1+ct(0,yt.length-(arguments.length-1))})}return bt};var ut=function(){return it(_e,rt,arguments)};ot?ot(et.exports,"apply",{value:ut}):et.exports.apply=ut})(callBind$1);var GetIntrinsic$2=getIntrinsic,callBind=callBind$1.exports,$indexOf$1=callBind(GetIntrinsic$2("String.prototype.indexOf")),callBound$4=function et(_e,tt){var rt=GetIntrinsic$2(_e,!!tt);return typeof rt=="function"&&$indexOf$1(_e,".prototype.")>-1?callBind(rt):rt},hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice$2=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(et){return et.__proto__}:null);function addNumericSeparator(et,_e){if(et===1/0||et===-1/0||et!==et||et&&et>-1e3&&et<1e3||$test.call(/e/,_e))return _e;var tt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof et=="number"){var rt=et<0?-$floor(-et):$floor(et);if(rt!==et){var nt=String(rt),it=$slice$2.call(_e,nt.length+1);return $replace.call(nt,tt,"$&_")+"."+$replace.call($replace.call(it,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(_e,tt,"$&_")}var inspectCustom=require$$0$4.custom,inspectSymbol=inspectCustom&&isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function et(_e,tt,rt,nt){var it=tt||{};if(has$3(it,"quoteStyle")&&it.quoteStyle!=="single"&&it.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(it,"maxStringLength")&&(typeof it.maxStringLength=="number"?it.maxStringLength<0&&it.maxStringLength!==1/0:it.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var at=has$3(it,"customInspect")?it.customInspect:!0;if(typeof at!="boolean"&&at!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(it,"indent")&&it.indent!==null&&it.indent!=="	"&&!(parseInt(it.indent,10)===it.indent&&it.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$3(it,"numericSeparator")&&typeof it.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ot=it.numericSeparator;if(typeof _e>"u")return"undefined";if(_e===null)return"null";if(typeof _e=="boolean")return _e?"true":"false";if(typeof _e=="string")return inspectString(_e,it);if(typeof _e=="number"){if(_e===0)return 1/0/_e>0?"0":"-0";var ct=String(_e);return ot?addNumericSeparator(_e,ct):ct}if(typeof _e=="bigint"){var ut=String(_e)+"n";return ot?addNumericSeparator(_e,ut):ut}var ft=typeof it.depth>"u"?5:it.depth;if(typeof rt>"u"&&(rt=0),rt>=ft&&ft>0&&typeof _e=="object")return isArray$8(_e)?"[Array]":"[Object]";var yt=getIndent(it,rt);if(typeof nt>"u")nt=[];else if(indexOf(nt,_e)>=0)return"[Circular]";function bt(ht,st,dt){if(st&&(nt=$arrSlice.call(nt),nt.push(st)),dt){var mt={depth:it.depth};return has$3(it,"quoteStyle")&&(mt.quoteStyle=it.quoteStyle),et(ht,mt,rt+1,nt)}return et(ht,it,rt+1,nt)}if(typeof _e=="function"){var Et=nameOf(_e),Ct=arrObjKeys(_e,bt);return"[Function"+(Et?": "+Et:" (anonymous)")+"]"+(Ct.length>0?" { "+$join.call(Ct,", ")+" }":"")}if(isSymbol(_e)){var At=hasShammedSymbols?$replace.call(String(_e),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(_e);return typeof _e=="object"&&!hasShammedSymbols?markBoxed(At):At}if(isElement$1(_e)){for(var St="<"+$toLowerCase.call(String(_e.nodeName)),Tt=_e.attributes||[],$t=0;$t<Tt.length;$t++)St+=" "+Tt[$t].name+"="+wrapQuotes(quote(Tt[$t].value),"double",it);return St+=">",_e.childNodes&&_e.childNodes.length&&(St+="..."),St+="</"+$toLowerCase.call(String(_e.nodeName))+">",St}if(isArray$8(_e)){if(_e.length===0)return"[]";var kt=arrObjKeys(_e,bt);return yt&&!singleLineValues(kt)?"["+indentedJoin(kt,yt)+"]":"[ "+$join.call(kt,", ")+" ]"}if(isError(_e)){var Pt=arrObjKeys(_e,bt);return"cause"in _e&&!isEnumerable.call(_e,"cause")?"{ ["+String(_e)+"] "+$join.call($concat.call("[cause]: "+bt(_e.cause),Pt),", ")+" }":Pt.length===0?"["+String(_e)+"]":"{ ["+String(_e)+"] "+$join.call(Pt,", ")+" }"}if(typeof _e=="object"&&at){if(inspectSymbol&&typeof _e[inspectSymbol]=="function")return _e[inspectSymbol]();if(at!=="symbol"&&typeof _e.inspect=="function")return _e.inspect()}if(isMap(_e)){var Ot=[];return mapForEach.call(_e,function(ht,st){Ot.push(bt(st,_e,!0)+" => "+bt(ht,_e))}),collectionOf("Map",mapSize.call(_e),Ot,yt)}if(isSet(_e)){var Ht=[];return setForEach.call(_e,function(ht){Ht.push(bt(ht,_e))}),collectionOf("Set",setSize.call(_e),Ht,yt)}if(isWeakMap(_e))return weakCollectionOf("WeakMap");if(isWeakSet(_e))return weakCollectionOf("WeakSet");if(isWeakRef(_e))return weakCollectionOf("WeakRef");if(isNumber$1(_e))return markBoxed(bt(Number(_e)));if(isBigInt(_e))return markBoxed(bt(bigIntValueOf.call(_e)));if(isBoolean$1(_e))return markBoxed(booleanValueOf.call(_e));if(isString$1(_e))return markBoxed(bt(String(_e)));if(!isDate(_e)&&!isRegExp$1(_e)){var qt=arrObjKeys(_e,bt),Zt=gPO?gPO(_e)===Object.prototype:_e instanceof Object||_e.constructor===Object,tr=_e instanceof Object?"":"null prototype",Dt=!Zt&&toStringTag&&Object(_e)===_e&&toStringTag in _e?$slice$2.call(toStr$3(_e),8,-1):tr?"Object":"",Rt=Zt||typeof _e.constructor!="function"?"":_e.constructor.name?_e.constructor.name+" ":"",Nt=Rt+(Dt||tr?"["+$join.call($concat.call([],Dt||[],tr||[]),": ")+"] ":"");return qt.length===0?Nt+"{}":yt?Nt+"{"+indentedJoin(qt,yt)+"}":Nt+"{ "+$join.call(qt,", ")+" }"}return String(_e)};function wrapQuotes(et,_e,tt){var rt=(tt.quoteStyle||_e)==="double"?'"':"'";return rt+et+rt}function quote(et){return $replace.call(String(et),/"/g,"&quot;")}function isArray$8(et){return toStr$3(et)==="[object Array]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isDate(et){return toStr$3(et)==="[object Date]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isRegExp$1(et){return toStr$3(et)==="[object RegExp]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isError(et){return toStr$3(et)==="[object Error]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isString$1(et){return toStr$3(et)==="[object String]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isNumber$1(et){return toStr$3(et)==="[object Number]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isBoolean$1(et){return toStr$3(et)==="[object Boolean]"&&(!toStringTag||!(typeof et=="object"&&toStringTag in et))}function isSymbol(et){if(hasShammedSymbols)return et&&typeof et=="object"&&et instanceof Symbol;if(typeof et=="symbol")return!0;if(!et||typeof et!="object"||!symToString)return!1;try{return symToString.call(et),!0}catch{}return!1}function isBigInt(et){if(!et||typeof et!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(et),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(et){return et in this};function has$3(et,_e){return hasOwn.call(et,_e)}function toStr$3(et){return objectToString.call(et)}function nameOf(et){if(et.name)return et.name;var _e=$match.call(functionToString.call(et),/^function\s*([\w$]+)/);return _e?_e[1]:null}function indexOf(et,_e){if(et.indexOf)return et.indexOf(_e);for(var tt=0,rt=et.length;tt<rt;tt++)if(et[tt]===_e)return tt;return-1}function isMap(et){if(!mapSize||!et||typeof et!="object")return!1;try{mapSize.call(et);try{setSize.call(et)}catch{return!0}return et instanceof Map}catch{}return!1}function isWeakMap(et){if(!weakMapHas||!et||typeof et!="object")return!1;try{weakMapHas.call(et,weakMapHas);try{weakSetHas.call(et,weakSetHas)}catch{return!0}return et instanceof WeakMap}catch{}return!1}function isWeakRef(et){if(!weakRefDeref||!et||typeof et!="object")return!1;try{return weakRefDeref.call(et),!0}catch{}return!1}function isSet(et){if(!setSize||!et||typeof et!="object")return!1;try{setSize.call(et);try{mapSize.call(et)}catch{return!0}return et instanceof Set}catch{}return!1}function isWeakSet(et){if(!weakSetHas||!et||typeof et!="object")return!1;try{weakSetHas.call(et,weakSetHas);try{weakMapHas.call(et,weakMapHas)}catch{return!0}return et instanceof WeakSet}catch{}return!1}function isElement$1(et){return!et||typeof et!="object"?!1:typeof HTMLElement<"u"&&et instanceof HTMLElement?!0:typeof et.nodeName=="string"&&typeof et.getAttribute=="function"}function inspectString(et,_e){if(et.length>_e.maxStringLength){var tt=et.length-_e.maxStringLength,rt="... "+tt+" more character"+(tt>1?"s":"");return inspectString($slice$2.call(et,0,_e.maxStringLength),_e)+rt}var nt=$replace.call($replace.call(et,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(nt,"single",_e)}function lowbyte(et){var _e=et.charCodeAt(0),tt={8:"b",9:"t",10:"n",12:"f",13:"r"}[_e];return tt?"\\"+tt:"\\x"+(_e<16?"0":"")+$toUpperCase.call(_e.toString(16))}function markBoxed(et){return"Object("+et+")"}function weakCollectionOf(et){return et+" { ? }"}function collectionOf(et,_e,tt,rt){var nt=rt?indentedJoin(tt,rt):$join.call(tt,", ");return et+" ("+_e+") {"+nt+"}"}function singleLineValues(et){for(var _e=0;_e<et.length;_e++)if(indexOf(et[_e],`
`)>=0)return!1;return!0}function getIndent(et,_e){var tt;if(et.indent==="	")tt="	";else if(typeof et.indent=="number"&&et.indent>0)tt=$join.call(Array(et.indent+1)," ");else return null;return{base:tt,prev:$join.call(Array(_e+1),tt)}}function indentedJoin(et,_e){if(et.length===0)return"";var tt=`
`+_e.prev+_e.base;return tt+$join.call(et,","+tt)+`
`+_e.prev}function arrObjKeys(et,_e){var tt=isArray$8(et),rt=[];if(tt){rt.length=et.length;for(var nt=0;nt<et.length;nt++)rt[nt]=has$3(et,nt)?_e(et[nt],et):""}var it=typeof gOPS=="function"?gOPS(et):[],at;if(hasShammedSymbols){at={};for(var ot=0;ot<it.length;ot++)at["$"+it[ot]]=it[ot]}for(var ct in et)!has$3(et,ct)||tt&&String(Number(ct))===ct&&ct<et.length||hasShammedSymbols&&at["$"+ct]instanceof Symbol||($test.call(/[^\w$]/,ct)?rt.push(_e(ct,et)+": "+_e(et[ct],et)):rt.push(ct+": "+_e(et[ct],et)));if(typeof gOPS=="function")for(var ut=0;ut<it.length;ut++)isEnumerable.call(et,it[ut])&&rt.push("["+_e(it[ut])+"]: "+_e(et[it[ut]],et));return rt}var GetIntrinsic$1=getIntrinsic,callBound$3=callBound$4,inspect=objectInspect,$TypeError=GetIntrinsic$1("%TypeError%"),$WeakMap=GetIntrinsic$1("%WeakMap%",!0),$Map=GetIntrinsic$1("%Map%",!0),$weakMapGet=callBound$3("WeakMap.prototype.get",!0),$weakMapSet=callBound$3("WeakMap.prototype.set",!0),$weakMapHas=callBound$3("WeakMap.prototype.has",!0),$mapGet=callBound$3("Map.prototype.get",!0),$mapSet=callBound$3("Map.prototype.set",!0),$mapHas=callBound$3("Map.prototype.has",!0),listGetNode=function(et,_e){for(var tt=et,rt;(rt=tt.next)!==null;tt=rt)if(rt.key===_e)return tt.next=rt.next,rt.next=et.next,et.next=rt,rt},listGet=function(et,_e){var tt=listGetNode(et,_e);return tt&&tt.value},listSet=function(et,_e,tt){var rt=listGetNode(et,_e);rt?rt.value=tt:et.next={key:_e,next:et.next,value:tt}},listHas=function(et,_e){return!!listGetNode(et,_e)},sideChannel=function et(){var _e,tt,rt,nt={assert:function(it){if(!nt.has(it))throw new $TypeError("Side channel does not contain "+inspect(it))},get:function(it){if($WeakMap&&it&&(typeof it=="object"||typeof it=="function")){if(_e)return $weakMapGet(_e,it)}else if($Map){if(tt)return $mapGet(tt,it)}else if(rt)return listGet(rt,it)},has:function(it){if($WeakMap&&it&&(typeof it=="object"||typeof it=="function")){if(_e)return $weakMapHas(_e,it)}else if($Map){if(tt)return $mapHas(tt,it)}else if(rt)return listHas(rt,it);return!1},set:function(it,at){$WeakMap&&it&&(typeof it=="object"||typeof it=="function")?(_e||(_e=new $WeakMap),$weakMapSet(_e,it,at)):$Map?(tt||(tt=new $Map),$mapSet(tt,it,at)):(rt||(rt={key:{},next:null}),listSet(rt,it,at))}};return nt},replace$1=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(et){return replace$1.call(et,percentTwenties,"+")},RFC3986:function(et){return String(et)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$2=Object.prototype.hasOwnProperty,isArray$7=Array.isArray,hexTable=function(){for(var et=[],_e=0;_e<256;++_e)et.push("%"+((_e<16?"0":"")+_e.toString(16)).toUpperCase());return et}(),compactQueue=function et(_e){for(;_e.length>1;){var tt=_e.pop(),rt=tt.obj[tt.prop];if(isArray$7(rt)){for(var nt=[],it=0;it<rt.length;++it)typeof rt[it]<"u"&&nt.push(rt[it]);tt.obj[tt.prop]=nt}}},arrayToObject=function et(_e,tt){for(var rt=tt&&tt.plainObjects?Object.create(null):{},nt=0;nt<_e.length;++nt)typeof _e[nt]<"u"&&(rt[nt]=_e[nt]);return rt},merge=function et(_e,tt,rt){if(!tt)return _e;if(typeof tt!="object"){if(isArray$7(_e))_e.push(tt);else if(_e&&typeof _e=="object")(rt&&(rt.plainObjects||rt.allowPrototypes)||!has$2.call(Object.prototype,tt))&&(_e[tt]=!0);else return[_e,tt];return _e}if(!_e||typeof _e!="object")return[_e].concat(tt);var nt=_e;return isArray$7(_e)&&!isArray$7(tt)&&(nt=arrayToObject(_e,rt)),isArray$7(_e)&&isArray$7(tt)?(tt.forEach(function(it,at){if(has$2.call(_e,at)){var ot=_e[at];ot&&typeof ot=="object"&&it&&typeof it=="object"?_e[at]=et(ot,it,rt):_e.push(it)}else _e[at]=it}),_e):Object.keys(tt).reduce(function(it,at){var ot=tt[at];return has$2.call(it,at)?it[at]=et(it[at],ot,rt):it[at]=ot,it},nt)},assign$1=function et(_e,tt){return Object.keys(tt).reduce(function(rt,nt){return rt[nt]=tt[nt],rt},_e)},decode$1=function(et,_e,tt){var rt=et.replace(/\+/g," ");if(tt==="iso-8859-1")return rt.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(rt)}catch{return rt}},encode=function et(_e,tt,rt,nt,it){if(_e.length===0)return _e;var at=_e;if(typeof _e=="symbol"?at=Symbol.prototype.toString.call(_e):typeof _e!="string"&&(at=String(_e)),rt==="iso-8859-1")return escape(at).replace(/%u[0-9a-f]{4}/gi,function(ft){return"%26%23"+parseInt(ft.slice(2),16)+"%3B"});for(var ot="",ct=0;ct<at.length;++ct){var ut=at.charCodeAt(ct);if(ut===45||ut===46||ut===95||ut===126||ut>=48&&ut<=57||ut>=65&&ut<=90||ut>=97&&ut<=122||it===formats$2.RFC1738&&(ut===40||ut===41)){ot+=at.charAt(ct);continue}if(ut<128){ot=ot+hexTable[ut];continue}if(ut<2048){ot=ot+(hexTable[192|ut>>6]+hexTable[128|ut&63]);continue}if(ut<55296||ut>=57344){ot=ot+(hexTable[224|ut>>12]+hexTable[128|ut>>6&63]+hexTable[128|ut&63]);continue}ct+=1,ut=65536+((ut&1023)<<10|at.charCodeAt(ct)&1023),ot+=hexTable[240|ut>>18]+hexTable[128|ut>>12&63]+hexTable[128|ut>>6&63]+hexTable[128|ut&63]}return ot},compact$2=function et(_e){for(var tt=[{obj:{o:_e},prop:"o"}],rt=[],nt=0;nt<tt.length;++nt)for(var it=tt[nt],at=it.obj[it.prop],ot=Object.keys(at),ct=0;ct<ot.length;++ct){var ut=ot[ct],ft=at[ut];typeof ft=="object"&&ft!==null&&rt.indexOf(ft)===-1&&(tt.push({obj:at,prop:ut}),rt.push(ft))}return compactQueue(tt),_e},isRegExp=function et(_e){return Object.prototype.toString.call(_e)==="[object RegExp]"},isBuffer=function et(_e){return!_e||typeof _e!="object"?!1:!!(_e.constructor&&_e.constructor.isBuffer&&_e.constructor.isBuffer(_e))},combine$1=function et(_e,tt){return[].concat(_e,tt)},maybeMap=function et(_e,tt){if(isArray$7(_e)){for(var rt=[],nt=0;nt<_e.length;nt+=1)rt.push(tt(_e[nt]));return rt}return tt(_e)},utils$4={arrayToObject,assign:assign$1,combine:combine$1,compact:compact$2,decode:decode$1,encode,isBuffer,isRegExp,maybeMap,merge},getSideChannel=sideChannel,utils$3=utils$4,formats$1=formats$3,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function et(_e){return _e+"[]"},comma:"comma",indices:function et(_e,tt){return _e+"["+tt+"]"},repeat:function et(_e){return _e}},isArray$6=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(et,_e){push.apply(et,isArray$6(_e)?_e:[_e])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$1={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$3.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function et(_e){return toISO.call(_e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function et(_e){return typeof _e=="string"||typeof _e=="number"||typeof _e=="boolean"||typeof _e=="symbol"||typeof _e=="bigint"},sentinel={},stringify$2=function et(_e,tt,rt,nt,it,at,ot,ct,ut,ft,yt,bt,Et,Ct,At){for(var St=_e,Tt=At,$t=0,kt=!1;(Tt=Tt.get(sentinel))!==void 0&&!kt;){var Pt=Tt.get(_e);if($t+=1,typeof Pt<"u"){if(Pt===$t)throw new RangeError("Cyclic object value");kt=!0}typeof Tt.get(sentinel)>"u"&&($t=0)}if(typeof ot=="function"?St=ot(tt,St):St instanceof Date?St=ft(St):rt==="comma"&&isArray$6(St)&&(St=utils$3.maybeMap(St,function(_t){return _t instanceof Date?ft(_t):_t})),St===null){if(nt)return at&&!Et?at(tt,defaults$1.encoder,Ct,"key",yt):tt;St=""}if(isNonNullishPrimitive(St)||utils$3.isBuffer(St)){if(at){var Ot=Et?tt:at(tt,defaults$1.encoder,Ct,"key",yt);if(rt==="comma"&&Et){for(var Ht=split.call(String(St),","),qt="",Zt=0;Zt<Ht.length;++Zt)qt+=(Zt===0?"":",")+bt(at(Ht[Zt],defaults$1.encoder,Ct,"value",yt));return[bt(Ot)+"="+qt]}return[bt(Ot)+"="+bt(at(St,defaults$1.encoder,Ct,"value",yt))]}return[bt(tt)+"="+bt(String(St))]}var tr=[];if(typeof St>"u")return tr;var Dt;if(rt==="comma"&&isArray$6(St))Dt=[{value:St.length>0?St.join(",")||null:void 0}];else if(isArray$6(ot))Dt=ot;else{var Rt=Object.keys(St);Dt=ct?Rt.sort(ct):Rt}for(var Nt=0;Nt<Dt.length;++Nt){var ht=Dt[Nt],st=typeof ht=="object"&&typeof ht.value<"u"?ht.value:St[ht];if(!(it&&st===null)){var dt=isArray$6(St)?typeof rt=="function"?rt(tt,ht):tt:tt+(ut?"."+ht:"["+ht+"]");At.set(_e,$t);var mt=getSideChannel();mt.set(sentinel,At),pushToArray(tr,et(st,dt,rt,nt,it,at,ot,ct,ut,ft,yt,bt,Et,Ct,mt))}}return tr},normalizeStringifyOptions=function et(_e){if(!_e)return defaults$1;if(_e.encoder!==null&&typeof _e.encoder<"u"&&typeof _e.encoder!="function")throw new TypeError("Encoder has to be a function.");var tt=_e.charset||defaults$1.charset;if(typeof _e.charset<"u"&&_e.charset!=="utf-8"&&_e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var rt=formats$1.default;if(typeof _e.format<"u"){if(!has$1.call(formats$1.formatters,_e.format))throw new TypeError("Unknown format option provided.");rt=_e.format}var nt=formats$1.formatters[rt],it=defaults$1.filter;return(typeof _e.filter=="function"||isArray$6(_e.filter))&&(it=_e.filter),{addQueryPrefix:typeof _e.addQueryPrefix=="boolean"?_e.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:typeof _e.allowDots>"u"?defaults$1.allowDots:!!_e.allowDots,charset:tt,charsetSentinel:typeof _e.charsetSentinel=="boolean"?_e.charsetSentinel:defaults$1.charsetSentinel,delimiter:typeof _e.delimiter>"u"?defaults$1.delimiter:_e.delimiter,encode:typeof _e.encode=="boolean"?_e.encode:defaults$1.encode,encoder:typeof _e.encoder=="function"?_e.encoder:defaults$1.encoder,encodeValuesOnly:typeof _e.encodeValuesOnly=="boolean"?_e.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:it,format:rt,formatter:nt,serializeDate:typeof _e.serializeDate=="function"?_e.serializeDate:defaults$1.serializeDate,skipNulls:typeof _e.skipNulls=="boolean"?_e.skipNulls:defaults$1.skipNulls,sort:typeof _e.sort=="function"?_e.sort:null,strictNullHandling:typeof _e.strictNullHandling=="boolean"?_e.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(et,_e){var tt=et,rt=normalizeStringifyOptions(_e),nt,it;typeof rt.filter=="function"?(it=rt.filter,tt=it("",tt)):isArray$6(rt.filter)&&(it=rt.filter,nt=it);var at=[];if(typeof tt!="object"||tt===null)return"";var ot;_e&&_e.arrayFormat in arrayPrefixGenerators?ot=_e.arrayFormat:_e&&"indices"in _e?ot=_e.indices?"indices":"repeat":ot="indices";var ct=arrayPrefixGenerators[ot];nt||(nt=Object.keys(tt)),rt.sort&&nt.sort(rt.sort);for(var ut=getSideChannel(),ft=0;ft<nt.length;++ft){var yt=nt[ft];rt.skipNulls&&tt[yt]===null||pushToArray(at,stringify$2(tt[yt],yt,ct,rt.strictNullHandling,rt.skipNulls,rt.encode?rt.encoder:null,rt.filter,rt.sort,rt.allowDots,rt.serializeDate,rt.format,rt.formatter,rt.encodeValuesOnly,rt.charset,ut))}var bt=at.join(rt.delimiter),Et=rt.addQueryPrefix===!0?"?":"";return rt.charsetSentinel&&(rt.charset==="iso-8859-1"?Et+="utf8=%26%2310003%3B&":Et+="utf8=%E2%9C%93&"),bt.length>0?Et+bt:""},utils$2=utils$4,has=Object.prototype.hasOwnProperty,isArray$5=Array.isArray,defaults={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$2.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(et){return et.replace(/&#(\d+);/g,function(_e,tt){return String.fromCharCode(parseInt(tt,10))})},parseArrayValue=function(et,_e){return et&&typeof et=="string"&&_e.comma&&et.indexOf(",")>-1?et.split(","):et},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function et(_e,tt){var rt={},nt=tt.ignoreQueryPrefix?_e.replace(/^\?/,""):_e,it=tt.parameterLimit===1/0?void 0:tt.parameterLimit,at=nt.split(tt.delimiter,it),ot=-1,ct,ut=tt.charset;if(tt.charsetSentinel)for(ct=0;ct<at.length;++ct)at[ct].indexOf("utf8=")===0&&(at[ct]===charsetSentinel?ut="utf-8":at[ct]===isoSentinel&&(ut="iso-8859-1"),ot=ct,ct=at.length);for(ct=0;ct<at.length;++ct)if(ct!==ot){var ft=at[ct],yt=ft.indexOf("]="),bt=yt===-1?ft.indexOf("="):yt+1,Et,Ct;bt===-1?(Et=tt.decoder(ft,defaults.decoder,ut,"key"),Ct=tt.strictNullHandling?null:""):(Et=tt.decoder(ft.slice(0,bt),defaults.decoder,ut,"key"),Ct=utils$2.maybeMap(parseArrayValue(ft.slice(bt+1),tt),function(At){return tt.decoder(At,defaults.decoder,ut,"value")})),Ct&&tt.interpretNumericEntities&&ut==="iso-8859-1"&&(Ct=interpretNumericEntities(Ct)),ft.indexOf("[]=")>-1&&(Ct=isArray$5(Ct)?[Ct]:Ct),has.call(rt,Et)?rt[Et]=utils$2.combine(rt[Et],Ct):rt[Et]=Ct}return rt},parseObject=function(et,_e,tt,rt){for(var nt=rt?_e:parseArrayValue(_e,tt),it=et.length-1;it>=0;--it){var at,ot=et[it];if(ot==="[]"&&tt.parseArrays)at=[].concat(nt);else{at=tt.plainObjects?Object.create(null):{};var ct=ot.charAt(0)==="["&&ot.charAt(ot.length-1)==="]"?ot.slice(1,-1):ot,ut=parseInt(ct,10);!tt.parseArrays&&ct===""?at={0:nt}:!isNaN(ut)&&ot!==ct&&String(ut)===ct&&ut>=0&&tt.parseArrays&&ut<=tt.arrayLimit?(at=[],at[ut]=nt):ct!=="__proto__"&&(at[ct]=nt)}nt=at}return nt},parseKeys=function et(_e,tt,rt,nt){if(!!_e){var it=rt.allowDots?_e.replace(/\.([^.[]+)/g,"[$1]"):_e,at=/(\[[^[\]]*])/,ot=/(\[[^[\]]*])/g,ct=rt.depth>0&&at.exec(it),ut=ct?it.slice(0,ct.index):it,ft=[];if(ut){if(!rt.plainObjects&&has.call(Object.prototype,ut)&&!rt.allowPrototypes)return;ft.push(ut)}for(var yt=0;rt.depth>0&&(ct=ot.exec(it))!==null&&yt<rt.depth;){if(yt+=1,!rt.plainObjects&&has.call(Object.prototype,ct[1].slice(1,-1))&&!rt.allowPrototypes)return;ft.push(ct[1])}return ct&&ft.push("["+it.slice(ct.index)+"]"),parseObject(ft,tt,rt,nt)}},normalizeParseOptions=function et(_e){if(!_e)return defaults;if(_e.decoder!==null&&_e.decoder!==void 0&&typeof _e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _e.charset<"u"&&_e.charset!=="utf-8"&&_e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var tt=typeof _e.charset>"u"?defaults.charset:_e.charset;return{allowDots:typeof _e.allowDots>"u"?defaults.allowDots:!!_e.allowDots,allowPrototypes:typeof _e.allowPrototypes=="boolean"?_e.allowPrototypes:defaults.allowPrototypes,allowSparse:typeof _e.allowSparse=="boolean"?_e.allowSparse:defaults.allowSparse,arrayLimit:typeof _e.arrayLimit=="number"?_e.arrayLimit:defaults.arrayLimit,charset:tt,charsetSentinel:typeof _e.charsetSentinel=="boolean"?_e.charsetSentinel:defaults.charsetSentinel,comma:typeof _e.comma=="boolean"?_e.comma:defaults.comma,decoder:typeof _e.decoder=="function"?_e.decoder:defaults.decoder,delimiter:typeof _e.delimiter=="string"||utils$2.isRegExp(_e.delimiter)?_e.delimiter:defaults.delimiter,depth:typeof _e.depth=="number"||_e.depth===!1?+_e.depth:defaults.depth,ignoreQueryPrefix:_e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _e.interpretNumericEntities=="boolean"?_e.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:typeof _e.parameterLimit=="number"?_e.parameterLimit:defaults.parameterLimit,parseArrays:_e.parseArrays!==!1,plainObjects:typeof _e.plainObjects=="boolean"?_e.plainObjects:defaults.plainObjects,strictNullHandling:typeof _e.strictNullHandling=="boolean"?_e.strictNullHandling:defaults.strictNullHandling}},parse$2=function(et,_e){var tt=normalizeParseOptions(_e);if(et===""||et===null||typeof et>"u")return tt.plainObjects?Object.create(null):{};for(var rt=typeof et=="string"?parseValues(et,tt):et,nt=tt.plainObjects?Object.create(null):{},it=Object.keys(rt),at=0;at<it.length;++at){var ot=it[at],ct=parseKeys(ot,rt[ot],tt,typeof et=="string");nt=utils$2.merge(nt,ct,tt)}return tt.allowSparse===!0?nt:utils$2.compact(nt)},stringify$1=stringify_1,parse$1=parse$2,formats=formats$3,lib$1={formats,parse:parse$1,stringify:stringify$1},types$2={};Object.defineProperty(types$2,"__esModule",{value:!0});types$2.RegExpString=types$2.IntNumber=types$2.BigIntString=types$2.AddressString=types$2.HexString=types$2.OpaqueType=void 0;function OpaqueType(){return et=>et}types$2.OpaqueType=OpaqueType;types$2.HexString=OpaqueType();types$2.AddressString=OpaqueType();types$2.BigIntString=OpaqueType();function IntNumber(et){return Math.floor(et)}types$2.IntNumber=IntNumber;types$2.RegExpString=OpaqueType();var __importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(util$5,"__esModule",{value:!0});util$5.createQrUrl=util$5.getFavicon=util$5.range=util$5.isBigNumber=util$5.ensureParsedJSONObject=util$5.ensureBN=util$5.ensureRegExpString=util$5.ensureIntNumber=util$5.ensureBuffer=util$5.ensureAddressString=util$5.ensureEvenLengthHexString=util$5.ensureHexString=util$5.isHexString=util$5.prepend0x=util$5.strip0x=util$5.has0xPrefix=util$5.hexStringFromIntNumber=util$5.intNumberFromHexString=util$5.bigIntStringFromBN=util$5.hexStringFromBuffer=util$5.hexStringToUint8Array=util$5.uint8ArrayToHex=util$5.randomBytesHex=void 0;const bn_js_1$1=__importDefault$7(bn$1.exports),qs_1=lib$1,types_1$2=types$2,INT_STRING_REGEX=/^[0-9]*$/,HEXADECIMAL_STRING_REGEX=/^[a-f0-9]*$/;function randomBytesHex(et){return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(et)))}util$5.randomBytesHex=randomBytesHex;function uint8ArrayToHex(et){return[...et].map(_e=>_e.toString(16).padStart(2,"0")).join("")}util$5.uint8ArrayToHex=uint8ArrayToHex;function hexStringToUint8Array(et){return new Uint8Array(et.match(/.{1,2}/g).map(_e=>parseInt(_e,16)))}util$5.hexStringToUint8Array=hexStringToUint8Array;function hexStringFromBuffer(et,_e=!1){const tt=et.toString("hex");return(0,types_1$2.HexString)(_e?"0x"+tt:tt)}util$5.hexStringFromBuffer=hexStringFromBuffer;function bigIntStringFromBN(et){return(0,types_1$2.BigIntString)(et.toString(10))}util$5.bigIntStringFromBN=bigIntStringFromBN;function intNumberFromHexString(et){return(0,types_1$2.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16).toNumber())}util$5.intNumberFromHexString=intNumberFromHexString;function hexStringFromIntNumber(et){return(0,types_1$2.HexString)("0x"+new bn_js_1$1.default(et).toString(16))}util$5.hexStringFromIntNumber=hexStringFromIntNumber;function has0xPrefix(et){return et.startsWith("0x")||et.startsWith("0X")}util$5.has0xPrefix=has0xPrefix;function strip0x(et){return has0xPrefix(et)?et.slice(2):et}util$5.strip0x=strip0x;function prepend0x(et){return has0xPrefix(et)?"0x"+et.slice(2):"0x"+et}util$5.prepend0x=prepend0x;function isHexString$3(et){if(typeof et!="string")return!1;const _e=strip0x(et).toLowerCase();return HEXADECIMAL_STRING_REGEX.test(_e)}util$5.isHexString=isHexString$3;function ensureHexString(et,_e=!1){if(typeof et=="string"){const tt=strip0x(et).toLowerCase();if(HEXADECIMAL_STRING_REGEX.test(tt))return(0,types_1$2.HexString)(_e?"0x"+tt:tt)}throw new Error(`"${String(et)}" is not a hexadecimal string`)}util$5.ensureHexString=ensureHexString;function ensureEvenLengthHexString(et,_e=!1){let tt=ensureHexString(et,!1);return tt.length%2===1&&(tt=(0,types_1$2.HexString)("0"+tt)),_e?(0,types_1$2.HexString)("0x"+tt):tt}util$5.ensureEvenLengthHexString=ensureEvenLengthHexString;function ensureAddressString(et){if(typeof et=="string"){const _e=strip0x(et).toLowerCase();if(isHexString$3(_e)&&_e.length===40)return(0,types_1$2.AddressString)(prepend0x(_e))}throw new Error(`Invalid Ethereum address: ${String(et)}`)}util$5.ensureAddressString=ensureAddressString;function ensureBuffer(et){if(Buffer.isBuffer(et))return et;if(typeof et=="string")if(isHexString$3(et)){const _e=ensureEvenLengthHexString(et,!1);return Buffer.from(_e,"hex")}else return Buffer.from(et,"utf8");throw new Error(`Not binary data: ${String(et)}`)}util$5.ensureBuffer=ensureBuffer;function ensureIntNumber(et){if(typeof et=="number"&&Number.isInteger(et))return(0,types_1$2.IntNumber)(et);if(typeof et=="string"){if(INT_STRING_REGEX.test(et))return(0,types_1$2.IntNumber)(Number(et));if(isHexString$3(et))return(0,types_1$2.IntNumber)(new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16).toNumber())}throw new Error(`Not an integer: ${String(et)}`)}util$5.ensureIntNumber=ensureIntNumber;function ensureRegExpString(et){if(et instanceof RegExp)return(0,types_1$2.RegExpString)(et.toString());throw new Error(`Not a RegExp: ${String(et)}`)}util$5.ensureRegExpString=ensureRegExpString;function ensureBN(et){if(et!==null&&(bn_js_1$1.default.isBN(et)||isBigNumber(et)))return new bn_js_1$1.default(et.toString(10),10);if(typeof et=="number")return new bn_js_1$1.default(ensureIntNumber(et));if(typeof et=="string"){if(INT_STRING_REGEX.test(et))return new bn_js_1$1.default(et,10);if(isHexString$3(et))return new bn_js_1$1.default(ensureEvenLengthHexString(et,!1),16)}throw new Error(`Not an integer: ${String(et)}`)}util$5.ensureBN=ensureBN;function ensureParsedJSONObject(et){if(typeof et=="string")return JSON.parse(et);if(typeof et=="object")return et;throw new Error(`Not a JSON string or an object: ${String(et)}`)}util$5.ensureParsedJSONObject=ensureParsedJSONObject;function isBigNumber(et){if(et==null||typeof et.constructor!="function")return!1;const{constructor:_e}=et;return typeof _e.config=="function"&&typeof _e.EUCLID=="number"}util$5.isBigNumber=isBigNumber;function range(et,_e){return Array.from({length:_e-et},(tt,rt)=>et+rt)}util$5.range=range;function getFavicon(){const et=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:_e,host:tt}=document.location,rt=et?et.getAttribute("href"):null;return!rt||rt.startsWith("javascript:")?null:rt.startsWith("http://")||rt.startsWith("https://")||rt.startsWith("data:")?rt:rt.startsWith("//")?_e+rt:`${_e}//${tt}${rt}`}util$5.getFavicon=getFavicon;function createQrUrl(et,_e,tt,rt){const nt=rt?"parent-id":"id",it=(0,qs_1.stringify)({[nt]:et,secret:_e,server:tt,v:"1"});return`${tt}/#/link?${it}`}util$5.createQrUrl=createQrUrl;Object.defineProperty(Session$1,"__esModule",{value:!0});Session$1.Session=void 0;const js_sha256_1=sha256.exports,rxjs_1$4=require$$2$1,operators_1$2=require$$3$1,util_1$7=util$5,STORAGE_KEY_SESSION_ID="session:id",STORAGE_KEY_SESSION_SECRET="session:secret",STORAGE_KEY_SESSION_LINKED="session:linked";class Session{constructor(_e,tt,rt,nt){this._storage=_e,this._id=tt||(0,util_1$7.randomBytesHex)(16),this._secret=rt||(0,util_1$7.randomBytesHex)(32);const it=js_sha256_1.sha256.create();it.update(`${this._id}, ${this._secret} WalletLink`),this._key=it.hex(),this._linked=!!nt}static load(_e){const tt=_e.getItem(STORAGE_KEY_SESSION_ID),rt=_e.getItem(STORAGE_KEY_SESSION_LINKED),nt=_e.getItem(STORAGE_KEY_SESSION_SECRET);return tt&&nt?new Session(_e,tt,nt,rt==="1"):null}static get persistedSessionIdChange$(){return(0,rxjs_1$4.fromEvent)(window,"storage").pipe((0,operators_1$2.filter)(_e=>_e.key===STORAGE_KEY_SESSION_ID),(0,operators_1$2.map)(_e=>({oldValue:_e.oldValue||null,newValue:_e.newValue||null})))}static hash(_e){return js_sha256_1.sha256.create().update(_e).hex()}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(_e){this._linked=_e,this.persistLinked()}save(){return this._storage.setItem(STORAGE_KEY_SESSION_ID,this._id),this._storage.setItem(STORAGE_KEY_SESSION_SECRET,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(STORAGE_KEY_SESSION_LINKED,this._linked?"1":"0")}}Session$1.Session=Session;var WalletSDKRelayAbstract$1={};Object.defineProperty(WalletSDKRelayAbstract$1,"__esModule",{value:!0});WalletSDKRelayAbstract$1.WalletSDKRelayAbstract=WalletSDKRelayAbstract$1.APP_VERSION_KEY=WalletSDKRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY=WalletSDKRelayAbstract$1.WALLET_USER_NAME_KEY=void 0;const eth_rpc_errors_1$3=dist$1;WalletSDKRelayAbstract$1.WALLET_USER_NAME_KEY="walletUsername";WalletSDKRelayAbstract$1.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";WalletSDKRelayAbstract$1.APP_VERSION_KEY="AppVersion";class WalletSDKRelayAbstract{async makeEthereumJSONRPCRequest(_e,tt){if(!tt)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(tt,{method:"POST",body:JSON.stringify(_e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(rt=>rt.json()).then(rt=>{if(!rt)throw eth_rpc_errors_1$3.ethErrors.rpc.parse({});const nt=rt,{error:it}=nt;if(it)throw(0,eth_rpc_errors_1$3.serializeError)(it);return nt})}}WalletSDKRelayAbstract$1.WalletSDKRelayAbstract=WalletSDKRelayAbstract;var readableBrowser={exports:{}},streamBrowser=events.exports.EventEmitter,buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function et(bt,Et){var Ct=Object.keys(bt);if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols(bt);Et&&(At=At.filter(function(St){return Object.getOwnPropertyDescriptor(bt,St).enumerable})),Ct.push.apply(Ct,At)}return Ct}function _e(bt){for(var Et=1;Et<arguments.length;Et++){var Ct=arguments[Et]!=null?arguments[Et]:{};Et%2?et(Object(Ct),!0).forEach(function(At){tt(bt,At,Ct[At])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(Ct)):et(Object(Ct)).forEach(function(At){Object.defineProperty(bt,At,Object.getOwnPropertyDescriptor(Ct,At))})}return bt}function tt(bt,Et,Ct){return Et in bt?Object.defineProperty(bt,Et,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):bt[Et]=Ct,bt}function rt(bt,Et){if(!(bt instanceof Et))throw new TypeError("Cannot call a class as a function")}function nt(bt,Et){for(var Ct=0;Ct<Et.length;Ct++){var At=Et[Ct];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(bt,At.key,At)}}function it(bt,Et,Ct){return Et&&nt(bt.prototype,Et),Ct&&nt(bt,Ct),bt}var at=buffer$2,ot=at.Buffer,ct=require$$0$4,ut=ct.inspect,ft=ut&&ut.custom||"inspect";function yt(bt,Et,Ct){ot.prototype.copy.call(bt,Et,Ct)}return buffer_list=function(){function bt(){rt(this,bt),this.head=null,this.tail=null,this.length=0}return it(bt,[{key:"push",value:function(Ct){var At={data:Ct,next:null};this.length>0?this.tail.next=At:this.head=At,this.tail=At,++this.length}},{key:"unshift",value:function(Ct){var At={data:Ct,next:this.head};this.length===0&&(this.tail=At),this.head=At,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Ct=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Ct}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Ct){if(this.length===0)return"";for(var At=this.head,St=""+At.data;At=At.next;)St+=Ct+At.data;return St}},{key:"concat",value:function(Ct){if(this.length===0)return ot.alloc(0);for(var At=ot.allocUnsafe(Ct>>>0),St=this.head,Tt=0;St;)yt(St.data,At,Tt),Tt+=St.data.length,St=St.next;return At}},{key:"consume",value:function(Ct,At){var St;return Ct<this.head.data.length?(St=this.head.data.slice(0,Ct),this.head.data=this.head.data.slice(Ct)):Ct===this.head.data.length?St=this.shift():St=At?this._getString(Ct):this._getBuffer(Ct),St}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Ct){var At=this.head,St=1,Tt=At.data;for(Ct-=Tt.length;At=At.next;){var $t=At.data,kt=Ct>$t.length?$t.length:Ct;if(kt===$t.length?Tt+=$t:Tt+=$t.slice(0,Ct),Ct-=kt,Ct===0){kt===$t.length?(++St,At.next?this.head=At.next:this.head=this.tail=null):(this.head=At,At.data=$t.slice(kt));break}++St}return this.length-=St,Tt}},{key:"_getBuffer",value:function(Ct){var At=ot.allocUnsafe(Ct),St=this.head,Tt=1;for(St.data.copy(At),Ct-=St.data.length;St=St.next;){var $t=St.data,kt=Ct>$t.length?$t.length:Ct;if($t.copy(At,At.length-Ct,0,kt),Ct-=kt,Ct===0){kt===$t.length?(++Tt,St.next?this.head=St.next:this.head=this.tail=null):(this.head=St,St.data=$t.slice(kt));break}++Tt}return this.length-=Tt,At}},{key:ft,value:function(Ct,At){return ut(this,_e({},At,{depth:0,customInspect:!1}))}}]),bt}(),buffer_list}function destroy(et,_e){var tt=this,rt=this._readableState&&this._readableState.destroyed,nt=this._writableState&&this._writableState.destroyed;return rt||nt?(_e?_e(et):et&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,et)):process.nextTick(emitErrorNT,this,et)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(it){!_e&&it?tt._writableState?tt._writableState.errorEmitted?process.nextTick(emitCloseNT,tt):(tt._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,tt,it)):process.nextTick(emitErrorAndCloseNT,tt,it):_e?(process.nextTick(emitCloseNT,tt),_e(it)):process.nextTick(emitCloseNT,tt)}),this)}function emitErrorAndCloseNT(et,_e){emitErrorNT(et,_e),emitCloseNT(et)}function emitCloseNT(et){et._writableState&&!et._writableState.emitClose||et._readableState&&!et._readableState.emitClose||et.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(et,_e){et.emit("error",_e)}function errorOrDestroy(et,_e){var tt=et._readableState,rt=et._writableState;tt&&tt.autoDestroy||rt&&rt.autoDestroy?et.destroy(_e):et.emit("error",_e)}var destroy_1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(et,_e){et.prototype=Object.create(_e.prototype),et.prototype.constructor=et,et.__proto__=_e}var codes={};function createErrorType(et,_e,tt){tt||(tt=Error);function rt(it,at,ot){return typeof _e=="string"?_e:_e(it,at,ot)}var nt=function(it){_inheritsLoose(at,it);function at(ot,ct,ut){return it.call(this,rt(ot,ct,ut))||this}return at}(tt);nt.prototype.name=tt.name,nt.prototype.code=et,codes[et]=nt}function oneOf(et,_e){if(Array.isArray(et)){var tt=et.length;return et=et.map(function(rt){return String(rt)}),tt>2?"one of ".concat(_e," ").concat(et.slice(0,tt-1).join(", "),", or ")+et[tt-1]:tt===2?"one of ".concat(_e," ").concat(et[0]," or ").concat(et[1]):"of ".concat(_e," ").concat(et[0])}else return"of ".concat(_e," ").concat(String(et))}function startsWith(et,_e,tt){return et.substr(!tt||tt<0?0:+tt,_e.length)===_e}function endsWith(et,_e,tt){return(tt===void 0||tt>et.length)&&(tt=et.length),et.substring(tt-_e.length,tt)===_e}function includes(et,_e,tt){return typeof tt!="number"&&(tt=0),tt+_e.length>et.length?!1:et.indexOf(_e,tt)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(et,_e){return'The value "'+_e+'" is invalid for option "'+et+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(et,_e,tt){var rt;typeof _e=="string"&&startsWith(_e,"not ")?(rt="must not be",_e=_e.replace(/^not /,"")):rt="must be";var nt;if(endsWith(et," argument"))nt="The ".concat(et," ").concat(rt," ").concat(oneOf(_e,"type"));else{var it=includes(et,".")?"property":"argument";nt='The "'.concat(et,'" ').concat(it," ").concat(rt," ").concat(oneOf(_e,"type"))}return nt+=". Received type ".concat(typeof tt),nt},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(et){return"The "+et+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(et){return"Cannot call "+et+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(et){return"Unknown encoding: "+et},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(et,_e,tt){return et.highWaterMark!=null?et.highWaterMark:_e?et[tt]:null}function getHighWaterMark(et,_e,tt,rt){var nt=highWaterMarkFrom(_e,rt,tt);if(nt!=null){if(!(isFinite(nt)&&Math.floor(nt)===nt)||nt<0){var it=rt?tt:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(it,nt)}return Math.floor(nt)}return et.objectMode?16:16*1024}var state={getHighWaterMark},browser$1=deprecate;function deprecate(et,_e){if(config("noDeprecation"))return et;var tt=!1;function rt(){if(!tt){if(config("throwDeprecation"))throw new Error(_e);config("traceDeprecation")?console.trace(_e):console.warn(_e),tt=!0}return et.apply(this,arguments)}return rt}function config(et){try{if(!globalThis.localStorage)return!1}catch{return!1}var _e=globalThis.localStorage[et];return _e==null?!1:String(_e).toLowerCase()==="true"}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=Zt;function et(Wt){var Qt=this;this.next=null,this.entry=null,this.finish=function(){It(Qt,Wt)}}var _e;Zt.WritableState=Ht;var tt={deprecate:browser$1},rt=streamBrowser,nt=buffer$2.Buffer,it=globalThis.Uint8Array||function(){};function at(Wt){return nt.from(Wt)}function ot(Wt){return nt.isBuffer(Wt)||Wt instanceof it}var ct=destroy_1,ut=state,ft=ut.getHighWaterMark,yt=errorsBrowser.codes,bt=yt.ERR_INVALID_ARG_TYPE,Et=yt.ERR_METHOD_NOT_IMPLEMENTED,Ct=yt.ERR_MULTIPLE_CALLBACK,At=yt.ERR_STREAM_CANNOT_PIPE,St=yt.ERR_STREAM_DESTROYED,Tt=yt.ERR_STREAM_NULL_VALUES,$t=yt.ERR_STREAM_WRITE_AFTER_END,kt=yt.ERR_UNKNOWN_ENCODING,Pt=ct.errorOrDestroy;inherits_browser$1.exports(Zt,rt);function Ot(){}function Ht(Wt,Qt,Gt){_e=_e||require_stream_duplex(),Wt=Wt||{},typeof Gt!="boolean"&&(Gt=Qt instanceof _e),this.objectMode=!!Wt.objectMode,Gt&&(this.objectMode=this.objectMode||!!Wt.writableObjectMode),this.highWaterMark=ft(this,Wt,"writableHighWaterMark",Gt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var er=Wt.decodeStrings===!1;this.decodeStrings=!er,this.defaultEncoding=Wt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(hr){mt(Qt,hr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Wt.emitClose!==!1,this.autoDestroy=!!Wt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new et(this)}Ht.prototype.getBuffer=function(){for(var Qt=this.bufferedRequest,Gt=[];Qt;)Gt.push(Qt),Qt=Qt.next;return Gt},function(){try{Object.defineProperty(Ht.prototype,"buffer",{get:tt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var qt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(qt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Zt,Symbol.hasInstance,{value:function(Qt){return qt.call(this,Qt)?!0:this!==Zt?!1:Qt&&Qt._writableState instanceof Ht}})):qt=function(Qt){return Qt instanceof this};function Zt(Wt){_e=_e||require_stream_duplex();var Qt=this instanceof _e;if(!Qt&&!qt.call(Zt,this))return new Zt(Wt);this._writableState=new Ht(Wt,this,Qt),this.writable=!0,Wt&&(typeof Wt.write=="function"&&(this._write=Wt.write),typeof Wt.writev=="function"&&(this._writev=Wt.writev),typeof Wt.destroy=="function"&&(this._destroy=Wt.destroy),typeof Wt.final=="function"&&(this._final=Wt.final)),rt.call(this)}Zt.prototype.pipe=function(){Pt(this,new At)};function tr(Wt,Qt){var Gt=new $t;Pt(Wt,Gt),process.nextTick(Qt,Gt)}function Dt(Wt,Qt,Gt,er){var hr;return Gt===null?hr=new Tt:typeof Gt!="string"&&!Qt.objectMode&&(hr=new bt("chunk",["string","Buffer"],Gt)),hr?(Pt(Wt,hr),process.nextTick(er,hr),!1):!0}Zt.prototype.write=function(Wt,Qt,Gt){var er=this._writableState,hr=!1,Vt=!er.objectMode&&ot(Wt);return Vt&&!nt.isBuffer(Wt)&&(Wt=at(Wt)),typeof Qt=="function"&&(Gt=Qt,Qt=null),Vt?Qt="buffer":Qt||(Qt=er.defaultEncoding),typeof Gt!="function"&&(Gt=Ot),er.ending?tr(this,Gt):(Vt||Dt(this,er,Wt,Gt))&&(er.pendingcb++,hr=Nt(this,er,Vt,Wt,Qt,Gt)),hr},Zt.prototype.cork=function(){this._writableState.corked++},Zt.prototype.uncork=function(){var Wt=this._writableState;Wt.corked&&(Wt.corked--,!Wt.writing&&!Wt.corked&&!Wt.bufferProcessing&&Wt.bufferedRequest&&vt(this,Wt))},Zt.prototype.setDefaultEncoding=function(Qt){if(typeof Qt=="string"&&(Qt=Qt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Qt+"").toLowerCase())>-1))throw new kt(Qt);return this._writableState.defaultEncoding=Qt,this},Object.defineProperty(Zt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Rt(Wt,Qt,Gt){return!Wt.objectMode&&Wt.decodeStrings!==!1&&typeof Qt=="string"&&(Qt=nt.from(Qt,Gt)),Qt}Object.defineProperty(Zt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Nt(Wt,Qt,Gt,er,hr,Vt){if(!Gt){var Kt=Rt(Qt,er,hr);er!==Kt&&(Gt=!0,hr="buffer",er=Kt)}var lr=Qt.objectMode?1:er.length;Qt.length+=lr;var ir=Qt.length<Qt.highWaterMark;if(ir||(Qt.needDrain=!0),Qt.writing||Qt.corked){var ur=Qt.lastBufferedRequest;Qt.lastBufferedRequest={chunk:er,encoding:hr,isBuf:Gt,callback:Vt,next:null},ur?ur.next=Qt.lastBufferedRequest:Qt.bufferedRequest=Qt.lastBufferedRequest,Qt.bufferedRequestCount+=1}else ht(Wt,Qt,!1,lr,er,hr,Vt);return ir}function ht(Wt,Qt,Gt,er,hr,Vt,Kt){Qt.writelen=er,Qt.writecb=Kt,Qt.writing=!0,Qt.sync=!0,Qt.destroyed?Qt.onwrite(new St("write")):Gt?Wt._writev(hr,Qt.onwrite):Wt._write(hr,Vt,Qt.onwrite),Qt.sync=!1}function st(Wt,Qt,Gt,er,hr){--Qt.pendingcb,Gt?(process.nextTick(hr,er),process.nextTick(wt,Wt,Qt),Wt._writableState.errorEmitted=!0,Pt(Wt,er)):(hr(er),Wt._writableState.errorEmitted=!0,Pt(Wt,er),wt(Wt,Qt))}function dt(Wt){Wt.writing=!1,Wt.writecb=null,Wt.length-=Wt.writelen,Wt.writelen=0}function mt(Wt,Qt){var Gt=Wt._writableState,er=Gt.sync,hr=Gt.writecb;if(typeof hr!="function")throw new Ct;if(dt(Gt),Qt)st(Wt,Gt,er,Qt,hr);else{var Vt=Mt(Gt)||Wt.destroyed;!Vt&&!Gt.corked&&!Gt.bufferProcessing&&Gt.bufferedRequest&&vt(Wt,Gt),er?process.nextTick(_t,Wt,Gt,Vt,hr):_t(Wt,Gt,Vt,hr)}}function _t(Wt,Qt,Gt,er){Gt||xt(Wt,Qt),Qt.pendingcb--,er(),wt(Wt,Qt)}function xt(Wt,Qt){Qt.length===0&&Qt.needDrain&&(Qt.needDrain=!1,Wt.emit("drain"))}function vt(Wt,Qt){Qt.bufferProcessing=!0;var Gt=Qt.bufferedRequest;if(Wt._writev&&Gt&&Gt.next){var er=Qt.bufferedRequestCount,hr=new Array(er),Vt=Qt.corkedRequestsFree;Vt.entry=Gt;for(var Kt=0,lr=!0;Gt;)hr[Kt]=Gt,Gt.isBuf||(lr=!1),Gt=Gt.next,Kt+=1;hr.allBuffers=lr,ht(Wt,Qt,!0,Qt.length,hr,"",Vt.finish),Qt.pendingcb++,Qt.lastBufferedRequest=null,Vt.next?(Qt.corkedRequestsFree=Vt.next,Vt.next=null):Qt.corkedRequestsFree=new et(Qt),Qt.bufferedRequestCount=0}else{for(;Gt;){var ir=Gt.chunk,ur=Gt.encoding,Xt=Gt.callback,Ft=Qt.objectMode?1:ir.length;if(ht(Wt,Qt,!1,Ft,ir,ur,Xt),Gt=Gt.next,Qt.bufferedRequestCount--,Qt.writing)break}Gt===null&&(Qt.lastBufferedRequest=null)}Qt.bufferedRequest=Gt,Qt.bufferProcessing=!1}Zt.prototype._write=function(Wt,Qt,Gt){Gt(new Et("_write()"))},Zt.prototype._writev=null,Zt.prototype.end=function(Wt,Qt,Gt){var er=this._writableState;return typeof Wt=="function"?(Gt=Wt,Wt=null,Qt=null):typeof Qt=="function"&&(Gt=Qt,Qt=null),Wt!=null&&this.write(Wt,Qt),er.corked&&(er.corked=1,this.uncork()),er.ending||jt(this,er,Gt),this},Object.defineProperty(Zt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Mt(Wt){return Wt.ending&&Wt.length===0&&Wt.bufferedRequest===null&&!Wt.finished&&!Wt.writing}function gt(Wt,Qt){Wt._final(function(Gt){Qt.pendingcb--,Gt&&Pt(Wt,Gt),Qt.prefinished=!0,Wt.emit("prefinish"),wt(Wt,Qt)})}function lt(Wt,Qt){!Qt.prefinished&&!Qt.finalCalled&&(typeof Wt._final=="function"&&!Qt.destroyed?(Qt.pendingcb++,Qt.finalCalled=!0,process.nextTick(gt,Wt,Qt)):(Qt.prefinished=!0,Wt.emit("prefinish")))}function wt(Wt,Qt){var Gt=Mt(Qt);if(Gt&&(lt(Wt,Qt),Qt.pendingcb===0&&(Qt.finished=!0,Wt.emit("finish"),Qt.autoDestroy))){var er=Wt._readableState;(!er||er.autoDestroy&&er.endEmitted)&&Wt.destroy()}return Gt}function jt(Wt,Qt,Gt){Qt.ending=!0,wt(Wt,Qt),Gt&&(Qt.finished?process.nextTick(Gt):Wt.once("finish",Gt)),Qt.ended=!0,Wt.writable=!1}function It(Wt,Qt,Gt){var er=Wt.entry;for(Wt.entry=null;er;){var hr=er.callback;Qt.pendingcb--,hr(Gt),er=er.next}Qt.corkedRequestsFree.next=Wt}return Object.defineProperty(Zt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Qt){!this._writableState||(this._writableState.destroyed=Qt)}}),Zt.prototype.destroy=ct.destroy,Zt.prototype._undestroy=ct.undestroy,Zt.prototype._destroy=function(Wt,Qt){Qt(Wt)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var et=Object.keys||function(ut){var ft=[];for(var yt in ut)ft.push(yt);return ft};_stream_duplex=at;var _e=require_stream_readable(),tt=require_stream_writable();inherits_browser$1.exports(at,_e);for(var rt=et(tt.prototype),nt=0;nt<rt.length;nt++){var it=rt[nt];at.prototype[it]||(at.prototype[it]=tt.prototype[it])}function at(ut){if(!(this instanceof at))return new at(ut);_e.call(this,ut),tt.call(this,ut),this.allowHalfOpen=!0,ut&&(ut.readable===!1&&(this.readable=!1),ut.writable===!1&&(this.writable=!1),ut.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ot)))}Object.defineProperty(at.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(at.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(at.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ot(){this._writableState.ended||process.nextTick(ct,this)}function ct(ut){ut.end()}return Object.defineProperty(at.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ft){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ft,this._writableState.destroyed=ft)}}),_stream_duplex}var string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(et,_e){var tt=buffer$2,rt=tt.Buffer;function nt(at,ot){for(var ct in at)ot[ct]=at[ct]}rt.from&&rt.alloc&&rt.allocUnsafe&&rt.allocUnsafeSlow?et.exports=tt:(nt(tt,_e),_e.Buffer=it);function it(at,ot,ct){return rt(at,ot,ct)}it.prototype=Object.create(rt.prototype),nt(rt,it),it.from=function(at,ot,ct){if(typeof at=="number")throw new TypeError("Argument must not be a number");return rt(at,ot,ct)},it.alloc=function(at,ot,ct){if(typeof at!="number")throw new TypeError("Argument must be a number");var ut=rt(at);return ot!==void 0?typeof ct=="string"?ut.fill(ot,ct):ut.fill(ot):ut.fill(0),ut},it.allocUnsafe=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return rt(at)},it.allocUnsafeSlow=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return tt.SlowBuffer(at)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var et=requireSafeBuffer().Buffer,_e=et.isEncoding||function(Tt){switch(Tt=""+Tt,Tt&&Tt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function tt(Tt){if(!Tt)return"utf8";for(var $t;;)switch(Tt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Tt;default:if($t)return;Tt=(""+Tt).toLowerCase(),$t=!0}}function rt(Tt){var $t=tt(Tt);if(typeof $t!="string"&&(et.isEncoding===_e||!_e(Tt)))throw new Error("Unknown encoding: "+Tt);return $t||Tt}string_decoder.StringDecoder=nt;function nt(Tt){this.encoding=rt(Tt);var $t;switch(this.encoding){case"utf16le":this.text=yt,this.end=bt,$t=4;break;case"utf8":this.fillLast=ct,$t=4;break;case"base64":this.text=Et,this.end=Ct,$t=3;break;default:this.write=At,this.end=St;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=et.allocUnsafe($t)}nt.prototype.write=function(Tt){if(Tt.length===0)return"";var $t,kt;if(this.lastNeed){if($t=this.fillLast(Tt),$t===void 0)return"";kt=this.lastNeed,this.lastNeed=0}else kt=0;return kt<Tt.length?$t?$t+this.text(Tt,kt):this.text(Tt,kt):$t||""},nt.prototype.end=ft,nt.prototype.text=ut,nt.prototype.fillLast=function(Tt){if(this.lastNeed<=Tt.length)return Tt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Tt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Tt.length),this.lastNeed-=Tt.length};function it(Tt){return Tt<=127?0:Tt>>5===6?2:Tt>>4===14?3:Tt>>3===30?4:Tt>>6===2?-1:-2}function at(Tt,$t,kt){var Pt=$t.length-1;if(Pt<kt)return 0;var Ot=it($t[Pt]);return Ot>=0?(Ot>0&&(Tt.lastNeed=Ot-1),Ot):--Pt<kt||Ot===-2?0:(Ot=it($t[Pt]),Ot>=0?(Ot>0&&(Tt.lastNeed=Ot-2),Ot):--Pt<kt||Ot===-2?0:(Ot=it($t[Pt]),Ot>=0?(Ot>0&&(Ot===2?Ot=0:Tt.lastNeed=Ot-3),Ot):0))}function ot(Tt,$t,kt){if(($t[0]&192)!==128)return Tt.lastNeed=0,"\uFFFD";if(Tt.lastNeed>1&&$t.length>1){if(($t[1]&192)!==128)return Tt.lastNeed=1,"\uFFFD";if(Tt.lastNeed>2&&$t.length>2&&($t[2]&192)!==128)return Tt.lastNeed=2,"\uFFFD"}}function ct(Tt){var $t=this.lastTotal-this.lastNeed,kt=ot(this,Tt);if(kt!==void 0)return kt;if(this.lastNeed<=Tt.length)return Tt.copy(this.lastChar,$t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Tt.copy(this.lastChar,$t,0,Tt.length),this.lastNeed-=Tt.length}function ut(Tt,$t){var kt=at(this,Tt,$t);if(!this.lastNeed)return Tt.toString("utf8",$t);this.lastTotal=kt;var Pt=Tt.length-(kt-this.lastNeed);return Tt.copy(this.lastChar,0,Pt),Tt.toString("utf8",$t,Pt)}function ft(Tt){var $t=Tt&&Tt.length?this.write(Tt):"";return this.lastNeed?$t+"\uFFFD":$t}function yt(Tt,$t){if((Tt.length-$t)%2===0){var kt=Tt.toString("utf16le",$t);if(kt){var Pt=kt.charCodeAt(kt.length-1);if(Pt>=55296&&Pt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Tt[Tt.length-2],this.lastChar[1]=Tt[Tt.length-1],kt.slice(0,-1)}return kt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Tt[Tt.length-1],Tt.toString("utf16le",$t,Tt.length-1)}function bt(Tt){var $t=Tt&&Tt.length?this.write(Tt):"";if(this.lastNeed){var kt=this.lastTotal-this.lastNeed;return $t+this.lastChar.toString("utf16le",0,kt)}return $t}function Et(Tt,$t){var kt=(Tt.length-$t)%3;return kt===0?Tt.toString("base64",$t):(this.lastNeed=3-kt,this.lastTotal=3,kt===1?this.lastChar[0]=Tt[Tt.length-1]:(this.lastChar[0]=Tt[Tt.length-2],this.lastChar[1]=Tt[Tt.length-1]),Tt.toString("base64",$t,Tt.length-kt))}function Ct(Tt){var $t=Tt&&Tt.length?this.write(Tt):"";return this.lastNeed?$t+this.lastChar.toString("base64",0,3-this.lastNeed):$t}function At(Tt){return Tt.toString(this.encoding)}function St(Tt){return Tt&&Tt.length?this.write(Tt):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(et){var _e=!1;return function(){if(!_e){_e=!0;for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];et.apply(this,rt)}}}function noop$3(){}function isRequest$1(et){return et.setHeader&&typeof et.abort=="function"}function eos$1(et,_e,tt){if(typeof _e=="function")return eos$1(et,null,_e);_e||(_e={}),tt=once$1(tt||noop$3);var rt=_e.readable||_e.readable!==!1&&et.readable,nt=_e.writable||_e.writable!==!1&&et.writable,it=function(){et.writable||ot()},at=et._writableState&&et._writableState.finished,ot=function(){nt=!1,at=!0,rt||tt.call(et)},ct=et._readableState&&et._readableState.endEmitted,ut=function(){rt=!1,ct=!0,nt||tt.call(et)},ft=function(Ct){tt.call(et,Ct)},yt=function(){var Ct;if(rt&&!ct)return(!et._readableState||!et._readableState.ended)&&(Ct=new ERR_STREAM_PREMATURE_CLOSE),tt.call(et,Ct);if(nt&&!at)return(!et._writableState||!et._writableState.ended)&&(Ct=new ERR_STREAM_PREMATURE_CLOSE),tt.call(et,Ct)},bt=function(){et.req.on("finish",ot)};return isRequest$1(et)?(et.on("complete",ot),et.on("abort",yt),et.req?bt():et.on("request",bt)):nt&&!et._writableState&&(et.on("end",it),et.on("close",it)),et.on("end",ut),et.on("finish",ot),_e.error!==!1&&et.on("error",ft),et.on("close",yt),function(){et.removeListener("complete",ot),et.removeListener("abort",yt),et.removeListener("request",bt),et.req&&et.req.removeListener("finish",ot),et.removeListener("end",it),et.removeListener("close",it),et.removeListener("finish",ot),et.removeListener("end",ut),et.removeListener("error",ft),et.removeListener("close",yt)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var et;function _e(Tt,$t,kt){return $t in Tt?Object.defineProperty(Tt,$t,{value:kt,enumerable:!0,configurable:!0,writable:!0}):Tt[$t]=kt,Tt}var tt=endOfStream,rt=Symbol("lastResolve"),nt=Symbol("lastReject"),it=Symbol("error"),at=Symbol("ended"),ot=Symbol("lastPromise"),ct=Symbol("handlePromise"),ut=Symbol("stream");function ft(Tt,$t){return{value:Tt,done:$t}}function yt(Tt){var $t=Tt[rt];if($t!==null){var kt=Tt[ut].read();kt!==null&&(Tt[ot]=null,Tt[rt]=null,Tt[nt]=null,$t(ft(kt,!1)))}}function bt(Tt){process.nextTick(yt,Tt)}function Et(Tt,$t){return function(kt,Pt){Tt.then(function(){if($t[at]){kt(ft(void 0,!0));return}$t[ct](kt,Pt)},Pt)}}var Ct=Object.getPrototypeOf(function(){}),At=Object.setPrototypeOf((et={get stream(){return this[ut]},next:function(){var $t=this,kt=this[it];if(kt!==null)return Promise.reject(kt);if(this[at])return Promise.resolve(ft(void 0,!0));if(this[ut].destroyed)return new Promise(function(qt,Zt){process.nextTick(function(){$t[it]?Zt($t[it]):qt(ft(void 0,!0))})});var Pt=this[ot],Ot;if(Pt)Ot=new Promise(Et(Pt,this));else{var Ht=this[ut].read();if(Ht!==null)return Promise.resolve(ft(Ht,!1));Ot=new Promise(this[ct])}return this[ot]=Ot,Ot}},_e(et,Symbol.asyncIterator,function(){return this}),_e(et,"return",function(){var $t=this;return new Promise(function(kt,Pt){$t[ut].destroy(null,function(Ot){if(Ot){Pt(Ot);return}kt(ft(void 0,!0))})})}),et),Ct),St=function($t){var kt,Pt=Object.create(At,(kt={},_e(kt,ut,{value:$t,writable:!0}),_e(kt,rt,{value:null,writable:!0}),_e(kt,nt,{value:null,writable:!0}),_e(kt,it,{value:null,writable:!0}),_e(kt,at,{value:$t._readableState.endEmitted,writable:!0}),_e(kt,ct,{value:function(Ht,qt){var Zt=Pt[ut].read();Zt?(Pt[ot]=null,Pt[rt]=null,Pt[nt]=null,Ht(ft(Zt,!1))):(Pt[rt]=Ht,Pt[nt]=qt)},writable:!0}),kt));return Pt[ot]=null,tt($t,function(Ot){if(Ot&&Ot.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Ht=Pt[nt];Ht!==null&&(Pt[ot]=null,Pt[rt]=null,Pt[nt]=null,Ht(Ot)),Pt[it]=Ot;return}var qt=Pt[rt];qt!==null&&(Pt[ot]=null,Pt[rt]=null,Pt[nt]=null,qt(ft(void 0,!0))),Pt[at]=!0}),$t.on("readable",bt.bind(null,Pt)),Pt};return async_iterator=St,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=tr;var et;tr.ReadableState=Zt,events.exports.EventEmitter;var _e=function(Kt,lr){return Kt.listeners(lr).length},tt=streamBrowser,rt=buffer$2.Buffer,nt=globalThis.Uint8Array||function(){};function it(Vt){return rt.from(Vt)}function at(Vt){return rt.isBuffer(Vt)||Vt instanceof nt}var ot=require$$0$4,ct;ot&&ot.debuglog?ct=ot.debuglog("stream"):ct=function(){};var ut=requireBuffer_list(),ft=destroy_1,yt=state,bt=yt.getHighWaterMark,Et=errorsBrowser.codes,Ct=Et.ERR_INVALID_ARG_TYPE,At=Et.ERR_STREAM_PUSH_AFTER_EOF,St=Et.ERR_METHOD_NOT_IMPLEMENTED,Tt=Et.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,$t,kt,Pt;inherits_browser$1.exports(tr,tt);var Ot=ft.errorOrDestroy,Ht=["error","close","destroy","pause","resume"];function qt(Vt,Kt,lr){if(typeof Vt.prependListener=="function")return Vt.prependListener(Kt,lr);!Vt._events||!Vt._events[Kt]?Vt.on(Kt,lr):Array.isArray(Vt._events[Kt])?Vt._events[Kt].unshift(lr):Vt._events[Kt]=[lr,Vt._events[Kt]]}function Zt(Vt,Kt,lr){et=et||require_stream_duplex(),Vt=Vt||{},typeof lr!="boolean"&&(lr=Kt instanceof et),this.objectMode=!!Vt.objectMode,lr&&(this.objectMode=this.objectMode||!!Vt.readableObjectMode),this.highWaterMark=bt(this,Vt,"readableHighWaterMark",lr),this.buffer=new ut,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Vt.emitClose!==!1,this.autoDestroy=!!Vt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Vt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Vt.encoding&&($t||($t=requireString_decoder().StringDecoder),this.decoder=new $t(Vt.encoding),this.encoding=Vt.encoding)}function tr(Vt){if(et=et||require_stream_duplex(),!(this instanceof tr))return new tr(Vt);var Kt=this instanceof et;this._readableState=new Zt(Vt,this,Kt),this.readable=!0,Vt&&(typeof Vt.read=="function"&&(this._read=Vt.read),typeof Vt.destroy=="function"&&(this._destroy=Vt.destroy)),tt.call(this)}Object.defineProperty(tr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Kt){!this._readableState||(this._readableState.destroyed=Kt)}}),tr.prototype.destroy=ft.destroy,tr.prototype._undestroy=ft.undestroy,tr.prototype._destroy=function(Vt,Kt){Kt(Vt)},tr.prototype.push=function(Vt,Kt){var lr=this._readableState,ir;return lr.objectMode?ir=!0:typeof Vt=="string"&&(Kt=Kt||lr.defaultEncoding,Kt!==lr.encoding&&(Vt=rt.from(Vt,Kt),Kt=""),ir=!0),Dt(this,Vt,Kt,!1,ir)},tr.prototype.unshift=function(Vt){return Dt(this,Vt,null,!0,!1)};function Dt(Vt,Kt,lr,ir,ur){ct("readableAddChunk",Kt);var Xt=Vt._readableState;if(Kt===null)Xt.reading=!1,mt(Vt,Xt);else{var Ft;if(ur||(Ft=Nt(Xt,Kt)),Ft)Ot(Vt,Ft);else if(Xt.objectMode||Kt&&Kt.length>0)if(typeof Kt!="string"&&!Xt.objectMode&&Object.getPrototypeOf(Kt)!==rt.prototype&&(Kt=it(Kt)),ir)Xt.endEmitted?Ot(Vt,new Tt):Rt(Vt,Xt,Kt,!0);else if(Xt.ended)Ot(Vt,new At);else{if(Xt.destroyed)return!1;Xt.reading=!1,Xt.decoder&&!lr?(Kt=Xt.decoder.write(Kt),Xt.objectMode||Kt.length!==0?Rt(Vt,Xt,Kt,!1):vt(Vt,Xt)):Rt(Vt,Xt,Kt,!1)}else ir||(Xt.reading=!1,vt(Vt,Xt))}return!Xt.ended&&(Xt.length<Xt.highWaterMark||Xt.length===0)}function Rt(Vt,Kt,lr,ir){Kt.flowing&&Kt.length===0&&!Kt.sync?(Kt.awaitDrain=0,Vt.emit("data",lr)):(Kt.length+=Kt.objectMode?1:lr.length,ir?Kt.buffer.unshift(lr):Kt.buffer.push(lr),Kt.needReadable&&_t(Vt)),vt(Vt,Kt)}function Nt(Vt,Kt){var lr;return!at(Kt)&&typeof Kt!="string"&&Kt!==void 0&&!Vt.objectMode&&(lr=new Ct("chunk",["string","Buffer","Uint8Array"],Kt)),lr}tr.prototype.isPaused=function(){return this._readableState.flowing===!1},tr.prototype.setEncoding=function(Vt){$t||($t=requireString_decoder().StringDecoder);var Kt=new $t(Vt);this._readableState.decoder=Kt,this._readableState.encoding=this._readableState.decoder.encoding;for(var lr=this._readableState.buffer.head,ir="";lr!==null;)ir+=Kt.write(lr.data),lr=lr.next;return this._readableState.buffer.clear(),ir!==""&&this._readableState.buffer.push(ir),this._readableState.length=ir.length,this};var ht=1073741824;function st(Vt){return Vt>=ht?Vt=ht:(Vt--,Vt|=Vt>>>1,Vt|=Vt>>>2,Vt|=Vt>>>4,Vt|=Vt>>>8,Vt|=Vt>>>16,Vt++),Vt}function dt(Vt,Kt){return Vt<=0||Kt.length===0&&Kt.ended?0:Kt.objectMode?1:Vt!==Vt?Kt.flowing&&Kt.length?Kt.buffer.head.data.length:Kt.length:(Vt>Kt.highWaterMark&&(Kt.highWaterMark=st(Vt)),Vt<=Kt.length?Vt:Kt.ended?Kt.length:(Kt.needReadable=!0,0))}tr.prototype.read=function(Vt){ct("read",Vt),Vt=parseInt(Vt,10);var Kt=this._readableState,lr=Vt;if(Vt!==0&&(Kt.emittedReadable=!1),Vt===0&&Kt.needReadable&&((Kt.highWaterMark!==0?Kt.length>=Kt.highWaterMark:Kt.length>0)||Kt.ended))return ct("read: emitReadable",Kt.length,Kt.ended),Kt.length===0&&Kt.ended?Gt(this):_t(this),null;if(Vt=dt(Vt,Kt),Vt===0&&Kt.ended)return Kt.length===0&&Gt(this),null;var ir=Kt.needReadable;ct("need readable",ir),(Kt.length===0||Kt.length-Vt<Kt.highWaterMark)&&(ir=!0,ct("length less than watermark",ir)),Kt.ended||Kt.reading?(ir=!1,ct("reading or ended",ir)):ir&&(ct("do read"),Kt.reading=!0,Kt.sync=!0,Kt.length===0&&(Kt.needReadable=!0),this._read(Kt.highWaterMark),Kt.sync=!1,Kt.reading||(Vt=dt(lr,Kt)));var ur;return Vt>0?ur=Qt(Vt,Kt):ur=null,ur===null?(Kt.needReadable=Kt.length<=Kt.highWaterMark,Vt=0):(Kt.length-=Vt,Kt.awaitDrain=0),Kt.length===0&&(Kt.ended||(Kt.needReadable=!0),lr!==Vt&&Kt.ended&&Gt(this)),ur!==null&&this.emit("data",ur),ur};function mt(Vt,Kt){if(ct("onEofChunk"),!Kt.ended){if(Kt.decoder){var lr=Kt.decoder.end();lr&&lr.length&&(Kt.buffer.push(lr),Kt.length+=Kt.objectMode?1:lr.length)}Kt.ended=!0,Kt.sync?_t(Vt):(Kt.needReadable=!1,Kt.emittedReadable||(Kt.emittedReadable=!0,xt(Vt)))}}function _t(Vt){var Kt=Vt._readableState;ct("emitReadable",Kt.needReadable,Kt.emittedReadable),Kt.needReadable=!1,Kt.emittedReadable||(ct("emitReadable",Kt.flowing),Kt.emittedReadable=!0,process.nextTick(xt,Vt))}function xt(Vt){var Kt=Vt._readableState;ct("emitReadable_",Kt.destroyed,Kt.length,Kt.ended),!Kt.destroyed&&(Kt.length||Kt.ended)&&(Vt.emit("readable"),Kt.emittedReadable=!1),Kt.needReadable=!Kt.flowing&&!Kt.ended&&Kt.length<=Kt.highWaterMark,Wt(Vt)}function vt(Vt,Kt){Kt.readingMore||(Kt.readingMore=!0,process.nextTick(Mt,Vt,Kt))}function Mt(Vt,Kt){for(;!Kt.reading&&!Kt.ended&&(Kt.length<Kt.highWaterMark||Kt.flowing&&Kt.length===0);){var lr=Kt.length;if(ct("maybeReadMore read 0"),Vt.read(0),lr===Kt.length)break}Kt.readingMore=!1}tr.prototype._read=function(Vt){Ot(this,new St("_read()"))},tr.prototype.pipe=function(Vt,Kt){var lr=this,ir=this._readableState;switch(ir.pipesCount){case 0:ir.pipes=Vt;break;case 1:ir.pipes=[ir.pipes,Vt];break;default:ir.pipes.push(Vt);break}ir.pipesCount+=1,ct("pipe count=%d opts=%j",ir.pipesCount,Kt);var ur=(!Kt||Kt.end!==!1)&&Vt!==process.stdout&&Vt!==process.stderr,Xt=ur?Ut:mr;ir.endEmitted?process.nextTick(Xt):lr.once("end",Xt),Vt.on("unpipe",Ft);function Ft(zt,Lt){ct("onunpipe"),zt===lr&&Lt&&Lt.hasUnpiped===!1&&(Lt.hasUnpiped=!0,ar())}function Ut(){ct("onend"),Vt.end()}var Yt=gt(lr);Vt.on("drain",Yt);var rr=!1;function ar(){ct("cleanup"),Vt.removeListener("close",pr),Vt.removeListener("finish",Lr),Vt.removeListener("drain",Yt),Vt.removeListener("error",dr),Vt.removeListener("unpipe",Ft),lr.removeListener("end",Ut),lr.removeListener("end",mr),lr.removeListener("data",br),rr=!0,ir.awaitDrain&&(!Vt._writableState||Vt._writableState.needDrain)&&Yt()}lr.on("data",br);function br(zt){ct("ondata");var Lt=Vt.write(zt);ct("dest.write",Lt),Lt===!1&&((ir.pipesCount===1&&ir.pipes===Vt||ir.pipesCount>1&&hr(ir.pipes,Vt)!==-1)&&!rr&&(ct("false write response, pause",ir.awaitDrain),ir.awaitDrain++),lr.pause())}function dr(zt){ct("onerror",zt),mr(),Vt.removeListener("error",dr),_e(Vt,"error")===0&&Ot(Vt,zt)}qt(Vt,"error",dr);function pr(){Vt.removeListener("finish",Lr),mr()}Vt.once("close",pr);function Lr(){ct("onfinish"),Vt.removeListener("close",pr),mr()}Vt.once("finish",Lr);function mr(){ct("unpipe"),lr.unpipe(Vt)}return Vt.emit("pipe",lr),ir.flowing||(ct("pipe resume"),lr.resume()),Vt};function gt(Vt){return function(){var lr=Vt._readableState;ct("pipeOnDrain",lr.awaitDrain),lr.awaitDrain&&lr.awaitDrain--,lr.awaitDrain===0&&_e(Vt,"data")&&(lr.flowing=!0,Wt(Vt))}}tr.prototype.unpipe=function(Vt){var Kt=this._readableState,lr={hasUnpiped:!1};if(Kt.pipesCount===0)return this;if(Kt.pipesCount===1)return Vt&&Vt!==Kt.pipes?this:(Vt||(Vt=Kt.pipes),Kt.pipes=null,Kt.pipesCount=0,Kt.flowing=!1,Vt&&Vt.emit("unpipe",this,lr),this);if(!Vt){var ir=Kt.pipes,ur=Kt.pipesCount;Kt.pipes=null,Kt.pipesCount=0,Kt.flowing=!1;for(var Xt=0;Xt<ur;Xt++)ir[Xt].emit("unpipe",this,{hasUnpiped:!1});return this}var Ft=hr(Kt.pipes,Vt);return Ft===-1?this:(Kt.pipes.splice(Ft,1),Kt.pipesCount-=1,Kt.pipesCount===1&&(Kt.pipes=Kt.pipes[0]),Vt.emit("unpipe",this,lr),this)},tr.prototype.on=function(Vt,Kt){var lr=tt.prototype.on.call(this,Vt,Kt),ir=this._readableState;return Vt==="data"?(ir.readableListening=this.listenerCount("readable")>0,ir.flowing!==!1&&this.resume()):Vt==="readable"&&!ir.endEmitted&&!ir.readableListening&&(ir.readableListening=ir.needReadable=!0,ir.flowing=!1,ir.emittedReadable=!1,ct("on readable",ir.length,ir.reading),ir.length?_t(this):ir.reading||process.nextTick(wt,this)),lr},tr.prototype.addListener=tr.prototype.on,tr.prototype.removeListener=function(Vt,Kt){var lr=tt.prototype.removeListener.call(this,Vt,Kt);return Vt==="readable"&&process.nextTick(lt,this),lr},tr.prototype.removeAllListeners=function(Vt){var Kt=tt.prototype.removeAllListeners.apply(this,arguments);return(Vt==="readable"||Vt===void 0)&&process.nextTick(lt,this),Kt};function lt(Vt){var Kt=Vt._readableState;Kt.readableListening=Vt.listenerCount("readable")>0,Kt.resumeScheduled&&!Kt.paused?Kt.flowing=!0:Vt.listenerCount("data")>0&&Vt.resume()}function wt(Vt){ct("readable nexttick read 0"),Vt.read(0)}tr.prototype.resume=function(){var Vt=this._readableState;return Vt.flowing||(ct("resume"),Vt.flowing=!Vt.readableListening,jt(this,Vt)),Vt.paused=!1,this};function jt(Vt,Kt){Kt.resumeScheduled||(Kt.resumeScheduled=!0,process.nextTick(It,Vt,Kt))}function It(Vt,Kt){ct("resume",Kt.reading),Kt.reading||Vt.read(0),Kt.resumeScheduled=!1,Vt.emit("resume"),Wt(Vt),Kt.flowing&&!Kt.reading&&Vt.read(0)}tr.prototype.pause=function(){return ct("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ct("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Wt(Vt){var Kt=Vt._readableState;for(ct("flow",Kt.flowing);Kt.flowing&&Vt.read()!==null;);}tr.prototype.wrap=function(Vt){var Kt=this,lr=this._readableState,ir=!1;Vt.on("end",function(){if(ct("wrapped end"),lr.decoder&&!lr.ended){var Ft=lr.decoder.end();Ft&&Ft.length&&Kt.push(Ft)}Kt.push(null)}),Vt.on("data",function(Ft){if(ct("wrapped data"),lr.decoder&&(Ft=lr.decoder.write(Ft)),!(lr.objectMode&&Ft==null)&&!(!lr.objectMode&&(!Ft||!Ft.length))){var Ut=Kt.push(Ft);Ut||(ir=!0,Vt.pause())}});for(var ur in Vt)this[ur]===void 0&&typeof Vt[ur]=="function"&&(this[ur]=function(Ut){return function(){return Vt[Ut].apply(Vt,arguments)}}(ur));for(var Xt=0;Xt<Ht.length;Xt++)Vt.on(Ht[Xt],this.emit.bind(this,Ht[Xt]));return this._read=function(Ft){ct("wrapped _read",Ft),ir&&(ir=!1,Vt.resume())},this},typeof Symbol=="function"&&(tr.prototype[Symbol.asyncIterator]=function(){return kt===void 0&&(kt=requireAsync_iterator()),kt(this)}),Object.defineProperty(tr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(tr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(tr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Kt){this._readableState&&(this._readableState.flowing=Kt)}}),tr._fromList=Qt,Object.defineProperty(tr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Qt(Vt,Kt){if(Kt.length===0)return null;var lr;return Kt.objectMode?lr=Kt.buffer.shift():!Vt||Vt>=Kt.length?(Kt.decoder?lr=Kt.buffer.join(""):Kt.buffer.length===1?lr=Kt.buffer.first():lr=Kt.buffer.concat(Kt.length),Kt.buffer.clear()):lr=Kt.buffer.consume(Vt,Kt.decoder),lr}function Gt(Vt){var Kt=Vt._readableState;ct("endReadable",Kt.endEmitted),Kt.endEmitted||(Kt.ended=!0,process.nextTick(er,Kt,Vt))}function er(Vt,Kt){if(ct("endReadableNT",Vt.endEmitted,Vt.length),!Vt.endEmitted&&Vt.length===0&&(Vt.endEmitted=!0,Kt.readable=!1,Kt.emit("end"),Vt.autoDestroy)){var lr=Kt._writableState;(!lr||lr.autoDestroy&&lr.finished)&&Kt.destroy()}}typeof Symbol=="function"&&(tr.from=function(Vt,Kt){return Pt===void 0&&(Pt=requireFromBrowser()),Pt(tr,Vt,Kt)});function hr(Vt,Kt){for(var lr=0,ir=Vt.length;lr<ir;lr++)if(Vt[lr]===Kt)return lr;return-1}return _stream_readable}var _stream_transform=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex();inherits_browser$1.exports(Transform$3,Duplex);function afterTransform(et,_e){var tt=this._transformState;tt.transforming=!1;var rt=tt.writecb;if(rt===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);tt.writechunk=null,tt.writecb=null,_e!=null&&this.push(_e),rt(et);var nt=this._readableState;nt.reading=!1,(nt.needReadable||nt.length<nt.highWaterMark)&&this._read(nt.highWaterMark)}function Transform$3(et){if(!(this instanceof Transform$3))return new Transform$3(et);Duplex.call(this,et),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",prefinish)}function prefinish(){var et=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(_e,tt){done(et,_e,tt)}):done(this,null,null)}Transform$3.prototype.push=function(et,_e){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,et,_e)};Transform$3.prototype._transform=function(et,_e,tt){tt(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$3.prototype._write=function(et,_e,tt){var rt=this._transformState;if(rt.writecb=tt,rt.writechunk=et,rt.writeencoding=_e,!rt.transforming){var nt=this._readableState;(rt.needTransform||nt.needReadable||nt.length<nt.highWaterMark)&&this._read(nt.highWaterMark)}};Transform$3.prototype._read=function(et){var _e=this._transformState;_e.writechunk!==null&&!_e.transforming?(_e.transforming=!0,this._transform(_e.writechunk,_e.writeencoding,_e.afterTransform)):_e.needTransform=!0};Transform$3.prototype._destroy=function(et,_e){Duplex.prototype._destroy.call(this,et,function(tt){_e(tt)})};function done(et,_e,tt){if(_e)return et.emit("error",_e);if(tt!=null&&et.push(tt),et._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(et._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return et.push(null)}var _stream_passthrough=PassThrough,Transform$2=_stream_transform;inherits_browser$1.exports(PassThrough,Transform$2);function PassThrough(et){if(!(this instanceof PassThrough))return new PassThrough(et);Transform$2.call(this,et)}PassThrough.prototype._transform=function(et,_e,tt){tt(null,et)};var eos;function once(et){var _e=!1;return function(){_e||(_e=!0,et.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop$2(et){if(et)throw et}function isRequest(et){return et.setHeader&&typeof et.abort=="function"}function destroyer(et,_e,tt,rt){rt=once(rt);var nt=!1;et.on("close",function(){nt=!0}),eos===void 0&&(eos=endOfStream),eos(et,{readable:_e,writable:tt},function(at){if(at)return rt(at);nt=!0,rt()});var it=!1;return function(at){if(!nt&&!it){if(it=!0,isRequest(et))return et.abort();if(typeof et.destroy=="function")return et.destroy();rt(at||new ERR_STREAM_DESTROYED("pipe"))}}}function call(et){et()}function pipe(et,_e){return et.pipe(_e)}function popCallback(et){return!et.length||typeof et[et.length-1]!="function"?noop$2:et.pop()}function pipeline(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];var rt=popCallback(_e);if(Array.isArray(_e[0])&&(_e=_e[0]),_e.length<2)throw new ERR_MISSING_ARGS("streams");var nt,it=_e.map(function(at,ot){var ct=ot<_e.length-1,ut=ot>0;return destroyer(at,ct,ut,function(ft){nt||(nt=ft),ft&&it.forEach(call),!ct&&(it.forEach(call),rt(nt))})});return _e.reduce(pipe)}var pipeline_1=pipeline;(function(et,_e){_e=et.exports=require_stream_readable(),_e.Stream=_e,_e.Readable=_e,_e.Writable=require_stream_writable(),_e.Duplex=require_stream_duplex(),_e.Transform=_stream_transform,_e.PassThrough=_stream_passthrough,_e.finished=endOfStream,_e.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);const{Transform:Transform$1}=readableBrowser.exports;var keccak$2=et=>class mn extends Transform$1{constructor(tt,rt,nt,it,at){super(at),this._rate=tt,this._capacity=rt,this._delimitedSuffix=nt,this._hashBitLength=it,this._options=at,this._state=new et,this._state.initialize(tt,rt),this._finalized=!1}_transform(tt,rt,nt){let it=null;try{this.update(tt,rt)}catch(at){it=at}nt(it)}_flush(tt){let rt=null;try{this.push(this.digest())}catch(nt){rt=nt}tt(rt)}update(tt,rt){if(!Buffer.isBuffer(tt)&&typeof tt!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(tt)||(tt=Buffer.from(tt,rt)),this._state.absorb(tt),this}digest(tt){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let rt=this._state.squeeze(this._hashBitLength/8);return tt!==void 0&&(rt=rt.toString(tt)),this._resetState(),rt}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const tt=new mn(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(tt._state),tt._finalized=this._finalized,tt}};const{Transform}=readableBrowser.exports;var shake=et=>class yn extends Transform{constructor(tt,rt,nt,it){super(it),this._rate=tt,this._capacity=rt,this._delimitedSuffix=nt,this._options=it,this._state=new et,this._state.initialize(tt,rt),this._finalized=!1}_transform(tt,rt,nt){let it=null;try{this.update(tt,rt)}catch(at){it=at}nt(it)}_flush(){}_read(tt){this.push(this.squeeze(tt))}update(tt,rt){if(!Buffer.isBuffer(tt)&&typeof tt!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(tt)||(tt=Buffer.from(tt,rt)),this._state.absorb(tt),this}squeeze(tt,rt){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let nt=this._state.squeeze(tt);return rt!==void 0&&(nt=nt.toString(rt)),nt}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const tt=new yn(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(tt._state),tt._finalized=this._finalized,tt}};const createKeccak=keccak$2,createShake=shake;var api=function(et){const _e=createKeccak(et),tt=createShake(et);return function(rt,nt){switch(typeof rt=="string"?rt.toLowerCase():rt){case"keccak224":return new _e(1152,448,null,224,nt);case"keccak256":return new _e(1088,512,null,256,nt);case"keccak384":return new _e(832,768,null,384,nt);case"keccak512":return new _e(576,1024,null,512,nt);case"sha3-224":return new _e(1152,448,6,224,nt);case"sha3-256":return new _e(1088,512,6,256,nt);case"sha3-384":return new _e(832,768,6,384,nt);case"sha3-512":return new _e(576,1024,6,512,nt);case"shake128":return new tt(1344,256,31,nt);case"shake256":return new tt(1088,512,31,nt);default:throw new Error("Invald algorithm: "+rt)}}},keccakStateUnroll={};const P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(et){for(let _e=0;_e<24;++_e){const tt=et[0]^et[10]^et[20]^et[30]^et[40],rt=et[1]^et[11]^et[21]^et[31]^et[41],nt=et[2]^et[12]^et[22]^et[32]^et[42],it=et[3]^et[13]^et[23]^et[33]^et[43],at=et[4]^et[14]^et[24]^et[34]^et[44],ot=et[5]^et[15]^et[25]^et[35]^et[45],ct=et[6]^et[16]^et[26]^et[36]^et[46],ut=et[7]^et[17]^et[27]^et[37]^et[47],ft=et[8]^et[18]^et[28]^et[38]^et[48],yt=et[9]^et[19]^et[29]^et[39]^et[49];let bt=ft^(nt<<1|it>>>31),Et=yt^(it<<1|nt>>>31);const Ct=et[0]^bt,At=et[1]^Et,St=et[10]^bt,Tt=et[11]^Et,$t=et[20]^bt,kt=et[21]^Et,Pt=et[30]^bt,Ot=et[31]^Et,Ht=et[40]^bt,qt=et[41]^Et;bt=tt^(at<<1|ot>>>31),Et=rt^(ot<<1|at>>>31);const Zt=et[2]^bt,tr=et[3]^Et,Dt=et[12]^bt,Rt=et[13]^Et,Nt=et[22]^bt,ht=et[23]^Et,st=et[32]^bt,dt=et[33]^Et,mt=et[42]^bt,_t=et[43]^Et;bt=nt^(ct<<1|ut>>>31),Et=it^(ut<<1|ct>>>31);const xt=et[4]^bt,vt=et[5]^Et,Mt=et[14]^bt,gt=et[15]^Et,lt=et[24]^bt,wt=et[25]^Et,jt=et[34]^bt,It=et[35]^Et,Wt=et[44]^bt,Qt=et[45]^Et;bt=at^(ft<<1|yt>>>31),Et=ot^(yt<<1|ft>>>31);const Gt=et[6]^bt,er=et[7]^Et,hr=et[16]^bt,Vt=et[17]^Et,Kt=et[26]^bt,lr=et[27]^Et,ir=et[36]^bt,ur=et[37]^Et,Xt=et[46]^bt,Ft=et[47]^Et;bt=ct^(tt<<1|rt>>>31),Et=ut^(rt<<1|tt>>>31);const Ut=et[8]^bt,Yt=et[9]^Et,rr=et[18]^bt,ar=et[19]^Et,br=et[28]^bt,dr=et[29]^Et,pr=et[38]^bt,Lr=et[39]^Et,mr=et[48]^bt,zt=et[49]^Et,Lt=Ct,Bt=At,Jt=Tt<<4|St>>>28,cr=St<<4|Tt>>>28,nr=$t<<3|kt>>>29,sr=kt<<3|$t>>>29,Fr=Ot<<9|Pt>>>23,vr=Pt<<9|Ot>>>23,gr=Ht<<18|qt>>>14,Dr=qt<<18|Ht>>>14,yr=Zt<<1|tr>>>31,Sr=tr<<1|Zt>>>31,Vr=Rt<<12|Dt>>>20,Tr=Dt<<12|Rt>>>20,wr=Nt<<10|ht>>>22,Zr=ht<<10|Nt>>>22,Cr=dt<<13|st>>>19,Ar=st<<13|dt>>>19,Kr=mt<<2|_t>>>30,Mr=_t<<2|mt>>>30,$r=vt<<30|xt>>>2,Gr=xt<<30|vt>>>2,Rr=Mt<<6|gt>>>26,_r=gt<<6|Mt>>>26,Ur=wt<<11|lt>>>21,xr=lt<<11|wt>>>21,Er=jt<<15|It>>>17,Qr=It<<15|jt>>>17,kr=Qt<<29|Wt>>>3,Ir=Wt<<29|Qt>>>3,Yr=Gt<<28|er>>>4,Pr=er<<28|Gt>>>4,Nr=Vt<<23|hr>>>9,Jr=hr<<23|Vt>>>9,Or=Kt<<25|lr>>>7,Br=lr<<25|Kt>>>7,jr=ir<<21|ur>>>11,Wr=ur<<21|ir>>>11,Hr=Ft<<24|Xt>>>8,zr=Xt<<24|Ft>>>8,qr=Ut<<27|Yt>>>5,Xr=Yt<<27|Ut>>>5,tn=rr<<20|ar>>>12,rn=ar<<20|rr>>>12,nn=dr<<7|br>>>25,an=br<<7|dr>>>25,on=pr<<8|Lr>>>24,sn=Lr<<8|pr>>>24,cn=mr<<14|zt>>>18,ln=zt<<14|mr>>>18;et[0]=Lt^~Vr&Ur,et[1]=Bt^~Tr&xr,et[10]=Yr^~tn&nr,et[11]=Pr^~rn&sr,et[20]=yr^~Rr&Or,et[21]=Sr^~_r&Br,et[30]=qr^~Jt&wr,et[31]=Xr^~cr&Zr,et[40]=$r^~Nr&nn,et[41]=Gr^~Jr&an,et[2]=Vr^~Ur&jr,et[3]=Tr^~xr&Wr,et[12]=tn^~nr&Cr,et[13]=rn^~sr&Ar,et[22]=Rr^~Or&on,et[23]=_r^~Br&sn,et[32]=Jt^~wr&Er,et[33]=cr^~Zr&Qr,et[42]=Nr^~nn&Fr,et[43]=Jr^~an&vr,et[4]=Ur^~jr&cn,et[5]=xr^~Wr&ln,et[14]=nr^~Cr&kr,et[15]=sr^~Ar&Ir,et[24]=Or^~on&gr,et[25]=Br^~sn&Dr,et[34]=wr^~Er&Hr,et[35]=Zr^~Qr&zr,et[44]=nn^~Fr&Kr,et[45]=an^~vr&Mr,et[6]=jr^~cn&Lt,et[7]=Wr^~ln&Bt,et[16]=Cr^~kr&Yr,et[17]=Ar^~Ir&Pr,et[26]=on^~gr&yr,et[27]=sn^~Dr&Sr,et[36]=Er^~Hr&qr,et[37]=Qr^~zr&Xr,et[46]=Fr^~Kr&$r,et[47]=vr^~Mr&Gr,et[8]=cn^~Lt&Vr,et[9]=ln^~Bt&Tr,et[18]=kr^~Yr&tn,et[19]=Ir^~Pr&rn,et[28]=gr^~yr&Rr,et[29]=Dr^~Sr&_r,et[38]=Hr^~qr&Jt,et[39]=zr^~Xr&cr,et[48]=Kr^~$r&Nr,et[49]=Mr^~Gr&Jr,et[0]^=P1600_ROUND_CONSTANTS[_e*2],et[1]^=P1600_ROUND_CONSTANTS[_e*2+1]}};const keccakState=keccakStateUnroll;function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(et,_e){for(let tt=0;tt<50;++tt)this.state[tt]=0;this.blockSize=et/8,this.count=0,this.squeezing=!1};Keccak.prototype.absorb=function(et){for(let _e=0;_e<et.length;++_e)this.state[~~(this.count/4)]^=et[_e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)};Keccak.prototype.absorbLastFewBits=function(et){this.state[~~(this.count/4)]^=et<<8*(this.count%4),(et&128)!==0&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),keccakState.p1600(this.state),this.count=0,this.squeezing=!0};Keccak.prototype.squeeze=function(et){this.squeezing||this.absorbLastFewBits(1);const _e=Buffer.alloc(et);for(let tt=0;tt<et;++tt)_e[tt]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return _e};Keccak.prototype.copy=function(et){for(let _e=0;_e<50;++_e)et.state[_e]=this.state[_e];et.blockSize=this.blockSize,et.count=this.count,et.squeezing=this.squeezing};var keccak$1=Keccak,js=api(keccak$1);const createKeccakHash=js,BN$2=bn$1.exports;function zeros(et){return Buffer.allocUnsafe(et).fill(0)}function setLength(et,_e,tt){const rt=zeros(_e);return et=toBuffer(et),tt?et.length<_e?(et.copy(rt),rt):et.slice(0,_e):et.length<_e?(et.copy(rt,_e-et.length),rt):et.slice(-_e)}function setLengthRight(et,_e){return setLength(et,_e,!0)}function toBuffer(et){if(!Buffer.isBuffer(et))if(Array.isArray(et))et=Buffer.from(et);else if(typeof et=="string")isHexString$2(et)?et=Buffer.from(padToEven(stripHexPrefix(et)),"hex"):et=Buffer.from(et);else if(typeof et=="number")et=intToBuffer(et);else if(et==null)et=Buffer.allocUnsafe(0);else if(BN$2.isBN(et))et=et.toArrayLike(Buffer);else if(et.toArray)et=Buffer.from(et.toArray());else throw new Error("invalid type");return et}function bufferToHex$1(et){return et=toBuffer(et),"0x"+et.toString("hex")}function keccak(et,_e){return et=toBuffer(et),_e||(_e=256),createKeccakHash("keccak"+_e).update(et).digest()}function padToEven(et){return et.length%2?"0"+et:et}function isHexString$2(et){return typeof et=="string"&&et.match(/^0x[0-9A-Fa-f]*$/)}function stripHexPrefix(et){return typeof et=="string"&&et.startsWith("0x")?et.slice(2):et}var util$4={zeros,setLength,setLengthRight,isHexString:isHexString$2,stripHexPrefix,toBuffer,bufferToHex:bufferToHex$1,keccak};const util$3=util$4,BN$1=bn$1.exports;function elementaryName(et){return et.startsWith("int[")?"int256"+et.slice(3):et==="int"?"int256":et.startsWith("uint[")?"uint256"+et.slice(4):et==="uint"?"uint256":et.startsWith("fixed[")?"fixed128x128"+et.slice(5):et==="fixed"?"fixed128x128":et.startsWith("ufixed[")?"ufixed128x128"+et.slice(6):et==="ufixed"?"ufixed128x128":et}function parseTypeN(et){return parseInt(/^\D+(\d+)$/.exec(et)[1],10)}function parseTypeNxM(et){var _e=/^\D+(\d+)x(\d+)$/.exec(et);return[parseInt(_e[1],10),parseInt(_e[2],10)]}function parseTypeArray(et){var _e=et.match(/(.*)\[(.*?)\]$/);return _e?_e[2]===""?"dynamic":parseInt(_e[2],10):null}function parseNumber(et){var _e=typeof et;if(_e==="string")return util$3.isHexString(et)?new BN$1(util$3.stripHexPrefix(et),16):new BN$1(et,10);if(_e==="number")return new BN$1(et);if(et.toArray)return et;throw new Error("Argument is not a number")}function encodeSingle(et,_e){var tt,rt,nt,it;if(et==="address")return encodeSingle("uint160",parseNumber(_e));if(et==="bool")return encodeSingle("uint8",_e?1:0);if(et==="string")return encodeSingle("bytes",new Buffer(_e,"utf8"));if(isArray$4(et)){if(typeof _e.length>"u")throw new Error("Not an array?");if(tt=parseTypeArray(et),tt!=="dynamic"&&tt!==0&&_e.length>tt)throw new Error("Elements exceed array size: "+tt);nt=[],et=et.slice(0,et.lastIndexOf("[")),typeof _e=="string"&&(_e=JSON.parse(_e));for(it in _e)nt.push(encodeSingle(et,_e[it]));if(tt==="dynamic"){var at=encodeSingle("uint256",_e.length);nt.unshift(at)}return Buffer.concat(nt)}else{if(et==="bytes")return _e=new Buffer(_e),nt=Buffer.concat([encodeSingle("uint256",_e.length),_e]),_e.length%32!==0&&(nt=Buffer.concat([nt,util$3.zeros(32-_e.length%32)])),nt;if(et.startsWith("bytes")){if(tt=parseTypeN(et),tt<1||tt>32)throw new Error("Invalid bytes<N> width: "+tt);return util$3.setLengthRight(_e,32)}else if(et.startsWith("uint")){if(tt=parseTypeN(et),tt%8||tt<8||tt>256)throw new Error("Invalid uint<N> width: "+tt);if(rt=parseNumber(_e),rt.bitLength()>tt)throw new Error("Supplied uint exceeds width: "+tt+" vs "+rt.bitLength());if(rt<0)throw new Error("Supplied uint is negative");return rt.toArrayLike(Buffer,"be",32)}else if(et.startsWith("int")){if(tt=parseTypeN(et),tt%8||tt<8||tt>256)throw new Error("Invalid int<N> width: "+tt);if(rt=parseNumber(_e),rt.bitLength()>tt)throw new Error("Supplied int exceeds width: "+tt+" vs "+rt.bitLength());return rt.toTwos(256).toArrayLike(Buffer,"be",32)}else if(et.startsWith("ufixed")){if(tt=parseTypeNxM(et),rt=parseNumber(_e),rt<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",rt.mul(new BN$1(2).pow(new BN$1(tt[1]))))}else if(et.startsWith("fixed"))return tt=parseTypeNxM(et),encodeSingle("int256",parseNumber(_e).mul(new BN$1(2).pow(new BN$1(tt[1]))))}throw new Error("Unsupported or invalid type: "+et)}function isDynamic(et){return et==="string"||et==="bytes"||parseTypeArray(et)==="dynamic"}function isArray$4(et){return et.lastIndexOf("]")===et.length-1}function rawEncode(et,_e){var tt=[],rt=[],nt=32*et.length;for(var it in et){var at=elementaryName(et[it]),ot=_e[it],ct=encodeSingle(at,ot);isDynamic(at)?(tt.push(encodeSingle("uint256",nt)),rt.push(ct),nt+=ct.length):tt.push(ct)}return Buffer.concat(tt.concat(rt))}function solidityPack(et,_e){if(et.length!==_e.length)throw new Error("Number of types are not matching the values");for(var tt,rt,nt=[],it=0;it<et.length;it++){var at=elementaryName(et[it]),ot=_e[it];if(at==="bytes")nt.push(ot);else if(at==="string")nt.push(new Buffer(ot,"utf8"));else if(at==="bool")nt.push(new Buffer(ot?"01":"00","hex"));else if(at==="address")nt.push(util$3.setLength(ot,20));else if(at.startsWith("bytes")){if(tt=parseTypeN(at),tt<1||tt>32)throw new Error("Invalid bytes<N> width: "+tt);nt.push(util$3.setLengthRight(ot,tt))}else if(at.startsWith("uint")){if(tt=parseTypeN(at),tt%8||tt<8||tt>256)throw new Error("Invalid uint<N> width: "+tt);if(rt=parseNumber(ot),rt.bitLength()>tt)throw new Error("Supplied uint exceeds width: "+tt+" vs "+rt.bitLength());nt.push(rt.toArrayLike(Buffer,"be",tt/8))}else if(at.startsWith("int")){if(tt=parseTypeN(at),tt%8||tt<8||tt>256)throw new Error("Invalid int<N> width: "+tt);if(rt=parseNumber(ot),rt.bitLength()>tt)throw new Error("Supplied int exceeds width: "+tt+" vs "+rt.bitLength());nt.push(rt.toTwos(tt).toArrayLike(Buffer,"be",tt/8))}else throw new Error("Unsupported or invalid type: "+at)}return Buffer.concat(nt)}function soliditySHA3(et,_e){return util$3.keccak(solidityPack(et,_e))}var abi$1={rawEncode,solidityPack,soliditySHA3};const util$2=util$4,abi=abi$1,TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},TypedDataUtils={encodeData(et,_e,tt,rt=!0){const nt=["bytes32"],it=[this.hashType(et,tt)];if(rt){const at=(ot,ct,ut)=>{if(tt[ct]!==void 0)return["bytes32",ut==null?"0x0000000000000000000000000000000000000000000000000000000000000000":util$2.keccak(this.encodeData(ct,ut,tt,rt))];if(ut===void 0)throw new Error(`missing value for field ${ot} of type ${ct}`);if(ct==="bytes")return["bytes32",util$2.keccak(ut)];if(ct==="string")return typeof ut=="string"&&(ut=Buffer.from(ut,"utf8")),["bytes32",util$2.keccak(ut)];if(ct.lastIndexOf("]")===ct.length-1){const ft=ct.slice(0,ct.lastIndexOf("[")),yt=ut.map(bt=>at(ot,ft,bt));return["bytes32",util$2.keccak(abi.rawEncode(yt.map(([bt])=>bt),yt.map(([,bt])=>bt)))]}return[ct,ut]};for(const ot of tt[et]){const[ct,ut]=at(ot.name,ot.type,_e[ot.name]);nt.push(ct),it.push(ut)}}else for(const at of tt[et]){let ot=_e[at.name];if(ot!==void 0)if(at.type==="bytes")nt.push("bytes32"),ot=util$2.keccak(ot),it.push(ot);else if(at.type==="string")nt.push("bytes32"),typeof ot=="string"&&(ot=Buffer.from(ot,"utf8")),ot=util$2.keccak(ot),it.push(ot);else if(tt[at.type]!==void 0)nt.push("bytes32"),ot=util$2.keccak(this.encodeData(at.type,ot,tt,rt)),it.push(ot);else{if(at.type.lastIndexOf("]")===at.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");nt.push(at.type),it.push(ot)}}return abi.rawEncode(nt,it)},encodeType(et,_e){let tt="",rt=this.findTypeDependencies(et,_e).filter(nt=>nt!==et);rt=[et].concat(rt.sort());for(const nt of rt){if(!_e[nt])throw new Error("No type definition specified: "+nt);tt+=nt+"("+_e[nt].map(({name:at,type:ot})=>ot+" "+at).join(",")+")"}return tt},findTypeDependencies(et,_e,tt=[]){if(et=et.match(/^\w*/)[0],tt.includes(et)||_e[et]===void 0)return tt;tt.push(et);for(const rt of _e[et])for(const nt of this.findTypeDependencies(rt.type,_e,tt))!tt.includes(nt)&&tt.push(nt);return tt},hashStruct(et,_e,tt,rt=!0){return util$2.keccak(this.encodeData(et,_e,tt,rt))},hashType(et,_e){return util$2.keccak(this.encodeType(et,_e))},sanitizeData(et){const _e={};for(const tt in TYPED_MESSAGE_SCHEMA.properties)et[tt]&&(_e[tt]=et[tt]);return _e.types&&(_e.types=Object.assign({EIP712Domain:[]},_e.types)),_e},hash(et,_e=!0){const tt=this.sanitizeData(et),rt=[Buffer.from("1901","hex")];return rt.push(this.hashStruct("EIP712Domain",tt.domain,tt.types,_e)),tt.primaryType!=="EIP712Domain"&&rt.push(this.hashStruct(tt.primaryType,tt.message,tt.types,_e)),util$2.keccak(Buffer.concat(rt))}};var ethEip712Util={TYPED_MESSAGE_SCHEMA,TypedDataUtils,hashForSignTypedDataLegacy:function(et){return typedSignatureHashLegacy(et.data)},hashForSignTypedData_v3:function(et){return TypedDataUtils.hash(et.data,!1)},hashForSignTypedData_v4:function(et){return TypedDataUtils.hash(et.data)}};function typedSignatureHashLegacy(et){const _e=new Error("Expect argument to be non-empty array");if(typeof et!="object"||!et.length)throw _e;const tt=et.map(function(it){return it.type==="bytes"?util$2.toBuffer(it.value):it.value}),rt=et.map(function(it){return it.type}),nt=et.map(function(it){if(!it.name)throw _e;return it.type+" "+it.name});return abi.soliditySHA3(["bytes32","bytes32"],[abi.soliditySHA3(new Array(et.length).fill("string"),nt),abi.soliditySHA3(rt,tt)])}var FilterPolyfill$1={};Object.defineProperty(FilterPolyfill$1,"__esModule",{value:!0});FilterPolyfill$1.filterFromParam=FilterPolyfill$1.FilterPolyfill=void 0;const types_1$1=types$2,util_1$6=util$5,TIMEOUT=5*60*1e3,JSONRPC_TEMPLATE={jsonrpc:"2.0",id:0};class FilterPolyfill{constructor(_e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,types_1$1.IntNumber)(1),this.provider=_e}async newFilter(_e){const tt=filterFromParam(_e),rt=this.makeFilterId(),nt=await this.setInitialCursorPosition(rt,tt.fromBlock);return console.log(`Installing new log filter(${rt}):`,tt,"initial cursor position:",nt),this.logFilters.set(rt,tt),this.setFilterTimeout(rt),(0,util_1$6.hexStringFromIntNumber)(rt)}async newBlockFilter(){const _e=this.makeFilterId(),tt=await this.setInitialCursorPosition(_e,"latest");return console.log(`Installing new block filter (${_e}) with initial cursor position:`,tt),this.blockFilters.add(_e),this.setFilterTimeout(_e),(0,util_1$6.hexStringFromIntNumber)(_e)}async newPendingTransactionFilter(){const _e=this.makeFilterId(),tt=await this.setInitialCursorPosition(_e,"latest");return console.log(`Installing new block filter (${_e}) with initial cursor position:`,tt),this.pendingTransactionFilters.add(_e),this.setFilterTimeout(_e),(0,util_1$6.hexStringFromIntNumber)(_e)}uninstallFilter(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e);return console.log(`Uninstalling filter (${tt})`),this.deleteFilter(tt),!0}getFilterChanges(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e);return this.timeouts.has(tt)&&this.setFilterTimeout(tt),this.logFilters.has(tt)?this.getLogFilterChanges(tt):this.blockFilters.has(tt)?this.getBlockFilterChanges(tt):this.pendingTransactionFilters.has(tt)?this.getPendingTransactionFilterChanges(tt):Promise.resolve(filterNotFoundError())}async getFilterLogs(_e){const tt=(0,util_1$6.intNumberFromHexString)(_e),rt=this.logFilters.get(tt);return rt?this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(rt)]})):filterNotFoundError()}makeFilterId(){return(0,types_1$1.IntNumber)(++this.nextFilterId)}sendAsyncPromise(_e){return new Promise((tt,rt)=>{this.provider.sendAsync(_e,(nt,it)=>{if(nt)return rt(nt);if(Array.isArray(it)||it==null)return rt(new Error(`unexpected response received: ${JSON.stringify(it)}`));tt(it)})})}deleteFilter(_e){console.log(`Deleting filter (${_e})`),this.logFilters.delete(_e),this.blockFilters.delete(_e),this.pendingTransactionFilters.delete(_e),this.cursors.delete(_e),this.timeouts.delete(_e)}async getLogFilterChanges(_e){const tt=this.logFilters.get(_e),rt=this.cursors.get(_e);if(!rt||!tt)return filterNotFoundError();const nt=await this.getCurrentBlockHeight(),it=tt.toBlock==="latest"?nt:tt.toBlock;if(rt>nt||rt>tt.toBlock)return emptyResult();console.log(`Fetching logs from ${rt} to ${it} for filter ${_e}`);const at=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getLogs",params:[paramFromFilter(Object.assign(Object.assign({},tt),{fromBlock:rt,toBlock:it}))]}));if(Array.isArray(at.result)){const ot=at.result.map(ut=>(0,util_1$6.intNumberFromHexString)(ut.blockNumber||"0x0")),ct=Math.max(...ot);if(ct&&ct>rt){const ut=(0,types_1$1.IntNumber)(ct+1);console.log(`Moving cursor position for filter (${_e}) from ${rt} to ${ut}`),this.cursors.set(_e,ut)}}return at}async getBlockFilterChanges(_e){const tt=this.cursors.get(_e);if(!tt)return filterNotFoundError();const rt=await this.getCurrentBlockHeight();if(tt>rt)return emptyResult();console.log(`Fetching blocks from ${tt} to ${rt} for filter (${_e})`);const nt=(await Promise.all((0,util_1$6.range)(tt,rt+1).map(at=>this.getBlockHashByNumber((0,types_1$1.IntNumber)(at))))).filter(at=>!!at),it=(0,types_1$1.IntNumber)(tt+nt.length);return console.log(`Moving cursor position for filter (${_e}) from ${tt} to ${it}`),this.cursors.set(_e,it),Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:nt})}async getPendingTransactionFilterChanges(_e){return Promise.resolve(emptyResult())}async setInitialCursorPosition(_e,tt){const rt=await this.getCurrentBlockHeight(),nt=typeof tt=="number"&&tt>rt?tt:rt;return this.cursors.set(_e,nt),nt}setFilterTimeout(_e){const tt=this.timeouts.get(_e);tt&&window.clearTimeout(tt);const rt=window.setTimeout(()=>{console.log(`Filter (${_e}) timed out`),this.deleteFilter(_e)},TIMEOUT);this.timeouts.set(_e,rt)}async getCurrentBlockHeight(){const{result:_e}=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_blockNumber",params:[]}));return(0,util_1$6.intNumberFromHexString)((0,util_1$6.ensureHexString)(_e))}async getBlockHashByNumber(_e){const tt=await this.sendAsyncPromise(Object.assign(Object.assign({},JSONRPC_TEMPLATE),{method:"eth_getBlockByNumber",params:[(0,util_1$6.hexStringFromIntNumber)(_e),!1]}));return tt.result&&typeof tt.result.hash=="string"?(0,util_1$6.ensureHexString)(tt.result.hash):null}}FilterPolyfill$1.FilterPolyfill=FilterPolyfill;function filterFromParam(et){return{fromBlock:intBlockHeightFromHexBlockHeight(et.fromBlock),toBlock:intBlockHeightFromHexBlockHeight(et.toBlock),addresses:et.address===void 0?null:Array.isArray(et.address)?et.address:[et.address],topics:et.topics||[]}}FilterPolyfill$1.filterFromParam=filterFromParam;function paramFromFilter(et){const _e={fromBlock:hexBlockHeightFromIntBlockHeight(et.fromBlock),toBlock:hexBlockHeightFromIntBlockHeight(et.toBlock),topics:et.topics};return et.addresses!==null&&(_e.address=et.addresses),_e}function intBlockHeightFromHexBlockHeight(et){if(et===void 0||et==="latest"||et==="pending")return"latest";if(et==="earliest")return(0,types_1$1.IntNumber)(0);if((0,util_1$6.isHexString)(et))return(0,util_1$6.intNumberFromHexString)(et);throw new Error(`Invalid block option: ${String(et)}`)}function hexBlockHeightFromIntBlockHeight(et){return et==="latest"?et:(0,util_1$6.hexStringFromIntNumber)(et)}function filterNotFoundError(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{error:{code:-32e3,message:"filter not found"}})}function emptyResult(){return Object.assign(Object.assign({},JSONRPC_TEMPLATE),{result:[]})}var JSONRPC={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.JSONRPCMethod=void 0,function(_e){_e.eth_accounts="eth_accounts",_e.eth_coinbase="eth_coinbase",_e.net_version="net_version",_e.eth_chainId="eth_chainId",_e.eth_uninstallFilter="eth_uninstallFilter",_e.eth_requestAccounts="eth_requestAccounts",_e.eth_sign="eth_sign",_e.eth_ecRecover="eth_ecRecover",_e.personal_sign="personal_sign",_e.personal_ecRecover="personal_ecRecover",_e.eth_signTransaction="eth_signTransaction",_e.eth_sendRawTransaction="eth_sendRawTransaction",_e.eth_sendTransaction="eth_sendTransaction",_e.eth_signTypedData_v1="eth_signTypedData_v1",_e.eth_signTypedData_v2="eth_signTypedData_v2",_e.eth_signTypedData_v3="eth_signTypedData_v3",_e.eth_signTypedData_v4="eth_signTypedData_v4",_e.eth_signTypedData="eth_signTypedData",_e.cbWallet_arbitrary="walletlink_arbitrary",_e.wallet_addEthereumChain="wallet_addEthereumChain",_e.wallet_switchEthereumChain="wallet_switchEthereumChain",_e.wallet_watchAsset="wallet_watchAsset",_e.eth_subscribe="eth_subscribe",_e.eth_unsubscribe="eth_unsubscribe",_e.eth_newFilter="eth_newFilter",_e.eth_newBlockFilter="eth_newBlockFilter",_e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",_e.eth_getFilterChanges="eth_getFilterChanges",_e.eth_getFilterLogs="eth_getFilterLogs"}(et.JSONRPCMethod||(et.JSONRPCMethod={}))})(JSONRPC);var SubscriptionManager$1={};const processFn$1=(et,_e)=>function(){const tt=_e.promiseModule,rt=new Array(arguments.length);for(let nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return new tt((nt,it)=>{_e.errorFirst?rt.push(function(at,ot){if(_e.multiArgs){const ct=new Array(arguments.length-1);for(let ut=1;ut<arguments.length;ut++)ct[ut-1]=arguments[ut];at?(ct.unshift(at),it(ct)):nt(ct)}else at?it(at):nt(ot)}):rt.push(function(at){if(_e.multiArgs){const ot=new Array(arguments.length-1);for(let ct=0;ct<arguments.length;ct++)ot[ct]=arguments[ct];nt(ot)}else nt(at)}),et.apply(this,rt)})};var pify$3=(et,_e)=>{_e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},_e);const tt=nt=>{const it=at=>typeof at=="string"?nt===at:at.test(nt);return _e.include?_e.include.some(it):!_e.exclude.some(it)};let rt;typeof et=="function"?rt=function(){return _e.excludeMain?et.apply(this,arguments):processFn$1(et,_e).apply(this,arguments)}:rt=Object.create(Object.getPrototypeOf(et));for(const nt in et){const it=et[nt];rt[nt]=typeof it=="function"&&tt(nt)?processFn$1(it,_e):it}return rt},immutable=extend$1,hasOwnProperty$2=Object.prototype.hasOwnProperty;function extend$1(){for(var et={},_e=0;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)hasOwnProperty$2.call(tt,rt)&&(et[rt]=tt[rt])}return et}var jsonRpcRandomId=IdIterator;function IdIterator(et){et=et||{};var _e=et.max||Number.MAX_SAFE_INTEGER,tt=typeof et.start<"u"?et.start:Math.floor(Math.random()*_e);return function(){return tt=tt%_e,tt++}}const extend=immutable,createRandomId=jsonRpcRandomId();var ethQuery=EthQuery$1;function EthQuery$1(et){const _e=this;_e.currentProvider=et}EthQuery$1.prototype.getBalance=generateFnWithDefaultBlockFor(2,"eth_getBalance");EthQuery$1.prototype.getCode=generateFnWithDefaultBlockFor(2,"eth_getCode");EthQuery$1.prototype.getTransactionCount=generateFnWithDefaultBlockFor(2,"eth_getTransactionCount");EthQuery$1.prototype.getStorageAt=generateFnWithDefaultBlockFor(3,"eth_getStorageAt");EthQuery$1.prototype.call=generateFnWithDefaultBlockFor(2,"eth_call");EthQuery$1.prototype.protocolVersion=generateFnFor("eth_protocolVersion");EthQuery$1.prototype.syncing=generateFnFor("eth_syncing");EthQuery$1.prototype.coinbase=generateFnFor("eth_coinbase");EthQuery$1.prototype.mining=generateFnFor("eth_mining");EthQuery$1.prototype.hashrate=generateFnFor("eth_hashrate");EthQuery$1.prototype.gasPrice=generateFnFor("eth_gasPrice");EthQuery$1.prototype.accounts=generateFnFor("eth_accounts");EthQuery$1.prototype.blockNumber=generateFnFor("eth_blockNumber");EthQuery$1.prototype.getBlockTransactionCountByHash=generateFnFor("eth_getBlockTransactionCountByHash");EthQuery$1.prototype.getBlockTransactionCountByNumber=generateFnFor("eth_getBlockTransactionCountByNumber");EthQuery$1.prototype.getUncleCountByBlockHash=generateFnFor("eth_getUncleCountByBlockHash");EthQuery$1.prototype.getUncleCountByBlockNumber=generateFnFor("eth_getUncleCountByBlockNumber");EthQuery$1.prototype.sign=generateFnFor("eth_sign");EthQuery$1.prototype.sendTransaction=generateFnFor("eth_sendTransaction");EthQuery$1.prototype.sendRawTransaction=generateFnFor("eth_sendRawTransaction");EthQuery$1.prototype.estimateGas=generateFnFor("eth_estimateGas");EthQuery$1.prototype.getBlockByHash=generateFnFor("eth_getBlockByHash");EthQuery$1.prototype.getBlockByNumber=generateFnFor("eth_getBlockByNumber");EthQuery$1.prototype.getTransactionByHash=generateFnFor("eth_getTransactionByHash");EthQuery$1.prototype.getTransactionByBlockHashAndIndex=generateFnFor("eth_getTransactionByBlockHashAndIndex");EthQuery$1.prototype.getTransactionByBlockNumberAndIndex=generateFnFor("eth_getTransactionByBlockNumberAndIndex");EthQuery$1.prototype.getTransactionReceipt=generateFnFor("eth_getTransactionReceipt");EthQuery$1.prototype.getUncleByBlockHashAndIndex=generateFnFor("eth_getUncleByBlockHashAndIndex");EthQuery$1.prototype.getUncleByBlockNumberAndIndex=generateFnFor("eth_getUncleByBlockNumberAndIndex");EthQuery$1.prototype.getCompilers=generateFnFor("eth_getCompilers");EthQuery$1.prototype.compileLLL=generateFnFor("eth_compileLLL");EthQuery$1.prototype.compileSolidity=generateFnFor("eth_compileSolidity");EthQuery$1.prototype.compileSerpent=generateFnFor("eth_compileSerpent");EthQuery$1.prototype.newFilter=generateFnFor("eth_newFilter");EthQuery$1.prototype.newBlockFilter=generateFnFor("eth_newBlockFilter");EthQuery$1.prototype.newPendingTransactionFilter=generateFnFor("eth_newPendingTransactionFilter");EthQuery$1.prototype.uninstallFilter=generateFnFor("eth_uninstallFilter");EthQuery$1.prototype.getFilterChanges=generateFnFor("eth_getFilterChanges");EthQuery$1.prototype.getFilterLogs=generateFnFor("eth_getFilterLogs");EthQuery$1.prototype.getLogs=generateFnFor("eth_getLogs");EthQuery$1.prototype.getWork=generateFnFor("eth_getWork");EthQuery$1.prototype.submitWork=generateFnFor("eth_submitWork");EthQuery$1.prototype.submitHashrate=generateFnFor("eth_submitHashrate");EthQuery$1.prototype.sendAsync=function(et,_e){this.currentProvider.sendAsync(createPayload(et),function(rt,nt){if(!rt&&nt.error&&(rt=new Error("EthQuery - RPC Error - "+nt.error.message)),rt)return _e(rt);_e(null,nt.result)})};function generateFnFor(et){return function(){const _e=this;var tt=[].slice.call(arguments),rt=tt.pop();_e.sendAsync({method:et,params:tt},rt)}}function generateFnWithDefaultBlockFor(et,_e){return function(){const tt=this;var rt=[].slice.call(arguments),nt=rt.pop();rt.length<et&&rt.push("latest"),tt.sendAsync({method:_e,params:rt},nt)}}function createPayload(et){return extend({id:createRandomId(),jsonrpc:"2.0",params:[]},et)}var util$1={},types$1={},hasSymbols=shams$1,shams=function et(){return hasSymbols()&&!!Symbol.toStringTag},hasToStringTag$4=shams(),callBound$2=callBound$4,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function et(_e){return hasToStringTag$4&&_e&&typeof _e=="object"&&Symbol.toStringTag in _e?!1:$toString$2(_e)==="[object Arguments]"},isLegacyArguments=function et(_e){return isStandardArguments(_e)?!0:_e!==null&&typeof _e=="object"&&typeof _e.length=="number"&&_e.length>=0&&$toString$2(_e)!=="[object Array]"&&$toString$2(_e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function et(_e){if(typeof _e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(_e)))return!0;if(!hasToStringTag$3){var tt=toStr$2.call(_e);return tt==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var rt=getGeneratorFunc();GeneratorFunction=rt?getProto(rt):!1}return getProto(_e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(et){et!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function et(_e){try{var tt=fnToStr.call(_e);return constructorRegex.test(tt)}catch{return!1}},tryFunctionObject=function et(_e){try{return isES6ClassFn(_e)?!1:(fnToStr.call(_e),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function et(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(_e){if((isIE68||!_e)&&(typeof _e>"u"||typeof _e=="object"))try{var tt=toStr$1.call(_e);return(tt===ddaClass||tt===ddaClass2||tt===ddaClass3||tt===objectClass)&&_e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function et(_e){if(isDDA(_e))return!0;if(!_e||typeof _e!="function"&&typeof _e!="object")return!1;try{reflectApply(_e,null,badArrayLike)}catch(tt){if(tt!==isCallableMarker)return!1}return!isES6ClassFn(_e)&&tryFunctionObject(_e)}:function et(_e){if(isDDA(_e))return!0;if(!_e||typeof _e!="function"&&typeof _e!="object")return!1;if(hasToStringTag$2)return tryFunctionObject(_e);if(isES6ClassFn(_e))return!1;var tt=toStr$1.call(_e);return tt!==fnClass&&tt!==genClass&&!/^\[object HTML/.test(tt)?!1:tryFunctionObject(_e)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function et(_e,tt,rt){for(var nt=0,it=_e.length;nt<it;nt++)hasOwnProperty$1.call(_e,nt)&&(rt==null?tt(_e[nt],nt,_e):tt.call(rt,_e[nt],nt,_e))},forEachString=function et(_e,tt,rt){for(var nt=0,it=_e.length;nt<it;nt++)rt==null?tt(_e.charAt(nt),nt,_e):tt.call(rt,_e.charAt(nt),nt,_e)},forEachObject=function et(_e,tt,rt){for(var nt in _e)hasOwnProperty$1.call(_e,nt)&&(rt==null?tt(_e[nt],nt,_e):tt.call(rt,_e[nt],nt,_e))},forEach$2=function et(_e,tt,rt){if(!isCallable(tt))throw new TypeError("iterator must be a function");var nt;arguments.length>=3&&(nt=rt),toStr.call(_e)==="[object Array]"?forEachArray(_e,tt,nt):typeof _e=="string"?forEachString(_e,tt,nt):forEachObject(_e,tt,nt)},forEach_1=forEach$2,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$8=globalThis,availableTypedArrays$2=function et(){for(var _e=[],tt=0;tt<possibleNames.length;tt++)typeof g$8[possibleNames[tt]]=="function"&&(_e[_e.length]=possibleNames[tt]);return _e},GetIntrinsic=getIntrinsic,$gOPD=GetIntrinsic("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd=$gOPD,forEach$1=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$4,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),gOPD$1=gopd,g$7=globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function et(_e,tt){for(var rt=0;rt<_e.length;rt+=1)if(_e[rt]===tt)return rt;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(et){var _e=new g$7[et];if(Symbol.toStringTag in _e){var tt=getPrototypeOf$1(_e),rt=gOPD$1(tt,Symbol.toStringTag);if(!rt){var nt=getPrototypeOf$1(tt);rt=gOPD$1(nt,Symbol.toStringTag)}toStrTags$1[et]=rt.get}});var tryTypedArrays$1=function et(_e){var tt=!1;return forEach$1(toStrTags$1,function(rt,nt){if(!tt)try{tt=rt.call(_e)===nt}catch{}}),tt},isTypedArray$3=function et(_e){if(!_e||typeof _e!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in _e)){var tt=$slice$1($toString$1(_e),8,-1);return $indexOf(typedArrays$1,tt)>-1}return gOPD$1?tryTypedArrays$1(_e):!1},forEach=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$4,gOPD=gopd,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g$6=globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(et){if(typeof g$6[et]=="function"){var _e=new g$6[et];if(Symbol.toStringTag in _e){var tt=getPrototypeOf(_e),rt=gOPD(tt,Symbol.toStringTag);if(!rt){var nt=getPrototypeOf(tt);rt=gOPD(nt,Symbol.toStringTag)}toStrTags[et]=rt.get}}});var tryTypedArrays=function et(_e){var tt=!1;return forEach(toStrTags,function(rt,nt){if(!tt)try{var it=rt.call(_e);it===nt&&(tt=it)}catch{}}),tt},isTypedArray$2=isTypedArray$3,whichTypedArray=function et(_e){return isTypedArray$2(_e)?!hasToStringTag||!(Symbol.toStringTag in _e)?$slice($toString(_e),8,-1):tryTypedArrays(_e):!1};(function(et){var _e=isArguments,tt=isGeneratorFunction,rt=whichTypedArray,nt=isTypedArray$3;function it(Yt){return Yt.call.bind(Yt)}var at=typeof BigInt<"u",ot=typeof Symbol<"u",ct=it(Object.prototype.toString),ut=it(Number.prototype.valueOf),ft=it(String.prototype.valueOf),yt=it(Boolean.prototype.valueOf);if(at)var bt=it(BigInt.prototype.valueOf);if(ot)var Et=it(Symbol.prototype.valueOf);function Ct(Yt,rr){if(typeof Yt!="object")return!1;try{return rr(Yt),!0}catch{return!1}}et.isArgumentsObject=_e,et.isGeneratorFunction=tt,et.isTypedArray=nt;function At(Yt){return typeof Promise<"u"&&Yt instanceof Promise||Yt!==null&&typeof Yt=="object"&&typeof Yt.then=="function"&&typeof Yt.catch=="function"}et.isPromise=At;function St(Yt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Yt):nt(Yt)||wt(Yt)}et.isArrayBufferView=St;function Tt(Yt){return rt(Yt)==="Uint8Array"}et.isUint8Array=Tt;function $t(Yt){return rt(Yt)==="Uint8ClampedArray"}et.isUint8ClampedArray=$t;function kt(Yt){return rt(Yt)==="Uint16Array"}et.isUint16Array=kt;function Pt(Yt){return rt(Yt)==="Uint32Array"}et.isUint32Array=Pt;function Ot(Yt){return rt(Yt)==="Int8Array"}et.isInt8Array=Ot;function Ht(Yt){return rt(Yt)==="Int16Array"}et.isInt16Array=Ht;function qt(Yt){return rt(Yt)==="Int32Array"}et.isInt32Array=qt;function Zt(Yt){return rt(Yt)==="Float32Array"}et.isFloat32Array=Zt;function tr(Yt){return rt(Yt)==="Float64Array"}et.isFloat64Array=tr;function Dt(Yt){return rt(Yt)==="BigInt64Array"}et.isBigInt64Array=Dt;function Rt(Yt){return rt(Yt)==="BigUint64Array"}et.isBigUint64Array=Rt;function Nt(Yt){return ct(Yt)==="[object Map]"}Nt.working=typeof Map<"u"&&Nt(new Map);function ht(Yt){return typeof Map>"u"?!1:Nt.working?Nt(Yt):Yt instanceof Map}et.isMap=ht;function st(Yt){return ct(Yt)==="[object Set]"}st.working=typeof Set<"u"&&st(new Set);function dt(Yt){return typeof Set>"u"?!1:st.working?st(Yt):Yt instanceof Set}et.isSet=dt;function mt(Yt){return ct(Yt)==="[object WeakMap]"}mt.working=typeof WeakMap<"u"&&mt(new WeakMap);function _t(Yt){return typeof WeakMap>"u"?!1:mt.working?mt(Yt):Yt instanceof WeakMap}et.isWeakMap=_t;function xt(Yt){return ct(Yt)==="[object WeakSet]"}xt.working=typeof WeakSet<"u"&&xt(new WeakSet);function vt(Yt){return xt(Yt)}et.isWeakSet=vt;function Mt(Yt){return ct(Yt)==="[object ArrayBuffer]"}Mt.working=typeof ArrayBuffer<"u"&&Mt(new ArrayBuffer);function gt(Yt){return typeof ArrayBuffer>"u"?!1:Mt.working?Mt(Yt):Yt instanceof ArrayBuffer}et.isArrayBuffer=gt;function lt(Yt){return ct(Yt)==="[object DataView]"}lt.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&lt(new DataView(new ArrayBuffer(1),0,1));function wt(Yt){return typeof DataView>"u"?!1:lt.working?lt(Yt):Yt instanceof DataView}et.isDataView=wt;var jt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function It(Yt){return ct(Yt)==="[object SharedArrayBuffer]"}function Wt(Yt){return typeof jt>"u"?!1:(typeof It.working>"u"&&(It.working=It(new jt)),It.working?It(Yt):Yt instanceof jt)}et.isSharedArrayBuffer=Wt;function Qt(Yt){return ct(Yt)==="[object AsyncFunction]"}et.isAsyncFunction=Qt;function Gt(Yt){return ct(Yt)==="[object Map Iterator]"}et.isMapIterator=Gt;function er(Yt){return ct(Yt)==="[object Set Iterator]"}et.isSetIterator=er;function hr(Yt){return ct(Yt)==="[object Generator]"}et.isGeneratorObject=hr;function Vt(Yt){return ct(Yt)==="[object WebAssembly.Module]"}et.isWebAssemblyCompiledModule=Vt;function Kt(Yt){return Ct(Yt,ut)}et.isNumberObject=Kt;function lr(Yt){return Ct(Yt,ft)}et.isStringObject=lr;function ir(Yt){return Ct(Yt,yt)}et.isBooleanObject=ir;function ur(Yt){return at&&Ct(Yt,bt)}et.isBigIntObject=ur;function Xt(Yt){return ot&&Ct(Yt,Et)}et.isSymbolObject=Xt;function Ft(Yt){return Kt(Yt)||lr(Yt)||ir(Yt)||ur(Yt)||Xt(Yt)}et.isBoxedPrimitive=Ft;function Ut(Yt){return typeof Uint8Array<"u"&&(gt(Yt)||Wt(Yt))}et.isAnyArrayBuffer=Ut,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Yt){Object.defineProperty(et,Yt,{enumerable:!1,value:function(){throw new Error(Yt+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function et(_e){return _e&&typeof _e=="object"&&typeof _e.copy=="function"&&typeof _e.fill=="function"&&typeof _e.readUInt8=="function"};(function(et){var _e=Object.getOwnPropertyDescriptors||function(wt){for(var jt=Object.keys(wt),It={},Wt=0;Wt<jt.length;Wt++)It[jt[Wt]]=Object.getOwnPropertyDescriptor(wt,jt[Wt]);return It},tt=/%[sdj%]/g;et.format=function(lt){if(!Ot(lt)){for(var wt=[],jt=0;jt<arguments.length;jt++)wt.push(at(arguments[jt]));return wt.join(" ")}for(var jt=1,It=arguments,Wt=It.length,Qt=String(lt).replace(tt,function(er){if(er==="%%")return"%";if(jt>=Wt)return er;switch(er){case"%s":return String(It[jt++]);case"%d":return Number(It[jt++]);case"%j":try{return JSON.stringify(It[jt++])}catch{return"[Circular]"}default:return er}}),Gt=It[jt];jt<Wt;Gt=It[++jt])$t(Gt)||!tr(Gt)?Qt+=" "+Gt:Qt+=" "+at(Gt);return Qt},et.deprecate=function(lt,wt){if(typeof process<"u"&&process.noDeprecation===!0)return lt;if(typeof process>"u")return function(){return et.deprecate(lt,wt).apply(this,arguments)};var jt=!1;function It(){if(!jt){if(process.throwDeprecation)throw new Error(wt);process.traceDeprecation?console.trace(wt):console.error(wt),jt=!0}return lt.apply(this,arguments)}return It};var rt={},nt=/^$/;if({}.NODE_DEBUG){var it={}.NODE_DEBUG;it=it.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),nt=new RegExp("^"+it+"$","i")}et.debuglog=function(lt){if(lt=lt.toUpperCase(),!rt[lt])if(nt.test(lt)){var wt=process.pid;rt[lt]=function(){var jt=et.format.apply(et,arguments);console.error("%s %d: %s",lt,wt,jt)}}else rt[lt]=function(){};return rt[lt]};function at(lt,wt){var jt={seen:[],stylize:ct};return arguments.length>=3&&(jt.depth=arguments[2]),arguments.length>=4&&(jt.colors=arguments[3]),Tt(wt)?jt.showHidden=wt:wt&&et._extend(jt,wt),qt(jt.showHidden)&&(jt.showHidden=!1),qt(jt.depth)&&(jt.depth=2),qt(jt.colors)&&(jt.colors=!1),qt(jt.customInspect)&&(jt.customInspect=!0),jt.colors&&(jt.stylize=ot),ft(jt,lt,jt.depth)}et.inspect=at,at.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},at.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function ot(lt,wt){var jt=at.styles[wt];return jt?"\x1B["+at.colors[jt][0]+"m"+lt+"\x1B["+at.colors[jt][1]+"m":lt}function ct(lt,wt){return lt}function ut(lt){var wt={};return lt.forEach(function(jt,It){wt[jt]=!0}),wt}function ft(lt,wt,jt){if(lt.customInspect&&wt&&Nt(wt.inspect)&&wt.inspect!==et.inspect&&!(wt.constructor&&wt.constructor.prototype===wt)){var It=wt.inspect(jt,lt);return Ot(It)||(It=ft(lt,It,jt)),It}var Wt=yt(lt,wt);if(Wt)return Wt;var Qt=Object.keys(wt),Gt=ut(Qt);if(lt.showHidden&&(Qt=Object.getOwnPropertyNames(wt)),Rt(wt)&&(Qt.indexOf("message")>=0||Qt.indexOf("description")>=0))return bt(wt);if(Qt.length===0){if(Nt(wt)){var er=wt.name?": "+wt.name:"";return lt.stylize("[Function"+er+"]","special")}if(Zt(wt))return lt.stylize(RegExp.prototype.toString.call(wt),"regexp");if(Dt(wt))return lt.stylize(Date.prototype.toString.call(wt),"date");if(Rt(wt))return bt(wt)}var hr="",Vt=!1,Kt=["{","}"];if(St(wt)&&(Vt=!0,Kt=["[","]"]),Nt(wt)){var lr=wt.name?": "+wt.name:"";hr=" [Function"+lr+"]"}if(Zt(wt)&&(hr=" "+RegExp.prototype.toString.call(wt)),Dt(wt)&&(hr=" "+Date.prototype.toUTCString.call(wt)),Rt(wt)&&(hr=" "+bt(wt)),Qt.length===0&&(!Vt||wt.length==0))return Kt[0]+hr+Kt[1];if(jt<0)return Zt(wt)?lt.stylize(RegExp.prototype.toString.call(wt),"regexp"):lt.stylize("[Object]","special");lt.seen.push(wt);var ir;return Vt?ir=Et(lt,wt,jt,Gt,Qt):ir=Qt.map(function(ur){return Ct(lt,wt,jt,Gt,ur,Vt)}),lt.seen.pop(),At(ir,hr,Kt)}function yt(lt,wt){if(qt(wt))return lt.stylize("undefined","undefined");if(Ot(wt)){var jt="'"+JSON.stringify(wt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return lt.stylize(jt,"string")}if(Pt(wt))return lt.stylize(""+wt,"number");if(Tt(wt))return lt.stylize(""+wt,"boolean");if($t(wt))return lt.stylize("null","null")}function bt(lt){return"["+Error.prototype.toString.call(lt)+"]"}function Et(lt,wt,jt,It,Wt){for(var Qt=[],Gt=0,er=wt.length;Gt<er;++Gt)xt(wt,String(Gt))?Qt.push(Ct(lt,wt,jt,It,String(Gt),!0)):Qt.push("");return Wt.forEach(function(hr){hr.match(/^\d+$/)||Qt.push(Ct(lt,wt,jt,It,hr,!0))}),Qt}function Ct(lt,wt,jt,It,Wt,Qt){var Gt,er,hr;if(hr=Object.getOwnPropertyDescriptor(wt,Wt)||{value:wt[Wt]},hr.get?hr.set?er=lt.stylize("[Getter/Setter]","special"):er=lt.stylize("[Getter]","special"):hr.set&&(er=lt.stylize("[Setter]","special")),xt(It,Wt)||(Gt="["+Wt+"]"),er||(lt.seen.indexOf(hr.value)<0?($t(jt)?er=ft(lt,hr.value,null):er=ft(lt,hr.value,jt-1),er.indexOf(`
`)>-1&&(Qt?er=er.split(`
`).map(function(Vt){return"  "+Vt}).join(`
`).slice(2):er=`
`+er.split(`
`).map(function(Vt){return"   "+Vt}).join(`
`))):er=lt.stylize("[Circular]","special")),qt(Gt)){if(Qt&&Wt.match(/^\d+$/))return er;Gt=JSON.stringify(""+Wt),Gt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Gt=Gt.slice(1,-1),Gt=lt.stylize(Gt,"name")):(Gt=Gt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Gt=lt.stylize(Gt,"string"))}return Gt+": "+er}function At(lt,wt,jt){var It=lt.reduce(function(Wt,Qt){return Qt.indexOf(`
`)>=0,Wt+Qt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return It>60?jt[0]+(wt===""?"":wt+`
 `)+" "+lt.join(`,
  `)+" "+jt[1]:jt[0]+wt+" "+lt.join(", ")+" "+jt[1]}et.types=types$1;function St(lt){return Array.isArray(lt)}et.isArray=St;function Tt(lt){return typeof lt=="boolean"}et.isBoolean=Tt;function $t(lt){return lt===null}et.isNull=$t;function kt(lt){return lt==null}et.isNullOrUndefined=kt;function Pt(lt){return typeof lt=="number"}et.isNumber=Pt;function Ot(lt){return typeof lt=="string"}et.isString=Ot;function Ht(lt){return typeof lt=="symbol"}et.isSymbol=Ht;function qt(lt){return lt===void 0}et.isUndefined=qt;function Zt(lt){return tr(lt)&&st(lt)==="[object RegExp]"}et.isRegExp=Zt,et.types.isRegExp=Zt;function tr(lt){return typeof lt=="object"&&lt!==null}et.isObject=tr;function Dt(lt){return tr(lt)&&st(lt)==="[object Date]"}et.isDate=Dt,et.types.isDate=Dt;function Rt(lt){return tr(lt)&&(st(lt)==="[object Error]"||lt instanceof Error)}et.isError=Rt,et.types.isNativeError=Rt;function Nt(lt){return typeof lt=="function"}et.isFunction=Nt;function ht(lt){return lt===null||typeof lt=="boolean"||typeof lt=="number"||typeof lt=="string"||typeof lt=="symbol"||typeof lt>"u"}et.isPrimitive=ht,et.isBuffer=isBufferBrowser;function st(lt){return Object.prototype.toString.call(lt)}function dt(lt){return lt<10?"0"+lt.toString(10):lt.toString(10)}var mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _t(){var lt=new Date,wt=[dt(lt.getHours()),dt(lt.getMinutes()),dt(lt.getSeconds())].join(":");return[lt.getDate(),mt[lt.getMonth()],wt].join(" ")}et.log=function(){console.log("%s - %s",_t(),et.format.apply(et,arguments))},et.inherits=inherits_browser$1.exports,et._extend=function(lt,wt){if(!wt||!tr(wt))return lt;for(var jt=Object.keys(wt),It=jt.length;It--;)lt[jt[It]]=wt[jt[It]];return lt};function xt(lt,wt){return Object.prototype.hasOwnProperty.call(lt,wt)}var vt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;et.promisify=function(wt){if(typeof wt!="function")throw new TypeError('The "original" argument must be of type Function');if(vt&&wt[vt]){var jt=wt[vt];if(typeof jt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(jt,vt,{value:jt,enumerable:!1,writable:!1,configurable:!0}),jt}function jt(){for(var It,Wt,Qt=new Promise(function(hr,Vt){It=hr,Wt=Vt}),Gt=[],er=0;er<arguments.length;er++)Gt.push(arguments[er]);Gt.push(function(hr,Vt){hr?Wt(hr):It(Vt)});try{wt.apply(this,Gt)}catch(hr){Wt(hr)}return Qt}return Object.setPrototypeOf(jt,Object.getPrototypeOf(wt)),vt&&Object.defineProperty(jt,vt,{value:jt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(jt,_e(wt))},et.promisify.custom=vt;function Mt(lt,wt){if(!lt){var jt=new Error("Promise was rejected with a falsy value");jt.reason=lt,lt=jt}return wt(lt)}function gt(lt){if(typeof lt!="function")throw new TypeError('The "original" argument must be of type Function');function wt(){for(var jt=[],It=0;It<arguments.length;It++)jt.push(arguments[It]);var Wt=jt.pop();if(typeof Wt!="function")throw new TypeError("The last argument must be of type Function");var Qt=this,Gt=function(){return Wt.apply(Qt,arguments)};lt.apply(this,jt).then(function(er){process.nextTick(Gt.bind(null,null,er))},function(er){process.nextTick(Mt.bind(null,er,Gt))})}return Object.setPrototypeOf(wt,Object.getPrototypeOf(lt)),Object.defineProperties(wt,_e(lt)),wt}et.callbackify=gt})(util$1);const util=util$1,EventEmitter=events.exports;var R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function et(_e,tt,rt){return Function.prototype.apply.call(_e,tt,rt)},safeEventEmitter=SafeEventEmitter$3;function SafeEventEmitter$3(){EventEmitter.call(this)}util.inherits(SafeEventEmitter$3,EventEmitter);SafeEventEmitter$3.prototype.emit=function(et){for(var _e=[],tt=1;tt<arguments.length;tt++)_e.push(arguments[tt]);var rt=et==="error",nt=this._events;if(nt!==void 0)rt=rt&&nt.error===void 0;else if(!rt)return!1;if(rt){var it;if(_e.length>0&&(it=_e[0]),it instanceof Error)throw it;var at=new Error("Unhandled error."+(it?" ("+it.message+")":""));throw at.context=it,at}var ot=nt[et];if(ot===void 0)return!1;if(typeof ot=="function")safeApply(ot,this,_e);else for(var ct=ot.length,ut=arrayClone(ot,ct),tt=0;tt<ct;++tt)safeApply(ut[tt],this,_e);return!0};function safeApply(et,_e,tt){try{ReflectApply(et,_e,tt)}catch(rt){setTimeout(()=>{throw rt})}}function arrayClone(et,_e){for(var tt=new Array(_e),rt=0;rt<_e;++rt)tt[rt]=et[rt];return tt}const SafeEventEmitter$2=safeEventEmitter,sec$1=1e3,calculateSum=(et,_e)=>et+_e,blockTrackerEvents=["sync","latest"];class BaseBlockTracker$1 extends SafeEventEmitter$2{constructor(_e={}){super(),this._blockResetDuration=_e.blockResetDuration||20*sec$1,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(tt=>this.once("latest",tt))}removeAllListeners(_e){_e?super.removeAllListeners(_e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(_e,tt){!blockTrackerEvents.includes(_e)||this._maybeStart()}_onRemoveListener(_e,tt){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return blockTrackerEvents.map(_e=>this.listenerCount(_e)).reduce(calculateSum)}_newPotentialLatest(_e){const tt=this._currentBlock;tt&&hexToInt$4(_e)<=hexToInt$4(tt)||this._setCurrentBlock(_e)}_setCurrentBlock(_e){const tt=this._currentBlock;this._currentBlock=_e,this.emit("latest",_e),this.emit("sync",{oldBlock:tt,newBlock:_e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}var base=BaseBlockTracker$1;function hexToInt$4(et){return Number.parseInt(et,16)}const pify$2=pify$3,BaseBlockTracker=base,sec=1e3;class PollingBlockTracker$1 extends BaseBlockTracker{constructor(_e={}){if(!_e.provider)throw new Error("PollingBlockTracker - no provider specified.");const tt=_e.pollingInterval||20*sec,rt=_e.retryTimeout||tt/10,nt=_e.keepEventLoopActive!==void 0?_e.keepEventLoopActive:!0,it=_e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:tt},_e)),this._provider=_e.provider,this._pollingInterval=tt,this._retryTimeout=rt,this._keepEventLoopActive=nt,this._setSkipCacheFlag=it}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(_e=>this.emit("error",_e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await timeout(this._pollingInterval,!this._keepEventLoopActive)}catch(_e){const tt=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${_e.stack}`);try{this.emit("error",tt)}catch{console.error(tt)}await timeout(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const _e=await this._fetchLatestBlock();this._newPotentialLatest(_e)}async _fetchLatestBlock(){const _e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(_e.skipCache=!0);const tt=await pify$2(rt=>this._provider.sendAsync(_e,rt))();if(tt.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${tt.error}`);return tt.result}}var polling=PollingBlockTracker$1;function timeout(et,_e){return new Promise(tt=>{const rt=setTimeout(tt,et);rt.unref&&_e&&rt.unref()})}var scaffold={exports:{}},createScaffoldMiddleware$3=function et(_e){return(tt,rt,nt,it)=>{const at=_e[tt.method];return at===void 0?nt():typeof at=="function"?at(tt,rt,nt,it):(rt.result=at,it())}};(function(et){et.exports=createScaffoldMiddleware$3})(scaffold);var dist={},idRemapMiddleware={},getUniqueId$1={};Object.defineProperty(getUniqueId$1,"__esModule",{value:!0});getUniqueId$1.getUniqueId=void 0;const MAX=4294967295;let idCounter=Math.floor(Math.random()*MAX);function getUniqueId(){return idCounter=(idCounter+1)%MAX,idCounter}getUniqueId$1.getUniqueId=getUniqueId;Object.defineProperty(idRemapMiddleware,"__esModule",{value:!0});idRemapMiddleware.createIdRemapMiddleware=void 0;const getUniqueId_1=getUniqueId$1;function createIdRemapMiddleware(){return(et,_e,tt,rt)=>{const nt=et.id,it=getUniqueId_1.getUniqueId();et.id=it,_e.id=it,tt(at=>{et.id=nt,_e.id=nt,at()})}}idRemapMiddleware.createIdRemapMiddleware=createIdRemapMiddleware;var createAsyncMiddleware$3={};Object.defineProperty(createAsyncMiddleware$3,"__esModule",{value:!0});createAsyncMiddleware$3.createAsyncMiddleware=void 0;function createAsyncMiddleware$2(et){return async(_e,tt,rt,nt)=>{let it;const at=new Promise(ft=>{it=ft});let ot=null,ct=!1;const ut=async()=>{ct=!0,rt(ft=>{ot=ft,it()}),await at};try{await et(_e,tt,ut),ct?(await at,ot(null)):nt(null)}catch(ft){ot?ot(ft):nt(ft)}}}createAsyncMiddleware$3.createAsyncMiddleware=createAsyncMiddleware$2;var createScaffoldMiddleware$2={};Object.defineProperty(createScaffoldMiddleware$2,"__esModule",{value:!0});createScaffoldMiddleware$2.createScaffoldMiddleware=void 0;function createScaffoldMiddleware$1(et){return(_e,tt,rt,nt)=>{const it=et[_e.method];return it===void 0?rt():typeof it=="function"?it(_e,tt,rt,nt):(tt.result=it,nt())}}createScaffoldMiddleware$2.createScaffoldMiddleware=createScaffoldMiddleware$1;var JsonRpcEngine$1={},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(JsonRpcEngine$1,"__esModule",{value:!0});JsonRpcEngine$1.JsonRpcEngine=void 0;const safe_event_emitter_1$1=__importDefault$6(safeEventEmitter$1),eth_rpc_errors_1$2=dist$1;class JsonRpcEngine extends safe_event_emitter_1$1.default{constructor(){super(),this._middleware=[]}push(_e){this._middleware.push(_e)}handle(_e,tt){if(tt&&typeof tt!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(_e)?tt?this._handleBatch(_e,tt):this._handleBatch(_e):tt?this._handle(_e,tt):this._promiseHandle(_e)}asMiddleware(){return async(_e,tt,rt,nt)=>{try{const[it,at,ot]=await JsonRpcEngine._runAllMiddleware(_e,tt,this._middleware);return at?(await JsonRpcEngine._runReturnHandlers(ot),nt(it)):rt(async ct=>{try{await JsonRpcEngine._runReturnHandlers(ot)}catch(ut){return ct(ut)}return ct()})}catch(it){return nt(it)}}}async _handleBatch(_e,tt){try{const rt=await Promise.all(_e.map(this._promiseHandle.bind(this)));return tt?tt(null,rt):rt}catch(rt){if(tt)return tt(rt);throw rt}}_promiseHandle(_e){return new Promise(tt=>{this._handle(_e,(rt,nt)=>{tt(nt)})})}async _handle(_e,tt){if(!_e||Array.isArray(_e)||typeof _e!="object"){const at=new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof _e}`,{request:_e});return tt(at,{id:void 0,jsonrpc:"2.0",error:at})}if(typeof _e.method!="string"){const at=new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof _e.method}`,{request:_e});return tt(at,{id:_e.id,jsonrpc:"2.0",error:at})}const rt=Object.assign({},_e),nt={id:rt.id,jsonrpc:rt.jsonrpc};let it=null;try{await this._processRequest(rt,nt)}catch(at){it=at}return it&&(delete nt.result,nt.error||(nt.error=eth_rpc_errors_1$2.serializeError(it))),tt(it,nt)}async _processRequest(_e,tt){const[rt,nt,it]=await JsonRpcEngine._runAllMiddleware(_e,tt,this._middleware);if(JsonRpcEngine._checkForCompletion(_e,tt,nt),await JsonRpcEngine._runReturnHandlers(it),rt)throw rt}static async _runAllMiddleware(_e,tt,rt){const nt=[];let it=null,at=!1;for(const ot of rt)if([it,at]=await JsonRpcEngine._runMiddleware(_e,tt,ot,nt),at)break;return[it,at,nt.reverse()]}static _runMiddleware(_e,tt,rt,nt){return new Promise(it=>{const at=ct=>{const ut=ct||tt.error;ut&&(tt.error=eth_rpc_errors_1$2.serializeError(ut)),it([ut,!0])},ot=ct=>{tt.error?at(tt.error):(ct&&(typeof ct!="function"&&at(new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof ct}" for request:
${jsonify(_e)}`,{request:_e})),nt.push(ct)),it([null,!1]))};try{rt(_e,tt,ot,at)}catch(ct){at(ct)}})}static async _runReturnHandlers(_e){for(const tt of _e)await new Promise((rt,nt)=>{tt(it=>it?nt(it):rt())})}static _checkForCompletion(_e,tt,rt){if(!("result"in tt)&&!("error"in tt))throw new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jsonify(_e)}`,{request:_e});if(!rt)throw new eth_rpc_errors_1$2.EthereumRpcError(eth_rpc_errors_1$2.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jsonify(_e)}`,{request:_e})}}JsonRpcEngine$1.JsonRpcEngine=JsonRpcEngine;function jsonify(et){return JSON.stringify(et,null,2)}var mergeMiddleware$1={};Object.defineProperty(mergeMiddleware$1,"__esModule",{value:!0});mergeMiddleware$1.mergeMiddleware=void 0;const JsonRpcEngine_1=JsonRpcEngine$1;function mergeMiddleware(et){const _e=new JsonRpcEngine_1.JsonRpcEngine;return et.forEach(tt=>_e.push(tt)),_e.asMiddleware()}mergeMiddleware$1.mergeMiddleware=mergeMiddleware;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(rt,nt,it,at){at===void 0&&(at=it),Object.defineProperty(rt,at,{enumerable:!0,get:function(){return nt[it]}})}:function(rt,nt,it,at){at===void 0&&(at=it),rt[at]=nt[it]}),tt=commonjsGlobal&&commonjsGlobal.__exportStar||function(rt,nt){for(var it in rt)it!=="default"&&!Object.prototype.hasOwnProperty.call(nt,it)&&_e(nt,rt,it)};Object.defineProperty(et,"__esModule",{value:!0}),tt(idRemapMiddleware,et),tt(createAsyncMiddleware$3,et),tt(createScaffoldMiddleware$2,et),tt(getUniqueId$1,et),tt(JsonRpcEngine$1,et),tt(mergeMiddleware$1,et)})(dist);var lib={},Mutex$2={},tslib={exports:{}};(function(et){var _e,tt,rt,nt,it,at,ot,ct,ut,ft,yt,bt,Et,Ct,At,St,Tt,$t,kt,Pt,Ot,Ht,qt,Zt,tr;(function(Dt){var Rt=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};Dt(Nt(Rt,Nt(et.exports)));function Nt(ht,st){return ht!==Rt&&(typeof Object.create=="function"?Object.defineProperty(ht,"__esModule",{value:!0}):ht.__esModule=!0),function(dt,mt){return ht[dt]=st?st(dt,mt):mt}}})(function(Dt){var Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,st){ht.__proto__=st}||function(ht,st){for(var dt in st)Object.prototype.hasOwnProperty.call(st,dt)&&(ht[dt]=st[dt])};_e=function(ht,st){if(typeof st!="function"&&st!==null)throw new TypeError("Class extends value "+String(st)+" is not a constructor or null");Rt(ht,st);function dt(){this.constructor=ht}ht.prototype=st===null?Object.create(st):(dt.prototype=st.prototype,new dt)},tt=Object.assign||function(ht){for(var st,dt=1,mt=arguments.length;dt<mt;dt++){st=arguments[dt];for(var _t in st)Object.prototype.hasOwnProperty.call(st,_t)&&(ht[_t]=st[_t])}return ht},rt=function(ht,st){var dt={};for(var mt in ht)Object.prototype.hasOwnProperty.call(ht,mt)&&st.indexOf(mt)<0&&(dt[mt]=ht[mt]);if(ht!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _t=0,mt=Object.getOwnPropertySymbols(ht);_t<mt.length;_t++)st.indexOf(mt[_t])<0&&Object.prototype.propertyIsEnumerable.call(ht,mt[_t])&&(dt[mt[_t]]=ht[mt[_t]]);return dt},nt=function(ht,st,dt,mt){var _t=arguments.length,xt=_t<3?st:mt===null?mt=Object.getOwnPropertyDescriptor(st,dt):mt,vt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")xt=Reflect.decorate(ht,st,dt,mt);else for(var Mt=ht.length-1;Mt>=0;Mt--)(vt=ht[Mt])&&(xt=(_t<3?vt(xt):_t>3?vt(st,dt,xt):vt(st,dt))||xt);return _t>3&&xt&&Object.defineProperty(st,dt,xt),xt},it=function(ht,st){return function(dt,mt){st(dt,mt,ht)}},at=function(ht,st){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(ht,st)},ot=function(ht,st,dt,mt){function _t(xt){return xt instanceof dt?xt:new dt(function(vt){vt(xt)})}return new(dt||(dt=Promise))(function(xt,vt){function Mt(wt){try{lt(mt.next(wt))}catch(jt){vt(jt)}}function gt(wt){try{lt(mt.throw(wt))}catch(jt){vt(jt)}}function lt(wt){wt.done?xt(wt.value):_t(wt.value).then(Mt,gt)}lt((mt=mt.apply(ht,st||[])).next())})},ct=function(ht,st){var dt={label:0,sent:function(){if(xt[0]&1)throw xt[1];return xt[1]},trys:[],ops:[]},mt,_t,xt,vt;return vt={next:Mt(0),throw:Mt(1),return:Mt(2)},typeof Symbol=="function"&&(vt[Symbol.iterator]=function(){return this}),vt;function Mt(lt){return function(wt){return gt([lt,wt])}}function gt(lt){if(mt)throw new TypeError("Generator is already executing.");for(;dt;)try{if(mt=1,_t&&(xt=lt[0]&2?_t.return:lt[0]?_t.throw||((xt=_t.return)&&xt.call(_t),0):_t.next)&&!(xt=xt.call(_t,lt[1])).done)return xt;switch(_t=0,xt&&(lt=[lt[0]&2,xt.value]),lt[0]){case 0:case 1:xt=lt;break;case 4:return dt.label++,{value:lt[1],done:!1};case 5:dt.label++,_t=lt[1],lt=[0];continue;case 7:lt=dt.ops.pop(),dt.trys.pop();continue;default:if(xt=dt.trys,!(xt=xt.length>0&&xt[xt.length-1])&&(lt[0]===6||lt[0]===2)){dt=0;continue}if(lt[0]===3&&(!xt||lt[1]>xt[0]&&lt[1]<xt[3])){dt.label=lt[1];break}if(lt[0]===6&&dt.label<xt[1]){dt.label=xt[1],xt=lt;break}if(xt&&dt.label<xt[2]){dt.label=xt[2],dt.ops.push(lt);break}xt[2]&&dt.ops.pop(),dt.trys.pop();continue}lt=st.call(ht,dt)}catch(wt){lt=[6,wt],_t=0}finally{mt=xt=0}if(lt[0]&5)throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}},ut=function(ht,st){for(var dt in ht)dt!=="default"&&!Object.prototype.hasOwnProperty.call(st,dt)&&tr(st,ht,dt)},tr=Object.create?function(ht,st,dt,mt){mt===void 0&&(mt=dt);var _t=Object.getOwnPropertyDescriptor(st,dt);(!_t||("get"in _t?!st.__esModule:_t.writable||_t.configurable))&&(_t={enumerable:!0,get:function(){return st[dt]}}),Object.defineProperty(ht,mt,_t)}:function(ht,st,dt,mt){mt===void 0&&(mt=dt),ht[mt]=st[dt]},ft=function(ht){var st=typeof Symbol=="function"&&Symbol.iterator,dt=st&&ht[st],mt=0;if(dt)return dt.call(ht);if(ht&&typeof ht.length=="number")return{next:function(){return ht&&mt>=ht.length&&(ht=void 0),{value:ht&&ht[mt++],done:!ht}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(ht,st){var dt=typeof Symbol=="function"&&ht[Symbol.iterator];if(!dt)return ht;var mt=dt.call(ht),_t,xt=[],vt;try{for(;(st===void 0||st-- >0)&&!(_t=mt.next()).done;)xt.push(_t.value)}catch(Mt){vt={error:Mt}}finally{try{_t&&!_t.done&&(dt=mt.return)&&dt.call(mt)}finally{if(vt)throw vt.error}}return xt},bt=function(){for(var ht=[],st=0;st<arguments.length;st++)ht=ht.concat(yt(arguments[st]));return ht},Et=function(){for(var ht=0,st=0,dt=arguments.length;st<dt;st++)ht+=arguments[st].length;for(var mt=Array(ht),_t=0,st=0;st<dt;st++)for(var xt=arguments[st],vt=0,Mt=xt.length;vt<Mt;vt++,_t++)mt[_t]=xt[vt];return mt},Ct=function(ht,st,dt){if(dt||arguments.length===2)for(var mt=0,_t=st.length,xt;mt<_t;mt++)(xt||!(mt in st))&&(xt||(xt=Array.prototype.slice.call(st,0,mt)),xt[mt]=st[mt]);return ht.concat(xt||Array.prototype.slice.call(st))},At=function(ht){return this instanceof At?(this.v=ht,this):new At(ht)},St=function(ht,st,dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt=dt.apply(ht,st||[]),_t,xt=[];return _t={},vt("next"),vt("throw"),vt("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function vt(It){mt[It]&&(_t[It]=function(Wt){return new Promise(function(Qt,Gt){xt.push([It,Wt,Qt,Gt])>1||Mt(It,Wt)})})}function Mt(It,Wt){try{gt(mt[It](Wt))}catch(Qt){jt(xt[0][3],Qt)}}function gt(It){It.value instanceof At?Promise.resolve(It.value.v).then(lt,wt):jt(xt[0][2],It)}function lt(It){Mt("next",It)}function wt(It){Mt("throw",It)}function jt(It,Wt){It(Wt),xt.shift(),xt.length&&Mt(xt[0][0],xt[0][1])}},Tt=function(ht){var st,dt;return st={},mt("next"),mt("throw",function(_t){throw _t}),mt("return"),st[Symbol.iterator]=function(){return this},st;function mt(_t,xt){st[_t]=ht[_t]?function(vt){return(dt=!dt)?{value:At(ht[_t](vt)),done:_t==="return"}:xt?xt(vt):vt}:xt}},$t=function(ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st=ht[Symbol.asyncIterator],dt;return st?st.call(ht):(ht=typeof ft=="function"?ft(ht):ht[Symbol.iterator](),dt={},mt("next"),mt("throw"),mt("return"),dt[Symbol.asyncIterator]=function(){return this},dt);function mt(xt){dt[xt]=ht[xt]&&function(vt){return new Promise(function(Mt,gt){vt=ht[xt](vt),_t(Mt,gt,vt.done,vt.value)})}}function _t(xt,vt,Mt,gt){Promise.resolve(gt).then(function(lt){xt({value:lt,done:Mt})},vt)}},kt=function(ht,st){return Object.defineProperty?Object.defineProperty(ht,"raw",{value:st}):ht.raw=st,ht};var Nt=Object.create?function(ht,st){Object.defineProperty(ht,"default",{enumerable:!0,value:st})}:function(ht,st){ht.default=st};Pt=function(ht){if(ht&&ht.__esModule)return ht;var st={};if(ht!=null)for(var dt in ht)dt!=="default"&&Object.prototype.hasOwnProperty.call(ht,dt)&&tr(st,ht,dt);return Nt(st,ht),st},Ot=function(ht){return ht&&ht.__esModule?ht:{default:ht}},Ht=function(ht,st,dt,mt){if(dt==="a"&&!mt)throw new TypeError("Private accessor was defined without a getter");if(typeof st=="function"?ht!==st||!mt:!st.has(ht))throw new TypeError("Cannot read private member from an object whose class did not declare it");return dt==="m"?mt:dt==="a"?mt.call(ht):mt?mt.value:st.get(ht)},qt=function(ht,st,dt,mt,_t){if(mt==="m")throw new TypeError("Private method is not writable");if(mt==="a"&&!_t)throw new TypeError("Private accessor was defined without a setter");if(typeof st=="function"?ht!==st||!_t:!st.has(ht))throw new TypeError("Cannot write private member to an object whose class did not declare it");return mt==="a"?_t.call(ht,dt):_t?_t.value=dt:st.set(ht,dt),dt},Zt=function(ht,st){if(st===null||typeof st!="object"&&typeof st!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof ht=="function"?st===ht:ht.has(st)},Dt("__extends",_e),Dt("__assign",tt),Dt("__rest",rt),Dt("__decorate",nt),Dt("__param",it),Dt("__metadata",at),Dt("__awaiter",ot),Dt("__generator",ct),Dt("__exportStar",ut),Dt("__createBinding",tr),Dt("__values",ft),Dt("__read",yt),Dt("__spread",bt),Dt("__spreadArrays",Et),Dt("__spreadArray",Ct),Dt("__await",At),Dt("__asyncGenerator",St),Dt("__asyncDelegator",Tt),Dt("__asyncValues",$t),Dt("__makeTemplateObject",kt),Dt("__importStar",Pt),Dt("__importDefault",Ot),Dt("__classPrivateFieldGet",Ht),Dt("__classPrivateFieldSet",qt),Dt("__classPrivateFieldIn",Zt)})})(tslib);var Semaphore$1={};Object.defineProperty(Semaphore$1,"__esModule",{value:!0});var tslib_1$2=tslib.exports,Semaphore=function(){function et(_e){if(this._maxConcurrency=_e,this._queue=[],_e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=_e}return et.prototype.acquire=function(){var _e=this,tt=this.isLocked(),rt=new Promise(function(nt){return _e._queue.push(nt)});return tt||this._dispatch(),rt},et.prototype.runExclusive=function(_e){return tslib_1$2.__awaiter(this,void 0,void 0,function(){var tt,rt,nt;return tslib_1$2.__generator(this,function(it){switch(it.label){case 0:return[4,this.acquire()];case 1:tt=it.sent(),rt=tt[0],nt=tt[1],it.label=2;case 2:return it.trys.push([2,,4,5]),[4,_e(rt)];case 3:return[2,it.sent()];case 4:return nt(),[7];case 5:return[2]}})})},et.prototype.isLocked=function(){return this._value<=0},et.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var _e=this._currentReleaser;this._currentReleaser=void 0,_e()}},et.prototype._dispatch=function(){var _e=this,tt=this._queue.shift();if(!!tt){var rt=!1;this._currentReleaser=function(){rt||(rt=!0,_e._value++,_e._dispatch())},tt([this._value--,this._currentReleaser])}},et}();Semaphore$1.default=Semaphore;Object.defineProperty(Mutex$2,"__esModule",{value:!0});var tslib_1$1=tslib.exports,Semaphore_1=Semaphore$1,Mutex$1=function(){function et(){this._semaphore=new Semaphore_1.default(1)}return et.prototype.acquire=function(){return tslib_1$1.__awaiter(this,void 0,void 0,function(){var _e,tt;return tslib_1$1.__generator(this,function(rt){switch(rt.label){case 0:return[4,this._semaphore.acquire()];case 1:return _e=rt.sent(),tt=_e[1],[2,tt]}})})},et.prototype.runExclusive=function(_e){return this._semaphore.runExclusive(function(){return _e()})},et.prototype.isLocked=function(){return this._semaphore.isLocked()},et.prototype.release=function(){this._semaphore.release()},et}();Mutex$2.default=Mutex$1;var withTimeout$1={};Object.defineProperty(withTimeout$1,"__esModule",{value:!0});withTimeout$1.withTimeout=void 0;var tslib_1=tslib.exports;function withTimeout(et,_e,tt){var rt=this;return tt===void 0&&(tt=new Error("timeout")),{acquire:function(){return new Promise(function(nt,it){return tslib_1.__awaiter(rt,void 0,void 0,function(){var at,ot,ct;return tslib_1.__generator(this,function(ut){switch(ut.label){case 0:return at=!1,setTimeout(function(){at=!0,it(tt)},_e),[4,et.acquire()];case 1:return ot=ut.sent(),at?(ct=Array.isArray(ot)?ot[1]:ot,ct()):nt(ot),[2]}})})})},runExclusive:function(nt){return tslib_1.__awaiter(this,void 0,void 0,function(){var it,at;return tslib_1.__generator(this,function(ot){switch(ot.label){case 0:it=function(){},ot.label=1;case 1:return ot.trys.push([1,,7,8]),[4,this.acquire()];case 2:return at=ot.sent(),Array.isArray(at)?(it=at[1],[4,nt(at[0])]):[3,4];case 3:return[2,ot.sent()];case 4:return it=at,[4,nt()];case 5:return[2,ot.sent()];case 6:return[3,8];case 7:return it(),[7];case 8:return[2]}})})},release:function(){et.release()},isLocked:function(){return et.isLocked()}}}withTimeout$1.withTimeout=withTimeout;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.withTimeout=et.Semaphore=et.Mutex=void 0;var _e=Mutex$2;Object.defineProperty(et,"Mutex",{enumerable:!0,get:function(){return _e.default}});var tt=Semaphore$1;Object.defineProperty(et,"Semaphore",{enumerable:!0,get:function(){return tt.default}});var rt=withTimeout$1;Object.defineProperty(et,"withTimeout",{enumerable:!0,get:function(){return rt.withTimeout}})})(lib);const processFn=(et,_e,tt,rt)=>function(...nt){const it=_e.promiseModule;return new it((at,ot)=>{_e.multiArgs?nt.push((...ut)=>{_e.errorFirst?ut[0]?ot(ut):(ut.shift(),at(ut)):at(ut)}):_e.errorFirst?nt.push((ut,ft)=>{ut?ot(ut):at(ft)}):nt.push(at),Reflect.apply(et,this===tt?rt:this,nt)})},filterCache=new WeakMap;var pify$1=(et,_e)=>{_e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,..._e};const tt=typeof et;if(!(et!==null&&(tt==="object"||tt==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${et===null?"null":tt}\``);const rt=(at,ot)=>{let ct=filterCache.get(at);if(ct||(ct={},filterCache.set(at,ct)),ot in ct)return ct[ot];const ut=Ct=>typeof Ct=="string"||typeof ot=="symbol"?ot===Ct:Ct.test(ot),ft=Reflect.getOwnPropertyDescriptor(at,ot),yt=ft===void 0||ft.writable||ft.configurable,Et=(_e.include?_e.include.some(ut):!_e.exclude.some(ut))&&yt;return ct[ot]=Et,Et},nt=new WeakMap,it=new Proxy(et,{apply(at,ot,ct){const ut=nt.get(at);if(ut)return Reflect.apply(ut,ot,ct);const ft=_e.excludeMain?at:processFn(at,_e,it,at);return nt.set(at,ft),Reflect.apply(ft,ot,ct)},get(at,ot){const ct=at[ot];if(!rt(at,ot)||ct===Function.prototype[ot])return ct;const ut=nt.get(ct);if(ut)return ut;if(typeof ct=="function"){const ft=processFn(ct,_e,it,at);return nt.set(ct,ft),ft}return ct}});return it};const SafeEventEmitter$1=safeEventEmitter$1.default;class BaseFilter$3 extends SafeEventEmitter$1{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(_e){this.updates=this.updates.concat(_e),_e.forEach(tt=>this.emit("update",tt))}addInitialResults(_e){}getChangesAndClear(){const _e=this.updates;return this.updates=[],_e}}var baseFilter=BaseFilter$3;const BaseFilter$2=baseFilter;class BaseFilterWithHistory$1 extends BaseFilter$2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(_e){this.allResults=this.allResults.concat(_e),super.addResults(_e)}addInitialResults(_e){this.allResults=this.allResults.concat(_e),super.addInitialResults(_e)}getAllResults(){return this.allResults}}var baseFilterHistory=BaseFilterWithHistory$1,hexUtils={minBlockRef:minBlockRef$1,maxBlockRef,sortBlockRefs,bnToHex:bnToHex$1,blockRefIsNumber:blockRefIsNumber$1,hexToInt:hexToInt$3,incrementHexInt:incrementHexInt$4,intToHex:intToHex$2,unsafeRandomBytes:unsafeRandomBytes$1};function minBlockRef$1(...et){return sortBlockRefs(et)[0]}function maxBlockRef(...et){const _e=sortBlockRefs(et);return _e[_e.length-1]}function sortBlockRefs(et){return et.sort((_e,tt)=>_e==="latest"||tt==="earliest"?1:tt==="latest"||_e==="earliest"?-1:hexToInt$3(_e)-hexToInt$3(tt))}function bnToHex$1(et){return"0x"+et.toString(16)}function blockRefIsNumber$1(et){return et&&!["earliest","latest","pending"].includes(et)}function hexToInt$3(et){return et==null?et:Number.parseInt(et,16)}function incrementHexInt$4(et){if(et==null)return et;const _e=hexToInt$3(et);return intToHex$2(_e+1)}function intToHex$2(et){if(et==null)return et;let _e=et.toString(16);return _e.length%2&&(_e="0"+_e),"0x"+_e}function unsafeRandomBytes$1(et){let _e="0x";for(let tt=0;tt<et;tt++)_e+=unsafeRandomNibble(),_e+=unsafeRandomNibble();return _e}function unsafeRandomNibble(){return Math.floor(Math.random()*16).toString(16)}const EthQuery=ethQuery,pify=pify$1,BaseFilterWithHistory=baseFilterHistory,{bnToHex,hexToInt:hexToInt$2,incrementHexInt:incrementHexInt$3,minBlockRef,blockRefIsNumber}=hexUtils;class LogFilter$1 extends BaseFilterWithHistory{constructor({provider:_e,params:tt}){super(),this.type="log",this.ethQuery=new EthQuery(_e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},tt),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(rt=>rt.toLowerCase()))}async initialize({currentBlock:_e}){let tt=this.params.fromBlock;["latest","pending"].includes(tt)&&(tt=_e),tt==="earliest"&&(tt="0x0"),this.params.fromBlock=tt;const rt=minBlockRef(this.params.toBlock,_e),nt=Object.assign({},this.params,{toBlock:rt}),it=await this._fetchLogs(nt);this.addInitialResults(it)}async update({oldBlock:_e,newBlock:tt}){const rt=tt;let nt;_e?nt=incrementHexInt$3(_e):nt=tt;const it=Object.assign({},this.params,{fromBlock:nt,toBlock:rt}),ot=(await this._fetchLogs(it)).filter(ct=>this.matchLog(ct));this.addResults(ot)}async _fetchLogs(_e){return await pify(rt=>this.ethQuery.getLogs(_e,rt))()}matchLog(_e){if(hexToInt$2(this.params.fromBlock)>=hexToInt$2(_e.blockNumber)||blockRefIsNumber(this.params.toBlock)&&hexToInt$2(this.params.toBlock)<=hexToInt$2(_e.blockNumber))return!1;const tt=_e.address&&_e.address.toLowerCase();return this.params.address&&tt&&!this.params.address.includes(tt)?!1:this.params.topics.every((nt,it)=>{let at=_e.topics[it];if(!at)return!1;at=at.toLowerCase();let ot=Array.isArray(nt)?nt:[nt];return ot.includes(null)?!0:(ot=ot.map(ft=>ft.toLowerCase()),ot.includes(at))})}}var logFilter=LogFilter$1,getBlocksForRange_1=getBlocksForRange$3;async function getBlocksForRange$3({provider:et,fromBlock:_e,toBlock:tt}){_e||(_e=tt);const rt=hexToInt$1(_e),it=hexToInt$1(tt)-rt+1,at=Array(it).fill().map((ct,ut)=>rt+ut).map(intToHex$1);return await Promise.all(at.map(ct=>query(et,"eth_getBlockByNumber",[ct,!1])))}function hexToInt$1(et){return et==null?et:Number.parseInt(et,16)}function intToHex$1(et){return et==null?et:"0x"+et.toString(16)}function query(et,_e,tt){return new Promise((rt,nt)=>{et.sendAsync({id:1,jsonrpc:"2.0",method:_e,params:tt},(it,at)=>{if(it)return nt(it);rt(at.result)})})}const BaseFilter$1=baseFilter,getBlocksForRange$2=getBlocksForRange_1,{incrementHexInt:incrementHexInt$2}=hexUtils;class BlockFilter$1 extends BaseFilter$1{constructor({provider:_e,params:tt}){super(),this.type="block",this.provider=_e}async update({oldBlock:_e,newBlock:tt}){const rt=tt,nt=incrementHexInt$2(_e),at=(await getBlocksForRange$2({provider:this.provider,fromBlock:nt,toBlock:rt})).map(ot=>ot.hash);this.addResults(at)}}var blockFilter=BlockFilter$1;const BaseFilter=baseFilter,getBlocksForRange$1=getBlocksForRange_1,{incrementHexInt:incrementHexInt$1}=hexUtils;class TxFilter$1 extends BaseFilter{constructor({provider:_e}){super(),this.type="tx",this.provider=_e}async update({oldBlock:_e}){const tt=_e,rt=incrementHexInt$1(_e),nt=await getBlocksForRange$1({provider:this.provider,fromBlock:rt,toBlock:tt}),it=[];for(const at of nt)it.push(...at.transactions);this.addResults(it)}}var txFilter=TxFilter$1;const Mutex=lib.Mutex,{createAsyncMiddleware:createAsyncMiddleware$1}=dist,createJsonRpcMiddleware=scaffold.exports,LogFilter=logFilter,BlockFilter=blockFilter,TxFilter=txFilter,{intToHex,hexToInt}=hexUtils;var ethJsonRpcFilters=createEthFilterMiddleware;function createEthFilterMiddleware({blockTracker:et,provider:_e}){let tt=0,rt={};const nt=new Mutex,it=mutexMiddlewareWrapper({mutex:nt}),at=createJsonRpcMiddleware({eth_newFilter:it(toFilterCreationMiddleware(ct)),eth_newBlockFilter:it(toFilterCreationMiddleware(ut)),eth_newPendingTransactionFilter:it(toFilterCreationMiddleware(ft)),eth_uninstallFilter:it(toAsyncRpcMiddleware(Et)),eth_getFilterChanges:it(toAsyncRpcMiddleware(yt)),eth_getFilterLogs:it(toAsyncRpcMiddleware(bt))}),ot=async({oldBlock:$t,newBlock:kt})=>{if(rt.length===0)return;const Pt=await nt.acquire();try{await Promise.all(objValues(rt).map(async Ot=>{try{await Ot.update({oldBlock:$t,newBlock:kt})}catch(Ht){console.error(Ht)}}))}catch(Ot){console.error(Ot)}Pt()};return at.newLogFilter=ct,at.newBlockFilter=ut,at.newPendingTransactionFilter=ft,at.uninstallFilter=Et,at.getFilterChanges=yt,at.getFilterLogs=bt,at.destroy=()=>{St()},at;async function ct($t){const kt=new LogFilter({provider:_e,params:$t});return await Ct(kt),kt}async function ut(){const $t=new BlockFilter({provider:_e});return await Ct($t),$t}async function ft(){const $t=new TxFilter({provider:_e});return await Ct($t),$t}async function yt($t){const kt=hexToInt($t),Pt=rt[kt];if(!Pt)throw new Error(`No filter for index "${kt}"`);return Pt.getChangesAndClear()}async function bt($t){const kt=hexToInt($t),Pt=rt[kt];if(!Pt)throw new Error(`No filter for index "${kt}"`);return Pt.type==="log"?results=Pt.getAllResults():results=[],results}async function Et($t){const kt=hexToInt($t),Pt=rt[kt],Ot=Boolean(Pt);return Ot&&await At(kt),Ot}async function Ct($t){const kt=objValues(rt).length,Pt=await et.getLatestBlock();await $t.initialize({currentBlock:Pt}),tt++,rt[tt]=$t,$t.id=tt,$t.idHex=intToHex(tt);const Ot=objValues(rt).length;return Tt({prevFilterCount:kt,newFilterCount:Ot}),tt}async function At($t){const kt=objValues(rt).length;delete rt[$t];const Pt=objValues(rt).length;Tt({prevFilterCount:kt,newFilterCount:Pt})}async function St(){const $t=objValues(rt).length;rt={},Tt({prevFilterCount:$t,newFilterCount:0})}function Tt({prevFilterCount:$t,newFilterCount:kt}){if($t===0&&kt>0){et.on("sync",ot);return}if($t>0&&kt===0){et.removeListener("sync",ot);return}}}function toFilterCreationMiddleware(et){return toAsyncRpcMiddleware(async(..._e)=>{const tt=await et(..._e);return intToHex(tt.id)})}function toAsyncRpcMiddleware(et){return createAsyncMiddleware$1(async(_e,tt)=>{const rt=await et.apply(null,_e.params);tt.result=rt})}function mutexMiddlewareWrapper({mutex:et}){return _e=>async(tt,rt,nt,it)=>{(await et.acquire())(),_e(tt,rt,nt,it)}}function objValues(et,_e){const tt=[];for(let rt in et)tt.push(et[rt]);return tt}const SafeEventEmitter=safeEventEmitter$1.default,createScaffoldMiddleware=scaffold.exports,{createAsyncMiddleware}=dist,createFilterMiddleware=ethJsonRpcFilters,{unsafeRandomBytes,incrementHexInt}=hexUtils,getBlocksForRange=getBlocksForRange_1;var subscriptionManager=createSubscriptionMiddleware;function createSubscriptionMiddleware({blockTracker:et,provider:_e}){const tt={},rt=createFilterMiddleware({blockTracker:et,provider:_e});let nt=!1;const it=new SafeEventEmitter,at=createScaffoldMiddleware({eth_subscribe:createAsyncMiddleware(ot),eth_unsubscribe:createAsyncMiddleware(ct)});return at.destroy=ft,{events:it,middleware:at};async function ot(yt,bt){if(nt)throw new Error("SubscriptionManager - attempting to use after destroying");const Et=yt.params[0],Ct=unsafeRandomBytes(16);let At;switch(Et){case"newHeads":At=St({subId:Ct});break;case"logs":const $t=yt.params[1],kt=await rt.newLogFilter($t);At=Tt({subId:Ct,filter:kt});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${Et}"`)}tt[Ct]=At,bt.result=Ct;return;function St({subId:$t}){const kt={type:Et,destroy:async()=>{et.removeListener("sync",kt.update)},update:async({oldBlock:Pt,newBlock:Ot})=>{const Ht=Ot,qt=incrementHexInt(Pt);(await getBlocksForRange({provider:_e,fromBlock:qt,toBlock:Ht})).map(normalizeBlock).forEach(Dt=>{ut($t,Dt)})}};return et.on("sync",kt.update),kt}function Tt({subId:$t,filter:kt}){return kt.on("update",Ot=>ut($t,Ot)),{type:Et,destroy:async()=>await rt.uninstallFilter(kt.idHex)}}}async function ct(yt,bt){if(nt)throw new Error("SubscriptionManager - attempting to use after destroying");const Et=yt.params[0],Ct=tt[Et];if(!Ct){bt.result=!1;return}delete tt[Et],await Ct.destroy(),bt.result=!0}function ut(yt,bt){it.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:yt,result:bt}})}function ft(){it.removeAllListeners();for(const yt in tt)tt[yt].destroy(),delete tt[yt];nt=!0}}function normalizeBlock(et){return{hash:et.hash,parentHash:et.parentHash,sha3Uncles:et.sha3Uncles,miner:et.miner,stateRoot:et.stateRoot,transactionsRoot:et.transactionsRoot,receiptsRoot:et.receiptsRoot,logsBloom:et.logsBloom,difficulty:et.difficulty,number:et.number,gasLimit:et.gasLimit,gasUsed:et.gasUsed,nonce:et.nonce,mixHash:et.mixHash,timestamp:et.timestamp,extraData:et.extraData}}Object.defineProperty(SubscriptionManager$1,"__esModule",{value:!0});SubscriptionManager$1.SubscriptionManager=void 0;const PollingBlockTracker=polling,createSubscriptionManager=subscriptionManager,noop$1=()=>{};class SubscriptionManager{constructor(_e){const tt=new PollingBlockTracker({provider:_e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:rt,middleware:nt}=createSubscriptionManager({blockTracker:tt,provider:_e});this.events=rt,this.subscriptionMiddleware=nt}async handleRequest(_e){const tt={};return await this.subscriptionMiddleware(_e,tt,noop$1,noop$1),tt}destroy(){this.subscriptionMiddleware.destroy()}}SubscriptionManager$1.SubscriptionManager=SubscriptionManager;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(CoinbaseWalletProvider$1,"__esModule",{value:!0});CoinbaseWalletProvider$1.CoinbaseWalletProvider=void 0;const safe_event_emitter_1=__importDefault$5(safeEventEmitter$1),bn_js_1=__importDefault$5(bn$1.exports),eth_rpc_errors_1$1=dist$1,EventListener_1$2=EventListener,Session_1$2=Session$1,WalletSDKRelayAbstract_1$1=WalletSDKRelayAbstract$1,util_1$5=util$5,eth_eip712_util_1=__importDefault$5(ethEip712Util),FilterPolyfill_1=FilterPolyfill$1,JSONRPC_1=JSONRPC,SubscriptionManager_1=SubscriptionManager$1,DEFAULT_CHAIN_ID_KEY="DefaultChainId",DEFAULT_JSON_RPC_URL="DefaultJsonRpcUrl",HAS_CHAIN_BEEN_SWITCHED_KEY="HasChainBeenSwitched",HAS_CHAIN_OVERRIDDEN_FROM_RELAY="HasChainOverriddenFromRelay";class CoinbaseWalletProvider extends safe_event_emitter_1.default{constructor(_e){var tt,rt;super(),this._filterPolyfill=new FilterPolyfill_1.FilterPolyfill(this),this._subscriptionManager=new SubscriptionManager_1.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._jsonRpcUrlFromOpts=_e.jsonRpcUrl,this._overrideIsMetaMask=_e.overrideIsMetaMask,this._relayProvider=_e.relayProvider,this._storage=_e.storage,this._relayEventManager=_e.relayEventManager,this._eventListener=_e.eventListener,this.isCoinbaseWallet=(tt=_e.overrideIsCoinbaseWallet)!==null&&tt!==void 0?tt:!0,this.isCoinbaseBrowser=(rt=_e.overrideIsCoinbaseBrowser)!==null&&rt!==void 0?rt:!1,this.qrUrl=_e.qrUrl,this.supportsAddressSwitching=_e.supportsAddressSwitching;const nt=this.getChainId(),it=(0,util_1$5.prepend0x)(nt.toString(16));this.emit("connect",{chainIdStr:it});const at=this._storage.getItem(WalletSDKRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY);if(at){const ot=at.split(" ");ot[0]!==""&&(this._addresses=ot.map(ct=>(0,util_1$5.ensureAddressString)(ct)),this.emit("accountsChanged",ot))}this._subscriptionManager.events.on("notification",ot=>{this.emit("message",{type:ot.method,data:ot.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",ot=>{var ct;if(ot.data.type==="walletLinkMessage"&&ot.data.data.action==="defaultChainChanged"){const ut=ot.data.data.chainId,ft=(ct=ot.data.data.jsonRpcUrl)!==null&&ct!==void 0?ct:this.jsonRpcUrl;this.updateProviderInfo(ft,Number(ut),!0)}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,util_1$5.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var _e;return(_e=this._storage.getItem(DEFAULT_JSON_RPC_URL))!==null&&_e!==void 0?_e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(_e){this._storage.setItem(DEFAULT_JSON_RPC_URL,_e)}get isChainOverridden(){return this._storage.getItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY)==="true"}set isChainOverridden(_e){this._storage.setItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY,_e.toString())}setProviderInfo(_e,tt){this.isChainOverridden||this.updateProviderInfo(_e,this.getChainId(),!1)}updateProviderInfo(_e,tt,rt){if(this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY)==="true"&&rt)return;rt&&(this.isChainOverridden=!0),this.jsonRpcUrl=_e;const it=this.getChainId();this._storage.setItem(DEFAULT_CHAIN_ID_KEY,tt.toString(10)),((0,util_1$5.ensureIntNumber)(tt)!==it||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(_e,tt,rt,nt,it,at){return!!(await(await this.initializeRelay()).watchAsset(_e,tt,rt,nt,it,at==null?void 0:at.toString()).promise).result}async addEthereumChain(_e,tt,rt,nt,it,at){var ot,ct;if((0,util_1$5.ensureIntNumber)(_e)===this.getChainId())return!1;const ut=await this.initializeRelay(),ft=ut.inlineAddEthereumChain(_e.toString());!this._isAuthorized()&&!ft&&await ut.requestEthereumAccounts().promise;const yt=await ut.addEthereumChain(_e.toString(),tt,it,rt,nt,at).promise;return((ot=yt.result)===null||ot===void 0?void 0:ot.isApproved)===!0&&(this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY,"true"),this.updateProviderInfo(tt[0],_e,!1)),((ct=yt.result)===null||ct===void 0?void 0:ct.isApproved)===!0}async switchEthereumChain(_e){if((0,util_1$5.ensureIntNumber)(_e)===this.getChainId())return;const rt=await(await this.initializeRelay()).switchEthereumChain(_e.toString(10)).promise;if(rt.errorCode)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:rt.errorCode});const nt=rt.result;nt.isApproved&&nt.rpcUrl.length>0&&(this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY,"true"),this.updateProviderInfo(nt.rpcUrl,_e,!1))}setAppInfo(_e,tt){this.initializeRelay().then(rt=>rt.setAppInfo(_e,tt))}async enable(){var _e;return(_e=this._eventListener)===null||_e===void 0||_e.onEvent(EventListener_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):null}),this._addresses.length>0?[...this._addresses]:await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(_e,tt){if(typeof _e=="string"){const nt=_e,it=Array.isArray(tt)?tt:tt!==void 0?[tt]:[],at={jsonrpc:"2.0",id:0,method:nt,params:it};return this._sendRequestAsync(at).then(ot=>ot.result)}if(typeof tt=="function"){const nt=_e,it=tt;return this._sendAsync(nt,it)}if(Array.isArray(_e))return _e.map(it=>this._sendRequest(it));const rt=_e;return this._sendRequest(rt)}async sendAsync(_e,tt){if(typeof tt!="function")throw new Error("callback is required");if(Array.isArray(_e)){const nt=tt;this._sendMultipleRequestsAsync(_e).then(it=>nt(null,it)).catch(it=>nt(it,null));return}const rt=tt;return this._sendRequestAsync(_e).then(nt=>rt(null,nt)).catch(nt=>rt(nt,null))}async request(_e){if(!_e||typeof _e!="object"||Array.isArray(_e))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:_e});const{method:tt,params:rt}=_e;if(typeof tt!="string"||tt.length===0)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:_e});if(rt!==void 0&&!Array.isArray(rt)&&(typeof rt!="object"||rt===null))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:_e});const nt=rt===void 0?[]:rt,it=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:tt,params:nt,jsonrpc:"2.0",id:it})).result}async scanQRCode(_e){const rt=await(await this.initializeRelay()).scanQRCode((0,util_1$5.ensureRegExpString)(_e)).promise;if(typeof rt.result!="string")throw new Error("result was not a string");return rt.result}async genericRequest(_e,tt){const nt=await(await this.initializeRelay()).genericRequest(_e,tt).promise;if(typeof nt.result!="string")throw new Error("result was not a string");return nt.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(_e){const tt={jsonrpc:"2.0",id:_e.id},{method:rt}=_e;if(tt.result=this._handleSynchronousMethods(_e),tt.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${rt} synchronously without a callback. Please provide a callback parameter to call ${rt} asynchronously.`);return tt}_setAddresses(_e){if(!Array.isArray(_e))throw new Error("addresses is not an array");const tt=_e.map(rt=>(0,util_1$5.ensureAddressString)(rt));JSON.stringify(tt)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1||(this._addresses=tt,this.emit("accountsChanged",this._addresses),this._storage.setItem(WalletSDKRelayAbstract_1$1.LOCAL_STORAGE_ADDRESSES_KEY,tt.join(" "))))}_sendRequestAsync(_e){return new Promise((tt,rt)=>{try{const nt=this._handleSynchronousMethods(_e);if(nt!==void 0)return tt({jsonrpc:"2.0",id:_e.id,result:nt});const it=this._handleAsynchronousFilterMethods(_e);if(it!==void 0){it.then(ot=>tt(Object.assign(Object.assign({},ot),{id:_e.id}))).catch(ot=>rt(ot));return}const at=this._handleSubscriptionMethods(_e);if(at!==void 0){at.then(ot=>tt({jsonrpc:"2.0",id:_e.id,result:ot.result})).catch(ot=>rt(ot));return}}catch(nt){return rt(nt)}this._handleAsynchronousMethods(_e).then(nt=>nt&&tt(Object.assign(Object.assign({},nt),{id:_e.id}))).catch(nt=>rt(nt))})}_sendMultipleRequestsAsync(_e){return Promise.all(_e.map(tt=>this._sendRequestAsync(tt)))}_handleSynchronousMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_accounts:return this._eth_accounts();case JSONRPC_1.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(rt);case JSONRPC_1.JSONRPCMethod.net_version:return this._net_version();case JSONRPC_1.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case JSONRPC_1.JSONRPCMethod.eth_sign:return this._eth_sign(rt);case JSONRPC_1.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(rt);case JSONRPC_1.JSONRPCMethod.personal_sign:return this._personal_sign(rt);case JSONRPC_1.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(rt);case JSONRPC_1.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(rt);case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:case JSONRPC_1.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(rt);case JSONRPC_1.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(rt);case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(rt);case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(rt);case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(rt)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(_e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(_e){const{method:tt}=_e,rt=_e.params||[];switch(tt){case JSONRPC_1.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(rt);case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(rt);case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(rt)}}_handleSubscriptionMethods(_e){switch(_e.method){case JSONRPC_1.JSONRPCMethod.eth_subscribe:case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(_e)}}_isKnownAddress(_e){try{const tt=(0,util_1$5.ensureAddressString)(_e);return this._addresses.map(nt=>(0,util_1$5.ensureAddressString)(nt)).includes(tt)}catch{}return!1}_ensureKnownAddress(_e){var tt;if(!this._isKnownAddress(_e))throw(tt=this._eventListener)===null||tt===void 0||tt.onEvent(EventListener_1$2.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(_e){const tt=_e.from?(0,util_1$5.ensureAddressString)(_e.from):this.selectedAddress;if(!tt)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(tt);const rt=_e.to?(0,util_1$5.ensureAddressString)(_e.to):null,nt=_e.value!=null?(0,util_1$5.ensureBN)(_e.value):new bn_js_1.default(0),it=_e.data?(0,util_1$5.ensureBuffer)(_e.data):Buffer.alloc(0),at=_e.nonce!=null?(0,util_1$5.ensureIntNumber)(_e.nonce):null,ot=_e.gasPrice!=null?(0,util_1$5.ensureBN)(_e.gasPrice):null,ct=_e.maxFeePerGas!=null?(0,util_1$5.ensureBN)(_e.maxFeePerGas):null,ut=_e.maxPriorityFeePerGas!=null?(0,util_1$5.ensureBN)(_e.maxPriorityFeePerGas):null,ft=_e.gas!=null?(0,util_1$5.ensureBN)(_e.gas):null,yt=this.getChainId();return{fromAddress:tt,toAddress:rt,weiValue:nt,data:it,nonce:at,gasPriceInWei:ot,maxFeePerGas:ct,maxPriorityFeePerGas:ut,gasLimit:ft,chainId:yt}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw eth_rpc_errors_1$1.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw eth_rpc_errors_1$1.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(_e,tt,rt,nt){this._ensureKnownAddress(tt);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(_e,tt,rt,nt).promise).result}}catch(it){throw typeof it.message=="string"&&it.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied message signature"):it}}async _ethereumAddressFromSignedMessage(_e,tt,rt){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(_e,tt,rt).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,util_1$5.hexStringFromIntNumber)(this.getChainId())}getChainId(){const _e=this._storage.getItem(DEFAULT_CHAIN_ID_KEY)||"1",tt=parseInt(_e,10);return(0,util_1$5.ensureIntNumber)(tt)}async _eth_requestAccounts(){var _e;if((_e=this._eventListener)===null||_e===void 0||_e.onEvent(EventListener_1$2.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Session_1$2.Session.hash(this._relay.session.id):null}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let tt;try{tt=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied account authorization"):rt}if(!tt.result)throw new Error("accounts received is empty");return this._setAddresses(tt.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._signEthereumMessage(rt,tt,!1)}_eth_ecRecover(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._ethereumAddressFromSignedMessage(tt,rt,!1)}_personal_sign(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureAddressString)(_e[1]);return this._signEthereumMessage(tt,rt,!0)}_personal_ecRecover(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]),rt=(0,util_1$5.ensureBuffer)(_e[1]);return this._ethereumAddressFromSignedMessage(tt,rt,!0)}async _eth_signTransaction(_e){this._requireAuthorization();const tt=this._prepareTransactionParams(_e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(tt).promise).result}}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature"):rt}}async _eth_sendRawTransaction(_e){const tt=(0,util_1$5.ensureBuffer)(_e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(tt,this.getChainId()).promise).result}}async _eth_sendTransaction(_e){this._requireAuthorization();const tt=this._prepareTransactionParams(_e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(tt).promise).result}}catch(rt){throw typeof rt.message=="string"&&rt.message.match(/(denied|rejected)/i)?eth_rpc_errors_1$1.ethErrors.provider.userRejectedRequest("User denied transaction signature"):rt}}async _eth_signTypedData_v1(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureParsedJSONObject)(_e[0]),rt=(0,util_1$5.ensureAddressString)(_e[1]);this._ensureKnownAddress(rt);const nt=eth_eip712_util_1.default.hashForSignTypedDataLegacy({data:tt}),it=JSON.stringify(tt,null,2);return this._signEthereumMessage(nt,rt,!1,it)}async _eth_signTypedData_v3(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureParsedJSONObject)(_e[1]);this._ensureKnownAddress(tt);const nt=eth_eip712_util_1.default.hashForSignTypedData_v3({data:rt}),it=JSON.stringify(rt,null,2);return this._signEthereumMessage(nt,tt,!1,it)}async _eth_signTypedData_v4(_e){this._requireAuthorization();const tt=(0,util_1$5.ensureAddressString)(_e[0]),rt=(0,util_1$5.ensureParsedJSONObject)(_e[1]);this._ensureKnownAddress(tt);const nt=eth_eip712_util_1.default.hashForSignTypedData_v4({data:rt}),it=JSON.stringify(rt,null,2);return this._signEthereumMessage(nt,tt,!1,it)}async _cbwallet_arbitrary(_e){const tt=_e[0],rt=_e[1];if(typeof rt!="string")throw new Error("parameter must be a string");if(typeof tt!="object"||tt===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(tt,rt)}}async _wallet_addEthereumChain(_e){var tt,rt,nt,it;const at=_e[0];if(((tt=at.rpcUrls)===null||tt===void 0?void 0:tt.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!at.chainName||at.chainName.trim()==="")throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!at.nativeCurrency)throw eth_rpc_errors_1$1.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const ot=parseInt(at.chainId,16);return await this.addEthereumChain(ot,(rt=at.rpcUrls)!==null&&rt!==void 0?rt:[],(nt=at.blockExplorerUrls)!==null&&nt!==void 0?nt:[],at.chainName,(it=at.iconUrls)!==null&&it!==void 0?it:[],at.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(_e){const tt=_e[0];return await this.switchEthereumChain(parseInt(tt.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(_e){var tt;const rt=Array.isArray(_e)?_e[0]:_e;if(((tt=rt.type)===null||tt===void 0?void 0:tt.length)===0)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"type is a required field"});if(rt.type!=="ERC20")throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:`Asset of type '${rt.type}' not supported`});if(!(rt!=null&&rt.options))throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"options is a required field"});if(!rt.options.address)throw eth_rpc_errors_1$1.ethErrors.rpc.invalidParams({message:"option address is a required option"});const nt=this.getChainId(),{address:it,symbol:at,image:ot,decimals:ct}=rt.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(rt.type,it,at,ct,ot,nt)}}_eth_uninstallFilter(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.uninstallFilter(tt)}async _eth_newFilter(_e){const tt=_e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(tt)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.getFilterChanges(tt)}_eth_getFilterLogs(_e){const tt=(0,util_1$5.ensureHexString)(_e[0]);return this._filterPolyfill.getFilterLogs(tt)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(_e=>(_e.setAccountsCallback(tt=>this._setAddresses(tt)),_e.setChainCallback((tt,rt)=>{this.updateProviderInfo(rt,parseInt(tt,10),!0)}),this._relay=_e,_e))}}CoinbaseWalletProvider$1.CoinbaseWalletProvider=CoinbaseWalletProvider;var WalletSDKUI$1={},LinkFlow$1={},n$3,l$4,u$4,i$5,t$5,o$4,r$5,f$5,e$5={},c$5=[],s$4=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a$4(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function h$5(et){var _e=et.parentNode;_e&&_e.removeChild(et)}function v$4(et,_e,tt){var rt,nt,it,at={};for(it in _e)it=="key"?rt=_e[it]:it=="ref"?nt=_e[it]:at[it]=_e[it];if(arguments.length>2&&(at.children=arguments.length>3?n$3.call(arguments,2):tt),typeof et=="function"&&et.defaultProps!=null)for(it in et.defaultProps)at[it]===void 0&&(at[it]=et.defaultProps[it]);return y$4(et,at,rt,nt,null)}function y$4(et,_e,tt,rt,nt){var it={type:et,props:_e,key:tt,ref:rt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:nt==null?++u$4:nt};return nt==null&&l$4.vnode!=null&&l$4.vnode(it),it}function p$5(){return{current:null}}function d$4(et){return et.children}function _$4(et,_e){this.props=et,this.context=_e}function k$4(et,_e){if(_e==null)return et.__?k$4(et.__,et.__.__k.indexOf(et)+1):null;for(var tt;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null)return tt.__e;return typeof et.type=="function"?k$4(et):null}function b$3(et){var _e,tt;if((et=et.__)!=null&&et.__c!=null){for(et.__e=et.__c.base=null,_e=0;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null){et.__e=et.__c.base=tt.__e;break}return b$3(et)}}function m$4(et){(!et.__d&&(et.__d=!0)&&t$5.push(et)&&!g$5.__r++||r$5!==l$4.debounceRendering)&&((r$5=l$4.debounceRendering)||o$4)(g$5)}function g$5(){for(var et;g$5.__r=t$5.length;)et=t$5.sort(function(_e,tt){return _e.__v.__b-tt.__v.__b}),t$5=[],et.some(function(_e){var tt,rt,nt,it,at,ot;_e.__d&&(at=(it=(tt=_e).__v).__e,(ot=tt.__P)&&(rt=[],(nt=a$4({},it)).__v=it.__v+1,j$3(ot,it,nt,tt.__n,ot.ownerSVGElement!==void 0,it.__h!=null?[at]:null,rt,at==null?k$4(it):at,it.__h),z$3(rt,it),it.__e!=at&&b$3(it)))})}function w$5(et,_e,tt,rt,nt,it,at,ot,ct,ut){var ft,yt,bt,Et,Ct,At,St,Tt=rt&&rt.__k||c$5,$t=Tt.length;for(tt.__k=[],ft=0;ft<_e.length;ft++)if((Et=tt.__k[ft]=(Et=_e[ft])==null||typeof Et=="boolean"?null:typeof Et=="string"||typeof Et=="number"||typeof Et=="bigint"?y$4(null,Et,null,null,Et):Array.isArray(Et)?y$4(d$4,{children:Et},null,null,null):Et.__b>0?y$4(Et.type,Et.props,Et.key,null,Et.__v):Et)!=null){if(Et.__=tt,Et.__b=tt.__b+1,(bt=Tt[ft])===null||bt&&Et.key==bt.key&&Et.type===bt.type)Tt[ft]=void 0;else for(yt=0;yt<$t;yt++){if((bt=Tt[yt])&&Et.key==bt.key&&Et.type===bt.type){Tt[yt]=void 0;break}bt=null}j$3(et,Et,bt=bt||e$5,nt,it,at,ot,ct,ut),Ct=Et.__e,(yt=Et.ref)&&bt.ref!=yt&&(St||(St=[]),bt.ref&&St.push(bt.ref,null,Et),St.push(yt,Et.__c||Ct,Et)),Ct!=null?(At==null&&(At=Ct),typeof Et.type=="function"&&Et.__k===bt.__k?Et.__d=ct=x$4(Et,ct,et):ct=P$2(et,Et,bt,Tt,Ct,ct),typeof tt.type=="function"&&(tt.__d=ct)):ct&&bt.__e==ct&&ct.parentNode!=et&&(ct=k$4(bt))}for(tt.__e=At,ft=$t;ft--;)Tt[ft]!=null&&(typeof tt.type=="function"&&Tt[ft].__e!=null&&Tt[ft].__e==tt.__d&&(tt.__d=k$4(rt,ft+1)),N$2(Tt[ft],Tt[ft]));if(St)for(ft=0;ft<St.length;ft++)M$2(St[ft],St[++ft],St[++ft])}function x$4(et,_e,tt){for(var rt,nt=et.__k,it=0;nt&&it<nt.length;it++)(rt=nt[it])&&(rt.__=et,_e=typeof rt.type=="function"?x$4(rt,_e,tt):P$2(tt,rt,rt,nt,rt.__e,_e));return _e}function A$5(et,_e){return _e=_e||[],et==null||typeof et=="boolean"||(Array.isArray(et)?et.some(function(tt){A$5(tt,_e)}):_e.push(et)),_e}function P$2(et,_e,tt,rt,nt,it){var at,ot,ct;if(_e.__d!==void 0)at=_e.__d,_e.__d=void 0;else if(tt==null||nt!=it||nt.parentNode==null)e:if(it==null||it.parentNode!==et)et.appendChild(nt),at=null;else{for(ot=it,ct=0;(ot=ot.nextSibling)&&ct<rt.length;ct+=2)if(ot==nt)break e;et.insertBefore(nt,it),at=it}return at!==void 0?at:nt.nextSibling}function C$2(et,_e,tt,rt,nt){var it;for(it in tt)it==="children"||it==="key"||it in _e||H$2(et,it,null,tt[it],rt);for(it in _e)nt&&typeof _e[it]!="function"||it==="children"||it==="key"||it==="value"||it==="checked"||tt[it]===_e[it]||H$2(et,it,_e[it],tt[it],rt)}function $$2(et,_e,tt){_e[0]==="-"?et.setProperty(_e,tt):et[_e]=tt==null?"":typeof tt!="number"||s$4.test(_e)?tt:tt+"px"}function H$2(et,_e,tt,rt,nt){var it;e:if(_e==="style")if(typeof tt=="string")et.style.cssText=tt;else{if(typeof rt=="string"&&(et.style.cssText=rt=""),rt)for(_e in rt)tt&&_e in tt||$$2(et.style,_e,"");if(tt)for(_e in tt)rt&&tt[_e]===rt[_e]||$$2(et.style,_e,tt[_e])}else if(_e[0]==="o"&&_e[1]==="n")it=_e!==(_e=_e.replace(/Capture$/,"")),_e=_e.toLowerCase()in et?_e.toLowerCase().slice(2):_e.slice(2),et.l||(et.l={}),et.l[_e+it]=tt,tt?rt||et.addEventListener(_e,it?T$4:I$2,it):et.removeEventListener(_e,it?T$4:I$2,it);else if(_e!=="dangerouslySetInnerHTML"){if(nt)_e=_e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_e!=="href"&&_e!=="list"&&_e!=="form"&&_e!=="tabIndex"&&_e!=="download"&&_e in et)try{et[_e]=tt==null?"":tt;break e}catch{}typeof tt=="function"||(tt!=null&&(tt!==!1||_e[0]==="a"&&_e[1]==="r")?et.setAttribute(_e,tt):et.removeAttribute(_e))}}function I$2(et){this.l[et.type+!1](l$4.event?l$4.event(et):et)}function T$4(et){this.l[et.type+!0](l$4.event?l$4.event(et):et)}function j$3(et,_e,tt,rt,nt,it,at,ot,ct){var ut,ft,yt,bt,Et,Ct,At,St,Tt,$t,kt,Pt=_e.type;if(_e.constructor!==void 0)return null;tt.__h!=null&&(ct=tt.__h,ot=_e.__e=tt.__e,_e.__h=null,it=[ot]),(ut=l$4.__b)&&ut(_e);try{e:if(typeof Pt=="function"){if(St=_e.props,Tt=(ut=Pt.contextType)&&rt[ut.__c],$t=ut?Tt?Tt.props.value:ut.__:rt,tt.__c?At=(ft=_e.__c=tt.__c).__=ft.__E:("prototype"in Pt&&Pt.prototype.render?_e.__c=ft=new Pt(St,$t):(_e.__c=ft=new _$4(St,$t),ft.constructor=Pt,ft.render=O$1),Tt&&Tt.sub(ft),ft.props=St,ft.state||(ft.state={}),ft.context=$t,ft.__n=rt,yt=ft.__d=!0,ft.__h=[]),ft.__s==null&&(ft.__s=ft.state),Pt.getDerivedStateFromProps!=null&&(ft.__s==ft.state&&(ft.__s=a$4({},ft.__s)),a$4(ft.__s,Pt.getDerivedStateFromProps(St,ft.__s))),bt=ft.props,Et=ft.state,yt)Pt.getDerivedStateFromProps==null&&ft.componentWillMount!=null&&ft.componentWillMount(),ft.componentDidMount!=null&&ft.__h.push(ft.componentDidMount);else{if(Pt.getDerivedStateFromProps==null&&St!==bt&&ft.componentWillReceiveProps!=null&&ft.componentWillReceiveProps(St,$t),!ft.__e&&ft.shouldComponentUpdate!=null&&ft.shouldComponentUpdate(St,ft.__s,$t)===!1||_e.__v===tt.__v){ft.props=St,ft.state=ft.__s,_e.__v!==tt.__v&&(ft.__d=!1),ft.__v=_e,_e.__e=tt.__e,_e.__k=tt.__k,_e.__k.forEach(function(Ot){Ot&&(Ot.__=_e)}),ft.__h.length&&at.push(ft);break e}ft.componentWillUpdate!=null&&ft.componentWillUpdate(St,ft.__s,$t),ft.componentDidUpdate!=null&&ft.__h.push(function(){ft.componentDidUpdate(bt,Et,Ct)})}ft.context=$t,ft.props=St,ft.state=ft.__s,(ut=l$4.__r)&&ut(_e),ft.__d=!1,ft.__v=_e,ft.__P=et,ut=ft.render(ft.props,ft.state,ft.context),ft.state=ft.__s,ft.getChildContext!=null&&(rt=a$4(a$4({},rt),ft.getChildContext())),yt||ft.getSnapshotBeforeUpdate==null||(Ct=ft.getSnapshotBeforeUpdate(bt,Et)),kt=ut!=null&&ut.type===d$4&&ut.key==null?ut.props.children:ut,w$5(et,Array.isArray(kt)?kt:[kt],_e,tt,rt,nt,it,at,ot,ct),ft.base=_e.__e,_e.__h=null,ft.__h.length&&at.push(ft),At&&(ft.__E=ft.__=null),ft.__e=!1}else it==null&&_e.__v===tt.__v?(_e.__k=tt.__k,_e.__e=tt.__e):_e.__e=L$2(tt.__e,_e,tt,rt,nt,it,at,ct);(ut=l$4.diffed)&&ut(_e)}catch(Ot){_e.__v=null,(ct||it!=null)&&(_e.__e=ot,_e.__h=!!ct,it[it.indexOf(ot)]=null),l$4.__e(Ot,_e,tt)}}function z$3(et,_e){l$4.__c&&l$4.__c(_e,et),et.some(function(tt){try{et=tt.__h,tt.__h=[],et.some(function(rt){rt.call(tt)})}catch(rt){l$4.__e(rt,tt.__v)}})}function L$2(et,_e,tt,rt,nt,it,at,ot){var ct,ut,ft,yt=tt.props,bt=_e.props,Et=_e.type,Ct=0;if(Et==="svg"&&(nt=!0),it!=null){for(;Ct<it.length;Ct++)if((ct=it[Ct])&&"setAttribute"in ct==!!Et&&(Et?ct.localName===Et:ct.nodeType===3)){et=ct,it[Ct]=null;break}}if(et==null){if(Et===null)return document.createTextNode(bt);et=nt?document.createElementNS("http://www.w3.org/2000/svg",Et):document.createElement(Et,bt.is&&bt),it=null,ot=!1}if(Et===null)yt===bt||ot&&et.data===bt||(et.data=bt);else{if(it=it&&n$3.call(et.childNodes),ut=(yt=tt.props||e$5).dangerouslySetInnerHTML,ft=bt.dangerouslySetInnerHTML,!ot){if(it!=null)for(yt={},Ct=0;Ct<et.attributes.length;Ct++)yt[et.attributes[Ct].name]=et.attributes[Ct].value;(ft||ut)&&(ft&&(ut&&ft.__html==ut.__html||ft.__html===et.innerHTML)||(et.innerHTML=ft&&ft.__html||""))}if(C$2(et,bt,yt,nt,ot),ft)_e.__k=[];else if(Ct=_e.props.children,w$5(et,Array.isArray(Ct)?Ct:[Ct],_e,tt,rt,nt&&Et!=="foreignObject",it,at,it?it[0]:tt.__k&&k$4(tt,0),ot),it!=null)for(Ct=it.length;Ct--;)it[Ct]!=null&&h$5(it[Ct]);ot||("value"in bt&&(Ct=bt.value)!==void 0&&(Ct!==et.value||Et==="progress"&&!Ct||Et==="option"&&Ct!==yt.value)&&H$2(et,"value",Ct,yt.value,!1),"checked"in bt&&(Ct=bt.checked)!==void 0&&Ct!==et.checked&&H$2(et,"checked",Ct,yt.checked,!1))}return et}function M$2(et,_e,tt){try{typeof et=="function"?et(_e):et.current=_e}catch(rt){l$4.__e(rt,tt)}}function N$2(et,_e,tt){var rt,nt;if(l$4.unmount&&l$4.unmount(et),(rt=et.ref)&&(rt.current&&rt.current!==et.__e||M$2(rt,null,_e)),(rt=et.__c)!=null){if(rt.componentWillUnmount)try{rt.componentWillUnmount()}catch(it){l$4.__e(it,_e)}rt.base=rt.__P=null}if(rt=et.__k)for(nt=0;nt<rt.length;nt++)rt[nt]&&N$2(rt[nt],_e,typeof et.type!="function");tt||et.__e==null||h$5(et.__e),et.__e=et.__d=void 0}function O$1(et,_e,tt){return this.constructor(et,tt)}function S$1(et,_e,tt){var rt,nt,it;l$4.__&&l$4.__(et,_e),nt=(rt=typeof tt=="function")?null:tt&&tt.__k||_e.__k,it=[],j$3(_e,et=(!rt&&tt||_e).__k=v$4(d$4,null,[et]),nt||e$5,e$5,_e.ownerSVGElement!==void 0,!rt&&tt?[tt]:nt?null:_e.firstChild?n$3.call(_e.childNodes):null,it,!rt&&tt?tt:nt?nt.__e:_e.firstChild,rt),z$3(it,et)}function q$4(et,_e){S$1(et,_e,q$4)}function B$1(et,_e,tt){var rt,nt,it,at=a$4({},et.props);for(it in _e)it=="key"?rt=_e[it]:it=="ref"?nt=_e[it]:at[it]=_e[it];return arguments.length>2&&(at.children=arguments.length>3?n$3.call(arguments,2):tt),y$4(et.type,at,rt||et.key,nt||et.ref,null)}function D$2(et,_e){var tt={__c:_e="__cC"+f$5++,__:et,Consumer:function(rt,nt){return rt.children(nt)},Provider:function(rt){var nt,it;return this.getChildContext||(nt=[],(it={})[_e]=this,this.getChildContext=function(){return it},this.shouldComponentUpdate=function(at){this.props.value!==at.value&&nt.some(m$4)},this.sub=function(at){nt.push(at);var ot=at.componentWillUnmount;at.componentWillUnmount=function(){nt.splice(nt.indexOf(at),1),ot&&ot.call(at)}}),rt.children}};return tt.Provider.__=tt.Consumer.contextType=tt}n$3=c$5.slice,l$4={__e:function(et,_e,tt,rt){for(var nt,it,at;_e=_e.__;)if((nt=_e.__c)&&!nt.__)try{if((it=nt.constructor)&&it.getDerivedStateFromError!=null&&(nt.setState(it.getDerivedStateFromError(et)),at=nt.__d),nt.componentDidCatch!=null&&(nt.componentDidCatch(et,rt||{}),at=nt.__d),at)return nt.__E=nt}catch(ot){et=ot}throw et}},u$4=0,i$5=function(et){return et!=null&&et.constructor===void 0},_$4.prototype.setState=function(et,_e){var tt;tt=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=a$4({},this.state),typeof et=="function"&&(et=et(a$4({},tt),this.props)),et&&a$4(tt,et),et!=null&&this.__v&&(_e&&this.__h.push(_e),m$4(this))},_$4.prototype.forceUpdate=function(et){this.__v&&(this.__e=!0,et&&this.__h.push(et),m$4(this))},_$4.prototype.render=d$4,t$5=[],o$4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g$5.__r=0,f$5=0;const preact_module=Object.freeze(Object.defineProperty({__proto__:null,render:S$1,hydrate:q$4,createElement:v$4,h:v$4,Fragment:d$4,createRef:p$5,get isValidElement(){return i$5},Component:_$4,cloneElement:B$1,createContext:D$2,toChildArray:A$5,get options(){return l$4}},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(preact_module);var TryExtensionLinkDialog$1={};function toVal(et){var _e,tt,rt="";if(typeof et=="string"||typeof et=="number")rt+=et;else if(typeof et=="object")if(Array.isArray(et))for(_e=0;_e<et.length;_e++)et[_e]&&(tt=toVal(et[_e]))&&(rt&&(rt+=" "),rt+=tt);else for(_e in et)et[_e]&&(rt&&(rt+=" "),rt+=_e);return rt}function clsx_m(){for(var et=0,_e,tt,rt="";et<arguments.length;)(_e=arguments[et++])&&(tt=toVal(_e))&&(rt&&(rt+=" "),rt+=tt);return rt}const clsx_m$1=Object.freeze(Object.defineProperty({__proto__:null,default:clsx_m},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(clsx_m$1);var t$4,u$3,r$4,o$3=0,i$4=[],c$4=l$4.__b,f$4=l$4.__r,e$4=l$4.diffed,a$3=l$4.__c,v$3=l$4.unmount;function l$3(et,_e){l$4.__h&&l$4.__h(u$3,et,o$3||_e),o$3=0;var tt=u$3.__H||(u$3.__H={__:[],__h:[]});return et>=tt.__.length&&tt.__.push({}),tt.__[et]}function m$3(et){return o$3=1,p$4(w$4,et)}function p$4(et,_e,tt){var rt=l$3(t$4++,2);return rt.t=et,rt.__c||(rt.__=[tt?tt(_e):w$4(void 0,_e),function(nt){var it=rt.t(rt.__[0],nt);rt.__[0]!==it&&(rt.__=[it,rt.__[1]],rt.__c.setState({}))}],rt.__c=u$3),rt.__}function y$3(et,_e){var tt=l$3(t$4++,3);!l$4.__s&&k$3(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u$3.__H.__h.push(tt))}function d$3(et,_e){var tt=l$3(t$4++,4);!l$4.__s&&k$3(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u$3.__h.push(tt))}function h$4(et){return o$3=5,_$3(function(){return{current:et}},[])}function s$3(et,_e,tt){o$3=6,d$3(function(){return typeof et=="function"?(et(_e()),function(){return et(null)}):et?(et.current=_e(),function(){return et.current=null}):void 0},tt==null?tt:tt.concat(et))}function _$3(et,_e){var tt=l$3(t$4++,7);return k$3(tt.__H,_e)&&(tt.__=et(),tt.__H=_e,tt.__h=et),tt.__}function A$4(et,_e){return o$3=8,_$3(function(){return et},_e)}function F$2(et){var _e=u$3.context[et.__c],tt=l$3(t$4++,9);return tt.c=et,_e?(tt.__==null&&(tt.__=!0,_e.sub(u$3)),_e.props.value):et.__}function T$3(et,_e){l$4.useDebugValue&&l$4.useDebugValue(_e?_e(et):et)}function q$3(et){var _e=l$3(t$4++,10),tt=m$3();return _e.__=et,u$3.componentDidCatch||(u$3.componentDidCatch=function(rt){_e.__&&_e.__(rt),tt[1](rt)}),[tt[0],function(){tt[1](void 0)}]}function x$3(){for(var et;et=i$4.shift();)if(et.__P)try{et.__H.__h.forEach(g$4),et.__H.__h.forEach(j$2),et.__H.__h=[]}catch(_e){et.__H.__h=[],l$4.__e(_e,et.__v)}}l$4.__b=function(et){u$3=null,c$4&&c$4(et)},l$4.__r=function(et){f$4&&f$4(et),t$4=0;var _e=(u$3=et.__c).__H;_e&&(_e.__h.forEach(g$4),_e.__h.forEach(j$2),_e.__h=[])},l$4.diffed=function(et){e$4&&e$4(et);var _e=et.__c;_e&&_e.__H&&_e.__H.__h.length&&(i$4.push(_e)!==1&&r$4===l$4.requestAnimationFrame||((r$4=l$4.requestAnimationFrame)||function(tt){var rt,nt=function(){clearTimeout(it),b$2&&cancelAnimationFrame(rt),setTimeout(tt)},it=setTimeout(nt,100);b$2&&(rt=requestAnimationFrame(nt))})(x$3)),u$3=null},l$4.__c=function(et,_e){_e.some(function(tt){try{tt.__h.forEach(g$4),tt.__h=tt.__h.filter(function(rt){return!rt.__||j$2(rt)})}catch(rt){_e.some(function(nt){nt.__h&&(nt.__h=[])}),_e=[],l$4.__e(rt,tt.__v)}}),a$3&&a$3(et,_e)},l$4.unmount=function(et){v$3&&v$3(et);var _e,tt=et.__c;tt&&tt.__H&&(tt.__H.__.forEach(function(rt){try{g$4(rt)}catch(nt){_e=nt}}),_e&&l$4.__e(_e,tt.__v))};var b$2=typeof requestAnimationFrame=="function";function g$4(et){var _e=u$3,tt=et.__c;typeof tt=="function"&&(et.__c=void 0,tt()),u$3=_e}function j$2(et){var _e=u$3;et.__c=et.__(),u$3=_e}function k$3(et,_e){return!et||et.length!==_e.length||_e.some(function(tt,rt){return tt!==et[rt]})}function w$4(et,_e){return typeof _e=="function"?_e(et):_e}const hooks_module=Object.freeze(Object.defineProperty({__proto__:null,useState:m$3,useReducer:p$4,useEffect:y$3,useLayoutEffect:d$3,useRef:h$4,useImperativeHandle:s$3,useMemo:_$3,useCallback:A$4,useContext:F$2,useDebugValue:T$3,useErrorBoundary:q$3},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(hooks_module);var version$2={};Object.defineProperty(version$2,"__esModule",{value:!0});version$2.LIB_VERSION=void 0;version$2.LIB_VERSION="3.1.0";var globeIconSvg={};Object.defineProperty(globeIconSvg,"__esModule",{value:!0});globeIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var linkIconSvg={};Object.defineProperty(linkIconSvg,"__esModule",{value:!0});linkIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var lockIconSvg={};Object.defineProperty(lockIconSvg,"__esModule",{value:!0});lockIconSvg.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var QRLogo={};Object.defineProperty(QRLogo,"__esModule",{value:!0});QRLogo.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var QRCode$4={};function QR8bitByte(et){this.mode=QRMode.MODE_8BIT_BYTE,this.data=et,this.parsedData=[];for(var _e=0,tt=this.data.length;_e<tt;_e++){var rt=[],nt=this.data.charCodeAt(_e);nt>65536?(rt[0]=240|(nt&1835008)>>>18,rt[1]=128|(nt&258048)>>>12,rt[2]=128|(nt&4032)>>>6,rt[3]=128|nt&63):nt>2048?(rt[0]=224|(nt&61440)>>>12,rt[1]=128|(nt&4032)>>>6,rt[2]=128|nt&63):nt>128?(rt[0]=192|(nt&1984)>>>6,rt[1]=128|nt&63):rt[0]=nt,this.parsedData.push(rt)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}QR8bitByte.prototype={getLength:function(et){return this.parsedData.length},write:function(et){for(var _e=0,tt=this.parsedData.length;_e<tt;_e++)et.put(this.parsedData[_e],8)}};function QRCodeModel(et,_e){this.typeNumber=et,this.errorCorrectLevel=_e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}QRCodeModel.prototype={addData:function(et){var _e=new QR8bitByte(et);this.dataList.push(_e),this.dataCache=null},isDark:function(et,_e){if(et<0||this.moduleCount<=et||_e<0||this.moduleCount<=_e)throw new Error(et+","+_e);return this.modules[et][_e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(et,_e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var tt=0;tt<this.moduleCount;tt++){this.modules[tt]=new Array(this.moduleCount);for(var rt=0;rt<this.moduleCount;rt++)this.modules[tt][rt]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(et,_e),this.typeNumber>=7&&this.setupTypeNumber(et),this.dataCache==null&&(this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_e)},setupPositionProbePattern:function(et,_e){for(var tt=-1;tt<=7;tt++)if(!(et+tt<=-1||this.moduleCount<=et+tt))for(var rt=-1;rt<=7;rt++)_e+rt<=-1||this.moduleCount<=_e+rt||(0<=tt&&tt<=6&&(rt==0||rt==6)||0<=rt&&rt<=6&&(tt==0||tt==6)||2<=tt&&tt<=4&&2<=rt&&rt<=4?this.modules[et+tt][_e+rt]=!0:this.modules[et+tt][_e+rt]=!1)},getBestMaskPattern:function(){for(var et=0,_e=0,tt=0;tt<8;tt++){this.makeImpl(!0,tt);var rt=QRUtil.getLostPoint(this);(tt==0||et>rt)&&(et=rt,_e=tt)}return _e},createMovieClip:function(et,_e,tt){var rt=et.createEmptyMovieClip(_e,tt),nt=1;this.make();for(var it=0;it<this.modules.length;it++)for(var at=it*nt,ot=0;ot<this.modules[it].length;ot++){var ct=ot*nt,ut=this.modules[it][ot];ut&&(rt.beginFill(0,100),rt.moveTo(ct,at),rt.lineTo(ct+nt,at),rt.lineTo(ct+nt,at+nt),rt.lineTo(ct,at+nt),rt.endFill())}return rt},setupTimingPattern:function(){for(var et=8;et<this.moduleCount-8;et++)this.modules[et][6]==null&&(this.modules[et][6]=et%2==0);for(var _e=8;_e<this.moduleCount-8;_e++)this.modules[6][_e]==null&&(this.modules[6][_e]=_e%2==0)},setupPositionAdjustPattern:function(){for(var et=QRUtil.getPatternPosition(this.typeNumber),_e=0;_e<et.length;_e++)for(var tt=0;tt<et.length;tt++){var rt=et[_e],nt=et[tt];if(this.modules[rt][nt]==null)for(var it=-2;it<=2;it++)for(var at=-2;at<=2;at++)it==-2||it==2||at==-2||at==2||it==0&&at==0?this.modules[rt+it][nt+at]=!0:this.modules[rt+it][nt+at]=!1}},setupTypeNumber:function(et){for(var _e=QRUtil.getBCHTypeNumber(this.typeNumber),tt=0;tt<18;tt++){var rt=!et&&(_e>>tt&1)==1;this.modules[Math.floor(tt/3)][tt%3+this.moduleCount-8-3]=rt}for(var tt=0;tt<18;tt++){var rt=!et&&(_e>>tt&1)==1;this.modules[tt%3+this.moduleCount-8-3][Math.floor(tt/3)]=rt}},setupTypeInfo:function(et,_e){for(var tt=this.errorCorrectLevel<<3|_e,rt=QRUtil.getBCHTypeInfo(tt),nt=0;nt<15;nt++){var it=!et&&(rt>>nt&1)==1;nt<6?this.modules[nt][8]=it:nt<8?this.modules[nt+1][8]=it:this.modules[this.moduleCount-15+nt][8]=it}for(var nt=0;nt<15;nt++){var it=!et&&(rt>>nt&1)==1;nt<8?this.modules[8][this.moduleCount-nt-1]=it:nt<9?this.modules[8][15-nt-1+1]=it:this.modules[8][15-nt-1]=it}this.modules[this.moduleCount-8][8]=!et},mapData:function(et,_e){for(var tt=-1,rt=this.moduleCount-1,nt=7,it=0,at=this.moduleCount-1;at>0;at-=2)for(at==6&&at--;;){for(var ot=0;ot<2;ot++)if(this.modules[rt][at-ot]==null){var ct=!1;it<et.length&&(ct=(et[it]>>>nt&1)==1);var ut=QRUtil.getMask(_e,rt,at-ot);ut&&(ct=!ct),this.modules[rt][at-ot]=ct,nt--,nt==-1&&(it++,nt=7)}if(rt+=tt,rt<0||this.moduleCount<=rt){rt-=tt,tt=-tt;break}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(et,_e,tt){for(var rt=QRRSBlock.getRSBlocks(et,_e),nt=new QRBitBuffer,it=0;it<tt.length;it++){var at=tt[it];nt.put(at.mode,4),nt.put(at.getLength(),QRUtil.getLengthInBits(at.mode,et)),at.write(nt)}for(var ot=0,it=0;it<rt.length;it++)ot+=rt[it].dataCount;if(nt.getLengthInBits()>ot*8)throw new Error("code length overflow. ("+nt.getLengthInBits()+">"+ot*8+")");for(nt.getLengthInBits()+4<=ot*8&&nt.put(0,4);nt.getLengthInBits()%8!=0;)nt.putBit(!1);for(;!(nt.getLengthInBits()>=ot*8||(nt.put(QRCodeModel.PAD0,8),nt.getLengthInBits()>=ot*8));)nt.put(QRCodeModel.PAD1,8);return QRCodeModel.createBytes(nt,rt)};QRCodeModel.createBytes=function(et,_e){for(var tt=0,rt=0,nt=0,it=new Array(_e.length),at=new Array(_e.length),ot=0;ot<_e.length;ot++){var ct=_e[ot].dataCount,ut=_e[ot].totalCount-ct;rt=Math.max(rt,ct),nt=Math.max(nt,ut),it[ot]=new Array(ct);for(var ft=0;ft<it[ot].length;ft++)it[ot][ft]=255&et.buffer[ft+tt];tt+=ct;var yt=QRUtil.getErrorCorrectPolynomial(ut),bt=new QRPolynomial(it[ot],yt.getLength()-1),Et=bt.mod(yt);at[ot]=new Array(yt.getLength()-1);for(var ft=0;ft<at[ot].length;ft++){var Ct=ft+Et.getLength()-at[ot].length;at[ot][ft]=Ct>=0?Et.get(Ct):0}}for(var At=0,ft=0;ft<_e.length;ft++)At+=_e[ft].totalCount;for(var St=new Array(At),Tt=0,ft=0;ft<rt;ft++)for(var ot=0;ot<_e.length;ot++)ft<it[ot].length&&(St[Tt++]=it[ot][ft]);for(var ft=0;ft<nt;ft++)for(var ot=0;ot<_e.length;ot++)ft<at[ot].length&&(St[Tt++]=at[ot][ft]);return St};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(et){for(var _e=et<<10;QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)_e^=QRUtil.G15<<QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G15);return(et<<10|_e)^QRUtil.G15_MASK},getBCHTypeNumber:function(et){for(var _e=et<<12;QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)_e^=QRUtil.G18<<QRUtil.getBCHDigit(_e)-QRUtil.getBCHDigit(QRUtil.G18);return et<<12|_e},getBCHDigit:function(et){for(var _e=0;et!=0;)_e++,et>>>=1;return _e},getPatternPosition:function(et){return QRUtil.PATTERN_POSITION_TABLE[et-1]},getMask:function(et,_e,tt){switch(et){case QRMaskPattern.PATTERN000:return(_e+tt)%2==0;case QRMaskPattern.PATTERN001:return _e%2==0;case QRMaskPattern.PATTERN010:return tt%3==0;case QRMaskPattern.PATTERN011:return(_e+tt)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(_e/2)+Math.floor(tt/3))%2==0;case QRMaskPattern.PATTERN101:return _e*tt%2+_e*tt%3==0;case QRMaskPattern.PATTERN110:return(_e*tt%2+_e*tt%3)%2==0;case QRMaskPattern.PATTERN111:return(_e*tt%3+(_e+tt)%2)%2==0;default:throw new Error("bad maskPattern:"+et)}},getErrorCorrectPolynomial:function(et){for(var _e=new QRPolynomial([1],0),tt=0;tt<et;tt++)_e=_e.multiply(new QRPolynomial([1,QRMath.gexp(tt)],0));return _e},getLengthInBits:function(et,_e){if(1<=_e&&_e<10)switch(et){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+et)}else if(_e<27)switch(et){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+et)}else if(_e<41)switch(et){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+et)}else throw new Error("type:"+_e)},getLostPoint:function(et){for(var _e=et.getModuleCount(),tt=0,rt=0;rt<_e;rt++)for(var nt=0;nt<_e;nt++){for(var it=0,at=et.isDark(rt,nt),ot=-1;ot<=1;ot++)if(!(rt+ot<0||_e<=rt+ot))for(var ct=-1;ct<=1;ct++)nt+ct<0||_e<=nt+ct||ot==0&&ct==0||at==et.isDark(rt+ot,nt+ct)&&it++;it>5&&(tt+=3+it-5)}for(var rt=0;rt<_e-1;rt++)for(var nt=0;nt<_e-1;nt++){var ut=0;et.isDark(rt,nt)&&ut++,et.isDark(rt+1,nt)&&ut++,et.isDark(rt,nt+1)&&ut++,et.isDark(rt+1,nt+1)&&ut++,(ut==0||ut==4)&&(tt+=3)}for(var rt=0;rt<_e;rt++)for(var nt=0;nt<_e-6;nt++)et.isDark(rt,nt)&&!et.isDark(rt,nt+1)&&et.isDark(rt,nt+2)&&et.isDark(rt,nt+3)&&et.isDark(rt,nt+4)&&!et.isDark(rt,nt+5)&&et.isDark(rt,nt+6)&&(tt+=40);for(var nt=0;nt<_e;nt++)for(var rt=0;rt<_e-6;rt++)et.isDark(rt,nt)&&!et.isDark(rt+1,nt)&&et.isDark(rt+2,nt)&&et.isDark(rt+3,nt)&&et.isDark(rt+4,nt)&&!et.isDark(rt+5,nt)&&et.isDark(rt+6,nt)&&(tt+=40);for(var ft=0,nt=0;nt<_e;nt++)for(var rt=0;rt<_e;rt++)et.isDark(rt,nt)&&ft++;var yt=Math.abs(100*ft/_e/_e-50)/5;return tt+=yt*10,tt}},QRMath={glog:function(et){if(et<1)throw new Error("glog("+et+")");return QRMath.LOG_TABLE[et]},gexp:function(et){for(;et<0;)et+=255;for(;et>=256;)et-=255;return QRMath.EXP_TABLE[et]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i$3=0;i$3<8;i$3++)QRMath.EXP_TABLE[i$3]=1<<i$3;for(var i$3=8;i$3<256;i$3++)QRMath.EXP_TABLE[i$3]=QRMath.EXP_TABLE[i$3-4]^QRMath.EXP_TABLE[i$3-5]^QRMath.EXP_TABLE[i$3-6]^QRMath.EXP_TABLE[i$3-8];for(var i$3=0;i$3<255;i$3++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i$3]]=i$3;function QRPolynomial(et,_e){if(et.length==null)throw new Error(et.length+"/"+_e);for(var tt=0;tt<et.length&&et[tt]==0;)tt++;this.num=new Array(et.length-tt+_e);for(var rt=0;rt<et.length-tt;rt++)this.num[rt]=et[rt+tt]}QRPolynomial.prototype={get:function(et){return this.num[et]},getLength:function(){return this.num.length},multiply:function(et){for(var _e=new Array(this.getLength()+et.getLength()-1),tt=0;tt<this.getLength();tt++)for(var rt=0;rt<et.getLength();rt++)_e[tt+rt]^=QRMath.gexp(QRMath.glog(this.get(tt))+QRMath.glog(et.get(rt)));return new QRPolynomial(_e,0)},mod:function(et){if(this.getLength()-et.getLength()<0)return this;for(var _e=QRMath.glog(this.get(0))-QRMath.glog(et.get(0)),tt=new Array(this.getLength()),rt=0;rt<this.getLength();rt++)tt[rt]=this.get(rt);for(var rt=0;rt<et.getLength();rt++)tt[rt]^=QRMath.gexp(QRMath.glog(et.get(rt))+_e);return new QRPolynomial(tt,0).mod(et)}};function QRRSBlock(et,_e){this.totalCount=et,this.dataCount=_e}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(et,_e){var tt=QRRSBlock.getRsBlockTable(et,_e);if(tt==null)throw new Error("bad rs block @ typeNumber:"+et+"/errorCorrectLevel:"+_e);for(var rt=tt.length/3,nt=[],it=0;it<rt;it++)for(var at=tt[it*3+0],ot=tt[it*3+1],ct=tt[it*3+2],ut=0;ut<at;ut++)nt.push(new QRRSBlock(ot,ct));return nt};QRRSBlock.getRsBlockTable=function(et,_e){switch(_e){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(et-1)*4+3];default:return}};function QRBitBuffer(){this.buffer=[],this.length=0}QRBitBuffer.prototype={get:function(et){var _e=Math.floor(et/8);return(this.buffer[_e]>>>7-et%8&1)==1},put:function(et,_e){for(var tt=0;tt<_e;tt++)this.putBit((et>>>_e-tt-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(et){var _e=Math.floor(this.length/8);this.buffer.length<=_e&&this.buffer.push(0),et&&(this.buffer[_e]|=128>>>this.length%8),this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function QRCode$3(et){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof et=="string"&&(et={content:et}),et)for(var _e in et)this.options[_e]=et[_e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function tt(ct){switch(ct){case"L":return QRErrorCorrectLevel.L;case"M":return QRErrorCorrectLevel.M;case"Q":return QRErrorCorrectLevel.Q;case"H":return QRErrorCorrectLevel.H;default:throw new Error("Unknwon error correction level: "+ct)}}function rt(ct,ut){for(var ft=nt(ct),yt=1,bt=0,Et=0,Ct=QRCodeLimitLength.length;Et<=Ct;Et++){var At=QRCodeLimitLength[Et];if(!At)throw new Error("Content too long: expected "+bt+" but got "+ft);switch(ut){case"L":bt=At[0];break;case"M":bt=At[1];break;case"Q":bt=At[2];break;case"H":bt=At[3];break;default:throw new Error("Unknwon error correction level: "+ut)}if(ft<=bt)break;yt++}if(yt>QRCodeLimitLength.length)throw new Error("Content too long");return yt}function nt(ct){var ut=encodeURI(ct).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return ut.length+(ut.length!=ct?3:0)}var it=this.options.content,at=rt(it,this.options.ecl),ot=tt(this.options.ecl);this.qrcode=new QRCodeModel(at,ot),this.qrcode.addData(it),this.qrcode.make()}QRCode$3.prototype.svg=function(et){var _e=this.options||{},tt=this.qrcode.modules;typeof et>"u"&&(et={container:_e.container||"svg"});for(var rt=typeof _e.pretty<"u"?!!_e.pretty:!0,nt=rt?"  ":"",it=rt?`\r
`:"",at=_e.width,ot=_e.height,ct=tt.length,ut=at/(ct+2*_e.padding),ft=ot/(ct+2*_e.padding),yt=typeof _e.join<"u"?!!_e.join:!1,bt=typeof _e.swap<"u"?!!_e.swap:!1,Et=typeof _e.xmlDeclaration<"u"?!!_e.xmlDeclaration:!0,Ct=typeof _e.predefined<"u"?!!_e.predefined:!1,At=Ct?nt+'<defs><path id="qrmodule" d="M0 0 h'+ft+" v"+ut+' H0 z" style="fill:'+_e.color+';shape-rendering:crispEdges;" /></defs>'+it:"",St=nt+'<rect x="0" y="0" width="'+at+'" height="'+ot+'" style="fill:'+_e.background+';shape-rendering:crispEdges;"/>'+it,Tt="",$t="",kt=0;kt<ct;kt++)for(var Pt=0;Pt<ct;Pt++){var Ot=tt[Pt][kt];if(Ot){var Ht=Pt*ut+_e.padding*ut,qt=kt*ft+_e.padding*ft;if(bt){var Zt=Ht;Ht=qt,qt=Zt}if(yt){var tr=ut+Ht,Dt=ft+qt;Ht=Number.isInteger(Ht)?Number(Ht):Ht.toFixed(2),qt=Number.isInteger(qt)?Number(qt):qt.toFixed(2),tr=Number.isInteger(tr)?Number(tr):tr.toFixed(2),Dt=Number.isInteger(Dt)?Number(Dt):Dt.toFixed(2),$t+="M"+Ht+","+qt+" V"+Dt+" H"+tr+" V"+qt+" H"+Ht+" Z "}else Ct?Tt+=nt+'<use x="'+Ht.toString()+'" y="'+qt.toString()+'" href="#qrmodule" />'+it:Tt+=nt+'<rect x="'+Ht.toString()+'" y="'+qt.toString()+'" width="'+ut+'" height="'+ft+'" style="fill:'+_e.color+';shape-rendering:crispEdges;"/>'+it}}yt&&(Tt=nt+'<path x="0" y="0" style="fill:'+_e.color+';shape-rendering:crispEdges;" d="'+$t+'" />');let Rt="";if(this.options.image!==void 0&&this.options.image.svg){const ht=at*this.options.image.width/100,st=ot*this.options.image.height/100,dt=at/2-ht/2,mt=ot/2-st/2;Rt+=`<svg x="${dt}" y="${mt}" width="${ht}" height="${st}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,Rt+=this.options.image.svg+it,Rt+="</svg>"}var Nt="";switch(et.container){case"svg":Et&&(Nt+='<?xml version="1.0" standalone="yes"?>'+it),Nt+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+at+'" height="'+ot+'">'+it,Nt+=At+St+Tt,Nt+=Rt,Nt+="</svg>";break;case"svg-viewbox":Et&&(Nt+='<?xml version="1.0" standalone="yes"?>'+it),Nt+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+at+" "+ot+'">'+it,Nt+=At+St+Tt,Nt+=Rt,Nt+="</svg>";break;case"g":Nt+='<g width="'+at+'" height="'+ot+'">'+it,Nt+=At+St+Tt,Nt+=Rt,Nt+="</g>";break;default:Nt+=(At+St+Tt+Rt).replace(/^\s+/,"");break}return Nt};var qrcodeSvg=QRCode$3,__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(QRCode$4,"__esModule",{value:!0});QRCode$4.QRCode=void 0;const preact_1$3=require$$1,hooks_1$1=require$$2,qrcode_svg_1=__importDefault$4(qrcodeSvg),QRCode$2=et=>{const[_e,tt]=(0,hooks_1$1.useState)("");return(0,hooks_1$1.useEffect)(()=>{var rt,nt;const it=new qrcode_svg_1.default({content:et.content,background:et.bgColor||"#ffffff",color:et.fgColor||"#000000",container:"svg",ecl:"M",width:(rt=et.width)!==null&&rt!==void 0?rt:256,height:(nt=et.height)!==null&&nt!==void 0?nt:256,padding:0,image:et.image}),at=Buffer.from(it.svg(),"utf8").toString("base64");tt(`data:image/svg+xml;base64,${at}`)}),_e?(0,preact_1$3.h)("img",{src:_e,alt:"QR Code"}):null};QRCode$4.QRCode=QRCode$2;var Spinner$2={},SpinnerCss={};Object.defineProperty(SpinnerCss,"__esModule",{value:!0});SpinnerCss.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(Spinner$2,"__esModule",{value:!0});Spinner$2.Spinner=void 0;const preact_1$2=require$$1,Spinner_css_1=__importDefault$3(SpinnerCss),Spinner$1=et=>{var _e;const tt=(_e=et.size)!==null&&_e!==void 0?_e:64,rt=et.color||"#000";return(0,preact_1$2.h)("div",{class:"-cbwsdk-spinner"},(0,preact_1$2.h)("style",null,Spinner_css_1.default),(0,preact_1$2.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:tt,height:tt}},(0,preact_1$2.h)("circle",{style:{cx:50,cy:50,r:45,stroke:rt}})))};Spinner$2.Spinner=Spinner$1;var TryExtensionLinkDialogCss={};Object.defineProperty(TryExtensionLinkDialogCss,"__esModule",{value:!0});TryExtensionLinkDialogCss.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}';var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(TryExtensionLinkDialog$1,"__esModule",{value:!0});TryExtensionLinkDialog$1.TryExtensionLinkDialog=void 0;const clsx_1=__importDefault$2(require$$0$2),preact_1$1=require$$1,hooks_1=require$$2,util_1$4=util$5,version_1=version$2,globe_icon_svg_1=__importDefault$2(globeIconSvg),link_icon_svg_1=__importDefault$2(linkIconSvg),lock_icon_svg_1=__importDefault$2(lockIconSvg),QRLogo_1=__importDefault$2(QRLogo),QRCode_1=QRCode$4,Spinner_1=Spinner$2,TryExtensionLinkDialog_css_1=__importDefault$2(TryExtensionLinkDialogCss),TryExtensionLinkDialog=et=>{const[_e,tt]=(0,hooks_1.useState)(!et.isOpen),[rt,nt]=(0,hooks_1.useState)(!et.isOpen);return(0,hooks_1.useEffect)(()=>{const{isOpen:it}=et,at=[window.setTimeout(()=>{nt(!it)},10)];return it?tt(!1):at.push(window.setTimeout(()=>{tt(!0)},360)),()=>{at.forEach(window.clearTimeout)}},[et.isOpen]),(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-extension-dialog-container",_e&&"-cbwsdk-extension-dialog-container-hidden")},(0,preact_1$1.h)("style",null,TryExtensionLinkDialog_css_1.default),(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-extension-dialog-backdrop",rt&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog"},(0,preact_1$1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-extension-dialog-box",rt&&"-cbwsdk-extension-dialog-box-hidden")},(0,preact_1$1.h)(TryExtensionBox,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),et.connectDisabled?null:(0,preact_1$1.h)(ScanQRBox,{darkMode:et.darkMode,version:et.version,sessionId:et.sessionId,sessionSecret:et.sessionSecret,linkAPIUrl:et.linkAPIUrl,isConnected:et.isConnected,isParentConnection:et.isParentConnection}),et.onCancel&&(0,preact_1$1.h)(CancelButton,{onClick:et.onCancel}))))};TryExtensionLinkDialog$1.TryExtensionLinkDialog=TryExtensionLinkDialog;const TryExtensionBox=({onInstallClick:et})=>{const[_e,tt]=(0,hooks_1.useState)(!1),rt=(0,hooks_1.useCallback)(()=>{_e?window.location.reload():(et(),tt(!0))},[et,_e]);return(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top"},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,preact_1$1.h)("h2",null,"Try the Coinbase Wallet extension"),_e&&(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,preact_1$1.h)("button",{type:"button",onClick:rt},_e?"Refresh":"Install")),(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-info-region"},(0,preact_1$1.h)(DescriptionItem,{icon:link_icon_svg_1.default,text:"Connect to crypto apps with one click"}),(0,preact_1$1.h)(DescriptionItem,{icon:lock_icon_svg_1.default,text:"Your private key is stored securely"}),(0,preact_1$1.h)(DescriptionItem,{icon:globe_icon_svg_1.default,text:"Works with Ethereum, Polygon, and more"})))},ScanQRBox=et=>{const _e=(0,util_1$4.createQrUrl)(et.sessionId,et.sessionSecret,et.linkAPIUrl,et.isParentConnection);return(0,preact_1$1.h)("div",{"data-testid":"scan-qr-box",class:"-cbwsdk-extension-dialog-box-bottom"},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,preact_1$1.h)("h2",null,"Or scan to connect"),(0,preact_1$1.h)("body",{class:"-cbwsdk-extension-dialog-box-bottom-description"},"Open"," ",(0,preact_1$1.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,preact_1$1.h)(QRCode_1.QRCode,{content:_e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:QRLogo_1.default,width:34,height:34}})),(0,preact_1$1.h)("input",{type:"hidden",name:"cbwsdk-version",value:version_1.LIB_VERSION}),(0,preact_1$1.h)("input",{type:"hidden",value:_e}),!et.isConnected&&(0,preact_1$1.h)("div",{"data-testid":"connecting-spinner",class:"-cbwsdk-extension-dialog-box-bottom-qr-connecting"},(0,preact_1$1.h)(Spinner_1.Spinner,{size:36,color:"#000"}),(0,preact_1$1.h)("p",null,"Connecting..."))))},DescriptionItem=et=>(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,preact_1$1.h)("img",{src:et.icon})),(0,preact_1$1.h)("body",{class:"-cbwsdk-extension-dialog-box-top-description-text"},et.text)),CancelButton=et=>(0,preact_1$1.h)("button",{type:"button",class:"-cbwsdk-extension-dialog-box-cancel",onClick:et.onClick},(0,preact_1$1.h)("div",{class:"-cbwsdk-extension-dialog-box-cancel-x"}));Object.defineProperty(LinkFlow$1,"__esModule",{value:!0});LinkFlow$1.LinkFlow=void 0;const preact_1=require$$1,rxjs_1$3=require$$2$1,TryExtensionLinkDialog_1=TryExtensionLinkDialog$1;class LinkFlow{constructor(_e){this.extensionUI$=new rxjs_1$3.BehaviorSubject({}),this.subscriptions=new rxjs_1$3.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=_e.darkMode,this.version=_e.version,this.sessionId=_e.sessionId,this.sessionSecret=_e.sessionSecret,this.linkAPIUrl=_e.linkAPIUrl,this.isParentConnection=_e.isParentConnection,this.connected$=_e.connected$}attach(_e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",_e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(tt=>{this.isConnected!==tt&&(this.isConnected=tt,this.render())}))}detach(){var _e;!this.root||(this.subscriptions.unsubscribe(),(0,preact_1.render)(null,this.root),(_e=this.root.parentElement)===null||_e===void 0||_e.removeChild(this.root))}setConnectDisabled(_e){this.connectDisabled=_e}open(_e){this.isOpen=!0,this.onCancel=_e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const _e=this.extensionUI$.subscribe(()=>{!this.root||(0,preact_1.render)((0,preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(_e)}}LinkFlow$1.LinkFlow=LinkFlow;var Snackbar={},SnackbarCss={};Object.defineProperty(SnackbarCss,"__esModule",{value:!0});SnackbarCss.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(et){var _e=commonjsGlobal&&commonjsGlobal.__importDefault||function(yt){return yt&&yt.__esModule?yt:{default:yt}};Object.defineProperty(et,"__esModule",{value:!0}),et.SnackbarInstance=et.SnackbarContainer=et.Snackbar=void 0;const tt=_e(require$$0$2),rt=require$$1,nt=require$$2,it=_e(SnackbarCss),at="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",ot="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class ct{constructor(bt){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=bt.darkMode}attach(bt){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",bt.appendChild(this.root),this.render()}presentItem(bt){const Et=this.nextItemKey++;return this.items.set(Et,bt),this.render(),()=>{this.items.delete(Et),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,rt.render)((0,rt.h)("div",null,(0,rt.h)(et.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([bt,Et])=>(0,rt.h)(et.SnackbarInstance,Object.assign({},Et,{key:bt}))))),this.root)}}et.Snackbar=ct;const ut=yt=>(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-container")},(0,rt.h)("style",null,it.default),(0,rt.h)("div",{class:"-cbwsdk-snackbar"},yt.children));et.SnackbarContainer=ut;const ft=({autoExpand:yt,message:bt,menuItems:Et})=>{const[Ct,At]=(0,nt.useState)(!0),[St,Tt]=(0,nt.useState)(yt!=null?yt:!1);(0,nt.useEffect)(()=>{const kt=[window.setTimeout(()=>{At(!1)},1),window.setTimeout(()=>{Tt(!0)},1e4)];return()=>{kt.forEach(window.clearTimeout)}});const $t=()=>{Tt(!St)};return(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-instance",Ct&&"-cbwsdk-snackbar-instance-hidden",St&&"-cbwsdk-snackbar-instance-expanded")},(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:$t},(0,rt.h)("img",{src:at,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},bt),(0,rt.h)("div",{class:"-gear-container"},!St&&(0,rt.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,rt.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,rt.h)("img",{src:ot,class:"-gear-icon",title:"Expand"}))),Et&&Et.length>0&&(0,rt.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},Et.map((kt,Pt)=>(0,rt.h)("div",{class:(0,tt.default)("-cbwsdk-snackbar-instance-menu-item",kt.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:kt.onClick,key:Pt},(0,rt.h)("svg",{width:kt.svgWidth,height:kt.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,rt.h)("path",{"fill-rule":kt.defaultFillRule,"clip-rule":kt.defaultClipRule,d:kt.path,fill:"#AAAAAA"})),(0,rt.h)("span",{class:(0,tt.default)("-cbwsdk-snackbar-instance-menu-item-info",kt.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},kt.info)))))};et.SnackbarInstance=ft})(Snackbar);var cssReset={},cssResetCss={};Object.defineProperty(cssResetCss,"__esModule",{value:!0});cssResetCss.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(cssReset,"__esModule",{value:!0});cssReset.injectCssReset=void 0;const cssReset_css_1=__importDefault$1(cssResetCss);function injectCssReset(){const et=document.createElement("style");et.type="text/css",et.appendChild(document.createTextNode(cssReset_css_1.default)),document.documentElement.appendChild(et)}cssReset.injectCssReset=injectCssReset;Object.defineProperty(WalletSDKUI$1,"__esModule",{value:!0});WalletSDKUI$1.WalletSDKUI=void 0;const LinkFlow_1=LinkFlow$1,Snackbar_1=Snackbar,cssReset_1=cssReset;class WalletSDKUI{constructor(_e){this.attached=!1,this.snackbar=new Snackbar_1.Snackbar({darkMode:_e.darkMode}),this.linkFlow=new LinkFlow_1.LinkFlow({darkMode:_e.darkMode,version:_e.version,sessionId:_e.session.id,sessionSecret:_e.session.secret,linkAPIUrl:_e.linkAPIUrl,connected$:_e.connected$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const _e=document.documentElement,tt=document.createElement("div");tt.className="-cbwsdk-css-reset",_e.appendChild(tt),this.linkFlow.attach(tt),this.snackbar.attach(tt),this.attached=!0,(0,cssReset_1.injectCssReset)()}setConnectDisabled(_e){this.linkFlow.setConnectDisabled(_e)}addEthereumChain(_e){}watchAsset(_e){}switchEthereumChain(_e){}requestEthereumAccounts(_e){this.linkFlow.open({onCancel:_e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(_e){}signEthereumTransaction(_e){}submitEthereumTransaction(_e){}ethereumAddressFromSignedMessage(_e){}showConnecting(_e){let tt;return _e.isUnlinkedErrorState?tt={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:_e.onResetConnection}]}:tt={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:_e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:_e.onResetConnection}]},this.snackbar.presentItem(tt)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(_e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}WalletSDKUI$1.WalletSDKUI=WalletSDKUI;var WalletSDKRelay$1={},bindDecorator={};Object.defineProperty(bindDecorator,"__esModule",{value:!0});var constants;(function(et){et.typeOfFunction="function",et.boolTrue=!0})(constants||(constants={}));function bind(et,_e,tt){if(!tt||typeof tt.value!==constants.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+_e+"> is not a method!");return{configurable:constants.boolTrue,get:function(){var rt=tt.value.bind(this);return Object.defineProperty(this,_e,{value:rt,configurable:constants.boolTrue,writable:constants.boolTrue}),rt}}}bindDecorator.bind=bind;bindDecorator.default=bind;var WalletSDKConnection$1={},ClientMessage={};Object.defineProperty(ClientMessage,"__esModule",{value:!0});ClientMessage.ClientMessagePublishEvent=ClientMessage.ClientMessageSetSessionConfig=ClientMessage.ClientMessageGetSessionConfig=ClientMessage.ClientMessageIsLinked=ClientMessage.ClientMessageHostSession=void 0;function ClientMessageHostSession(et){return Object.assign({type:"HostSession"},et)}ClientMessage.ClientMessageHostSession=ClientMessageHostSession;function ClientMessageIsLinked(et){return Object.assign({type:"IsLinked"},et)}ClientMessage.ClientMessageIsLinked=ClientMessageIsLinked;function ClientMessageGetSessionConfig(et){return Object.assign({type:"GetSessionConfig"},et)}ClientMessage.ClientMessageGetSessionConfig=ClientMessageGetSessionConfig;function ClientMessageSetSessionConfig(et){return Object.assign({type:"SetSessionConfig"},et)}ClientMessage.ClientMessageSetSessionConfig=ClientMessageSetSessionConfig;function ClientMessagePublishEvent(et){return Object.assign({type:"PublishEvent"},et)}ClientMessage.ClientMessagePublishEvent=ClientMessagePublishEvent;var RxWebSocket={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.RxWebSocket=et.ConnectionState=void 0;const _e=require$$2$1,tt=require$$3$1;var rt;(function(it){it[it.DISCONNECTED=0]="DISCONNECTED",it[it.CONNECTING=1]="CONNECTING",it[it.CONNECTED=2]="CONNECTED"})(rt=et.ConnectionState||(et.ConnectionState={}));class nt{constructor(at,ot=WebSocket){this.WebSocketClass=ot,this.webSocket=null,this.connectionStateSubject=new _e.BehaviorSubject(rt.DISCONNECTED),this.incomingDataSubject=new _e.Subject,this.url=at.replace(/^http/,"ws")}connect(){return this.webSocket?(0,_e.throwError)(new Error("webSocket object is not null")):new _e.Observable(at=>{let ot;try{this.webSocket=ot=new this.WebSocketClass(this.url)}catch(ct){at.error(ct);return}this.connectionStateSubject.next(rt.CONNECTING),ot.onclose=ct=>{this.clearWebSocket(),at.error(new Error(`websocket error ${ct.code}: ${ct.reason}`)),this.connectionStateSubject.next(rt.DISCONNECTED)},ot.onopen=ct=>{at.next(),at.complete(),this.connectionStateSubject.next(rt.CONNECTED)},ot.onmessage=ct=>{this.incomingDataSubject.next(ct.data)}}).pipe((0,tt.take)(1))}disconnect(){const{webSocket:at}=this;if(!!at){this.clearWebSocket(),this.connectionStateSubject.next(rt.DISCONNECTED);try{at.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,tt.flatMap)(at=>{let ot;try{ot=JSON.parse(at)}catch{return(0,_e.empty)()}return(0,_e.of)(ot)}))}sendData(at){const{webSocket:ot}=this;if(!ot)throw new Error("websocket is not connected");ot.send(at)}clearWebSocket(){const{webSocket:at}=this;!at||(this.webSocket=null,at.onclose=null,at.onerror=null,at.onmessage=null,at.onopen=null)}}et.RxWebSocket=nt})(RxWebSocket);var ServerMessage={};Object.defineProperty(ServerMessage,"__esModule",{value:!0});ServerMessage.isServerMessageFail=void 0;function isServerMessageFail(et){return et&&et.type==="Fail"&&typeof et.id=="number"&&typeof et.sessionId=="string"&&typeof et.error=="string"}ServerMessage.isServerMessageFail=isServerMessageFail;Object.defineProperty(WalletSDKConnection$1,"__esModule",{value:!0});WalletSDKConnection$1.WalletSDKConnection=void 0;const rxjs_1$2=require$$2$1,operators_1$1=require$$3$1,Session_1$1=Session$1,types_1=types$2,ClientMessage_1=ClientMessage,EventListener_1$1=EventListener,RxWebSocket_1=RxWebSocket,ServerMessage_1=ServerMessage,HEARTBEAT_INTERVAL=1e4,REQUEST_TIMEOUT=6e4;class WalletSDKConnection{constructor(_e,tt,rt,nt,it=WebSocket){this.sessionId=_e,this.sessionKey=tt,this.eventListener=nt,this.subscriptions=new rxjs_1$2.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,types_1.IntNumber)(1),this.connectedSubject=new rxjs_1$2.BehaviorSubject(!1),this.linkedSubject=new rxjs_1$2.BehaviorSubject(!1),this.sessionConfigSubject=new rxjs_1$2.ReplaySubject(1);const at=new RxWebSocket_1.RxWebSocket(rt+"/rpc",it);this.ws=at,this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.tap)(ot=>{var ct;return(ct=this.eventListener)===null||ct===void 0?void 0:ct.onEvent(EventListener_1$1.EVENTS.CONNECTED_STATE_CHANGE,{state:ot,sessionIdHash:Session_1$1.Session.hash(_e)})}),(0,operators_1$1.skip)(1),(0,operators_1$1.filter)(ot=>ot===RxWebSocket_1.ConnectionState.DISCONNECTED&&!this.destroyed),(0,operators_1$1.delay)(5e3),(0,operators_1$1.filter)(ot=>!this.destroyed),(0,operators_1$1.flatMap)(ot=>at.connect()),(0,operators_1$1.retry)()).subscribe()),this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.skip)(2),(0,operators_1$1.switchMap)(ot=>(0,rxjs_1$2.iif)(()=>ot===RxWebSocket_1.ConnectionState.CONNECTED,this.authenticate().pipe((0,operators_1$1.tap)(ct=>this.sendIsLinked()),(0,operators_1$1.tap)(ct=>this.sendGetSessionConfig()),(0,operators_1$1.map)(ct=>!0)),(0,rxjs_1$2.of)(!1))),(0,operators_1$1.distinctUntilChanged)(),(0,operators_1$1.catchError)(ot=>(0,rxjs_1$2.of)(!1))).subscribe(ot=>this.connectedSubject.next(ot))),this.subscriptions.add(at.connectionState$.pipe((0,operators_1$1.skip)(1),(0,operators_1$1.switchMap)(ot=>(0,rxjs_1$2.iif)(()=>ot===RxWebSocket_1.ConnectionState.CONNECTED,(0,rxjs_1$2.timer)(0,HEARTBEAT_INTERVAL)))).subscribe(ot=>ot===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(at.incomingData$.pipe((0,operators_1$1.filter)(ot=>ot==="h")).subscribe(ot=>this.updateLastHeartbeat())),this.subscriptions.add(at.incomingJSONData$.pipe((0,operators_1$1.filter)(ot=>["IsLinkedOK","Linked"].includes(ot.type))).subscribe(ot=>{var ct;const ut=ot;(ct=this.eventListener)===null||ct===void 0||ct.onEvent(EventListener_1$1.EVENTS.LINKED,{sessionIdHash:Session_1$1.Session.hash(_e),linked:ut.linked,type:ot.type,onlineGuests:ut.onlineGuests}),this.linkedSubject.next(ut.linked||ut.onlineGuests>0)})),this.subscriptions.add(at.incomingJSONData$.pipe((0,operators_1$1.filter)(ot=>["GetSessionConfigOK","SessionConfigUpdated"].includes(ot.type))).subscribe(ot=>{var ct;const ut=ot;(ct=this.eventListener)===null||ct===void 0||ct.onEvent(EventListener_1$1.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Session_1$1.Session.hash(_e),metadata_keys:ut&&ut.metadata?Object.keys(ut.metadata):void 0}),this.sessionConfigSubject.next({webhookId:ut.webhookId,webhookUrl:ut.webhookUrl,metadata:ut.metadata})}))}connect(){var _e;if(this.destroyed)throw new Error("instance is destroyed");(_e=this.eventListener)===null||_e===void 0||_e.onEvent(EventListener_1$1.EVENTS.STARTED_CONNECTING,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var _e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(_e=this.eventListener)===null||_e===void 0||_e.onEvent(EventListener_1$1.EVENTS.DISCONNECTED,{sessionIdHash:Session_1$1.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,operators_1$1.filter)(_e=>_e),(0,operators_1$1.take)(1),(0,operators_1$1.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,operators_1$1.filter)(_e=>_e),(0,operators_1$1.take)(1),(0,operators_1$1.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,operators_1$1.filter)(_e=>{if(_e.type!=="Event")return!1;const tt=_e;return typeof tt.sessionId=="string"&&typeof tt.eventId=="string"&&typeof tt.event=="string"&&typeof tt.data=="string"}),(0,operators_1$1.map)(_e=>_e))}setSessionMetadata(_e,tt){const rt=(0,ClientMessage_1.ClientMessageSetSessionConfig)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[_e]:tt}});return this.onceConnected$.pipe((0,operators_1$1.flatMap)(nt=>this.makeRequest(rt)),(0,operators_1$1.map)(nt=>{if((0,ServerMessage_1.isServerMessageFail)(nt))throw new Error(nt.error||"failed to set session metadata")}))}publishEvent(_e,tt,rt=!1){const nt=(0,ClientMessage_1.ClientMessagePublishEvent)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:_e,data:tt,callWebhook:rt});return this.onceLinked$.pipe((0,operators_1$1.flatMap)(it=>this.makeRequest(nt)),(0,operators_1$1.map)(it=>{if((0,ServerMessage_1.isServerMessageFail)(it))throw new Error(it.error||"failed to publish event");return it.eventId}))}sendData(_e){this.ws.sendData(JSON.stringify(_e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>HEARTBEAT_INTERVAL*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(_e,tt=REQUEST_TIMEOUT){const rt=_e.id;try{this.sendData(_e)}catch(nt){return(0,rxjs_1$2.throwError)(nt)}return this.ws.incomingJSONData$.pipe((0,operators_1$1.timeoutWith)(tt,(0,rxjs_1$2.throwError)(new Error(`request ${rt} timed out`))),(0,operators_1$1.filter)(nt=>nt.id===rt),(0,operators_1$1.take)(1))}authenticate(){const _e=(0,ClientMessage_1.ClientMessageHostSession)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(_e).pipe((0,operators_1$1.map)(tt=>{if((0,ServerMessage_1.isServerMessageFail)(tt))throw new Error(tt.error||"failed to authentcate")}))}sendIsLinked(){const _e=(0,ClientMessage_1.ClientMessageIsLinked)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(_e)}sendGetSessionConfig(){const _e=(0,ClientMessage_1.ClientMessageGetSessionConfig)({id:(0,types_1.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(_e)}}WalletSDKConnection$1.WalletSDKConnection=WalletSDKConnection;var WalletUIError$1={};Object.defineProperty(WalletUIError$1,"__esModule",{value:!0});WalletUIError$1.WalletUIError=void 0;class WalletUIError extends Error{constructor(_e,tt){super(_e),this.message=_e,this.errorCode=tt}}WalletUIError$1.WalletUIError=WalletUIError;WalletUIError.UserRejectedRequest=new WalletUIError("User rejected request");WalletUIError.SwitchEthereumChainUnsupportedChainId=new WalletUIError("Unsupported chainId",4902);var aes256gcm$1={};Object.defineProperty(aes256gcm$1,"__esModule",{value:!0});aes256gcm$1.decrypt=aes256gcm$1.encrypt=void 0;const rxjs_1$1=require$$2$1,util_1$3=util$5;async function encrypt$1(et,_e){if(_e.length!==64)throw Error("secret must be 256 bits");const tt=crypto.getRandomValues(new Uint8Array(12)),rt=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(_e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),nt=new TextEncoder,it=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:tt},rt,nt.encode(et)),at=16,ot=it.slice(it.byteLength-at),ct=it.slice(0,it.byteLength-at),ut=new Uint8Array(ot),ft=new Uint8Array(ct),yt=new Uint8Array([...tt,...ut,...ft]);return(0,util_1$3.uint8ArrayToHex)(yt)}aes256gcm$1.encrypt=encrypt$1;function decrypt$1(et,_e){if(_e.length!==64)throw Error("secret must be 256 bits");return new rxjs_1$1.Observable(tt=>{(async function(){const rt=await crypto.subtle.importKey("raw",(0,util_1$3.hexStringToUint8Array)(_e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),nt=(0,util_1$3.hexStringToUint8Array)(et),it=nt.slice(0,12),at=nt.slice(12,28),ot=nt.slice(28),ct=new Uint8Array([...ot,...at]),ut={name:"AES-GCM",iv:new Uint8Array(it)};try{const ft=await window.crypto.subtle.decrypt(ut,rt,ct),yt=new TextDecoder;tt.next(yt.decode(ft)),tt.complete()}catch(ft){tt.error(ft)}})()})}aes256gcm$1.decrypt=decrypt$1;var Web3Method={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.Web3Method=void 0,function(_e){_e.requestEthereumAccounts="requestEthereumAccounts",_e.signEthereumMessage="signEthereumMessage",_e.signEthereumTransaction="signEthereumTransaction",_e.submitEthereumTransaction="submitEthereumTransaction",_e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",_e.scanQRCode="scanQRCode",_e.generic="generic",_e.childRequestEthereumAccounts="childRequestEthereumAccounts",_e.addEthereumChain="addEthereumChain",_e.switchEthereumChain="switchEthereumChain",_e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",_e.watchAsset="watchAsset"}(et.Web3Method||(et.Web3Method={}))})(Web3Method);var Web3RequestCanceledMessage$1={},RelayMessage={};(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.RelayMessageType=void 0,function(_e){_e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",_e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",_e.LINKED="LINKED",_e.UNLINKED="UNLINKED",_e.WEB3_REQUEST="WEB3_REQUEST",_e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",_e.WEB3_RESPONSE="WEB3_RESPONSE"}(et.RelayMessageType||(et.RelayMessageType={}))})(RelayMessage);Object.defineProperty(Web3RequestCanceledMessage$1,"__esModule",{value:!0});Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=void 0;const RelayMessage_1$2=RelayMessage;function Web3RequestCanceledMessage(et){return{type:RelayMessage_1$2.RelayMessageType.WEB3_REQUEST_CANCELED,id:et}}Web3RequestCanceledMessage$1.Web3RequestCanceledMessage=Web3RequestCanceledMessage;var Web3RequestMessage$1={};Object.defineProperty(Web3RequestMessage$1,"__esModule",{value:!0});Web3RequestMessage$1.Web3RequestMessage=void 0;const RelayMessage_1$1=RelayMessage;function Web3RequestMessage(et){return Object.assign({type:RelayMessage_1$1.RelayMessageType.WEB3_REQUEST},et)}Web3RequestMessage$1.Web3RequestMessage=Web3RequestMessage;var Web3Response={};Object.defineProperty(Web3Response,"__esModule",{value:!0});Web3Response.EthereumAddressFromSignedMessageResponse=Web3Response.SubmitEthereumTransactionResponse=Web3Response.SignEthereumTransactionResponse=Web3Response.SignEthereumMessageResponse=Web3Response.isRequestEthereumAccountsResponse=Web3Response.WatchAssetReponse=Web3Response.RequestEthereumAccountsResponse=Web3Response.SwitchEthereumChainResponse=Web3Response.AddEthereumChainResponse=Web3Response.ErrorResponse=void 0;const Web3Method_1$1=Web3Method;function ErrorResponse(et,_e,tt){return{method:et,errorMessage:_e,errorCode:tt}}Web3Response.ErrorResponse=ErrorResponse;function AddEthereumChainResponse(et){return{method:Web3Method_1$1.Web3Method.addEthereumChain,result:et}}Web3Response.AddEthereumChainResponse=AddEthereumChainResponse;function SwitchEthereumChainResponse(et){return{method:Web3Method_1$1.Web3Method.switchEthereumChain,result:et}}Web3Response.SwitchEthereumChainResponse=SwitchEthereumChainResponse;function RequestEthereumAccountsResponse(et){return{method:Web3Method_1$1.Web3Method.requestEthereumAccounts,result:et}}Web3Response.RequestEthereumAccountsResponse=RequestEthereumAccountsResponse;function WatchAssetReponse(et){return{method:Web3Method_1$1.Web3Method.watchAsset,result:et}}Web3Response.WatchAssetReponse=WatchAssetReponse;function isRequestEthereumAccountsResponse(et){return et&&et.method===Web3Method_1$1.Web3Method.requestEthereumAccounts}Web3Response.isRequestEthereumAccountsResponse=isRequestEthereumAccountsResponse;function SignEthereumMessageResponse(et){return{method:Web3Method_1$1.Web3Method.signEthereumMessage,result:et}}Web3Response.SignEthereumMessageResponse=SignEthereumMessageResponse;function SignEthereumTransactionResponse(et){return{method:Web3Method_1$1.Web3Method.signEthereumTransaction,result:et}}Web3Response.SignEthereumTransactionResponse=SignEthereumTransactionResponse;function SubmitEthereumTransactionResponse(et){return{method:Web3Method_1$1.Web3Method.submitEthereumTransaction,result:et}}Web3Response.SubmitEthereumTransactionResponse=SubmitEthereumTransactionResponse;function EthereumAddressFromSignedMessageResponse(et){return{method:Web3Method_1$1.Web3Method.ethereumAddressFromSignedMessage,result:et}}Web3Response.EthereumAddressFromSignedMessageResponse=EthereumAddressFromSignedMessageResponse;var Web3ResponseMessage$1={};Object.defineProperty(Web3ResponseMessage$1,"__esModule",{value:!0});Web3ResponseMessage$1.isWeb3ResponseMessage=Web3ResponseMessage$1.Web3ResponseMessage=void 0;const RelayMessage_1=RelayMessage;function Web3ResponseMessage(et){return Object.assign({type:RelayMessage_1.RelayMessageType.WEB3_RESPONSE},et)}Web3ResponseMessage$1.Web3ResponseMessage=Web3ResponseMessage;function isWeb3ResponseMessage(et){return et&&et.type===RelayMessage_1.RelayMessageType.WEB3_RESPONSE}Web3ResponseMessage$1.isWeb3ResponseMessage=isWeb3ResponseMessage;var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(et,_e,tt,rt){rt===void 0&&(rt=tt),Object.defineProperty(et,rt,{enumerable:!0,get:function(){return _e[tt]}})}:function(et,_e,tt,rt){rt===void 0&&(rt=tt),et[rt]=_e[tt]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(et,_e){Object.defineProperty(et,"default",{enumerable:!0,value:_e})}:function(et,_e){et.default=_e}),__decorate=commonjsGlobal&&commonjsGlobal.__decorate||function(et,_e,tt,rt){var nt=arguments.length,it=nt<3?_e:rt===null?rt=Object.getOwnPropertyDescriptor(_e,tt):rt,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")it=Reflect.decorate(et,_e,tt,rt);else for(var ot=et.length-1;ot>=0;ot--)(at=et[ot])&&(it=(nt<3?at(it):nt>3?at(_e,tt,it):at(_e,tt))||it);return nt>3&&it&&Object.defineProperty(_e,tt,it),it},__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(et){if(et&&et.__esModule)return et;var _e={};if(et!=null)for(var tt in et)tt!=="default"&&Object.prototype.hasOwnProperty.call(et,tt)&&__createBinding(_e,et,tt);return __setModuleDefault(_e,et),_e},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(WalletSDKRelay$1,"__esModule",{value:!0});WalletSDKRelay$1.WalletSDKRelay=void 0;const bind_decorator_1=__importDefault(bindDecorator),eth_rpc_errors_1=dist$1,rxjs_1=require$$2$1,operators_1=require$$3$1,EventListener_1=EventListener,WalletSDKConnection_1=WalletSDKConnection$1,WalletUIError_1=WalletUIError$1,util_1$2=util$5,aes256gcm=__importStar(aes256gcm$1),Session_1=Session$1,WalletSDKRelayAbstract_1=WalletSDKRelayAbstract$1,Web3Method_1=Web3Method,Web3RequestCanceledMessage_1=Web3RequestCanceledMessage$1,Web3RequestMessage_1=Web3RequestMessage$1,Web3Response_1=Web3Response,Web3ResponseMessage_1=Web3ResponseMessage$1;class WalletSDKRelay extends WalletSDKRelayAbstract_1.WalletSDKRelayAbstract{constructor(_e){super(),this.accountsCallback=null,this.chainCallback=null,this.appName="",this.appLogoUrl=null,this.subscriptions=new rxjs_1.Subscription,this.linkAPIUrl=_e.linkAPIUrl,this.storage=_e.storage,this._session=Session_1.Session.load(_e.storage)||new Session_1.Session(_e.storage).save(),this.relayEventManager=_e.relayEventManager,this.eventListener=_e.eventListener,this.connection=new WalletSDKConnection_1.WalletSDKConnection(this._session.id,this._session.key,this.linkAPIUrl,this.eventListener),this.subscriptions.add(this.connection.sessionConfig$.subscribe({next:tt=>{this.onSessionConfigChanged(tt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(this.connection.incomingEvent$.pipe((0,operators_1.filter)(tt=>tt.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(this.connection.linked$.pipe((0,operators_1.skip)(1),(0,operators_1.tap)(tt=>{var rt;this.isLinked=tt;const nt=this.storage.getItem(WalletSDKRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);if(tt&&(this.session.linked=tt),this.isUnlinkedErrorState=!1,nt){const it=nt.split(" "),at=this.storage.getItem("IsStandaloneSigning")==="true";if(it[0]!==""&&!tt&&this.session.linked&&!at){this.isUnlinkedErrorState=!0;const ot=this.getSessionIdHash();(rt=this.eventListener)===null||rt===void 0||rt.onEvent(EventListener_1.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:ot})}}})).subscribe()),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>!!tt.metadata&&tt.metadata.__destroyed==="1")).subscribe(()=>{var tt;const rt=this.connection.isDestroyed;return(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:rt,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>tt.metadata&&tt.metadata.WalletUsername!==void 0)).pipe((0,operators_1.mergeMap)(tt=>aes256gcm.decrypt(tt.metadata.WalletUsername,this._session.secret))).subscribe({next:tt=>{this.storage.setItem(WalletSDKRelayAbstract_1.WALLET_USER_NAME_KEY,tt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>tt.metadata&&tt.metadata.AppVersion!==void 0)).pipe((0,operators_1.mergeMap)(tt=>aes256gcm.decrypt(tt.metadata.AppVersion,this._session.secret))).subscribe({next:tt=>{this.storage.setItem(WalletSDKRelayAbstract_1.APP_VERSION_KEY,tt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>tt.metadata&&tt.metadata.ChainId!==void 0&&tt.metadata.JsonRpcUrl!==void 0)).pipe((0,operators_1.mergeMap)(tt=>(0,rxjs_1.zip)(aes256gcm.decrypt(tt.metadata.ChainId,this._session.secret),aes256gcm.decrypt(tt.metadata.JsonRpcUrl,this._session.secret)))).pipe((0,operators_1.distinctUntilChanged)()).subscribe({next:([tt,rt])=>{this.chainCallback&&this.chainCallback(tt,rt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,operators_1.filter)(tt=>tt.metadata&&tt.metadata.EthereumAddress!==void 0)).pipe((0,operators_1.mergeMap)(tt=>aes256gcm.decrypt(tt.metadata.EthereumAddress,this._session.secret))).subscribe({next:tt=>{this.accountsCallback&&this.accountsCallback([tt]),WalletSDKRelay.accountRequestCallbackIds.size>0&&(Array.from(WalletSDKRelay.accountRequestCallbackIds.values()).forEach(rt=>{const nt=(0,Web3ResponseMessage_1.Web3ResponseMessage)({id:rt,response:(0,Web3Response_1.RequestEthereumAccountsResponse)([tt])});this.invokeCallback(Object.assign(Object.assign({},nt),{id:rt}))}),WalletSDKRelay.accountRequestCallbackIds.clear())},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.ui=_e.uiConstructor({linkAPIUrl:_e.linkAPIUrl,version:_e.version,darkMode:_e.darkMode,session:this._session,connected$:this.connection.connected$}),this.connection.connect()}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,operators_1.timeout)(1e3),(0,operators_1.catchError)(_e=>(0,rxjs_1.of)(null))).subscribe(_e=>{var tt,rt,nt;try{this.subscriptions.unsubscribe()}catch{(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(rt=this.eventListener)===null||rt===void 0||rt.onEvent(EventListener_1.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const it=Session_1.Session.load(this.storage);(it==null?void 0:it.id)===this._session.id?this.storage.clear():it&&((nt=this.eventListener)===null||nt===void 0||nt.onEvent(EventListener_1.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Session_1.Session.hash(it.id)})),this.ui.reloadUI()},_e=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${_e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(_e,tt){this.appName=_e,this.appLogoUrl=tt}getStorageItem(_e){return this.storage.getItem(_e)}get session(){return this._session}setStorageItem(_e,tt){this.storage.setItem(_e,tt)}signEthereumMessage(_e,tt,rt,nt){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(_e,!0),address:tt,addPrefix:rt,typedDataJson:nt||null}})}ethereumAddressFromSignedMessage(_e,tt,rt){return this.sendRequest({method:Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,util_1$2.hexStringFromBuffer)(_e,!0),signature:(0,util_1$2.hexStringFromBuffer)(tt,!0),addPrefix:rt}})}signEthereumTransaction(_e){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:_e.fromAddress,toAddress:_e.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(_e.weiValue),data:(0,util_1$2.hexStringFromBuffer)(_e.data,!0),nonce:_e.nonce,gasPriceInWei:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxFeePerGas:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxPriorityFeePerGas:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,gasLimit:_e.gasLimit?(0,util_1$2.bigIntStringFromBN)(_e.gasLimit):null,chainId:_e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(_e){return this.sendRequest({method:Web3Method_1.Web3Method.signEthereumTransaction,params:{fromAddress:_e.fromAddress,toAddress:_e.toAddress,weiValue:(0,util_1$2.bigIntStringFromBN)(_e.weiValue),data:(0,util_1$2.hexStringFromBuffer)(_e.data,!0),nonce:_e.nonce,gasPriceInWei:_e.gasPriceInWei?(0,util_1$2.bigIntStringFromBN)(_e.gasPriceInWei):null,maxFeePerGas:_e.maxFeePerGas?(0,util_1$2.bigIntStringFromBN)(_e.maxFeePerGas):null,maxPriorityFeePerGas:_e.maxPriorityFeePerGas?(0,util_1$2.bigIntStringFromBN)(_e.maxPriorityFeePerGas):null,gasLimit:_e.gasLimit?(0,util_1$2.bigIntStringFromBN)(_e.gasLimit):null,chainId:_e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(_e,tt){return this.sendRequest({method:Web3Method_1.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,util_1$2.hexStringFromBuffer)(_e,!0),chainId:tt}})}scanQRCode(_e){return this.sendRequest({method:Web3Method_1.Web3Method.scanQRCode,params:{regExp:_e}})}getQRCodeUrl(){return(0,util_1$2.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1)}genericRequest(_e,tt){return this.sendRequest({method:Web3Method_1.Web3Method.generic,params:{action:tt,data:_e}})}sendGenericMessage(_e){return this.sendRequest(_e)}sendRequest(_e){let tt=null;const rt=(0,util_1$2.randomBytesHex)(8),nt=at=>{this.publishWeb3RequestCanceledEvent(rt),this.handleErrorResponse(rt,_e.method,at),tt==null||tt()};return{promise:new Promise((at,ot)=>{this.ui.isStandalone()||(tt=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:nt,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(rt,ct=>{if(tt==null||tt(),ct.errorMessage)return ot(new Error(ct.errorMessage));at(ct)}),this.ui.isStandalone()?this.sendRequestStandalone(rt,_e):this.publishWeb3RequestEvent(rt,_e)}),cancel:nt}}setConnectDisabled(_e){this.ui.setConnectDisabled(_e)}setAccountsCallback(_e){this.accountsCallback=_e}setChainCallback(_e){this.chainCallback=_e}publishWeb3RequestEvent(_e,tt){var rt;const nt=(0,Web3RequestMessage_1.Web3RequestMessage)({id:_e,request:tt}),it=Session_1.Session.load(this.storage);(rt=this.eventListener)===null||rt===void 0||rt.onEvent(EventListener_1.EVENTS.WEB3_REQUEST,{eventId:nt.id,method:`relay::${nt.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:it?Session_1.Session.hash(it.id):"",isSessionMismatched:((it==null?void 0:it.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",nt,!0).subscribe({next:at=>{var ot;(ot=this.eventListener)===null||ot===void 0||ot.onEvent(EventListener_1.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:nt.id,method:`relay::${nt.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:it?Session_1.Session.hash(it.id):"",isSessionMismatched:((it==null?void 0:it.id)!==this._session.id).toString()})},error:at=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt.id,response:{method:nt.request.method,errorMessage:at.message}}))}}))}publishWeb3RequestCanceledEvent(_e){const tt=(0,Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(_e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",tt,!1).subscribe())}publishEvent(_e,tt,rt){const nt=this.session.secret;return new rxjs_1.Observable(it=>{aes256gcm.encrypt(JSON.stringify(Object.assign(Object.assign({},tt),{origin:location.origin})),nt).then(at=>{it.next(at),it.complete()})}).pipe((0,operators_1.mergeMap)(it=>this.connection.publishEvent(_e,it,rt)))}handleIncomingEvent(_e){try{this.subscriptions.add(aes256gcm.decrypt(_e.data,this.session.secret).pipe((0,operators_1.map)(tt=>JSON.parse(tt))).subscribe({next:tt=>{const rt=(0,Web3ResponseMessage_1.isWeb3ResponseMessage)(tt)?tt:null;!rt||this.handleWeb3ResponseMessage(rt)},error:()=>{var tt;(tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(_e){var tt;const{response:rt}=_e;if((tt=this.eventListener)===null||tt===void 0||tt.onEvent(EventListener_1.EVENTS.WEB3_RESPONSE,{eventId:_e.id,method:`relay::${rt.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Web3Response_1.isRequestEthereumAccountsResponse)(rt)){WalletSDKRelay.accountRequestCallbackIds.forEach(nt=>this.invokeCallback(Object.assign(Object.assign({},_e),{id:nt}))),WalletSDKRelay.accountRequestCallbackIds.clear();return}this.invokeCallback(_e)}handleErrorResponse(_e,tt,rt,nt){this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:_e,response:(0,Web3Response_1.ErrorResponse)(tt,(rt!=null?rt:WalletUIError_1.WalletUIError.UserRejectedRequest).message,nt)}))}invokeCallback(_e){const tt=this.relayEventManager.callbacks.get(_e.id);tt&&(tt(_e.response),this.relayEventManager.callbacks.delete(_e.id))}requestEthereumAccounts(){const _e={method:Web3Method_1.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},tt=(0,util_1$2.randomBytesHex)(8),rt=it=>{this.publishWeb3RequestCanceledEvent(tt),this.handleErrorResponse(tt,_e.method,it)};return{promise:new Promise((it,at)=>{var ot;this.relayEventManager.callbacks.set(tt,ut=>{if(this.ui.hideRequestEthereumAccounts(),ut.errorMessage)return at(new Error(ut.errorMessage));it(ut)});const ct=((ot=window==null?void 0:window.navigator)===null||ot===void 0?void 0:ot.userAgent)||null;if(ct&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ct)){window.location.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;return}if(this.ui.inlineAccountsResponse()){const ut=ft=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:tt,response:(0,Web3Response_1.RequestEthereumAccountsResponse)(ft)}))};this.ui.requestEthereumAccounts({onCancel:rt,onAccounts:ut})}else this.ui.requestEthereumAccounts({onCancel:rt});WalletSDKRelay.accountRequestCallbackIds.add(tt),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(tt,_e)}),cancel:rt}}watchAsset(_e,tt,rt,nt,it,at){const ot={method:Web3Method_1.Web3Method.watchAsset,params:{type:_e,options:{address:tt,symbol:rt,decimals:nt,image:it},chainId:at}};let ct=null;const ut=(0,util_1$2.randomBytesHex)(8),ft=bt=>{this.publishWeb3RequestCanceledEvent(ut),this.handleErrorResponse(ut,ot.method,bt),ct==null||ct()};this.ui.inlineWatchAsset()||(ct=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ft,onResetConnection:this.resetAndReload}));const yt=new Promise((bt,Et)=>{this.relayEventManager.callbacks.set(ut,St=>{if(ct==null||ct(),St.errorMessage)return Et(new Error(St.errorMessage));bt(St)});const Ct=St=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ut,response:(0,Web3Response_1.WatchAssetReponse)(!1)}))},At=()=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ut,response:(0,Web3Response_1.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:At,onCancel:Ct,type:_e,address:tt,symbol:rt,decimals:nt,image:it,chainId:at}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(ut,ot)});return{cancel:ft,promise:yt}}addEthereumChain(_e,tt,rt,nt,it,at){const ot={method:Web3Method_1.Web3Method.addEthereumChain,params:{chainId:_e,rpcUrls:tt,blockExplorerUrls:nt,chainName:it,iconUrls:rt,nativeCurrency:at}};let ct=null;const ut=(0,util_1$2.randomBytesHex)(8),ft=bt=>{this.publishWeb3RequestCanceledEvent(ut),this.handleErrorResponse(ut,ot.method,bt),ct==null||ct()};return this.ui.inlineAddEthereumChain(_e)||(ct=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ft,onResetConnection:this.resetAndReload})),{promise:new Promise((bt,Et)=>{this.relayEventManager.callbacks.set(ut,St=>{if(ct==null||ct(),St.errorMessage)return Et(new Error(St.errorMessage));bt(St)});const Ct=St=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ut,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},At=St=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:ut,response:(0,Web3Response_1.AddEthereumChainResponse)({isApproved:!0,rpcUrl:St})}))};this.ui.inlineAddEthereumChain(_e)&&this.ui.addEthereumChain({onCancel:Ct,onApprove:At,chainId:ot.params.chainId,rpcUrls:ot.params.rpcUrls,blockExplorerUrls:ot.params.blockExplorerUrls,chainName:ot.params.chainName,iconUrls:ot.params.iconUrls,nativeCurrency:ot.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(_e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(ut,ot)}),cancel:ft}}switchEthereumChain(_e){const tt={method:Web3Method_1.Web3Method.switchEthereumChain,params:{chainId:_e}};let rt=null;const nt=(0,util_1$2.randomBytesHex)(8),it=ot=>{this.publishWeb3RequestCanceledEvent(nt),this.handleErrorResponse(nt,tt.method,ot),rt==null||rt()};return this.ui.inlineSwitchEthereumChain()||(rt=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:it,onResetConnection:this.resetAndReload})),{promise:new Promise((ot,ct)=>{this.relayEventManager.callbacks.set(nt,yt=>{if(rt==null||rt(),yt.errorMessage&&yt.errorCode)return ct(eth_rpc_errors_1.ethErrors.provider.custom({code:yt.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(yt.errorMessage)return ct(new Error(yt.errorMessage));ot(yt)});const ut=yt=>{if(typeof yt=="number"){const bt=yt;this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain,WalletUIError_1.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,bt)}))}else yt instanceof WalletUIError_1.WalletUIError?this.handleErrorResponse(nt,Web3Method_1.Web3Method.switchEthereumChain,yt,yt.errorCode):this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},ft=yt=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:nt,response:(0,Web3Response_1.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:yt})}))};this.ui.switchEthereumChain({onCancel:ut,onApprove:ft,chainId:tt.params.chainId}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(nt,tt)}),cancel:it}}inlineAddEthereumChain(_e){return this.ui.inlineAddEthereumChain(_e)}getSessionIdHash(){return Session_1.Session.hash(this._session.id)}sendRequestStandalone(_e,tt){const rt=it=>{this.handleErrorResponse(_e,tt.method,it)},nt=it=>{this.handleWeb3ResponseMessage((0,Web3ResponseMessage_1.Web3ResponseMessage)({id:_e,response:it}))};switch(tt.method){case Web3Method_1.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:tt,onSuccess:nt,onCancel:rt});break;case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:tt,onSuccess:nt});break;default:rt();break}}onSessionConfigChanged(_e){}}WalletSDKRelay.accountRequestCallbackIds=new Set;__decorate([bind_decorator_1.default],WalletSDKRelay.prototype,"resetAndReload",null);__decorate([bind_decorator_1.default],WalletSDKRelay.prototype,"handleIncomingEvent",null);WalletSDKRelay$1.WalletSDKRelay=WalletSDKRelay;var WalletSDKRelayEventManager$1={};Object.defineProperty(WalletSDKRelayEventManager$1,"__esModule",{value:!0});WalletSDKRelayEventManager$1.WalletSDKRelayEventManager=void 0;const util_1$1=util$5;class WalletSDKRelayEventManager{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const _e=this._nextRequestId,tt=(0,util_1$1.prepend0x)(_e.toString(16));return this.callbacks.get(tt)&&this.callbacks.delete(tt),_e}}WalletSDKRelayEventManager$1.WalletSDKRelayEventManager=WalletSDKRelayEventManager;const name$1="@coinbase/wallet-sdk",version$1="3.1.0",description="Coinbase Wallet JavaScript SDK",keywords=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],main="dist/index.js",types="dist/index.d.ts",repository="https://github.com/coinbase/coinbase-wallet-sdk.git",author="Coinbase, Inc.",license="Apache-2.0",scripts={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ./README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},dependencies={"@metamask/safe-event-emitter":"2.0.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","js-sha256":"0.9.0","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","stream-browserify":"^3.0.0"},devDependencies={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},engines={node:">= 10.0.0"},require$$6={name:name$1,version:version$1,description,keywords,main,types,repository,author,license,scripts,dependencies,devDependencies,engines};Object.defineProperty(CoinbaseWalletSDK$1,"__esModule",{value:!0});CoinbaseWalletSDK$1.CoinbaseWalletSDK=void 0;const ScopedLocalStorage_1=ScopedLocalStorage$1,CoinbaseWalletProvider_1=CoinbaseWalletProvider$1,WalletSDKUI_1=WalletSDKUI$1,WalletSDKRelay_1=WalletSDKRelay$1,WalletSDKRelayEventManager_1=WalletSDKRelayEventManager$1,util_1=util$5,LINK_API_URL={}.LINK_API_URL||"https://www.walletlink.org",SDK_VERSION={}.SDK_VERSION||require$$6.version||"unknown";class CoinbaseWalletSDK{constructor(_e){var tt,rt;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const nt=_e.linkAPIUrl||LINK_API_URL;let it;_e.uiConstructor?it=_e.uiConstructor:it=ct=>new WalletSDKUI_1.WalletSDKUI(ct),typeof _e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=_e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(tt=_e.overrideIsCoinbaseWallet)!==null&&tt!==void 0?tt:!0,this._overrideIsCoinbaseBrowser=(rt=_e.overrideIsCoinbaseBrowser)!==null&&rt!==void 0?rt:!1,this._eventListener=_e.eventListener;const at=new URL(nt),ot=`${at.protocol}//${at.host}`;this._storage=new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${ot}`),this._storage.setItem("version",CoinbaseWalletSDK.VERSION),!this.walletExtension&&(this._relayEventManager=new WalletSDKRelayEventManager_1.WalletSDKRelayEventManager,this._relay=new WalletSDKRelay_1.WalletSDKRelay({linkAPIUrl:nt,version:SDK_VERSION,darkMode:!!_e.darkMode,uiConstructor:it,storage:this._storage,relayEventManager:this._relayEventManager,eventListener:this._eventListener}),this.setAppInfo(_e.appName,_e.appLogoUrl),!_e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(_e="",tt=1){const rt=this.walletExtension;if(rt)return this.isCipherProvider(rt)||rt.setProviderInfo(_e,tt),rt;const nt=this._relay;if(!nt||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return _e||nt.setConnectDisabled(!0),new CoinbaseWalletProvider_1.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(nt),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:_e,chainId:tt,qrUrl:this.getQrUrl(),eventListener:this._eventListener,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(_e,tt){var rt;this._appName=_e||"DApp",this._appLogoUrl=tt||(0,util_1.getFavicon)();const nt=this.walletExtension;nt?this.isCipherProvider(nt)||nt.setAppInfo(this._appName,this._appLogoUrl):(rt=this._relay)===null||rt===void 0||rt.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var _e;const tt=this.walletExtension;tt?tt.close():(_e=this._relay)===null||_e===void 0||_e.resetAndReload()}getQrUrl(){var _e,tt;return(tt=(_e=this._relay)===null||_e===void 0?void 0:_e.getQRCodeUrl())!==null&&tt!==void 0?tt:null}get walletExtension(){var _e;return(_e=window.coinbaseWalletExtension)!==null&&_e!==void 0?_e:window.walletLinkExtension}isCipherProvider(_e){return typeof _e.isCipher=="boolean"&&_e.isCipher}}CoinbaseWalletSDK$1.CoinbaseWalletSDK=CoinbaseWalletSDK;CoinbaseWalletSDK.VERSION=SDK_VERSION;(function(et){Object.defineProperty(et,"__esModule",{value:!0}),et.CoinbaseWalletProvider=et.CoinbaseWalletSDK=void 0;const _e=CoinbaseWalletSDK$1,tt=CoinbaseWalletProvider$1;var rt=CoinbaseWalletSDK$1;Object.defineProperty(et,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return rt.CoinbaseWalletSDK}});var nt=CoinbaseWalletProvider$1;Object.defineProperty(et,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return nt.CoinbaseWalletProvider}}),et.default=_e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=_e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=tt.CoinbaseWalletProvider,window.WalletLink=_e.CoinbaseWalletSDK,window.WalletLinkProvider=tt.CoinbaseWalletProvider)})(dist$2);var _client=new WeakMap,_provider$1=new WeakMap;class CoinbaseWalletConnector extends Connector$1{constructor(_e){var tt;super(_e),_defineProperty(this,"id","coinbasewallet"),_defineProperty(this,"name","Coinbase Wallet"),_defineProperty(this,"ready",typeof window<"u"&&!((tt=window.ethereum)!==null&&tt!==void 0&&tt.isCoinbaseWallet)),_classPrivateFieldInitSpec(this,_client,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,_provider$1,{writable:!0,value:void 0}),_defineProperty(this,"onAccountsChanged",rt=>{rt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(rt[0])})}),_defineProperty(this,"onChainChanged",rt=>{const nt=normalizeChainId(rt),it=this.isChainUnsupported(nt);this.emit("change",{chain:{id:nt,unsupported:it}})}),_defineProperty(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){try{const _e=this.getProvider();_e.on("accountsChanged",this.onAccountsChanged),_e.on("chainChanged",this.onChainChanged),_e.on("disconnect",this.onDisconnect);const tt=await _e.enable(),rt=utils$6.getAddress(tt[0]),nt=await this.getChainId(),it=this.isChainUnsupported(nt);return{account:rt,chain:{id:nt,unsupported:it},provider:new Web3Provider(_e)}}catch(_e){throw/user closed modal/i.test(_e.message)?new UserRejectedRequestError:_e}}async disconnect(){if(!_classPrivateFieldGet(this,_provider$1))return;const _e=this.getProvider();if(_e.removeListener("accountsChanged",this.onAccountsChanged),_e.removeListener("chainChanged",this.onChainChanged),_e.removeListener("disconnect",this.onDisconnect),_e.disconnect(),_e.close(),typeof localStorage<"u"){let tt=localStorage.length;for(;tt--;){const rt=localStorage.key(tt);!rt||!/-walletlink/.test(rt)||localStorage.removeItem(rt)}}}async getAccount(){const tt=await this.getProvider().request({method:"eth_accounts"});return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();return normalizeChainId(_e.chainId)}getProvider(){return _classPrivateFieldGet(this,_provider$1)||(_classPrivateFieldSet(this,_client,new dist$2.CoinbaseWalletSDK(this.options)),_classPrivateFieldSet(this,_provider$1,_classPrivateFieldGet(this,_client).makeWeb3Provider(this.options.jsonRpcUrl))),_classPrivateFieldGet(this,_provider$1)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}async switchChain(_e){const tt=this.getProvider(),rt=utils$6.hexValue(_e);try{return await tt.request({method:"wallet_switchEthereumChain",params:[{chainId:rt}]}),[...this.chains,...allChains].find(it=>it.id===_e)}catch(nt){throw/user rejected signature request/i.test(nt.message)?new UserRejectedRequestError:new SwitchChainError}}}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}};function isReservedErrorCode(et){return RESERVED_ERROR_CODES.includes(et)}function getError(et){return Object.keys(STANDARD_ERROR_MAP).includes(et)?STANDARD_ERROR_MAP[et]:STANDARD_ERROR_MAP[INTERNAL_ERROR]}function getErrorByCode(et){const _e=Object.values(STANDARD_ERROR_MAP).find(tt=>tt.code===et);return _e||STANDARD_ERROR_MAP[INTERNAL_ERROR]}function parseConnectionError(et,_e,tt){return et.message.includes("getaddrinfo ENOTFOUND")||et.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${tt} RPC url at ${_e}`):et}var cjs$3={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.isBrowserCryptoAvailable=crypto$1.getSubtleCrypto=crypto$1.getBrowerCrypto=void 0;function getBrowerCrypto(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}crypto$1.getBrowerCrypto=getBrowerCrypto;function getSubtleCrypto(){const et=getBrowerCrypto();return et.subtle||et.webkitSubtle}crypto$1.getSubtleCrypto=getSubtleCrypto;function isBrowserCryptoAvailable(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}crypto$1.isBrowserCryptoAvailable=isBrowserCryptoAvailable;var env={};Object.defineProperty(env,"__esModule",{value:!0});env.isBrowser=env.isNode=env.isReactNative=void 0;function isReactNative(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=isReactNative;function isNode$3(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}env.isNode=isNode$3;function isBrowser$3(){return!isReactNative()&&!isNode$3()}env.isBrowser=isBrowser$3;(function(et){var _e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(rt,nt,it,at){at===void 0&&(at=it),Object.defineProperty(rt,at,{enumerable:!0,get:function(){return nt[it]}})}:function(rt,nt,it,at){at===void 0&&(at=it),rt[at]=nt[it]}),tt=commonjsGlobal&&commonjsGlobal.__exportStar||function(rt,nt){for(var it in rt)it!=="default"&&!nt.hasOwnProperty(it)&&_e(nt,rt,it)};Object.defineProperty(et,"__esModule",{value:!0}),tt(crypto$1,et),tt(env,et)})(cjs$3);function payloadId$1(){const et=Date.now()*Math.pow(10,3),_e=Math.floor(Math.random()*Math.pow(10,3));return et+_e}function formatJsonRpcRequest(et,_e,tt){return{id:tt||payloadId$1(),jsonrpc:"2.0",method:et,params:_e}}function formatJsonRpcError(et,_e){return{id:et,jsonrpc:"2.0",error:formatErrorMessage(_e)}}function formatErrorMessage(et){return typeof et>"u"?getError(INTERNAL_ERROR):(typeof et=="string"&&(et=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:et})),isReservedErrorCode(et.code)&&(et=getErrorByCode(et.code)),et)}class IEvents{}class IJsonRpcConnection extends IEvents{constructor(_e){super()}}class IBaseJsonRpcProvider extends IEvents{constructor(){super()}}class IJsonRpcProvider extends IBaseJsonRpcProvider{constructor(_e){super()}}const HTTP_REGEX="^https?:";function getUrlProtocol(et){const _e=et.match(new RegExp(/^\w+:/,"gi"));if(!(!_e||!_e.length))return _e[0]}function matchRegexProtocol(et,_e){const tt=getUrlProtocol(et);return typeof tt>"u"?!1:new RegExp(_e).test(tt)}function isHttpUrl(et){return matchRegexProtocol(et,HTTP_REGEX)}function isJsonRpcPayload(et){return"id"in et&&"jsonrpc"in et&&et.jsonrpc==="2.0"}function isJsonRpcResponse(et){return isJsonRpcPayload(et)&&(isJsonRpcResult(et)||isJsonRpcError(et))}function isJsonRpcResult(et){return"result"in et}function isJsonRpcError(et){return"error"in et}class JsonRpcProvider extends IJsonRpcProvider{constructor(_e){super(_e),this.events=new events.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(_e),this.connection.connected&&this.registerEventListeners()}async connect(_e=this.connection){await this.open(_e)}async disconnect(){await this.close()}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async request(_e,tt){return this.requestStrict(formatJsonRpcRequest(_e.method,_e.params||[]),tt)}async requestStrict(_e,tt){return new Promise(async(rt,nt)=>{if(!this.connection.connected)try{await this.open()}catch(it){nt(it)}this.events.on(`${_e.id}`,it=>{isJsonRpcError(it)?nt(it.error.message):rt(it.result)});try{await this.connection.send(_e,tt)}catch(it){nt(it)}})}setConnection(_e=this.connection){return _e}onPayload(_e){this.events.emit("payload",_e),isJsonRpcResponse(_e)?this.events.emit(`${_e.id}`,_e):this.events.emit("message",{type:_e.method,data:_e.params})}async open(_e=this.connection){this.connection===_e&&this.connection.connected||(this.connection.connected&&this.close(),typeof _e=="string"&&(await this.connection.open(_e),_e=this.connection),this.connection=this.setConnection(_e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",_e=>this.onPayload(_e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",_e=>this.events.emit("error",_e)),this.hasRegisteredEventListeners=!0)}}function safeJsonParse$1(et){if(typeof et!="string")throw new Error(`Cannot safe json parse value of type ${typeof et}`);try{return JSON.parse(et)}catch{return et}}function safeJsonStringify$1(et){return typeof et=="string"?et:JSON.stringify(et)}const DEFAULT_HTTP_HEADERS={Accept:"application/json","Content-Type":"application/json"},DEFAULT_HTTP_METHOD="POST",DEFAULT_FETCH_OPTS={headers:DEFAULT_HTTP_HEADERS,method:DEFAULT_HTTP_METHOD};class HttpConnection{constructor(_e){if(this.url=_e,this.events=new events.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(_e))throw new Error(`Provided URL is not compatible with HTTP connection: ${_e}`);this.url=_e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async open(_e=this.url){await this.register(_e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(_e,tt){this.isAvailable||await this.register();try{const rt=safeJsonStringify$1(_e),it=await(await fetch$1(this.url,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:rt}))).json();this.onPayload({data:it})}catch(rt){this.onError(_e.id,rt)}}async register(_e=this.url){if(!isHttpUrl(_e))throw new Error(`Provided URL is not compatible with HTTP connection: ${_e}`);if(this.registering)return new Promise((tt,rt)=>{this.events.once("register_error",nt=>{rt(nt)}),this.events.once("open",()=>{if(typeof this.isAvailable>"u")return rt(new Error("HTTP connection is missing or invalid"));tt()})});this.url=_e,this.registering=!0;try{const tt=safeJsonStringify$1({id:1,jsonrpc:"2.0",method:"test",params:[]});await fetch$1(_e,Object.assign(Object.assign({},DEFAULT_FETCH_OPTS),{body:tt})),this.onOpen()}catch(tt){const rt=this.parseError(tt);throw this.events.emit("register_error",rt),this.onClose(),rt}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(_e){if(typeof _e.data>"u")return;const tt=typeof _e.data=="string"?safeJsonParse$1(_e.data):_e.data;this.events.emit("payload",tt)}onError(_e,tt){const rt=this.parseError(tt),nt=rt.message||rt.toString(),it=formatJsonRpcError(_e,nt);this.events.emit("payload",it)}parseError(_e,tt=this.url){return parseConnectionError(_e,tt,"HTTP")}}var cjs$2={},cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});var getLocalStorage_1=cjs$1.getLocalStorage=getLocalStorageOrThrow_1=cjs$1.getLocalStorageOrThrow=getCrypto_1=cjs$1.getCrypto=getCryptoOrThrow_1=cjs$1.getCryptoOrThrow=getLocation_1=cjs$1.getLocation=getLocationOrThrow_1=cjs$1.getLocationOrThrow=getNavigator_1=cjs$1.getNavigator=getNavigatorOrThrow_1=cjs$1.getNavigatorOrThrow=getDocument_1=cjs$1.getDocument=getDocumentOrThrow_1=cjs$1.getDocumentOrThrow=getFromWindowOrThrow_1=cjs$1.getFromWindowOrThrow=getFromWindow_1=cjs$1.getFromWindow=void 0;function getFromWindow$1(et){let _e;return typeof window<"u"&&typeof window[et]<"u"&&(_e=window[et]),_e}var getFromWindow_1=cjs$1.getFromWindow=getFromWindow$1;function getFromWindowOrThrow$1(et){const _e=getFromWindow$1(et);if(!_e)throw new Error(`${et} is not defined in Window`);return _e}var getFromWindowOrThrow_1=cjs$1.getFromWindowOrThrow=getFromWindowOrThrow$1;function getDocumentOrThrow$1(){return getFromWindowOrThrow$1("document")}var getDocumentOrThrow_1=cjs$1.getDocumentOrThrow=getDocumentOrThrow$1;function getDocument$4(){return getFromWindow$1("document")}var getDocument_1=cjs$1.getDocument=getDocument$4;function getNavigatorOrThrow$1(){return getFromWindowOrThrow$1("navigator")}var getNavigatorOrThrow_1=cjs$1.getNavigatorOrThrow=getNavigatorOrThrow$1;function getNavigator$1(){return getFromWindow$1("navigator")}var getNavigator_1=cjs$1.getNavigator=getNavigator$1;function getLocationOrThrow$1(){return getFromWindowOrThrow$1("location")}var getLocationOrThrow_1=cjs$1.getLocationOrThrow=getLocationOrThrow$1;function getLocation$1(){return getFromWindow$1("location")}var getLocation_1=cjs$1.getLocation=getLocation$1;function getCryptoOrThrow$1(){return getFromWindowOrThrow$1("crypto")}var getCryptoOrThrow_1=cjs$1.getCryptoOrThrow=getCryptoOrThrow$1;function getCrypto$1(){return getFromWindow$1("crypto")}var getCrypto_1=cjs$1.getCrypto=getCrypto$1;function getLocalStorageOrThrow$1(){return getFromWindowOrThrow$1("localStorage")}var getLocalStorageOrThrow_1=cjs$1.getLocalStorageOrThrow=getLocalStorageOrThrow$1;function getLocalStorage$1(){return getFromWindow$1("localStorage")}getLocalStorage_1=cjs$1.getLocalStorage=getLocalStorage$1;Object.defineProperty(cjs$2,"__esModule",{value:!0});var getWindowMetadata_1=cjs$2.getWindowMetadata=void 0;const window_getters_1=cjs$1;function getWindowMetadata(){let et,_e;try{et=window_getters_1.getDocumentOrThrow(),_e=window_getters_1.getLocationOrThrow()}catch{return null}function tt(){const yt=et.getElementsByTagName("link"),bt=[];for(let Et=0;Et<yt.length;Et++){const Ct=yt[Et],At=Ct.getAttribute("rel");if(At&&At.toLowerCase().indexOf("icon")>-1){const St=Ct.getAttribute("href");if(St)if(St.toLowerCase().indexOf("https:")===-1&&St.toLowerCase().indexOf("http:")===-1&&St.indexOf("//")!==0){let Tt=_e.protocol+"//"+_e.host;if(St.indexOf("/")===0)Tt+=St;else{const $t=_e.pathname.split("/");$t.pop();const kt=$t.join("/");Tt+=kt+"/"+St}bt.push(Tt)}else if(St.indexOf("//")===0){const Tt=_e.protocol+St;bt.push(Tt)}else bt.push(St)}}return bt}function rt(...yt){const bt=et.getElementsByTagName("meta");for(let Et=0;Et<bt.length;Et++){const Ct=bt[Et],At=["itemprop","property","name"].map(St=>Ct.getAttribute(St)).filter(St=>St?yt.includes(St):!1);if(At.length&&At){const St=Ct.getAttribute("content");if(St)return St}}return""}function nt(){let yt=rt("name","og:site_name","og:title","twitter:title");return yt||(yt=et.title),yt}function it(){return rt("description","og:description","twitter:description","keywords")}const at=nt(),ot=it(),ct=_e.origin,ut=tt();return{description:ot,url:ct,icons:ut,name:at}}getWindowMetadata_1=cjs$2.getWindowMetadata=getWindowMetadata;var __spreadArrays=globalThis&&globalThis.__spreadArrays||function(){for(var et=0,_e=0,tt=arguments.length;_e<tt;_e++)et+=arguments[_e].length;for(var rt=Array(et),nt=0,_e=0;_e<tt;_e++)for(var it=arguments[_e],at=0,ot=it.length;at<ot;at++,nt++)rt[nt]=it[at];return rt},BrowserInfo$1=function(){function et(_e,tt,rt){this.name=_e,this.version=tt,this.os=rt,this.type="browser"}return et}(),NodeInfo$1=function(){function et(_e){this.version=_e,this.type="node",this.name="node",this.os=process.platform}return et}(),SearchBotDeviceInfo$1=function(){function et(_e,tt,rt,nt){this.name=_e,this.version=tt,this.os=rt,this.bot=nt,this.type="bot-device"}return et}(),BotInfo$1=function(){function et(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return et}(),ReactNativeInfo$1=function(){function et(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return et}(),SEARCHBOX_UA_REGEX$1=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX$1=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS$1=3,userAgentRules$1=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",SEARCHBOX_UA_REGEX$1]],operatingSystemRules$1=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect$1(et){return et?parseUserAgent$1(et):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo$1:typeof navigator<"u"?parseUserAgent$1(navigator.userAgent):getNodeVersion$1()}function matchUserAgent$1(et){return et!==""&&userAgentRules$1.reduce(function(_e,tt){var rt=tt[0],nt=tt[1];if(_e)return _e;var it=nt.exec(et);return!!it&&[rt,it]},!1)}function parseUserAgent$1(et){var _e=matchUserAgent$1(et);if(!_e)return null;var tt=_e[0],rt=_e[1];if(tt==="searchbot")return new BotInfo$1;var nt=rt[1]&&rt[1].split(/[._]/).slice(0,3);nt?nt.length<REQUIRED_VERSION_PARTS$1&&(nt=__spreadArrays(nt,createVersionParts$1(REQUIRED_VERSION_PARTS$1-nt.length))):nt=[];var it=nt.join("."),at=detectOS$3(et),ot=SEARCHBOT_OS_REGEX$1.exec(et);return ot&&ot[1]?new SearchBotDeviceInfo$1(tt,it,at,ot[1]):new BrowserInfo$1(tt,it,at)}function detectOS$3(et){for(var _e=0,tt=operatingSystemRules$1.length;_e<tt;_e++){var rt=operatingSystemRules$1[_e],nt=rt[0],it=rt[1],at=it.exec(et);if(at)return nt}return null}function getNodeVersion$1(){var et=typeof process<"u"&&process.version;return et?new NodeInfo$1(process.version.slice(1)):null}function createVersionParts$1(et){for(var _e=[],tt=0;tt<et;tt++)_e.push("0");return _e}function detectEnv$1(et){return detect$1(et)}function detectOS$2(){const et=detectEnv$1();return et&&et.os?et.os:void 0}function isAndroid$1(){const et=detectOS$2();return et?et.toLowerCase().includes("android"):!1}function isIOS$1(){const et=detectOS$2();return et?et.toLowerCase().includes("ios")||et.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function isMobile$1(){return detectOS$2()?isAndroid$1()||isIOS$1():!1}function isNode$2(){const et=detectEnv$1();return et&&et.name?et.name.toLowerCase()==="node":!1}function isBrowser$2(){return!isNode$2()&&!!getNavigator()}const getFromWindow=getFromWindow_1,getFromWindowOrThrow=getFromWindowOrThrow_1,getDocumentOrThrow=getDocumentOrThrow_1,getDocument$3=getDocument_1,getNavigatorOrThrow=getNavigatorOrThrow_1,getNavigator=getNavigator_1,getLocationOrThrow=getLocationOrThrow_1,getLocation=getLocation_1,getCryptoOrThrow=getCryptoOrThrow_1,getCrypto=getCrypto_1,getLocalStorageOrThrow=getLocalStorageOrThrow_1,getLocalStorage=getLocalStorage_1;function getClientMeta(){return getWindowMetadata_1()}const safeJsonParse=safeJsonParse$1,safeJsonStringify=safeJsonStringify$1;function setLocal(et,_e){const tt=safeJsonStringify(_e),rt=getLocalStorage();rt&&rt.setItem(et,tt)}function getLocal(et){let _e=null,tt=null;const rt=getLocalStorage();return rt&&(tt=rt.getItem(et)),_e=tt&&safeJsonParse(tt),_e}function removeLocal(et){const _e=getLocalStorage();_e&&_e.removeItem(et)}const mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE";function formatIOSMobile(et,_e){const tt=encodeURIComponent(et);return _e.universalLink?`${_e.universalLink}/wc?uri=${tt}`:_e.deepLink?`${_e.deepLink}${_e.deepLink.endsWith(":")?"//":"/"}wc?uri=${tt}`:""}function saveMobileLinkInfo(et){const _e=et.href.split("?")[0];setLocal(mobileLinkChoiceKey,Object.assign(Object.assign({},et),{href:_e}))}function getMobileRegistryEntry(et,_e){return et.filter(tt=>tt.name.toLowerCase().includes(_e.toLowerCase()))[0]}function getMobileLinkRegistry(et,_e){let tt=et;return _e&&(tt=_e.map(rt=>getMobileRegistryEntry(et,rt)).filter(Boolean)),tt}const API_URL$1="https://registry.walletconnect.com";function getWalletRegistryUrl(){return API_URL$1+"/api/v2/wallets"}function getDappRegistryUrl(){return API_URL$1+"/api/v2/dapps"}function formatMobileRegistryEntry(et,_e="mobile"){var tt;return{name:et.name||"",shortName:et.metadata.shortName||"",color:et.metadata.colors.primary||"",logo:(tt=et.image_url.sm)!==null&&tt!==void 0?tt:"",universalLink:et[_e].universal||"",deepLink:et[_e].native||""}}function formatMobileRegistry(et,_e="mobile"){return Object.values(et).filter(tt=>!!tt[_e].universal||!!tt[_e].native).map(tt=>formatMobileRegistryEntry(tt,_e))}const esm$1=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:detectEnv$1,detectOS:detectOS$2,isAndroid:isAndroid$1,isIOS:isIOS$1,isMobile:isMobile$1,isNode:isNode$2,isBrowser:isBrowser$2,getFromWindow,getFromWindowOrThrow,getDocumentOrThrow,getDocument:getDocument$3,getNavigatorOrThrow,getNavigator,getLocationOrThrow,getLocation,getCryptoOrThrow,getCrypto,getLocalStorageOrThrow,getLocalStorage,getClientMeta,safeJsonParse,safeJsonStringify,setLocal,getLocal,removeLocal,mobileLinkChoiceKey,formatIOSMobile,saveMobileLinkInfo,getMobileRegistryEntry,getMobileLinkRegistry,getWalletRegistryUrl,getDappRegistryUrl,formatMobileRegistryEntry,formatMobileRegistry},Symbol.toStringTag,{value:"Module"})),reservedEvents=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],signingMethods=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],infuraNetworks={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var bn={exports:{}};(function(et){(function(_e,tt){function rt(Dt,Rt){if(!Dt)throw new Error(Rt||"Assertion failed")}function nt(Dt,Rt){Dt.super_=Rt;var Nt=function(){};Nt.prototype=Rt.prototype,Dt.prototype=new Nt,Dt.prototype.constructor=Dt}function it(Dt,Rt,Nt){if(it.isBN(Dt))return Dt;this.negative=0,this.words=null,this.length=0,this.red=null,Dt!==null&&((Rt==="le"||Rt==="be")&&(Nt=Rt,Rt=10),this._init(Dt||0,Rt||10,Nt||"be"))}typeof _e=="object"?_e.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{at=require$$0$4.Buffer}catch{}it.isBN=function(Rt){return Rt instanceof it?!0:Rt!==null&&typeof Rt=="object"&&Rt.constructor.wordSize===it.wordSize&&Array.isArray(Rt.words)},it.max=function(Rt,Nt){return Rt.cmp(Nt)>0?Rt:Nt},it.min=function(Rt,Nt){return Rt.cmp(Nt)<0?Rt:Nt},it.prototype._init=function(Rt,Nt,ht){if(typeof Rt=="number")return this._initNumber(Rt,Nt,ht);if(typeof Rt=="object")return this._initArray(Rt,Nt,ht);Nt==="hex"&&(Nt=16),rt(Nt===(Nt|0)&&Nt>=2&&Nt<=36),Rt=Rt.toString().replace(/\s+/g,"");var st=0;Rt[0]==="-"&&st++,Nt===16?this._parseHex(Rt,st):this._parseBase(Rt,Nt,st),Rt[0]==="-"&&(this.negative=1),this.strip(),ht==="le"&&this._initArray(this.toArray(),Nt,ht)},it.prototype._initNumber=function(Rt,Nt,ht){Rt<0&&(this.negative=1,Rt=-Rt),Rt<67108864?(this.words=[Rt&67108863],this.length=1):Rt<4503599627370496?(this.words=[Rt&67108863,Rt/67108864&67108863],this.length=2):(rt(Rt<9007199254740992),this.words=[Rt&67108863,Rt/67108864&67108863,1],this.length=3),ht==="le"&&this._initArray(this.toArray(),Nt,ht)},it.prototype._initArray=function(Rt,Nt,ht){if(rt(typeof Rt.length=="number"),Rt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Rt.length/3),this.words=new Array(this.length);for(var st=0;st<this.length;st++)this.words[st]=0;var dt,mt,_t=0;if(ht==="be")for(st=Rt.length-1,dt=0;st>=0;st-=3)mt=Rt[st]|Rt[st-1]<<8|Rt[st-2]<<16,this.words[dt]|=mt<<_t&67108863,this.words[dt+1]=mt>>>26-_t&67108863,_t+=24,_t>=26&&(_t-=26,dt++);else if(ht==="le")for(st=0,dt=0;st<Rt.length;st+=3)mt=Rt[st]|Rt[st+1]<<8|Rt[st+2]<<16,this.words[dt]|=mt<<_t&67108863,this.words[dt+1]=mt>>>26-_t&67108863,_t+=24,_t>=26&&(_t-=26,dt++);return this.strip()};function ot(Dt,Rt,Nt){for(var ht=0,st=Math.min(Dt.length,Nt),dt=Rt;dt<st;dt++){var mt=Dt.charCodeAt(dt)-48;ht<<=4,mt>=49&&mt<=54?ht|=mt-49+10:mt>=17&&mt<=22?ht|=mt-17+10:ht|=mt&15}return ht}it.prototype._parseHex=function(Rt,Nt){this.length=Math.ceil((Rt.length-Nt)/6),this.words=new Array(this.length);for(var ht=0;ht<this.length;ht++)this.words[ht]=0;var st,dt,mt=0;for(ht=Rt.length-6,st=0;ht>=Nt;ht-=6)dt=ot(Rt,ht,ht+6),this.words[st]|=dt<<mt&67108863,this.words[st+1]|=dt>>>26-mt&4194303,mt+=24,mt>=26&&(mt-=26,st++);ht+6!==Nt&&(dt=ot(Rt,Nt,ht+6),this.words[st]|=dt<<mt&67108863,this.words[st+1]|=dt>>>26-mt&4194303),this.strip()};function ct(Dt,Rt,Nt,ht){for(var st=0,dt=Math.min(Dt.length,Nt),mt=Rt;mt<dt;mt++){var _t=Dt.charCodeAt(mt)-48;st*=ht,_t>=49?st+=_t-49+10:_t>=17?st+=_t-17+10:st+=_t}return st}it.prototype._parseBase=function(Rt,Nt,ht){this.words=[0],this.length=1;for(var st=0,dt=1;dt<=67108863;dt*=Nt)st++;st--,dt=dt/Nt|0;for(var mt=Rt.length-ht,_t=mt%st,xt=Math.min(mt,mt-_t)+ht,vt=0,Mt=ht;Mt<xt;Mt+=st)vt=ct(Rt,Mt,Mt+st,Nt),this.imuln(dt),this.words[0]+vt<67108864?this.words[0]+=vt:this._iaddn(vt);if(_t!==0){var gt=1;for(vt=ct(Rt,Mt,Rt.length,Nt),Mt=0;Mt<_t;Mt++)gt*=Nt;this.imuln(gt),this.words[0]+vt<67108864?this.words[0]+=vt:this._iaddn(vt)}},it.prototype.copy=function(Rt){Rt.words=new Array(this.length);for(var Nt=0;Nt<this.length;Nt++)Rt.words[Nt]=this.words[Nt];Rt.length=this.length,Rt.negative=this.negative,Rt.red=this.red},it.prototype.clone=function(){var Rt=new it(null);return this.copy(Rt),Rt},it.prototype._expand=function(Rt){for(;this.length<Rt;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ut=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ft=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],yt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(Rt,Nt){Rt=Rt||10,Nt=Nt|0||1;var ht;if(Rt===16||Rt==="hex"){ht="";for(var st=0,dt=0,mt=0;mt<this.length;mt++){var _t=this.words[mt],xt=((_t<<st|dt)&16777215).toString(16);dt=_t>>>24-st&16777215,dt!==0||mt!==this.length-1?ht=ut[6-xt.length]+xt+ht:ht=xt+ht,st+=2,st>=26&&(st-=26,mt--)}for(dt!==0&&(ht=dt.toString(16)+ht);ht.length%Nt!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}if(Rt===(Rt|0)&&Rt>=2&&Rt<=36){var vt=ft[Rt],Mt=yt[Rt];ht="";var gt=this.clone();for(gt.negative=0;!gt.isZero();){var lt=gt.modn(Mt).toString(Rt);gt=gt.idivn(Mt),gt.isZero()?ht=lt+ht:ht=ut[vt-lt.length]+lt+ht}for(this.isZero()&&(ht="0"+ht);ht.length%Nt!==0;)ht="0"+ht;return this.negative!==0&&(ht="-"+ht),ht}rt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var Rt=this.words[0];return this.length===2?Rt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Rt+=4503599627370496+this.words[1]*67108864:this.length>2&&rt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Rt:Rt},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(Rt,Nt){return rt(typeof at<"u"),this.toArrayLike(at,Rt,Nt)},it.prototype.toArray=function(Rt,Nt){return this.toArrayLike(Array,Rt,Nt)},it.prototype.toArrayLike=function(Rt,Nt,ht){var st=this.byteLength(),dt=ht||Math.max(1,st);rt(st<=dt,"byte array longer than desired length"),rt(dt>0,"Requested array length <= 0"),this.strip();var mt=Nt==="le",_t=new Rt(dt),xt,vt,Mt=this.clone();if(mt){for(vt=0;!Mt.isZero();vt++)xt=Mt.andln(255),Mt.iushrn(8),_t[vt]=xt;for(;vt<dt;vt++)_t[vt]=0}else{for(vt=0;vt<dt-st;vt++)_t[vt]=0;for(vt=0;!Mt.isZero();vt++)xt=Mt.andln(255),Mt.iushrn(8),_t[dt-vt-1]=xt}return _t},Math.clz32?it.prototype._countBits=function(Rt){return 32-Math.clz32(Rt)}:it.prototype._countBits=function(Rt){var Nt=Rt,ht=0;return Nt>=4096&&(ht+=13,Nt>>>=13),Nt>=64&&(ht+=7,Nt>>>=7),Nt>=8&&(ht+=4,Nt>>>=4),Nt>=2&&(ht+=2,Nt>>>=2),ht+Nt},it.prototype._zeroBits=function(Rt){if(Rt===0)return 26;var Nt=Rt,ht=0;return(Nt&8191)===0&&(ht+=13,Nt>>>=13),(Nt&127)===0&&(ht+=7,Nt>>>=7),(Nt&15)===0&&(ht+=4,Nt>>>=4),(Nt&3)===0&&(ht+=2,Nt>>>=2),(Nt&1)===0&&ht++,ht},it.prototype.bitLength=function(){var Rt=this.words[this.length-1],Nt=this._countBits(Rt);return(this.length-1)*26+Nt};function bt(Dt){for(var Rt=new Array(Dt.bitLength()),Nt=0;Nt<Rt.length;Nt++){var ht=Nt/26|0,st=Nt%26;Rt[Nt]=(Dt.words[ht]&1<<st)>>>st}return Rt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Rt=0,Nt=0;Nt<this.length;Nt++){var ht=this._zeroBits(this.words[Nt]);if(Rt+=ht,ht!==26)break}return Rt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(Rt){return this.negative!==0?this.abs().inotn(Rt).iaddn(1):this.clone()},it.prototype.fromTwos=function(Rt){return this.testn(Rt-1)?this.notn(Rt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(Rt){for(;this.length<Rt.length;)this.words[this.length++]=0;for(var Nt=0;Nt<Rt.length;Nt++)this.words[Nt]=this.words[Nt]|Rt.words[Nt];return this.strip()},it.prototype.ior=function(Rt){return rt((this.negative|Rt.negative)===0),this.iuor(Rt)},it.prototype.or=function(Rt){return this.length>Rt.length?this.clone().ior(Rt):Rt.clone().ior(this)},it.prototype.uor=function(Rt){return this.length>Rt.length?this.clone().iuor(Rt):Rt.clone().iuor(this)},it.prototype.iuand=function(Rt){var Nt;this.length>Rt.length?Nt=Rt:Nt=this;for(var ht=0;ht<Nt.length;ht++)this.words[ht]=this.words[ht]&Rt.words[ht];return this.length=Nt.length,this.strip()},it.prototype.iand=function(Rt){return rt((this.negative|Rt.negative)===0),this.iuand(Rt)},it.prototype.and=function(Rt){return this.length>Rt.length?this.clone().iand(Rt):Rt.clone().iand(this)},it.prototype.uand=function(Rt){return this.length>Rt.length?this.clone().iuand(Rt):Rt.clone().iuand(this)},it.prototype.iuxor=function(Rt){var Nt,ht;this.length>Rt.length?(Nt=this,ht=Rt):(Nt=Rt,ht=this);for(var st=0;st<ht.length;st++)this.words[st]=Nt.words[st]^ht.words[st];if(this!==Nt)for(;st<Nt.length;st++)this.words[st]=Nt.words[st];return this.length=Nt.length,this.strip()},it.prototype.ixor=function(Rt){return rt((this.negative|Rt.negative)===0),this.iuxor(Rt)},it.prototype.xor=function(Rt){return this.length>Rt.length?this.clone().ixor(Rt):Rt.clone().ixor(this)},it.prototype.uxor=function(Rt){return this.length>Rt.length?this.clone().iuxor(Rt):Rt.clone().iuxor(this)},it.prototype.inotn=function(Rt){rt(typeof Rt=="number"&&Rt>=0);var Nt=Math.ceil(Rt/26)|0,ht=Rt%26;this._expand(Nt),ht>0&&Nt--;for(var st=0;st<Nt;st++)this.words[st]=~this.words[st]&67108863;return ht>0&&(this.words[st]=~this.words[st]&67108863>>26-ht),this.strip()},it.prototype.notn=function(Rt){return this.clone().inotn(Rt)},it.prototype.setn=function(Rt,Nt){rt(typeof Rt=="number"&&Rt>=0);var ht=Rt/26|0,st=Rt%26;return this._expand(ht+1),Nt?this.words[ht]=this.words[ht]|1<<st:this.words[ht]=this.words[ht]&~(1<<st),this.strip()},it.prototype.iadd=function(Rt){var Nt;if(this.negative!==0&&Rt.negative===0)return this.negative=0,Nt=this.isub(Rt),this.negative^=1,this._normSign();if(this.negative===0&&Rt.negative!==0)return Rt.negative=0,Nt=this.isub(Rt),Rt.negative=1,Nt._normSign();var ht,st;this.length>Rt.length?(ht=this,st=Rt):(ht=Rt,st=this);for(var dt=0,mt=0;mt<st.length;mt++)Nt=(ht.words[mt]|0)+(st.words[mt]|0)+dt,this.words[mt]=Nt&67108863,dt=Nt>>>26;for(;dt!==0&&mt<ht.length;mt++)Nt=(ht.words[mt]|0)+dt,this.words[mt]=Nt&67108863,dt=Nt>>>26;if(this.length=ht.length,dt!==0)this.words[this.length]=dt,this.length++;else if(ht!==this)for(;mt<ht.length;mt++)this.words[mt]=ht.words[mt];return this},it.prototype.add=function(Rt){var Nt;return Rt.negative!==0&&this.negative===0?(Rt.negative=0,Nt=this.sub(Rt),Rt.negative^=1,Nt):Rt.negative===0&&this.negative!==0?(this.negative=0,Nt=Rt.sub(this),this.negative=1,Nt):this.length>Rt.length?this.clone().iadd(Rt):Rt.clone().iadd(this)},it.prototype.isub=function(Rt){if(Rt.negative!==0){Rt.negative=0;var Nt=this.iadd(Rt);return Rt.negative=1,Nt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Rt),this.negative=1,this._normSign();var ht=this.cmp(Rt);if(ht===0)return this.negative=0,this.length=1,this.words[0]=0,this;var st,dt;ht>0?(st=this,dt=Rt):(st=Rt,dt=this);for(var mt=0,_t=0;_t<dt.length;_t++)Nt=(st.words[_t]|0)-(dt.words[_t]|0)+mt,mt=Nt>>26,this.words[_t]=Nt&67108863;for(;mt!==0&&_t<st.length;_t++)Nt=(st.words[_t]|0)+mt,mt=Nt>>26,this.words[_t]=Nt&67108863;if(mt===0&&_t<st.length&&st!==this)for(;_t<st.length;_t++)this.words[_t]=st.words[_t];return this.length=Math.max(this.length,_t),st!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(Rt){return this.clone().isub(Rt)};function Et(Dt,Rt,Nt){Nt.negative=Rt.negative^Dt.negative;var ht=Dt.length+Rt.length|0;Nt.length=ht,ht=ht-1|0;var st=Dt.words[0]|0,dt=Rt.words[0]|0,mt=st*dt,_t=mt&67108863,xt=mt/67108864|0;Nt.words[0]=_t;for(var vt=1;vt<ht;vt++){for(var Mt=xt>>>26,gt=xt&67108863,lt=Math.min(vt,Rt.length-1),wt=Math.max(0,vt-Dt.length+1);wt<=lt;wt++){var jt=vt-wt|0;st=Dt.words[jt]|0,dt=Rt.words[wt]|0,mt=st*dt+gt,Mt+=mt/67108864|0,gt=mt&67108863}Nt.words[vt]=gt|0,xt=Mt|0}return xt!==0?Nt.words[vt]=xt|0:Nt.length--,Nt.strip()}var Ct=function(Rt,Nt,ht){var st=Rt.words,dt=Nt.words,mt=ht.words,_t=0,xt,vt,Mt,gt=st[0]|0,lt=gt&8191,wt=gt>>>13,jt=st[1]|0,It=jt&8191,Wt=jt>>>13,Qt=st[2]|0,Gt=Qt&8191,er=Qt>>>13,hr=st[3]|0,Vt=hr&8191,Kt=hr>>>13,lr=st[4]|0,ir=lr&8191,ur=lr>>>13,Xt=st[5]|0,Ft=Xt&8191,Ut=Xt>>>13,Yt=st[6]|0,rr=Yt&8191,ar=Yt>>>13,br=st[7]|0,dr=br&8191,pr=br>>>13,Lr=st[8]|0,mr=Lr&8191,zt=Lr>>>13,Lt=st[9]|0,Bt=Lt&8191,Jt=Lt>>>13,cr=dt[0]|0,nr=cr&8191,sr=cr>>>13,Fr=dt[1]|0,vr=Fr&8191,gr=Fr>>>13,Dr=dt[2]|0,yr=Dr&8191,Sr=Dr>>>13,Vr=dt[3]|0,Tr=Vr&8191,wr=Vr>>>13,Zr=dt[4]|0,Cr=Zr&8191,Ar=Zr>>>13,Kr=dt[5]|0,Mr=Kr&8191,$r=Kr>>>13,Gr=dt[6]|0,Rr=Gr&8191,_r=Gr>>>13,Ur=dt[7]|0,xr=Ur&8191,Er=Ur>>>13,Qr=dt[8]|0,kr=Qr&8191,Ir=Qr>>>13,Yr=dt[9]|0,Pr=Yr&8191,Nr=Yr>>>13;ht.negative=Rt.negative^Nt.negative,ht.length=19,xt=Math.imul(lt,nr),vt=Math.imul(lt,sr),vt=vt+Math.imul(wt,nr)|0,Mt=Math.imul(wt,sr);var Jr=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,xt=Math.imul(It,nr),vt=Math.imul(It,sr),vt=vt+Math.imul(Wt,nr)|0,Mt=Math.imul(Wt,sr),xt=xt+Math.imul(lt,vr)|0,vt=vt+Math.imul(lt,gr)|0,vt=vt+Math.imul(wt,vr)|0,Mt=Mt+Math.imul(wt,gr)|0;var Or=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(Or>>>26)|0,Or&=67108863,xt=Math.imul(Gt,nr),vt=Math.imul(Gt,sr),vt=vt+Math.imul(er,nr)|0,Mt=Math.imul(er,sr),xt=xt+Math.imul(It,vr)|0,vt=vt+Math.imul(It,gr)|0,vt=vt+Math.imul(Wt,vr)|0,Mt=Mt+Math.imul(Wt,gr)|0,xt=xt+Math.imul(lt,yr)|0,vt=vt+Math.imul(lt,Sr)|0,vt=vt+Math.imul(wt,yr)|0,Mt=Mt+Math.imul(wt,Sr)|0;var Br=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(Br>>>26)|0,Br&=67108863,xt=Math.imul(Vt,nr),vt=Math.imul(Vt,sr),vt=vt+Math.imul(Kt,nr)|0,Mt=Math.imul(Kt,sr),xt=xt+Math.imul(Gt,vr)|0,vt=vt+Math.imul(Gt,gr)|0,vt=vt+Math.imul(er,vr)|0,Mt=Mt+Math.imul(er,gr)|0,xt=xt+Math.imul(It,yr)|0,vt=vt+Math.imul(It,Sr)|0,vt=vt+Math.imul(Wt,yr)|0,Mt=Mt+Math.imul(Wt,Sr)|0,xt=xt+Math.imul(lt,Tr)|0,vt=vt+Math.imul(lt,wr)|0,vt=vt+Math.imul(wt,Tr)|0,Mt=Mt+Math.imul(wt,wr)|0;var jr=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(jr>>>26)|0,jr&=67108863,xt=Math.imul(ir,nr),vt=Math.imul(ir,sr),vt=vt+Math.imul(ur,nr)|0,Mt=Math.imul(ur,sr),xt=xt+Math.imul(Vt,vr)|0,vt=vt+Math.imul(Vt,gr)|0,vt=vt+Math.imul(Kt,vr)|0,Mt=Mt+Math.imul(Kt,gr)|0,xt=xt+Math.imul(Gt,yr)|0,vt=vt+Math.imul(Gt,Sr)|0,vt=vt+Math.imul(er,yr)|0,Mt=Mt+Math.imul(er,Sr)|0,xt=xt+Math.imul(It,Tr)|0,vt=vt+Math.imul(It,wr)|0,vt=vt+Math.imul(Wt,Tr)|0,Mt=Mt+Math.imul(Wt,wr)|0,xt=xt+Math.imul(lt,Cr)|0,vt=vt+Math.imul(lt,Ar)|0,vt=vt+Math.imul(wt,Cr)|0,Mt=Mt+Math.imul(wt,Ar)|0;var Wr=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,xt=Math.imul(Ft,nr),vt=Math.imul(Ft,sr),vt=vt+Math.imul(Ut,nr)|0,Mt=Math.imul(Ut,sr),xt=xt+Math.imul(ir,vr)|0,vt=vt+Math.imul(ir,gr)|0,vt=vt+Math.imul(ur,vr)|0,Mt=Mt+Math.imul(ur,gr)|0,xt=xt+Math.imul(Vt,yr)|0,vt=vt+Math.imul(Vt,Sr)|0,vt=vt+Math.imul(Kt,yr)|0,Mt=Mt+Math.imul(Kt,Sr)|0,xt=xt+Math.imul(Gt,Tr)|0,vt=vt+Math.imul(Gt,wr)|0,vt=vt+Math.imul(er,Tr)|0,Mt=Mt+Math.imul(er,wr)|0,xt=xt+Math.imul(It,Cr)|0,vt=vt+Math.imul(It,Ar)|0,vt=vt+Math.imul(Wt,Cr)|0,Mt=Mt+Math.imul(Wt,Ar)|0,xt=xt+Math.imul(lt,Mr)|0,vt=vt+Math.imul(lt,$r)|0,vt=vt+Math.imul(wt,Mr)|0,Mt=Mt+Math.imul(wt,$r)|0;var Hr=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,xt=Math.imul(rr,nr),vt=Math.imul(rr,sr),vt=vt+Math.imul(ar,nr)|0,Mt=Math.imul(ar,sr),xt=xt+Math.imul(Ft,vr)|0,vt=vt+Math.imul(Ft,gr)|0,vt=vt+Math.imul(Ut,vr)|0,Mt=Mt+Math.imul(Ut,gr)|0,xt=xt+Math.imul(ir,yr)|0,vt=vt+Math.imul(ir,Sr)|0,vt=vt+Math.imul(ur,yr)|0,Mt=Mt+Math.imul(ur,Sr)|0,xt=xt+Math.imul(Vt,Tr)|0,vt=vt+Math.imul(Vt,wr)|0,vt=vt+Math.imul(Kt,Tr)|0,Mt=Mt+Math.imul(Kt,wr)|0,xt=xt+Math.imul(Gt,Cr)|0,vt=vt+Math.imul(Gt,Ar)|0,vt=vt+Math.imul(er,Cr)|0,Mt=Mt+Math.imul(er,Ar)|0,xt=xt+Math.imul(It,Mr)|0,vt=vt+Math.imul(It,$r)|0,vt=vt+Math.imul(Wt,Mr)|0,Mt=Mt+Math.imul(Wt,$r)|0,xt=xt+Math.imul(lt,Rr)|0,vt=vt+Math.imul(lt,_r)|0,vt=vt+Math.imul(wt,Rr)|0,Mt=Mt+Math.imul(wt,_r)|0;var zr=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(zr>>>26)|0,zr&=67108863,xt=Math.imul(dr,nr),vt=Math.imul(dr,sr),vt=vt+Math.imul(pr,nr)|0,Mt=Math.imul(pr,sr),xt=xt+Math.imul(rr,vr)|0,vt=vt+Math.imul(rr,gr)|0,vt=vt+Math.imul(ar,vr)|0,Mt=Mt+Math.imul(ar,gr)|0,xt=xt+Math.imul(Ft,yr)|0,vt=vt+Math.imul(Ft,Sr)|0,vt=vt+Math.imul(Ut,yr)|0,Mt=Mt+Math.imul(Ut,Sr)|0,xt=xt+Math.imul(ir,Tr)|0,vt=vt+Math.imul(ir,wr)|0,vt=vt+Math.imul(ur,Tr)|0,Mt=Mt+Math.imul(ur,wr)|0,xt=xt+Math.imul(Vt,Cr)|0,vt=vt+Math.imul(Vt,Ar)|0,vt=vt+Math.imul(Kt,Cr)|0,Mt=Mt+Math.imul(Kt,Ar)|0,xt=xt+Math.imul(Gt,Mr)|0,vt=vt+Math.imul(Gt,$r)|0,vt=vt+Math.imul(er,Mr)|0,Mt=Mt+Math.imul(er,$r)|0,xt=xt+Math.imul(It,Rr)|0,vt=vt+Math.imul(It,_r)|0,vt=vt+Math.imul(Wt,Rr)|0,Mt=Mt+Math.imul(Wt,_r)|0,xt=xt+Math.imul(lt,xr)|0,vt=vt+Math.imul(lt,Er)|0,vt=vt+Math.imul(wt,xr)|0,Mt=Mt+Math.imul(wt,Er)|0;var qr=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(qr>>>26)|0,qr&=67108863,xt=Math.imul(mr,nr),vt=Math.imul(mr,sr),vt=vt+Math.imul(zt,nr)|0,Mt=Math.imul(zt,sr),xt=xt+Math.imul(dr,vr)|0,vt=vt+Math.imul(dr,gr)|0,vt=vt+Math.imul(pr,vr)|0,Mt=Mt+Math.imul(pr,gr)|0,xt=xt+Math.imul(rr,yr)|0,vt=vt+Math.imul(rr,Sr)|0,vt=vt+Math.imul(ar,yr)|0,Mt=Mt+Math.imul(ar,Sr)|0,xt=xt+Math.imul(Ft,Tr)|0,vt=vt+Math.imul(Ft,wr)|0,vt=vt+Math.imul(Ut,Tr)|0,Mt=Mt+Math.imul(Ut,wr)|0,xt=xt+Math.imul(ir,Cr)|0,vt=vt+Math.imul(ir,Ar)|0,vt=vt+Math.imul(ur,Cr)|0,Mt=Mt+Math.imul(ur,Ar)|0,xt=xt+Math.imul(Vt,Mr)|0,vt=vt+Math.imul(Vt,$r)|0,vt=vt+Math.imul(Kt,Mr)|0,Mt=Mt+Math.imul(Kt,$r)|0,xt=xt+Math.imul(Gt,Rr)|0,vt=vt+Math.imul(Gt,_r)|0,vt=vt+Math.imul(er,Rr)|0,Mt=Mt+Math.imul(er,_r)|0,xt=xt+Math.imul(It,xr)|0,vt=vt+Math.imul(It,Er)|0,vt=vt+Math.imul(Wt,xr)|0,Mt=Mt+Math.imul(Wt,Er)|0,xt=xt+Math.imul(lt,kr)|0,vt=vt+Math.imul(lt,Ir)|0,vt=vt+Math.imul(wt,kr)|0,Mt=Mt+Math.imul(wt,Ir)|0;var Xr=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,xt=Math.imul(Bt,nr),vt=Math.imul(Bt,sr),vt=vt+Math.imul(Jt,nr)|0,Mt=Math.imul(Jt,sr),xt=xt+Math.imul(mr,vr)|0,vt=vt+Math.imul(mr,gr)|0,vt=vt+Math.imul(zt,vr)|0,Mt=Mt+Math.imul(zt,gr)|0,xt=xt+Math.imul(dr,yr)|0,vt=vt+Math.imul(dr,Sr)|0,vt=vt+Math.imul(pr,yr)|0,Mt=Mt+Math.imul(pr,Sr)|0,xt=xt+Math.imul(rr,Tr)|0,vt=vt+Math.imul(rr,wr)|0,vt=vt+Math.imul(ar,Tr)|0,Mt=Mt+Math.imul(ar,wr)|0,xt=xt+Math.imul(Ft,Cr)|0,vt=vt+Math.imul(Ft,Ar)|0,vt=vt+Math.imul(Ut,Cr)|0,Mt=Mt+Math.imul(Ut,Ar)|0,xt=xt+Math.imul(ir,Mr)|0,vt=vt+Math.imul(ir,$r)|0,vt=vt+Math.imul(ur,Mr)|0,Mt=Mt+Math.imul(ur,$r)|0,xt=xt+Math.imul(Vt,Rr)|0,vt=vt+Math.imul(Vt,_r)|0,vt=vt+Math.imul(Kt,Rr)|0,Mt=Mt+Math.imul(Kt,_r)|0,xt=xt+Math.imul(Gt,xr)|0,vt=vt+Math.imul(Gt,Er)|0,vt=vt+Math.imul(er,xr)|0,Mt=Mt+Math.imul(er,Er)|0,xt=xt+Math.imul(It,kr)|0,vt=vt+Math.imul(It,Ir)|0,vt=vt+Math.imul(Wt,kr)|0,Mt=Mt+Math.imul(Wt,Ir)|0,xt=xt+Math.imul(lt,Pr)|0,vt=vt+Math.imul(lt,Nr)|0,vt=vt+Math.imul(wt,Pr)|0,Mt=Mt+Math.imul(wt,Nr)|0;var tn=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(tn>>>26)|0,tn&=67108863,xt=Math.imul(Bt,vr),vt=Math.imul(Bt,gr),vt=vt+Math.imul(Jt,vr)|0,Mt=Math.imul(Jt,gr),xt=xt+Math.imul(mr,yr)|0,vt=vt+Math.imul(mr,Sr)|0,vt=vt+Math.imul(zt,yr)|0,Mt=Mt+Math.imul(zt,Sr)|0,xt=xt+Math.imul(dr,Tr)|0,vt=vt+Math.imul(dr,wr)|0,vt=vt+Math.imul(pr,Tr)|0,Mt=Mt+Math.imul(pr,wr)|0,xt=xt+Math.imul(rr,Cr)|0,vt=vt+Math.imul(rr,Ar)|0,vt=vt+Math.imul(ar,Cr)|0,Mt=Mt+Math.imul(ar,Ar)|0,xt=xt+Math.imul(Ft,Mr)|0,vt=vt+Math.imul(Ft,$r)|0,vt=vt+Math.imul(Ut,Mr)|0,Mt=Mt+Math.imul(Ut,$r)|0,xt=xt+Math.imul(ir,Rr)|0,vt=vt+Math.imul(ir,_r)|0,vt=vt+Math.imul(ur,Rr)|0,Mt=Mt+Math.imul(ur,_r)|0,xt=xt+Math.imul(Vt,xr)|0,vt=vt+Math.imul(Vt,Er)|0,vt=vt+Math.imul(Kt,xr)|0,Mt=Mt+Math.imul(Kt,Er)|0,xt=xt+Math.imul(Gt,kr)|0,vt=vt+Math.imul(Gt,Ir)|0,vt=vt+Math.imul(er,kr)|0,Mt=Mt+Math.imul(er,Ir)|0,xt=xt+Math.imul(It,Pr)|0,vt=vt+Math.imul(It,Nr)|0,vt=vt+Math.imul(Wt,Pr)|0,Mt=Mt+Math.imul(Wt,Nr)|0;var rn=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(rn>>>26)|0,rn&=67108863,xt=Math.imul(Bt,yr),vt=Math.imul(Bt,Sr),vt=vt+Math.imul(Jt,yr)|0,Mt=Math.imul(Jt,Sr),xt=xt+Math.imul(mr,Tr)|0,vt=vt+Math.imul(mr,wr)|0,vt=vt+Math.imul(zt,Tr)|0,Mt=Mt+Math.imul(zt,wr)|0,xt=xt+Math.imul(dr,Cr)|0,vt=vt+Math.imul(dr,Ar)|0,vt=vt+Math.imul(pr,Cr)|0,Mt=Mt+Math.imul(pr,Ar)|0,xt=xt+Math.imul(rr,Mr)|0,vt=vt+Math.imul(rr,$r)|0,vt=vt+Math.imul(ar,Mr)|0,Mt=Mt+Math.imul(ar,$r)|0,xt=xt+Math.imul(Ft,Rr)|0,vt=vt+Math.imul(Ft,_r)|0,vt=vt+Math.imul(Ut,Rr)|0,Mt=Mt+Math.imul(Ut,_r)|0,xt=xt+Math.imul(ir,xr)|0,vt=vt+Math.imul(ir,Er)|0,vt=vt+Math.imul(ur,xr)|0,Mt=Mt+Math.imul(ur,Er)|0,xt=xt+Math.imul(Vt,kr)|0,vt=vt+Math.imul(Vt,Ir)|0,vt=vt+Math.imul(Kt,kr)|0,Mt=Mt+Math.imul(Kt,Ir)|0,xt=xt+Math.imul(Gt,Pr)|0,vt=vt+Math.imul(Gt,Nr)|0,vt=vt+Math.imul(er,Pr)|0,Mt=Mt+Math.imul(er,Nr)|0;var nn=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(nn>>>26)|0,nn&=67108863,xt=Math.imul(Bt,Tr),vt=Math.imul(Bt,wr),vt=vt+Math.imul(Jt,Tr)|0,Mt=Math.imul(Jt,wr),xt=xt+Math.imul(mr,Cr)|0,vt=vt+Math.imul(mr,Ar)|0,vt=vt+Math.imul(zt,Cr)|0,Mt=Mt+Math.imul(zt,Ar)|0,xt=xt+Math.imul(dr,Mr)|0,vt=vt+Math.imul(dr,$r)|0,vt=vt+Math.imul(pr,Mr)|0,Mt=Mt+Math.imul(pr,$r)|0,xt=xt+Math.imul(rr,Rr)|0,vt=vt+Math.imul(rr,_r)|0,vt=vt+Math.imul(ar,Rr)|0,Mt=Mt+Math.imul(ar,_r)|0,xt=xt+Math.imul(Ft,xr)|0,vt=vt+Math.imul(Ft,Er)|0,vt=vt+Math.imul(Ut,xr)|0,Mt=Mt+Math.imul(Ut,Er)|0,xt=xt+Math.imul(ir,kr)|0,vt=vt+Math.imul(ir,Ir)|0,vt=vt+Math.imul(ur,kr)|0,Mt=Mt+Math.imul(ur,Ir)|0,xt=xt+Math.imul(Vt,Pr)|0,vt=vt+Math.imul(Vt,Nr)|0,vt=vt+Math.imul(Kt,Pr)|0,Mt=Mt+Math.imul(Kt,Nr)|0;var an=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(an>>>26)|0,an&=67108863,xt=Math.imul(Bt,Cr),vt=Math.imul(Bt,Ar),vt=vt+Math.imul(Jt,Cr)|0,Mt=Math.imul(Jt,Ar),xt=xt+Math.imul(mr,Mr)|0,vt=vt+Math.imul(mr,$r)|0,vt=vt+Math.imul(zt,Mr)|0,Mt=Mt+Math.imul(zt,$r)|0,xt=xt+Math.imul(dr,Rr)|0,vt=vt+Math.imul(dr,_r)|0,vt=vt+Math.imul(pr,Rr)|0,Mt=Mt+Math.imul(pr,_r)|0,xt=xt+Math.imul(rr,xr)|0,vt=vt+Math.imul(rr,Er)|0,vt=vt+Math.imul(ar,xr)|0,Mt=Mt+Math.imul(ar,Er)|0,xt=xt+Math.imul(Ft,kr)|0,vt=vt+Math.imul(Ft,Ir)|0,vt=vt+Math.imul(Ut,kr)|0,Mt=Mt+Math.imul(Ut,Ir)|0,xt=xt+Math.imul(ir,Pr)|0,vt=vt+Math.imul(ir,Nr)|0,vt=vt+Math.imul(ur,Pr)|0,Mt=Mt+Math.imul(ur,Nr)|0;var on=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(on>>>26)|0,on&=67108863,xt=Math.imul(Bt,Mr),vt=Math.imul(Bt,$r),vt=vt+Math.imul(Jt,Mr)|0,Mt=Math.imul(Jt,$r),xt=xt+Math.imul(mr,Rr)|0,vt=vt+Math.imul(mr,_r)|0,vt=vt+Math.imul(zt,Rr)|0,Mt=Mt+Math.imul(zt,_r)|0,xt=xt+Math.imul(dr,xr)|0,vt=vt+Math.imul(dr,Er)|0,vt=vt+Math.imul(pr,xr)|0,Mt=Mt+Math.imul(pr,Er)|0,xt=xt+Math.imul(rr,kr)|0,vt=vt+Math.imul(rr,Ir)|0,vt=vt+Math.imul(ar,kr)|0,Mt=Mt+Math.imul(ar,Ir)|0,xt=xt+Math.imul(Ft,Pr)|0,vt=vt+Math.imul(Ft,Nr)|0,vt=vt+Math.imul(Ut,Pr)|0,Mt=Mt+Math.imul(Ut,Nr)|0;var sn=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(sn>>>26)|0,sn&=67108863,xt=Math.imul(Bt,Rr),vt=Math.imul(Bt,_r),vt=vt+Math.imul(Jt,Rr)|0,Mt=Math.imul(Jt,_r),xt=xt+Math.imul(mr,xr)|0,vt=vt+Math.imul(mr,Er)|0,vt=vt+Math.imul(zt,xr)|0,Mt=Mt+Math.imul(zt,Er)|0,xt=xt+Math.imul(dr,kr)|0,vt=vt+Math.imul(dr,Ir)|0,vt=vt+Math.imul(pr,kr)|0,Mt=Mt+Math.imul(pr,Ir)|0,xt=xt+Math.imul(rr,Pr)|0,vt=vt+Math.imul(rr,Nr)|0,vt=vt+Math.imul(ar,Pr)|0,Mt=Mt+Math.imul(ar,Nr)|0;var cn=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(cn>>>26)|0,cn&=67108863,xt=Math.imul(Bt,xr),vt=Math.imul(Bt,Er),vt=vt+Math.imul(Jt,xr)|0,Mt=Math.imul(Jt,Er),xt=xt+Math.imul(mr,kr)|0,vt=vt+Math.imul(mr,Ir)|0,vt=vt+Math.imul(zt,kr)|0,Mt=Mt+Math.imul(zt,Ir)|0,xt=xt+Math.imul(dr,Pr)|0,vt=vt+Math.imul(dr,Nr)|0,vt=vt+Math.imul(pr,Pr)|0,Mt=Mt+Math.imul(pr,Nr)|0;var ln=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(ln>>>26)|0,ln&=67108863,xt=Math.imul(Bt,kr),vt=Math.imul(Bt,Ir),vt=vt+Math.imul(Jt,kr)|0,Mt=Math.imul(Jt,Ir),xt=xt+Math.imul(mr,Pr)|0,vt=vt+Math.imul(mr,Nr)|0,vt=vt+Math.imul(zt,Pr)|0,Mt=Mt+Math.imul(zt,Nr)|0;var un=(_t+xt|0)+((vt&8191)<<13)|0;_t=(Mt+(vt>>>13)|0)+(un>>>26)|0,un&=67108863,xt=Math.imul(Bt,Pr),vt=Math.imul(Bt,Nr),vt=vt+Math.imul(Jt,Pr)|0,Mt=Math.imul(Jt,Nr);var dn=(_t+xt|0)+((vt&8191)<<13)|0;return _t=(Mt+(vt>>>13)|0)+(dn>>>26)|0,dn&=67108863,mt[0]=Jr,mt[1]=Or,mt[2]=Br,mt[3]=jr,mt[4]=Wr,mt[5]=Hr,mt[6]=zr,mt[7]=qr,mt[8]=Xr,mt[9]=tn,mt[10]=rn,mt[11]=nn,mt[12]=an,mt[13]=on,mt[14]=sn,mt[15]=cn,mt[16]=ln,mt[17]=un,mt[18]=dn,_t!==0&&(mt[19]=_t,ht.length++),ht};Math.imul||(Ct=Et);function At(Dt,Rt,Nt){Nt.negative=Rt.negative^Dt.negative,Nt.length=Dt.length+Rt.length;for(var ht=0,st=0,dt=0;dt<Nt.length-1;dt++){var mt=st;st=0;for(var _t=ht&67108863,xt=Math.min(dt,Rt.length-1),vt=Math.max(0,dt-Dt.length+1);vt<=xt;vt++){var Mt=dt-vt,gt=Dt.words[Mt]|0,lt=Rt.words[vt]|0,wt=gt*lt,jt=wt&67108863;mt=mt+(wt/67108864|0)|0,jt=jt+_t|0,_t=jt&67108863,mt=mt+(jt>>>26)|0,st+=mt>>>26,mt&=67108863}Nt.words[dt]=_t,ht=mt,mt=st}return ht!==0?Nt.words[dt]=ht:Nt.length--,Nt.strip()}function St(Dt,Rt,Nt){var ht=new Tt;return ht.mulp(Dt,Rt,Nt)}it.prototype.mulTo=function(Rt,Nt){var ht,st=this.length+Rt.length;return this.length===10&&Rt.length===10?ht=Ct(this,Rt,Nt):st<63?ht=Et(this,Rt,Nt):st<1024?ht=At(this,Rt,Nt):ht=St(this,Rt,Nt),ht};function Tt(Dt,Rt){this.x=Dt,this.y=Rt}Tt.prototype.makeRBT=function(Rt){for(var Nt=new Array(Rt),ht=it.prototype._countBits(Rt)-1,st=0;st<Rt;st++)Nt[st]=this.revBin(st,ht,Rt);return Nt},Tt.prototype.revBin=function(Rt,Nt,ht){if(Rt===0||Rt===ht-1)return Rt;for(var st=0,dt=0;dt<Nt;dt++)st|=(Rt&1)<<Nt-dt-1,Rt>>=1;return st},Tt.prototype.permute=function(Rt,Nt,ht,st,dt,mt){for(var _t=0;_t<mt;_t++)st[_t]=Nt[Rt[_t]],dt[_t]=ht[Rt[_t]]},Tt.prototype.transform=function(Rt,Nt,ht,st,dt,mt){this.permute(mt,Rt,Nt,ht,st,dt);for(var _t=1;_t<dt;_t<<=1)for(var xt=_t<<1,vt=Math.cos(2*Math.PI/xt),Mt=Math.sin(2*Math.PI/xt),gt=0;gt<dt;gt+=xt)for(var lt=vt,wt=Mt,jt=0;jt<_t;jt++){var It=ht[gt+jt],Wt=st[gt+jt],Qt=ht[gt+jt+_t],Gt=st[gt+jt+_t],er=lt*Qt-wt*Gt;Gt=lt*Gt+wt*Qt,Qt=er,ht[gt+jt]=It+Qt,st[gt+jt]=Wt+Gt,ht[gt+jt+_t]=It-Qt,st[gt+jt+_t]=Wt-Gt,jt!==xt&&(er=vt*lt-Mt*wt,wt=vt*wt+Mt*lt,lt=er)}},Tt.prototype.guessLen13b=function(Rt,Nt){var ht=Math.max(Nt,Rt)|1,st=ht&1,dt=0;for(ht=ht/2|0;ht;ht=ht>>>1)dt++;return 1<<dt+1+st},Tt.prototype.conjugate=function(Rt,Nt,ht){if(!(ht<=1))for(var st=0;st<ht/2;st++){var dt=Rt[st];Rt[st]=Rt[ht-st-1],Rt[ht-st-1]=dt,dt=Nt[st],Nt[st]=-Nt[ht-st-1],Nt[ht-st-1]=-dt}},Tt.prototype.normalize13b=function(Rt,Nt){for(var ht=0,st=0;st<Nt/2;st++){var dt=Math.round(Rt[2*st+1]/Nt)*8192+Math.round(Rt[2*st]/Nt)+ht;Rt[st]=dt&67108863,dt<67108864?ht=0:ht=dt/67108864|0}return Rt},Tt.prototype.convert13b=function(Rt,Nt,ht,st){for(var dt=0,mt=0;mt<Nt;mt++)dt=dt+(Rt[mt]|0),ht[2*mt]=dt&8191,dt=dt>>>13,ht[2*mt+1]=dt&8191,dt=dt>>>13;for(mt=2*Nt;mt<st;++mt)ht[mt]=0;rt(dt===0),rt((dt&-8192)===0)},Tt.prototype.stub=function(Rt){for(var Nt=new Array(Rt),ht=0;ht<Rt;ht++)Nt[ht]=0;return Nt},Tt.prototype.mulp=function(Rt,Nt,ht){var st=2*this.guessLen13b(Rt.length,Nt.length),dt=this.makeRBT(st),mt=this.stub(st),_t=new Array(st),xt=new Array(st),vt=new Array(st),Mt=new Array(st),gt=new Array(st),lt=new Array(st),wt=ht.words;wt.length=st,this.convert13b(Rt.words,Rt.length,_t,st),this.convert13b(Nt.words,Nt.length,Mt,st),this.transform(_t,mt,xt,vt,st,dt),this.transform(Mt,mt,gt,lt,st,dt);for(var jt=0;jt<st;jt++){var It=xt[jt]*gt[jt]-vt[jt]*lt[jt];vt[jt]=xt[jt]*lt[jt]+vt[jt]*gt[jt],xt[jt]=It}return this.conjugate(xt,vt,st),this.transform(xt,vt,wt,mt,st,dt),this.conjugate(wt,mt,st),this.normalize13b(wt,st),ht.negative=Rt.negative^Nt.negative,ht.length=Rt.length+Nt.length,ht.strip()},it.prototype.mul=function(Rt){var Nt=new it(null);return Nt.words=new Array(this.length+Rt.length),this.mulTo(Rt,Nt)},it.prototype.mulf=function(Rt){var Nt=new it(null);return Nt.words=new Array(this.length+Rt.length),St(this,Rt,Nt)},it.prototype.imul=function(Rt){return this.clone().mulTo(Rt,this)},it.prototype.imuln=function(Rt){rt(typeof Rt=="number"),rt(Rt<67108864);for(var Nt=0,ht=0;ht<this.length;ht++){var st=(this.words[ht]|0)*Rt,dt=(st&67108863)+(Nt&67108863);Nt>>=26,Nt+=st/67108864|0,Nt+=dt>>>26,this.words[ht]=dt&67108863}return Nt!==0&&(this.words[ht]=Nt,this.length++),this},it.prototype.muln=function(Rt){return this.clone().imuln(Rt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(Rt){var Nt=bt(Rt);if(Nt.length===0)return new it(1);for(var ht=this,st=0;st<Nt.length&&Nt[st]===0;st++,ht=ht.sqr());if(++st<Nt.length)for(var dt=ht.sqr();st<Nt.length;st++,dt=dt.sqr())Nt[st]!==0&&(ht=ht.mul(dt));return ht},it.prototype.iushln=function(Rt){rt(typeof Rt=="number"&&Rt>=0);var Nt=Rt%26,ht=(Rt-Nt)/26,st=67108863>>>26-Nt<<26-Nt,dt;if(Nt!==0){var mt=0;for(dt=0;dt<this.length;dt++){var _t=this.words[dt]&st,xt=(this.words[dt]|0)-_t<<Nt;this.words[dt]=xt|mt,mt=_t>>>26-Nt}mt&&(this.words[dt]=mt,this.length++)}if(ht!==0){for(dt=this.length-1;dt>=0;dt--)this.words[dt+ht]=this.words[dt];for(dt=0;dt<ht;dt++)this.words[dt]=0;this.length+=ht}return this.strip()},it.prototype.ishln=function(Rt){return rt(this.negative===0),this.iushln(Rt)},it.prototype.iushrn=function(Rt,Nt,ht){rt(typeof Rt=="number"&&Rt>=0);var st;Nt?st=(Nt-Nt%26)/26:st=0;var dt=Rt%26,mt=Math.min((Rt-dt)/26,this.length),_t=67108863^67108863>>>dt<<dt,xt=ht;if(st-=mt,st=Math.max(0,st),xt){for(var vt=0;vt<mt;vt++)xt.words[vt]=this.words[vt];xt.length=mt}if(mt!==0)if(this.length>mt)for(this.length-=mt,vt=0;vt<this.length;vt++)this.words[vt]=this.words[vt+mt];else this.words[0]=0,this.length=1;var Mt=0;for(vt=this.length-1;vt>=0&&(Mt!==0||vt>=st);vt--){var gt=this.words[vt]|0;this.words[vt]=Mt<<26-dt|gt>>>dt,Mt=gt&_t}return xt&&Mt!==0&&(xt.words[xt.length++]=Mt),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(Rt,Nt,ht){return rt(this.negative===0),this.iushrn(Rt,Nt,ht)},it.prototype.shln=function(Rt){return this.clone().ishln(Rt)},it.prototype.ushln=function(Rt){return this.clone().iushln(Rt)},it.prototype.shrn=function(Rt){return this.clone().ishrn(Rt)},it.prototype.ushrn=function(Rt){return this.clone().iushrn(Rt)},it.prototype.testn=function(Rt){rt(typeof Rt=="number"&&Rt>=0);var Nt=Rt%26,ht=(Rt-Nt)/26,st=1<<Nt;if(this.length<=ht)return!1;var dt=this.words[ht];return!!(dt&st)},it.prototype.imaskn=function(Rt){rt(typeof Rt=="number"&&Rt>=0);var Nt=Rt%26,ht=(Rt-Nt)/26;if(rt(this.negative===0,"imaskn works only with positive numbers"),this.length<=ht)return this;if(Nt!==0&&ht++,this.length=Math.min(ht,this.length),Nt!==0){var st=67108863^67108863>>>Nt<<Nt;this.words[this.length-1]&=st}return this.strip()},it.prototype.maskn=function(Rt){return this.clone().imaskn(Rt)},it.prototype.iaddn=function(Rt){return rt(typeof Rt=="number"),rt(Rt<67108864),Rt<0?this.isubn(-Rt):this.negative!==0?this.length===1&&(this.words[0]|0)<Rt?(this.words[0]=Rt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Rt),this.negative=1,this):this._iaddn(Rt)},it.prototype._iaddn=function(Rt){this.words[0]+=Rt;for(var Nt=0;Nt<this.length&&this.words[Nt]>=67108864;Nt++)this.words[Nt]-=67108864,Nt===this.length-1?this.words[Nt+1]=1:this.words[Nt+1]++;return this.length=Math.max(this.length,Nt+1),this},it.prototype.isubn=function(Rt){if(rt(typeof Rt=="number"),rt(Rt<67108864),Rt<0)return this.iaddn(-Rt);if(this.negative!==0)return this.negative=0,this.iaddn(Rt),this.negative=1,this;if(this.words[0]-=Rt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Nt=0;Nt<this.length&&this.words[Nt]<0;Nt++)this.words[Nt]+=67108864,this.words[Nt+1]-=1;return this.strip()},it.prototype.addn=function(Rt){return this.clone().iaddn(Rt)},it.prototype.subn=function(Rt){return this.clone().isubn(Rt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(Rt,Nt,ht){var st=Rt.length+ht,dt;this._expand(st);var mt,_t=0;for(dt=0;dt<Rt.length;dt++){mt=(this.words[dt+ht]|0)+_t;var xt=(Rt.words[dt]|0)*Nt;mt-=xt&67108863,_t=(mt>>26)-(xt/67108864|0),this.words[dt+ht]=mt&67108863}for(;dt<this.length-ht;dt++)mt=(this.words[dt+ht]|0)+_t,_t=mt>>26,this.words[dt+ht]=mt&67108863;if(_t===0)return this.strip();for(rt(_t===-1),_t=0,dt=0;dt<this.length;dt++)mt=-(this.words[dt]|0)+_t,_t=mt>>26,this.words[dt]=mt&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(Rt,Nt){var ht=this.length-Rt.length,st=this.clone(),dt=Rt,mt=dt.words[dt.length-1]|0,_t=this._countBits(mt);ht=26-_t,ht!==0&&(dt=dt.ushln(ht),st.iushln(ht),mt=dt.words[dt.length-1]|0);var xt=st.length-dt.length,vt;if(Nt!=="mod"){vt=new it(null),vt.length=xt+1,vt.words=new Array(vt.length);for(var Mt=0;Mt<vt.length;Mt++)vt.words[Mt]=0}var gt=st.clone()._ishlnsubmul(dt,1,xt);gt.negative===0&&(st=gt,vt&&(vt.words[xt]=1));for(var lt=xt-1;lt>=0;lt--){var wt=(st.words[dt.length+lt]|0)*67108864+(st.words[dt.length+lt-1]|0);for(wt=Math.min(wt/mt|0,67108863),st._ishlnsubmul(dt,wt,lt);st.negative!==0;)wt--,st.negative=0,st._ishlnsubmul(dt,1,lt),st.isZero()||(st.negative^=1);vt&&(vt.words[lt]=wt)}return vt&&vt.strip(),st.strip(),Nt!=="div"&&ht!==0&&st.iushrn(ht),{div:vt||null,mod:st}},it.prototype.divmod=function(Rt,Nt,ht){if(rt(!Rt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var st,dt,mt;return this.negative!==0&&Rt.negative===0?(mt=this.neg().divmod(Rt,Nt),Nt!=="mod"&&(st=mt.div.neg()),Nt!=="div"&&(dt=mt.mod.neg(),ht&&dt.negative!==0&&dt.iadd(Rt)),{div:st,mod:dt}):this.negative===0&&Rt.negative!==0?(mt=this.divmod(Rt.neg(),Nt),Nt!=="mod"&&(st=mt.div.neg()),{div:st,mod:mt.mod}):(this.negative&Rt.negative)!==0?(mt=this.neg().divmod(Rt.neg(),Nt),Nt!=="div"&&(dt=mt.mod.neg(),ht&&dt.negative!==0&&dt.isub(Rt)),{div:mt.div,mod:dt}):Rt.length>this.length||this.cmp(Rt)<0?{div:new it(0),mod:this}:Rt.length===1?Nt==="div"?{div:this.divn(Rt.words[0]),mod:null}:Nt==="mod"?{div:null,mod:new it(this.modn(Rt.words[0]))}:{div:this.divn(Rt.words[0]),mod:new it(this.modn(Rt.words[0]))}:this._wordDiv(Rt,Nt)},it.prototype.div=function(Rt){return this.divmod(Rt,"div",!1).div},it.prototype.mod=function(Rt){return this.divmod(Rt,"mod",!1).mod},it.prototype.umod=function(Rt){return this.divmod(Rt,"mod",!0).mod},it.prototype.divRound=function(Rt){var Nt=this.divmod(Rt);if(Nt.mod.isZero())return Nt.div;var ht=Nt.div.negative!==0?Nt.mod.isub(Rt):Nt.mod,st=Rt.ushrn(1),dt=Rt.andln(1),mt=ht.cmp(st);return mt<0||dt===1&&mt===0?Nt.div:Nt.div.negative!==0?Nt.div.isubn(1):Nt.div.iaddn(1)},it.prototype.modn=function(Rt){rt(Rt<=67108863);for(var Nt=(1<<26)%Rt,ht=0,st=this.length-1;st>=0;st--)ht=(Nt*ht+(this.words[st]|0))%Rt;return ht},it.prototype.idivn=function(Rt){rt(Rt<=67108863);for(var Nt=0,ht=this.length-1;ht>=0;ht--){var st=(this.words[ht]|0)+Nt*67108864;this.words[ht]=st/Rt|0,Nt=st%Rt}return this.strip()},it.prototype.divn=function(Rt){return this.clone().idivn(Rt)},it.prototype.egcd=function(Rt){rt(Rt.negative===0),rt(!Rt.isZero());var Nt=this,ht=Rt.clone();Nt.negative!==0?Nt=Nt.umod(Rt):Nt=Nt.clone();for(var st=new it(1),dt=new it(0),mt=new it(0),_t=new it(1),xt=0;Nt.isEven()&&ht.isEven();)Nt.iushrn(1),ht.iushrn(1),++xt;for(var vt=ht.clone(),Mt=Nt.clone();!Nt.isZero();){for(var gt=0,lt=1;(Nt.words[0]&lt)===0&&gt<26;++gt,lt<<=1);if(gt>0)for(Nt.iushrn(gt);gt-- >0;)(st.isOdd()||dt.isOdd())&&(st.iadd(vt),dt.isub(Mt)),st.iushrn(1),dt.iushrn(1);for(var wt=0,jt=1;(ht.words[0]&jt)===0&&wt<26;++wt,jt<<=1);if(wt>0)for(ht.iushrn(wt);wt-- >0;)(mt.isOdd()||_t.isOdd())&&(mt.iadd(vt),_t.isub(Mt)),mt.iushrn(1),_t.iushrn(1);Nt.cmp(ht)>=0?(Nt.isub(ht),st.isub(mt),dt.isub(_t)):(ht.isub(Nt),mt.isub(st),_t.isub(dt))}return{a:mt,b:_t,gcd:ht.iushln(xt)}},it.prototype._invmp=function(Rt){rt(Rt.negative===0),rt(!Rt.isZero());var Nt=this,ht=Rt.clone();Nt.negative!==0?Nt=Nt.umod(Rt):Nt=Nt.clone();for(var st=new it(1),dt=new it(0),mt=ht.clone();Nt.cmpn(1)>0&&ht.cmpn(1)>0;){for(var _t=0,xt=1;(Nt.words[0]&xt)===0&&_t<26;++_t,xt<<=1);if(_t>0)for(Nt.iushrn(_t);_t-- >0;)st.isOdd()&&st.iadd(mt),st.iushrn(1);for(var vt=0,Mt=1;(ht.words[0]&Mt)===0&&vt<26;++vt,Mt<<=1);if(vt>0)for(ht.iushrn(vt);vt-- >0;)dt.isOdd()&&dt.iadd(mt),dt.iushrn(1);Nt.cmp(ht)>=0?(Nt.isub(ht),st.isub(dt)):(ht.isub(Nt),dt.isub(st))}var gt;return Nt.cmpn(1)===0?gt=st:gt=dt,gt.cmpn(0)<0&&gt.iadd(Rt),gt},it.prototype.gcd=function(Rt){if(this.isZero())return Rt.abs();if(Rt.isZero())return this.abs();var Nt=this.clone(),ht=Rt.clone();Nt.negative=0,ht.negative=0;for(var st=0;Nt.isEven()&&ht.isEven();st++)Nt.iushrn(1),ht.iushrn(1);do{for(;Nt.isEven();)Nt.iushrn(1);for(;ht.isEven();)ht.iushrn(1);var dt=Nt.cmp(ht);if(dt<0){var mt=Nt;Nt=ht,ht=mt}else if(dt===0||ht.cmpn(1)===0)break;Nt.isub(ht)}while(!0);return ht.iushln(st)},it.prototype.invm=function(Rt){return this.egcd(Rt).a.umod(Rt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(Rt){return this.words[0]&Rt},it.prototype.bincn=function(Rt){rt(typeof Rt=="number");var Nt=Rt%26,ht=(Rt-Nt)/26,st=1<<Nt;if(this.length<=ht)return this._expand(ht+1),this.words[ht]|=st,this;for(var dt=st,mt=ht;dt!==0&&mt<this.length;mt++){var _t=this.words[mt]|0;_t+=dt,dt=_t>>>26,_t&=67108863,this.words[mt]=_t}return dt!==0&&(this.words[mt]=dt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(Rt){var Nt=Rt<0;if(this.negative!==0&&!Nt)return-1;if(this.negative===0&&Nt)return 1;this.strip();var ht;if(this.length>1)ht=1;else{Nt&&(Rt=-Rt),rt(Rt<=67108863,"Number is too big");var st=this.words[0]|0;ht=st===Rt?0:st<Rt?-1:1}return this.negative!==0?-ht|0:ht},it.prototype.cmp=function(Rt){if(this.negative!==0&&Rt.negative===0)return-1;if(this.negative===0&&Rt.negative!==0)return 1;var Nt=this.ucmp(Rt);return this.negative!==0?-Nt|0:Nt},it.prototype.ucmp=function(Rt){if(this.length>Rt.length)return 1;if(this.length<Rt.length)return-1;for(var Nt=0,ht=this.length-1;ht>=0;ht--){var st=this.words[ht]|0,dt=Rt.words[ht]|0;if(st!==dt){st<dt?Nt=-1:st>dt&&(Nt=1);break}}return Nt},it.prototype.gtn=function(Rt){return this.cmpn(Rt)===1},it.prototype.gt=function(Rt){return this.cmp(Rt)===1},it.prototype.gten=function(Rt){return this.cmpn(Rt)>=0},it.prototype.gte=function(Rt){return this.cmp(Rt)>=0},it.prototype.ltn=function(Rt){return this.cmpn(Rt)===-1},it.prototype.lt=function(Rt){return this.cmp(Rt)===-1},it.prototype.lten=function(Rt){return this.cmpn(Rt)<=0},it.prototype.lte=function(Rt){return this.cmp(Rt)<=0},it.prototype.eqn=function(Rt){return this.cmpn(Rt)===0},it.prototype.eq=function(Rt){return this.cmp(Rt)===0},it.red=function(Rt){return new Zt(Rt)},it.prototype.toRed=function(Rt){return rt(!this.red,"Already a number in reduction context"),rt(this.negative===0,"red works only with positives"),Rt.convertTo(this)._forceRed(Rt)},it.prototype.fromRed=function(){return rt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(Rt){return this.red=Rt,this},it.prototype.forceRed=function(Rt){return rt(!this.red,"Already a number in reduction context"),this._forceRed(Rt)},it.prototype.redAdd=function(Rt){return rt(this.red,"redAdd works only with red numbers"),this.red.add(this,Rt)},it.prototype.redIAdd=function(Rt){return rt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Rt)},it.prototype.redSub=function(Rt){return rt(this.red,"redSub works only with red numbers"),this.red.sub(this,Rt)},it.prototype.redISub=function(Rt){return rt(this.red,"redISub works only with red numbers"),this.red.isub(this,Rt)},it.prototype.redShl=function(Rt){return rt(this.red,"redShl works only with red numbers"),this.red.shl(this,Rt)},it.prototype.redMul=function(Rt){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Rt),this.red.mul(this,Rt)},it.prototype.redIMul=function(Rt){return rt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Rt),this.red.imul(this,Rt)},it.prototype.redSqr=function(){return rt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return rt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return rt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return rt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return rt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(Rt){return rt(this.red&&!Rt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Rt)};var $t={k256:null,p224:null,p192:null,p25519:null};function kt(Dt,Rt){this.name=Dt,this.p=new it(Rt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}kt.prototype._tmp=function(){var Rt=new it(null);return Rt.words=new Array(Math.ceil(this.n/13)),Rt},kt.prototype.ireduce=function(Rt){var Nt=Rt,ht;do this.split(Nt,this.tmp),Nt=this.imulK(Nt),Nt=Nt.iadd(this.tmp),ht=Nt.bitLength();while(ht>this.n);var st=ht<this.n?-1:Nt.ucmp(this.p);return st===0?(Nt.words[0]=0,Nt.length=1):st>0?Nt.isub(this.p):Nt.strip(),Nt},kt.prototype.split=function(Rt,Nt){Rt.iushrn(this.n,0,Nt)},kt.prototype.imulK=function(Rt){return Rt.imul(this.k)};function Pt(){kt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}nt(Pt,kt),Pt.prototype.split=function(Rt,Nt){for(var ht=4194303,st=Math.min(Rt.length,9),dt=0;dt<st;dt++)Nt.words[dt]=Rt.words[dt];if(Nt.length=st,Rt.length<=9){Rt.words[0]=0,Rt.length=1;return}var mt=Rt.words[9];for(Nt.words[Nt.length++]=mt&ht,dt=10;dt<Rt.length;dt++){var _t=Rt.words[dt]|0;Rt.words[dt-10]=(_t&ht)<<4|mt>>>22,mt=_t}mt>>>=22,Rt.words[dt-10]=mt,mt===0&&Rt.length>10?Rt.length-=10:Rt.length-=9},Pt.prototype.imulK=function(Rt){Rt.words[Rt.length]=0,Rt.words[Rt.length+1]=0,Rt.length+=2;for(var Nt=0,ht=0;ht<Rt.length;ht++){var st=Rt.words[ht]|0;Nt+=st*977,Rt.words[ht]=Nt&67108863,Nt=st*64+(Nt/67108864|0)}return Rt.words[Rt.length-1]===0&&(Rt.length--,Rt.words[Rt.length-1]===0&&Rt.length--),Rt};function Ot(){kt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}nt(Ot,kt);function Ht(){kt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}nt(Ht,kt);function qt(){kt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}nt(qt,kt),qt.prototype.imulK=function(Rt){for(var Nt=0,ht=0;ht<Rt.length;ht++){var st=(Rt.words[ht]|0)*19+Nt,dt=st&67108863;st>>>=26,Rt.words[ht]=dt,Nt=st}return Nt!==0&&(Rt.words[Rt.length++]=Nt),Rt},it._prime=function(Rt){if($t[Rt])return $t[Rt];var Nt;if(Rt==="k256")Nt=new Pt;else if(Rt==="p224")Nt=new Ot;else if(Rt==="p192")Nt=new Ht;else if(Rt==="p25519")Nt=new qt;else throw new Error("Unknown prime "+Rt);return $t[Rt]=Nt,Nt};function Zt(Dt){if(typeof Dt=="string"){var Rt=it._prime(Dt);this.m=Rt.p,this.prime=Rt}else rt(Dt.gtn(1),"modulus must be greater than 1"),this.m=Dt,this.prime=null}Zt.prototype._verify1=function(Rt){rt(Rt.negative===0,"red works only with positives"),rt(Rt.red,"red works only with red numbers")},Zt.prototype._verify2=function(Rt,Nt){rt((Rt.negative|Nt.negative)===0,"red works only with positives"),rt(Rt.red&&Rt.red===Nt.red,"red works only with red numbers")},Zt.prototype.imod=function(Rt){return this.prime?this.prime.ireduce(Rt)._forceRed(this):Rt.umod(this.m)._forceRed(this)},Zt.prototype.neg=function(Rt){return Rt.isZero()?Rt.clone():this.m.sub(Rt)._forceRed(this)},Zt.prototype.add=function(Rt,Nt){this._verify2(Rt,Nt);var ht=Rt.add(Nt);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht._forceRed(this)},Zt.prototype.iadd=function(Rt,Nt){this._verify2(Rt,Nt);var ht=Rt.iadd(Nt);return ht.cmp(this.m)>=0&&ht.isub(this.m),ht},Zt.prototype.sub=function(Rt,Nt){this._verify2(Rt,Nt);var ht=Rt.sub(Nt);return ht.cmpn(0)<0&&ht.iadd(this.m),ht._forceRed(this)},Zt.prototype.isub=function(Rt,Nt){this._verify2(Rt,Nt);var ht=Rt.isub(Nt);return ht.cmpn(0)<0&&ht.iadd(this.m),ht},Zt.prototype.shl=function(Rt,Nt){return this._verify1(Rt),this.imod(Rt.ushln(Nt))},Zt.prototype.imul=function(Rt,Nt){return this._verify2(Rt,Nt),this.imod(Rt.imul(Nt))},Zt.prototype.mul=function(Rt,Nt){return this._verify2(Rt,Nt),this.imod(Rt.mul(Nt))},Zt.prototype.isqr=function(Rt){return this.imul(Rt,Rt.clone())},Zt.prototype.sqr=function(Rt){return this.mul(Rt,Rt)},Zt.prototype.sqrt=function(Rt){if(Rt.isZero())return Rt.clone();var Nt=this.m.andln(3);if(rt(Nt%2===1),Nt===3){var ht=this.m.add(new it(1)).iushrn(2);return this.pow(Rt,ht)}for(var st=this.m.subn(1),dt=0;!st.isZero()&&st.andln(1)===0;)dt++,st.iushrn(1);rt(!st.isZero());var mt=new it(1).toRed(this),_t=mt.redNeg(),xt=this.m.subn(1).iushrn(1),vt=this.m.bitLength();for(vt=new it(2*vt*vt).toRed(this);this.pow(vt,xt).cmp(_t)!==0;)vt.redIAdd(_t);for(var Mt=this.pow(vt,st),gt=this.pow(Rt,st.addn(1).iushrn(1)),lt=this.pow(Rt,st),wt=dt;lt.cmp(mt)!==0;){for(var jt=lt,It=0;jt.cmp(mt)!==0;It++)jt=jt.redSqr();rt(It<wt);var Wt=this.pow(Mt,new it(1).iushln(wt-It-1));gt=gt.redMul(Wt),Mt=Wt.redSqr(),lt=lt.redMul(Mt),wt=It}return gt},Zt.prototype.invm=function(Rt){var Nt=Rt._invmp(this.m);return Nt.negative!==0?(Nt.negative=0,this.imod(Nt).redNeg()):this.imod(Nt)},Zt.prototype.pow=function(Rt,Nt){if(Nt.isZero())return new it(1).toRed(this);if(Nt.cmpn(1)===0)return Rt.clone();var ht=4,st=new Array(1<<ht);st[0]=new it(1).toRed(this),st[1]=Rt;for(var dt=2;dt<st.length;dt++)st[dt]=this.mul(st[dt-1],Rt);var mt=st[0],_t=0,xt=0,vt=Nt.bitLength()%26;for(vt===0&&(vt=26),dt=Nt.length-1;dt>=0;dt--){for(var Mt=Nt.words[dt],gt=vt-1;gt>=0;gt--){var lt=Mt>>gt&1;if(mt!==st[0]&&(mt=this.sqr(mt)),lt===0&&_t===0){xt=0;continue}_t<<=1,_t|=lt,xt++,!(xt!==ht&&(dt!==0||gt!==0))&&(mt=this.mul(mt,st[_t]),xt=0,_t=0)}vt=26}return mt},Zt.prototype.convertTo=function(Rt){var Nt=Rt.umod(this.m);return Nt===Rt?Nt.clone():Nt},Zt.prototype.convertFrom=function(Rt){var Nt=Rt.clone();return Nt.red=null,Nt},it.mont=function(Rt){return new tr(Rt)};function tr(Dt){Zt.call(this,Dt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}nt(tr,Zt),tr.prototype.convertTo=function(Rt){return this.imod(Rt.ushln(this.shift))},tr.prototype.convertFrom=function(Rt){var Nt=this.imod(Rt.mul(this.rinv));return Nt.red=null,Nt},tr.prototype.imul=function(Rt,Nt){if(Rt.isZero()||Nt.isZero())return Rt.words[0]=0,Rt.length=1,Rt;var ht=Rt.imul(Nt),st=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),dt=ht.isub(st).iushrn(this.shift),mt=dt;return dt.cmp(this.m)>=0?mt=dt.isub(this.m):dt.cmpn(0)<0&&(mt=dt.iadd(this.m)),mt._forceRed(this)},tr.prototype.mul=function(Rt,Nt){if(Rt.isZero()||Nt.isZero())return new it(0)._forceRed(this);var ht=Rt.mul(Nt),st=ht.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),dt=ht.isub(st).iushrn(this.shift),mt=dt;return dt.cmp(this.m)>=0?mt=dt.isub(this.m):dt.cmpn(0)<0&&(mt=dt.iadd(this.m)),mt._forceRed(this)},tr.prototype.invm=function(Rt){var Nt=this.imod(Rt._invmp(this.m).mul(this.r2));return Nt._forceRed(this)}})(et,commonjsGlobal)})(bn);const BN=bn.exports;var isTypedarray=isTypedArray$1;isTypedArray$1.strict=isStrictTypedArray;isTypedArray$1.loose=isLooseTypedArray;var toString$1=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray$1(et){return isStrictTypedArray(et)||isLooseTypedArray(et)}function isStrictTypedArray(et){return et instanceof Int8Array||et instanceof Int16Array||et instanceof Int32Array||et instanceof Uint8Array||et instanceof Uint8ClampedArray||et instanceof Uint16Array||et instanceof Uint32Array||et instanceof Float32Array||et instanceof Float64Array}function isLooseTypedArray(et){return names[toString$1.call(et)]}var isTypedArray=isTypedarray.strict,typedarrayToBuffer=function et(_e){if(isTypedArray(_e)){var tt=Buffer.from(_e.buffer);return _e.byteLength!==_e.buffer.byteLength&&(tt=tt.slice(_e.byteOffset,_e.byteOffset+_e.byteLength)),tt}else return Buffer.from(_e)};const ENC_HEX="hex",ENC_UTF8="utf8",STRING_ZERO="0";function bufferToArray(et){return new Uint8Array(et)}function bufferToHex(et,_e=!1){const tt=et.toString(ENC_HEX);return _e?addHexPrefix(tt):tt}function bufferToUtf8(et){return et.toString(ENC_UTF8)}function arrayToBuffer(et){return typedarrayToBuffer(et)}function arrayToHex(et,_e=!1){return bufferToHex(arrayToBuffer(et),_e)}function arrayToUtf8(et){return bufferToUtf8(arrayToBuffer(et))}function hexToBuffer(et){return Buffer.from(removeHexPrefix(et),ENC_HEX)}function hexToArray(et){return bufferToArray(hexToBuffer(et))}function utf8ToBuffer(et){return Buffer.from(et,ENC_UTF8)}function utf8ToArray(et){return bufferToArray(utf8ToBuffer(et))}function utf8ToHex(et,_e=!1){return bufferToHex(utf8ToBuffer(et),_e)}function isHexString$1(et,_e){return!(typeof et!="string"||!et.match(/^0x[0-9A-Fa-f]*$/)||_e&&et.length!==2+2*_e)}function concatArrays(...et){let _e=[];return et.forEach(tt=>_e=_e.concat(Array.from(tt))),new Uint8Array([..._e])}function calcByteLength(et,_e=8){const tt=et%_e;return tt?(et-tt)/_e*_e+_e:et}function sanitizeBytes(et,_e=8,tt=STRING_ZERO){return padLeft(et,calcByteLength(et.length,_e),tt)}function padLeft(et,_e,tt=STRING_ZERO){return padString(et,_e,!0,tt)}function removeHexPrefix(et){return et.replace(/^0x/,"")}function addHexPrefix(et){return et.startsWith("0x")?et:`0x${et}`}function sanitizeHex$1(et){return et=removeHexPrefix(et),et=sanitizeBytes(et,2),et&&(et=addHexPrefix(et)),et}function removeHexLeadingZeros$1(et){const _e=et.startsWith("0x");return et=removeHexPrefix(et),et=et.startsWith(STRING_ZERO)?et.substring(1):et,_e?addHexPrefix(et):et}function padString(et,_e,tt,rt=STRING_ZERO){const nt=_e-et.length;let it=et;if(nt>0){const at=rt.repeat(nt);it=tt?at+et:et+at}return it}function convertArrayBufferToBuffer(et){return arrayToBuffer(new Uint8Array(et))}function convertArrayBufferToHex(et,_e){return arrayToHex(new Uint8Array(et),!_e)}function convertBufferToArrayBuffer(et){return bufferToArray(et).buffer}function convertUtf8ToBuffer(et){return utf8ToBuffer(et)}function convertUtf8ToHex(et,_e){return utf8ToHex(et,!_e)}function convertHexToArrayBuffer(et){return hexToArray(et).buffer}function convertNumberToHex(et,_e){const tt=removeHexPrefix(sanitizeHex$1(new BN(et).toString(16)));return _e?tt:addHexPrefix(tt)}function sanitizeHex(et){return sanitizeHex$1(et)}function removeHexLeadingZeros(et){return removeHexLeadingZeros$1(addHexPrefix(et))}const payloadId=payloadId$1;function uuid$1(){return((_e,tt)=>{for(tt=_e="";_e++<36;tt+=_e*51&52?(_e^15?8^Math.random()*(_e^20?16:4):4).toString(16):"-");return tt})()}function getInfuraRpcUrl(et,_e){let tt;const rt=infuraNetworks[et];return rt&&(tt=`https://${rt}.infura.io/v3/${_e}`),tt}function getRpcUrl(et,_e){let tt;const rt=getInfuraRpcUrl(et,_e.infuraId);return _e.custom&&_e.custom[et]?tt=_e.custom[et]:rt&&(tt=rt),tt}function isEmptyString(et){return et===""||typeof et=="string"&&et.trim()===""}function isEmptyArray(et){return!(et&&et.length)}function isHexString(et,_e){return isHexString$1(et,_e)}function isJsonRpcRequest(et){return typeof et.method<"u"}function isJsonRpcResponseSuccess(et){return typeof et.result<"u"}function isJsonRpcResponseError(et){return typeof et.error<"u"}function isInternalEvent(et){return typeof et.event<"u"}function isReservedEvent(et){return reservedEvents.includes(et)||et.startsWith("wc_")}function isSilentPayload(et){return et.method.startsWith("wc_")?!0:!signingMethods.includes(et.method)}function toChecksumAddress(et){et=removeHexPrefix(et.toLowerCase());const _e=removeHexPrefix(sha3$2.exports.keccak_256(convertUtf8ToBuffer(et)));let tt="";for(let rt=0;rt<et.length;rt++)parseInt(_e[rt],16)>7?tt+=et[rt].toUpperCase():tt+=et[rt];return addHexPrefix(tt)}const isValidAddress=et=>et?et.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(et)?/^(0x)?[0-9a-f]{40}$/.test(et)||/^(0x)?[0-9A-F]{40}$/.test(et)?!0:et===toChecksumAddress(et):!1:!1;function parsePersonalSign(et){return!isEmptyArray(et)&&!isHexString(et[0])&&(et[0]=convertUtf8ToHex(et[0])),et}function parseTransactionData(et){if(typeof et.type<"u"&&et.type!=="0")return et;if(typeof et.from>"u"||!isValidAddress(et.from))throw new Error("Transaction object must include a valid 'from' value.");function _e(nt){let it=nt;return(typeof nt=="number"||typeof nt=="string"&&!isEmptyString(nt))&&(isHexString(nt)?typeof nt=="string"&&(it=sanitizeHex(nt)):it=convertNumberToHex(nt)),typeof it=="string"&&(it=removeHexLeadingZeros(it)),it}const tt={from:sanitizeHex(et.from),to:typeof et.to>"u"?void 0:sanitizeHex(et.to),gasPrice:typeof et.gasPrice>"u"?"":_e(et.gasPrice),gas:typeof et.gas>"u"?typeof et.gasLimit>"u"?"":_e(et.gasLimit):_e(et.gas),value:typeof et.value>"u"?"":_e(et.value),nonce:typeof et.nonce>"u"?"":_e(et.nonce),data:typeof et.data>"u"?"":sanitizeHex(et.data)||"0x"},rt=["gasPrice","gas","value","nonce"];return Object.keys(tt).forEach(nt=>{(typeof tt[nt]>"u"||typeof tt[nt]=="string"&&!tt[nt].trim().length)&&rt.includes(nt)&&delete tt[nt]}),tt}function formatRpcError(et){const _e=et.message||"Failed or Rejected Request";let tt=-32e3;if(et&&!et.code)switch(_e){case"Parse error":tt=-32700;break;case"Invalid request":tt=-32600;break;case"Method not found":tt=-32601;break;case"Invalid params":tt=-32602;break;case"Internal error":tt=-32603;break;default:tt=-32e3;break}return{code:tt,message:_e}}var queryString={},strictUriEncode=et=>encodeURIComponent(et).replace(/[!'()*]/g,_e=>`%${_e.charCodeAt(0).toString(16).toUpperCase()}`),token$1="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token$1+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token$1+")+","gi");function decodeComponents(et,_e){try{return[decodeURIComponent(et.join(""))]}catch{}if(et.length===1)return et;_e=_e||1;var tt=et.slice(0,_e),rt=et.slice(_e);return Array.prototype.concat.call([],decodeComponents(tt),decodeComponents(rt))}function decode(et){try{return decodeURIComponent(et)}catch{for(var _e=et.match(singleMatcher)||[],tt=1;tt<_e.length;tt++)et=decodeComponents(_e,tt).join(""),_e=et.match(singleMatcher)||[];return et}}function customDecodeURIComponent(et){for(var _e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},tt=multiMatcher.exec(et);tt;){try{_e[tt[0]]=decodeURIComponent(tt[0])}catch{var rt=decode(tt[0]);rt!==tt[0]&&(_e[tt[0]]=rt)}tt=multiMatcher.exec(et)}_e["%C2"]="\uFFFD";for(var nt=Object.keys(_e),it=0;it<nt.length;it++){var at=nt[it];et=et.replace(new RegExp(at,"g"),_e[at])}return et}var decodeUriComponent=function(et){if(typeof et!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof et+"`");try{return et=et.replace(/\+/g," "),decodeURIComponent(et)}catch{return customDecodeURIComponent(et)}},splitOnFirst=(et,_e)=>{if(!(typeof et=="string"&&typeof _e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(_e==="")return[et];const tt=et.indexOf(_e);return tt===-1?[et]:[et.slice(0,tt),et.slice(tt+_e.length)]};(function(et){const _e=strictUriEncode,tt=decodeUriComponent,rt=splitOnFirst,nt=St=>St==null;function it(St){switch(St.arrayFormat){case"index":return Tt=>($t,kt)=>{const Pt=$t.length;return kt===void 0||St.skipNull&&kt===null||St.skipEmptyString&&kt===""?$t:kt===null?[...$t,[ct(Tt,St),"[",Pt,"]"].join("")]:[...$t,[ct(Tt,St),"[",ct(Pt,St),"]=",ct(kt,St)].join("")]};case"bracket":return Tt=>($t,kt)=>kt===void 0||St.skipNull&&kt===null||St.skipEmptyString&&kt===""?$t:kt===null?[...$t,[ct(Tt,St),"[]"].join("")]:[...$t,[ct(Tt,St),"[]=",ct(kt,St)].join("")];case"comma":case"separator":return Tt=>($t,kt)=>kt==null||kt.length===0?$t:$t.length===0?[[ct(Tt,St),"=",ct(kt,St)].join("")]:[[$t,ct(kt,St)].join(St.arrayFormatSeparator)];default:return Tt=>($t,kt)=>kt===void 0||St.skipNull&&kt===null||St.skipEmptyString&&kt===""?$t:kt===null?[...$t,ct(Tt,St)]:[...$t,[ct(Tt,St),"=",ct(kt,St)].join("")]}}function at(St){let Tt;switch(St.arrayFormat){case"index":return($t,kt,Pt)=>{if(Tt=/\[(\d*)\]$/.exec($t),$t=$t.replace(/\[\d*\]$/,""),!Tt){Pt[$t]=kt;return}Pt[$t]===void 0&&(Pt[$t]={}),Pt[$t][Tt[1]]=kt};case"bracket":return($t,kt,Pt)=>{if(Tt=/(\[\])$/.exec($t),$t=$t.replace(/\[\]$/,""),!Tt){Pt[$t]=kt;return}if(Pt[$t]===void 0){Pt[$t]=[kt];return}Pt[$t]=[].concat(Pt[$t],kt)};case"comma":case"separator":return($t,kt,Pt)=>{const Ht=typeof kt=="string"&&kt.split("").indexOf(St.arrayFormatSeparator)>-1?kt.split(St.arrayFormatSeparator).map(qt=>ut(qt,St)):kt===null?kt:ut(kt,St);Pt[$t]=Ht};default:return($t,kt,Pt)=>{if(Pt[$t]===void 0){Pt[$t]=kt;return}Pt[$t]=[].concat(Pt[$t],kt)}}}function ot(St){if(typeof St!="string"||St.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ct(St,Tt){return Tt.encode?Tt.strict?_e(St):encodeURIComponent(St):St}function ut(St,Tt){return Tt.decode?tt(St):St}function ft(St){return Array.isArray(St)?St.sort():typeof St=="object"?ft(Object.keys(St)).sort((Tt,$t)=>Number(Tt)-Number($t)).map(Tt=>St[Tt]):St}function yt(St){const Tt=St.indexOf("#");return Tt!==-1&&(St=St.slice(0,Tt)),St}function bt(St){let Tt="";const $t=St.indexOf("#");return $t!==-1&&(Tt=St.slice($t)),Tt}function Et(St){St=yt(St);const Tt=St.indexOf("?");return Tt===-1?"":St.slice(Tt+1)}function Ct(St,Tt){return Tt.parseNumbers&&!Number.isNaN(Number(St))&&typeof St=="string"&&St.trim()!==""?St=Number(St):Tt.parseBooleans&&St!==null&&(St.toLowerCase()==="true"||St.toLowerCase()==="false")&&(St=St.toLowerCase()==="true"),St}function At(St,Tt){Tt=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},Tt),ot(Tt.arrayFormatSeparator);const $t=at(Tt),kt=Object.create(null);if(typeof St!="string"||(St=St.trim().replace(/^[?#&]/,""),!St))return kt;for(const Pt of St.split("&")){let[Ot,Ht]=rt(Tt.decode?Pt.replace(/\+/g," "):Pt,"=");Ht=Ht===void 0?null:["comma","separator"].includes(Tt.arrayFormat)?Ht:ut(Ht,Tt),$t(ut(Ot,Tt),Ht,kt)}for(const Pt of Object.keys(kt)){const Ot=kt[Pt];if(typeof Ot=="object"&&Ot!==null)for(const Ht of Object.keys(Ot))Ot[Ht]=Ct(Ot[Ht],Tt);else kt[Pt]=Ct(Ot,Tt)}return Tt.sort===!1?kt:(Tt.sort===!0?Object.keys(kt).sort():Object.keys(kt).sort(Tt.sort)).reduce((Pt,Ot)=>{const Ht=kt[Ot];return Boolean(Ht)&&typeof Ht=="object"&&!Array.isArray(Ht)?Pt[Ot]=ft(Ht):Pt[Ot]=Ht,Pt},Object.create(null))}et.extract=Et,et.parse=At,et.stringify=(St,Tt)=>{if(!St)return"";Tt=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},Tt),ot(Tt.arrayFormatSeparator);const $t=Ht=>Tt.skipNull&&nt(St[Ht])||Tt.skipEmptyString&&St[Ht]==="",kt=it(Tt),Pt={};for(const Ht of Object.keys(St))$t(Ht)||(Pt[Ht]=St[Ht]);const Ot=Object.keys(Pt);return Tt.sort!==!1&&Ot.sort(Tt.sort),Ot.map(Ht=>{const qt=St[Ht];return qt===void 0?"":qt===null?ct(Ht,Tt):Array.isArray(qt)?qt.reduce(kt(Ht),[]).join("&"):ct(Ht,Tt)+"="+ct(qt,Tt)}).filter(Ht=>Ht.length>0).join("&")},et.parseUrl=(St,Tt)=>{Tt=Object.assign({decode:!0},Tt);const[$t,kt]=rt(St,"#");return Object.assign({url:$t.split("?")[0]||"",query:At(Et(St),Tt)},Tt&&Tt.parseFragmentIdentifier&&kt?{fragmentIdentifier:ut(kt,Tt)}:{})},et.stringifyUrl=(St,Tt)=>{Tt=Object.assign({encode:!0,strict:!0},Tt);const $t=yt(St.url).split("?")[0]||"",kt=et.extract(St.url),Pt=et.parse(kt,{sort:!1}),Ot=Object.assign(Pt,St.query);let Ht=et.stringify(Ot,Tt);Ht&&(Ht=`?${Ht}`);let qt=bt(St.url);return St.fragmentIdentifier&&(qt=`#${ct(St.fragmentIdentifier,Tt)}`),`${$t}${Ht}${qt}`}})(queryString);function getQueryString(et){const _e=et.indexOf("?")!==-1?et.indexOf("?"):void 0;return typeof _e<"u"?et.substr(_e):""}function appendToQueryString(et,_e){let tt=parseQueryString(et);return tt=Object.assign(Object.assign({},tt),_e),et=formatQueryString(tt),et}function parseQueryString(et){return queryString.parse(et)}function formatQueryString(et){return queryString.stringify(et)}function isWalletConnectSession(et){return typeof et.bridge<"u"}function parseWalletConnectUri(et){const _e=et.indexOf(":"),tt=et.indexOf("?")!==-1?et.indexOf("?"):void 0,rt=et.substring(0,_e),nt=et.substring(_e+1,tt);function it(yt){const bt="@",Et=yt.split(bt);return{handshakeTopic:Et[0],version:parseInt(Et[1],10)}}const at=it(nt),ot=typeof tt<"u"?et.substr(tt):"";function ct(yt){const bt=parseQueryString(yt);return{key:bt.key||"",bridge:bt.bridge||""}}const ut=ct(ot);return Object.assign(Object.assign({protocol:rt},at),ut)}class NetworkMonitor{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(_e,tt){this._eventEmitters.push({event:_e,callback:tt})}trigger(_e){let tt=[];_e&&(tt=this._eventEmitters.filter(rt=>rt.event===_e)),tt.forEach(rt=>{rt.callback()})}}const WS=typeof globalThis.WebSocket<"u"?globalThis.WebSocket:require("ws");class SocketTransport{constructor(_e){if(this.opts=_e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=_e.protocol,this._version=_e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=_e.subscriptions||[],this._netMonitor=_e.netMonitor||new NetworkMonitor,!_e.url||typeof _e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=_e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(_e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(_e){}get connecting(){return this.readyState===0}set connected(_e){}get connected(){return this.readyState===1}set closing(_e){}get closing(){return this.readyState===2}set closed(_e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(_e,tt,rt){if(!tt||typeof tt!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:tt,type:"pub",payload:_e,silent:!!rt})}subscribe(_e){this._socketSend({topic:_e,type:"sub",payload:"",silent:!0})}on(_e,tt){this._events.push({event:_e,callback:tt})}_socketCreate(){if(this._nextSocket)return;const _e=getWebSocketUrl(this._url,this._protocol,this._version);if(this._nextSocket=new WS(_e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=tt=>this._socketReceive(tt),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=tt=>this._socketError(tt),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(_e){const tt=JSON.stringify(_e);this._socket&&this._socket.readyState===1?this._socket.send(tt):(this._setToQueue(_e),this._socketCreate())}async _socketReceive(_e){let tt;try{tt=JSON.parse(_e.data)}catch{return}if(this._socketSend({topic:tt.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const rt=this._events.filter(nt=>nt.event==="message");rt&&rt.length&&rt.forEach(nt=>nt.callback(tt))}}_socketError(_e){const tt=this._events.filter(rt=>rt.event==="error");tt&&tt.length&&tt.forEach(rt=>rt.callback(_e))}_queueSubscriptions(){this._subscriptions.forEach(tt=>this._queue.push({topic:tt,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(_e){this._queue.push(_e)}_pushQueue(){this._queue.forEach(tt=>this._socketSend(tt)),this._queue=[]}}function getWebSocketUrl(et,_e,tt){var rt,nt;const at=(et.startsWith("https")?et.replace("https","wss"):et.startsWith("http")?et.replace("http","ws"):et).split("?"),ot=isBrowser$2()?{protocol:_e,version:tt,env:"browser",host:((rt=getLocation())===null||rt===void 0?void 0:rt.host)||""}:{protocol:_e,version:tt,env:((nt=detectEnv$1())===null||nt===void 0?void 0:nt.name)||""},ct=appendToQueryString(getQueryString(at[1]||""),ot);return at[0]+"?"+ct}const ERROR_SESSION_CONNECTED="Session currently connected",ERROR_SESSION_DISCONNECTED="Session currently disconnected",ERROR_SESSION_REJECTED="Session Rejected",ERROR_MISSING_JSON_RPC="Missing JSON RPC response",ERROR_MISSING_RESULT='JSON-RPC success response must include "result" field',ERROR_MISSING_ERROR='JSON-RPC error response must include "error" field',ERROR_MISSING_METHOD='JSON RPC request must have valid "method" value',ERROR_MISSING_ID='JSON RPC request must have valid "id" value',ERROR_MISSING_REQUIRED="Missing one of the required parameters: bridge / uri / session",ERROR_INVALID_RESPONSE="JSON RPC response format is invalid",ERROR_INVALID_URI="URI format is invalid",ERROR_QRCODE_MODAL_NOT_PROVIDED="QRCode Modal not provided",ERROR_QRCODE_MODAL_USER_CLOSED="User close QRCode Modal";class EventManager{constructor(){this._eventEmitters=[]}subscribe(_e){this._eventEmitters.push(_e)}unsubscribe(_e){this._eventEmitters=this._eventEmitters.filter(tt=>tt.event!==_e)}trigger(_e){let tt=[],rt;isJsonRpcRequest(_e)?rt=_e.method:isJsonRpcResponseSuccess(_e)||isJsonRpcResponseError(_e)?rt=`response:${_e.id}`:isInternalEvent(_e)?rt=_e.event:rt="",rt&&(tt=this._eventEmitters.filter(nt=>nt.event===rt)),(!tt||!tt.length)&&!isReservedEvent(rt)&&!isInternalEvent(rt)&&(tt=this._eventEmitters.filter(nt=>nt.event==="call_request")),tt.forEach(nt=>{if(isJsonRpcResponseError(_e)){const it=new Error(_e.error.message);nt.callback(it,null)}else nt.callback(null,_e)})}}class SessionStorage{constructor(_e="walletconnect"){this.storageId=_e}getSession(){let _e=null;const tt=getLocal(this.storageId);return tt&&isWalletConnectSession(tt)&&(_e=tt),_e}setSession(_e){return setLocal(this.storageId,_e),_e}removeSession(){removeLocal(this.storageId)}}const domain="walletconnect.org",alphanumerical="abcdefghijklmnopqrstuvwxyz0123456789",bridges=alphanumerical.split("").map(et=>`https://${et}.bridge.walletconnect.org`);function extractHostname(et){let _e=et.indexOf("//")>-1?et.split("/")[2]:et.split("/")[0];return _e=_e.split(":")[0],_e=_e.split("?")[0],_e}function extractRootDomain(et){return extractHostname(et).split(".").slice(-2).join(".")}function randomBridgeIndex(){return Math.floor(Math.random()*bridges.length)}function selectRandomBridgeUrl(){return bridges[randomBridgeIndex()]}function shouldSelectRandomly(et){return extractRootDomain(et)===domain}function getBridgeUrl(et){return shouldSelectRandomly(et)?selectRandomBridgeUrl():et}class Connector{constructor(_e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new EventManager,this._clientMeta=getClientMeta()||_e.connectorOpts.clientMeta||null,this._cryptoLib=_e.cryptoLib,this._sessionStorage=_e.sessionStorage||new SessionStorage(_e.connectorOpts.storageId),this._qrcodeModal=_e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=_e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...signingMethods,..._e.connectorOpts.signingMethods||[]],!_e.connectorOpts.bridge&&!_e.connectorOpts.uri&&!_e.connectorOpts.session)throw new Error(ERROR_MISSING_REQUIRED);_e.connectorOpts.bridge&&(this.bridge=getBridgeUrl(_e.connectorOpts.bridge)),_e.connectorOpts.uri&&(this.uri=_e.connectorOpts.uri);const tt=_e.connectorOpts.session||this._getStorageSession();tt&&(this.session=tt),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=_e.transport||new SocketTransport({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),_e.connectorOpts.uri&&this._subscribeToSessionRequest(),_e.pushServerOpts&&this._registerPushServer(_e.pushServerOpts)}set bridge(_e){!_e||(this._bridge=_e)}get bridge(){return this._bridge}set key(_e){if(!_e)return;const tt=convertHexToArrayBuffer(_e);this._key=tt}get key(){return this._key?convertArrayBufferToHex(this._key,!0):""}set clientId(_e){!_e||(this._clientId=_e)}get clientId(){let _e=this._clientId;return _e||(_e=this._clientId=uuid$1()),this._clientId}set peerId(_e){!_e||(this._peerId=_e)}get peerId(){return this._peerId}set clientMeta(_e){}get clientMeta(){let _e=this._clientMeta;return _e||(_e=this._clientMeta=getClientMeta()),_e}set peerMeta(_e){this._peerMeta=_e}get peerMeta(){return this._peerMeta}set handshakeTopic(_e){!_e||(this._handshakeTopic=_e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(_e){!_e||(this._handshakeId=_e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(_e){if(!_e)return;const{handshakeTopic:tt,bridge:rt,key:nt}=this._parseUri(_e);this.handshakeTopic=tt,this.bridge=rt,this.key=nt}set chainId(_e){this._chainId=_e}get chainId(){return this._chainId}set networkId(_e){this._networkId=_e}get networkId(){return this._networkId}set accounts(_e){this._accounts=_e}get accounts(){return this._accounts}set rpcUrl(_e){this._rpcUrl=_e}get rpcUrl(){return this._rpcUrl}set connected(_e){}get connected(){return this._connected}set pending(_e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(_e){!_e||(this._connected=_e.connected,this.accounts=_e.accounts,this.chainId=_e.chainId,this.bridge=_e.bridge,this.key=_e.key,this.clientId=_e.clientId,this.clientMeta=_e.clientMeta,this.peerId=_e.peerId,this.peerMeta=_e.peerMeta,this.handshakeId=_e.handshakeId,this.handshakeTopic=_e.handshakeTopic)}on(_e,tt){const rt={event:_e,callback:tt};this._eventManager.subscribe(rt)}off(_e){this._eventManager.unsubscribe(_e)}async createInstantRequest(_e){this._key=await this._generateKey();const tt=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(_e)}]});this.handshakeId=tt.id,this.handshakeTopic=uuid$1(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED)});const rt=()=>{this.killSession()};try{const nt=await this._sendCallRequest(tt);return nt&&rt(),nt}catch(nt){throw rt(),nt}}async connect(_e){if(!this._qrcodeModal)throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(_e),new Promise(async(tt,rt)=>{this.on("modal_closed",()=>rt(new Error(ERROR_QRCODE_MODAL_USER_CLOSED))),this.on("connect",(nt,it)=>{if(nt)return rt(nt);tt(it.params[0])})}))}async createSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);if(this.pending)return;this._key=await this._generateKey();const tt=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:_e&&_e.chainId?_e.chainId:null}]});this.handshakeId=tt.id,this.handshakeTopic=uuid$1(),this._sendSessionRequest(tt,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);this.chainId=_e.chainId,this.accounts=_e.accounts,this.networkId=_e.networkId||0,this.rpcUrl=_e.rpcUrl||"";const tt={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},rt={id:this.handshakeId,jsonrpc:"2.0",result:tt};this._sendResponse(rt),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(_e){if(this._connected)throw new Error(ERROR_SESSION_CONNECTED);const tt=_e&&_e.message?_e.message:ERROR_SESSION_REJECTED,rt=this._formatResponse({id:this.handshakeId,error:{message:tt}});this._sendResponse(rt),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:tt}]}),this._removeStorageSession()}updateSession(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);this.chainId=_e.chainId,this.accounts=_e.accounts,this.networkId=_e.networkId||0,this.rpcUrl=_e.rpcUrl||"";const tt={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},rt=this._formatRequest({method:"wc_sessionUpdate",params:[tt]});this._sendSessionRequest(rt,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(_e){const tt=_e?_e.message:"Session Disconnected",rt={approved:!1,chainId:null,networkId:null,accounts:null},nt=this._formatRequest({method:"wc_sessionUpdate",params:[rt]});await this._sendRequest(nt),this._handleSessionDisconnect(tt)}async sendTransaction(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=parseTransactionData(_e),rt=this._formatRequest({method:"eth_sendTransaction",params:[tt]});return await this._sendCallRequest(rt)}async signTransaction(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=parseTransactionData(_e),rt=this._formatRequest({method:"eth_signTransaction",params:[tt]});return await this._sendCallRequest(rt)}async signMessage(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=this._formatRequest({method:"eth_sign",params:_e});return await this._sendCallRequest(tt)}async signPersonalMessage(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);_e=parsePersonalSign(_e);const tt=this._formatRequest({method:"personal_sign",params:_e});return await this._sendCallRequest(tt)}async signTypedData(_e){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);const tt=this._formatRequest({method:"eth_signTypedData",params:_e});return await this._sendCallRequest(tt)}async updateChain(_e){if(!this._connected)throw new Error("Session currently disconnected");const tt=this._formatRequest({method:"wallet_updateChain",params:[_e]});return await this._sendCallRequest(tt)}unsafeSend(_e,tt){return this._sendRequest(_e,tt),this._eventManager.trigger({event:"call_request_sent",params:[{request:_e,options:tt}]}),new Promise((rt,nt)=>{this._subscribeToResponse(_e.id,(it,at)=>{if(it){nt(it);return}if(!at)throw new Error(ERROR_MISSING_JSON_RPC);rt(at)})})}async sendCustomRequest(_e,tt){if(!this._connected)throw new Error(ERROR_SESSION_DISCONNECTED);switch(_e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return convertNumberToHex(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":_e.params&&(_e.params[0]=parseTransactionData(_e.params[0]));break;case"personal_sign":_e.params&&(_e.params=parsePersonalSign(_e.params));break}const rt=this._formatRequest(_e);return await this._sendCallRequest(rt,tt)}approveRequest(_e){if(isJsonRpcResponseSuccess(_e)){const tt=this._formatResponse(_e);this._sendResponse(tt)}else throw new Error(ERROR_MISSING_RESULT)}rejectRequest(_e){if(isJsonRpcResponseError(_e)){const tt=this._formatResponse(_e);this._sendResponse(tt)}else throw new Error(ERROR_MISSING_ERROR)}transportClose(){this._transport.close()}async _sendRequest(_e,tt){const rt=this._formatRequest(_e),nt=await this._encrypt(rt),it=typeof(tt==null?void 0:tt.topic)<"u"?tt.topic:this.peerId,at=JSON.stringify(nt),ot=typeof(tt==null?void 0:tt.forcePushNotification)<"u"?!tt.forcePushNotification:isSilentPayload(rt);this._transport.send(at,it,ot)}async _sendResponse(_e){const tt=await this._encrypt(_e),rt=this.peerId,nt=JSON.stringify(tt),it=!0;this._transport.send(nt,rt,it)}async _sendSessionRequest(_e,tt,rt){this._sendRequest(_e,rt),this._subscribeToSessionResponse(_e.id,tt)}_sendCallRequest(_e,tt){return this._sendRequest(_e,tt),this._eventManager.trigger({event:"call_request_sent",params:[{request:_e,options:tt}]}),this._subscribeToCallResponse(_e.id)}_formatRequest(_e){if(typeof _e.method>"u")throw new Error(ERROR_MISSING_METHOD);return{id:typeof _e.id>"u"?payloadId():_e.id,jsonrpc:"2.0",method:_e.method,params:typeof _e.params>"u"?[]:_e.params}}_formatResponse(_e){if(typeof _e.id>"u")throw new Error(ERROR_MISSING_ID);const tt={id:_e.id,jsonrpc:"2.0"};if(isJsonRpcResponseError(_e)){const rt=formatRpcError(_e.error);return Object.assign(Object.assign(Object.assign({},tt),_e),{error:rt})}else if(isJsonRpcResponseSuccess(_e))return Object.assign(Object.assign({},tt),_e);throw new Error(ERROR_INVALID_RESPONSE)}_handleSessionDisconnect(_e){const tt=_e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),removeLocal(mobileLinkChoiceKey)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:tt}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(_e,tt){tt?tt.approved?(this._connected?(tt.chainId&&(this.chainId=tt.chainId),tt.accounts&&(this.accounts=tt.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,tt.chainId&&(this.chainId=tt.chainId),tt.accounts&&(this.accounts=tt.accounts),tt.peerId&&!this.peerId&&(this.peerId=tt.peerId),tt.peerMeta&&!this.peerMeta&&(this.peerMeta=tt.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(_e):this._handleSessionDisconnect(_e)}async _handleIncomingMessages(_e){if(![this.clientId,this.handshakeTopic].includes(_e.topic))return;let rt;try{rt=JSON.parse(_e.payload)}catch{return}const nt=await this._decrypt(rt);nt&&this._eventManager.trigger(nt)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(_e,tt){this.on(`response:${_e}`,tt)}_subscribeToSessionResponse(_e,tt){this._subscribeToResponse(_e,(rt,nt)=>{if(rt){this._handleSessionResponse(rt.message);return}isJsonRpcResponseSuccess(nt)?this._handleSessionResponse(tt,nt.result):nt.error&&nt.error.message?this._handleSessionResponse(nt.error.message):this._handleSessionResponse(tt)})}_subscribeToCallResponse(_e){return new Promise((tt,rt)=>{this._subscribeToResponse(_e,(nt,it)=>{if(nt){rt(nt);return}isJsonRpcResponseSuccess(it)?tt(it.result):it.error&&it.error.message?rt(new Error(it.error.message)):rt(new Error(ERROR_INVALID_RESPONSE))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(_e,tt)=>{const{request:rt}=tt.params[0];if(isMobile$1()&&this._signingMethods.includes(rt.method)){const nt=getLocal(mobileLinkChoiceKey);nt&&(window.location.href=nt.href)}}),this.on("wc_sessionRequest",(_e,tt)=>{_e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:_e.toString()}]}),this.handshakeId=tt.id,this.peerId=tt.params[0].peerId,this.peerMeta=tt.params[0].peerMeta;const rt=Object.assign(Object.assign({},tt),{method:"session_request"});this._eventManager.trigger(rt)}),this.on("wc_sessionUpdate",(_e,tt)=>{_e&&this._handleSessionResponse(_e.message),this._handleSessionResponse("Session disconnected",tt.params[0])})}_initTransport(){this._transport.on("message",_e=>this._handleIncomingMessages(_e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const _e=this.protocol,tt=this.handshakeTopic,rt=this.version,nt=encodeURIComponent(this.bridge),it=this.key;return`${_e}:${tt}@${rt}?bridge=${nt}&key=${it}`}_parseUri(_e){const tt=parseWalletConnectUri(_e);if(tt.protocol===this.protocol){if(!tt.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const rt=tt.handshakeTopic;if(!tt.bridge)throw Error("Invalid or missing bridge url parameter value");const nt=decodeURIComponent(tt.bridge);if(!tt.key)throw Error("Invalid or missing key parameter value");const it=tt.key;return{handshakeTopic:rt,bridge:nt,key:it}}else throw new Error(ERROR_INVALID_URI)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(_e){const tt=this._key;return this._cryptoLib&&tt?await this._cryptoLib.encrypt(_e,tt):null}async _decrypt(_e){const tt=this._key;return this._cryptoLib&&tt?await this._cryptoLib.decrypt(_e,tt):null}_getStorageSession(){let _e=null;return this._sessionStorage&&(_e=this._sessionStorage.getSession()),_e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(_e){if(!_e.url||typeof _e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!_e.type||typeof _e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!_e.token||typeof _e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const tt={bridge:this.bridge,topic:this.clientId,type:_e.type,token:_e.token,peerName:"",language:_e.language||""};this.on("connect",async(rt,nt)=>{if(rt)throw rt;if(_e.peerMeta){const it=nt.params[0].peerMeta.name;tt.peerName=it}try{if(!(await(await fetch(`${_e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(tt)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function randomBytes(et){return cjs$3.getBrowerCrypto().getRandomValues(new Uint8Array(et))}const LENGTH_256=256,AES_LENGTH=LENGTH_256,HMAC_LENGTH=LENGTH_256,AES_BROWSER_ALGO="AES-CBC",HMAC_BROWSER_ALGO=`SHA-${AES_LENGTH}`,HMAC_BROWSER="HMAC",ENCRYPT_OP="encrypt",DECRYPT_OP="decrypt",SIGN_OP="sign",VERIFY_OP="verify";function getAlgo(et){return et===AES_BROWSER_ALGO?{length:AES_LENGTH,name:AES_BROWSER_ALGO}:{hash:{name:HMAC_BROWSER_ALGO},name:HMAC_BROWSER}}function getOps(et){return et===AES_BROWSER_ALGO?[ENCRYPT_OP,DECRYPT_OP]:[SIGN_OP,VERIFY_OP]}async function browserImportKey(et,_e=AES_BROWSER_ALGO){return cjs$3.getSubtleCrypto().importKey("raw",et,getAlgo(_e),!0,getOps(_e))}async function browserAesEncrypt(et,_e,tt){const rt=cjs$3.getSubtleCrypto(),nt=await browserImportKey(_e,AES_BROWSER_ALGO),it=await rt.encrypt({iv:et,name:AES_BROWSER_ALGO},nt,tt);return new Uint8Array(it)}async function browserAesDecrypt(et,_e,tt){const rt=cjs$3.getSubtleCrypto(),nt=await browserImportKey(_e,AES_BROWSER_ALGO),it=await rt.decrypt({iv:et,name:AES_BROWSER_ALGO},nt,tt);return new Uint8Array(it)}async function browserHmacSha256Sign(et,_e){const tt=cjs$3.getSubtleCrypto(),rt=await browserImportKey(et,HMAC_BROWSER),nt=await tt.sign({length:HMAC_LENGTH,name:HMAC_BROWSER},rt,_e);return new Uint8Array(nt)}function aesCbcEncrypt(et,_e,tt){return browserAesEncrypt(et,_e,tt)}function aesCbcDecrypt(et,_e,tt){return browserAesDecrypt(et,_e,tt)}async function hmacSha256Sign(et,_e){return await browserHmacSha256Sign(et,_e)}async function generateKey(et){const _e=(et||256)/8,tt=randomBytes(_e);return convertBufferToArrayBuffer(arrayToBuffer(tt))}async function verifyHmac(et,_e){const tt=hexToArray(et.data),rt=hexToArray(et.iv),nt=hexToArray(et.hmac),it=arrayToHex(nt,!1),at=concatArrays(tt,rt),ot=await hmacSha256Sign(_e,at),ct=arrayToHex(ot,!1);return removeHexPrefix(it)===removeHexPrefix(ct)}async function encrypt(et,_e,tt){const rt=bufferToArray(convertArrayBufferToBuffer(_e)),nt=tt||await generateKey(128),it=bufferToArray(convertArrayBufferToBuffer(nt)),at=arrayToHex(it,!1),ot=JSON.stringify(et),ct=utf8ToArray(ot),ut=await aesCbcEncrypt(it,rt,ct),ft=arrayToHex(ut,!1),yt=concatArrays(ut,it),bt=await hmacSha256Sign(rt,yt),Et=arrayToHex(bt,!1);return{data:ft,hmac:Et,iv:at}}async function decrypt(et,_e){const tt=bufferToArray(convertArrayBufferToBuffer(_e));if(!tt)throw new Error("Missing key: required for decryption");if(!await verifyHmac(et,tt))return null;const nt=hexToArray(et.data),it=hexToArray(et.iv),at=await aesCbcDecrypt(it,tt,nt),ot=arrayToUtf8(at);let ct;try{ct=JSON.parse(ot)}catch{return null}return ct}const cryptoLib=Object.freeze(Object.defineProperty({__proto__:null,generateKey,verifyHmac,encrypt,decrypt},Symbol.toStringTag,{value:"Module"}));class WalletConnect extends Connector{constructor(_e,tt){super({cryptoLib,connectorOpts:_e,pushServerOpts:tt})}}const require$$0$1=getAugmentedNamespace(esm$1);var browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},typedarrayBuffer={},toString={}.toString,isarray=Array.isArray||function(et){return toString.call(et)=="[object Array]"},isArray$3=isarray;function typedArraySupport(){try{var et=new Uint8Array(1);return et.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},et.foo()===42}catch{return!1}}Buffer$2.TYPED_ARRAY_SUPPORT=typedArraySupport();var K_MAX_LENGTH=Buffer$2.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Buffer$2(et,_e,tt){return!Buffer$2.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$2)?new Buffer$2(et,_e,tt):typeof et=="number"?allocUnsafe(this,et):from$1(this,et,_e,tt)}Buffer$2.TYPED_ARRAY_SUPPORT&&(Buffer$2.prototype.__proto__=Uint8Array.prototype,Buffer$2.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Buffer$2[Symbol.species]===Buffer$2&&Object.defineProperty(Buffer$2,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function checked(et){if(et>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return et|0}function isnan(et){return et!==et}function createBuffer(et,_e){var tt;return Buffer$2.TYPED_ARRAY_SUPPORT?(tt=new Uint8Array(_e),tt.__proto__=Buffer$2.prototype):(tt=et,tt===null&&(tt=new Buffer$2(_e)),tt.length=_e),tt}function allocUnsafe(et,_e){var tt=createBuffer(et,_e<0?0:checked(_e)|0);if(!Buffer$2.TYPED_ARRAY_SUPPORT)for(var rt=0;rt<_e;++rt)tt[rt]=0;return tt}function fromString(et,_e){var tt=byteLength(_e)|0,rt=createBuffer(et,tt),nt=rt.write(_e);return nt!==tt&&(rt=rt.slice(0,nt)),rt}function fromArrayLike(et,_e){for(var tt=_e.length<0?0:checked(_e.length)|0,rt=createBuffer(et,tt),nt=0;nt<tt;nt+=1)rt[nt]=_e[nt]&255;return rt}function fromArrayBuffer(et,_e,tt,rt){if(tt<0||_e.byteLength<tt)throw new RangeError("'offset' is out of bounds");if(_e.byteLength<tt+(rt||0))throw new RangeError("'length' is out of bounds");var nt;return tt===void 0&&rt===void 0?nt=new Uint8Array(_e):rt===void 0?nt=new Uint8Array(_e,tt):nt=new Uint8Array(_e,tt,rt),Buffer$2.TYPED_ARRAY_SUPPORT?nt.__proto__=Buffer$2.prototype:nt=fromArrayLike(et,nt),nt}function fromObject(et,_e){if(Buffer$2.isBuffer(_e)){var tt=checked(_e.length)|0,rt=createBuffer(et,tt);return rt.length===0||_e.copy(rt,0,0,tt),rt}if(_e){if(typeof ArrayBuffer<"u"&&_e.buffer instanceof ArrayBuffer||"length"in _e)return typeof _e.length!="number"||isnan(_e.length)?createBuffer(et,0):fromArrayLike(et,_e);if(_e.type==="Buffer"&&Array.isArray(_e.data))return fromArrayLike(et,_e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function utf8ToBytes(et,_e){_e=_e||1/0;for(var tt,rt=et.length,nt=null,it=[],at=0;at<rt;++at){if(tt=et.charCodeAt(at),tt>55295&&tt<57344){if(!nt){if(tt>56319){(_e-=3)>-1&&it.push(239,191,189);continue}else if(at+1===rt){(_e-=3)>-1&&it.push(239,191,189);continue}nt=tt;continue}if(tt<56320){(_e-=3)>-1&&it.push(239,191,189),nt=tt;continue}tt=(nt-55296<<10|tt-56320)+65536}else nt&&(_e-=3)>-1&&it.push(239,191,189);if(nt=null,tt<128){if((_e-=1)<0)break;it.push(tt)}else if(tt<2048){if((_e-=2)<0)break;it.push(tt>>6|192,tt&63|128)}else if(tt<65536){if((_e-=3)<0)break;it.push(tt>>12|224,tt>>6&63|128,tt&63|128)}else if(tt<1114112){if((_e-=4)<0)break;it.push(tt>>18|240,tt>>12&63|128,tt>>6&63|128,tt&63|128)}else throw new Error("Invalid code point")}return it}function byteLength(et){if(Buffer$2.isBuffer(et))return et.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(et)||et instanceof ArrayBuffer))return et.byteLength;typeof et!="string"&&(et=""+et);var _e=et.length;return _e===0?0:utf8ToBytes(et).length}function blitBuffer(et,_e,tt,rt){for(var nt=0;nt<rt&&!(nt+tt>=_e.length||nt>=et.length);++nt)_e[nt+tt]=et[nt];return nt}function utf8Write(et,_e,tt,rt){return blitBuffer(utf8ToBytes(_e,et.length-tt),et,tt,rt)}function from$1(et,_e,tt,rt){if(typeof _e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&_e instanceof ArrayBuffer?fromArrayBuffer(et,_e,tt,rt):typeof _e=="string"?fromString(et,_e):fromObject(et,_e)}Buffer$2.prototype.write=function et(_e,tt,rt){tt===void 0?(rt=this.length,tt=0):rt===void 0&&typeof tt=="string"?(rt=this.length,tt=0):isFinite(tt)&&(tt=tt|0,isFinite(rt)?rt=rt|0:rt=void 0);var nt=this.length-tt;if((rt===void 0||rt>nt)&&(rt=nt),_e.length>0&&(rt<0||tt<0)||tt>this.length)throw new RangeError("Attempt to write outside buffer bounds");return utf8Write(this,_e,tt,rt)};Buffer$2.prototype.slice=function et(_e,tt){var rt=this.length;_e=~~_e,tt=tt===void 0?rt:~~tt,_e<0?(_e+=rt,_e<0&&(_e=0)):_e>rt&&(_e=rt),tt<0?(tt+=rt,tt<0&&(tt=0)):tt>rt&&(tt=rt),tt<_e&&(tt=_e);var nt;if(Buffer$2.TYPED_ARRAY_SUPPORT)nt=this.subarray(_e,tt),nt.__proto__=Buffer$2.prototype;else{var it=tt-_e;nt=new Buffer$2(it,void 0);for(var at=0;at<it;++at)nt[at]=this[at+_e]}return nt};Buffer$2.prototype.copy=function et(_e,tt,rt,nt){if(rt||(rt=0),!nt&&nt!==0&&(nt=this.length),tt>=_e.length&&(tt=_e.length),tt||(tt=0),nt>0&&nt<rt&&(nt=rt),nt===rt||_e.length===0||this.length===0)return 0;if(tt<0)throw new RangeError("targetStart out of bounds");if(rt<0||rt>=this.length)throw new RangeError("sourceStart out of bounds");if(nt<0)throw new RangeError("sourceEnd out of bounds");nt>this.length&&(nt=this.length),_e.length-tt<nt-rt&&(nt=_e.length-tt+rt);var it=nt-rt,at;if(this===_e&&rt<tt&&tt<nt)for(at=it-1;at>=0;--at)_e[at+tt]=this[at+rt];else if(it<1e3||!Buffer$2.TYPED_ARRAY_SUPPORT)for(at=0;at<it;++at)_e[at+tt]=this[at+rt];else Uint8Array.prototype.set.call(_e,this.subarray(rt,rt+it),tt);return it};Buffer$2.prototype.fill=function et(_e,tt,rt){if(typeof _e=="string"){if(typeof tt=="string"?(tt=0,rt=this.length):typeof rt=="string"&&(rt=this.length),_e.length===1){var nt=_e.charCodeAt(0);nt<256&&(_e=nt)}}else typeof _e=="number"&&(_e=_e&255);if(tt<0||this.length<tt||this.length<rt)throw new RangeError("Out of range index");if(rt<=tt)return this;tt=tt>>>0,rt=rt===void 0?this.length:rt>>>0,_e||(_e=0);var it;if(typeof _e=="number")for(it=tt;it<rt;++it)this[it]=_e;else{var at=Buffer$2.isBuffer(_e)?_e:new Buffer$2(_e),ot=at.length;for(it=0;it<rt-tt;++it)this[it+tt]=at[it%ot]}return this};Buffer$2.concat=function et(_e,tt){if(!isArray$3(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return createBuffer(null,0);var rt;if(tt===void 0)for(tt=0,rt=0;rt<_e.length;++rt)tt+=_e[rt].length;var nt=allocUnsafe(null,tt),it=0;for(rt=0;rt<_e.length;++rt){var at=_e[rt];if(!Buffer$2.isBuffer(at))throw new TypeError('"list" argument must be an Array of Buffers');at.copy(nt,it),it+=at.length}return nt};Buffer$2.byteLength=byteLength;Buffer$2.prototype._isBuffer=!0;Buffer$2.isBuffer=function et(_e){return!!(_e!=null&&_e._isBuffer)};typedarrayBuffer.alloc=function(et){var _e=new Buffer$2(et);return _e.fill(0),_e};typedarrayBuffer.from=function(et){return new Buffer$2(et)};var utils$1={},toSJISFunction,CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$1.getSymbolSize=function et(_e){if(!_e)throw new Error('"version" cannot be null or undefined');if(_e<1||_e>40)throw new Error('"version" should be in range from 1 to 40');return _e*4+17};utils$1.getSymbolTotalCodewords=function et(_e){return CODEWORDS_COUNT[_e]};utils$1.getBCHDigit=function(et){for(var _e=0;et!==0;)_e++,et>>>=1;return _e};utils$1.setToSJISFunction=function et(_e){if(typeof _e!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=_e};utils$1.isKanjiModeEnabled=function(){return typeof toSJISFunction<"u"};utils$1.toSJIS=function et(_e){return toSJISFunction(_e)};var errorCorrectionLevel={};(function(et){et.L={bit:1},et.M={bit:0},et.Q={bit:3},et.H={bit:2};function _e(tt){if(typeof tt!="string")throw new Error("Param is not a string");var rt=tt.toLowerCase();switch(rt){case"l":case"low":return et.L;case"m":case"medium":return et.M;case"q":case"quartile":return et.Q;case"h":case"high":return et.H;default:throw new Error("Unknown EC Level: "+tt)}}et.isValid=function(rt){return rt&&typeof rt.bit<"u"&&rt.bit>=0&&rt.bit<4},et.from=function(rt,nt){if(et.isValid(rt))return rt;try{return _e(rt)}catch{return nt}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(et){var _e=Math.floor(et/8);return(this.buffer[_e]>>>7-et%8&1)===1},put:function(et,_e){for(var tt=0;tt<_e;tt++)this.putBit((et>>>_e-tt-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(et){var _e=Math.floor(this.length/8);this.buffer.length<=_e&&this.buffer.push(0),et&&(this.buffer[_e]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1,BufferUtil$4=typedarrayBuffer;function BitMatrix$1(et){if(!et||et<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=et,this.data=BufferUtil$4.alloc(et*et),this.reservedBit=BufferUtil$4.alloc(et*et)}BitMatrix$1.prototype.set=function(et,_e,tt,rt){var nt=et*this.size+_e;this.data[nt]=tt,rt&&(this.reservedBit[nt]=!0)};BitMatrix$1.prototype.get=function(et,_e){return this.data[et*this.size+_e]};BitMatrix$1.prototype.xor=function(et,_e,tt){this.data[et*this.size+_e]^=tt};BitMatrix$1.prototype.isReserved=function(et,_e){return this.reservedBit[et*this.size+_e]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(et){var _e=utils$1.getSymbolSize;et.getRowColCoords=function(rt){if(rt===1)return[];for(var nt=Math.floor(rt/7)+2,it=_e(rt),at=it===145?26:Math.ceil((it-13)/(2*nt-2))*2,ot=[it-7],ct=1;ct<nt-1;ct++)ot[ct]=ot[ct-1]-at;return ot.push(6),ot.reverse()},et.getPositions=function(rt){for(var nt=[],it=et.getRowColCoords(rt),at=it.length,ot=0;ot<at;ot++)for(var ct=0;ct<at;ct++)ot===0&&ct===0||ot===0&&ct===at-1||ot===at-1&&ct===0||nt.push([it[ot],it[ct]]);return nt}})(alignmentPattern);var finderPattern={},getSymbolSize=utils$1.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function et(_e){var tt=getSymbolSize(_e);return[[0,0],[tt-FINDER_PATTERN_SIZE,0],[0,tt-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(et){et.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var _e={N1:3,N2:3,N3:40,N4:10};et.isValid=function(nt){return nt!=null&&nt!==""&&!isNaN(nt)&&nt>=0&&nt<=7},et.from=function(nt){return et.isValid(nt)?parseInt(nt,10):void 0},et.getPenaltyN1=function(nt){for(var it=nt.size,at=0,ot=0,ct=0,ut=null,ft=null,yt=0;yt<it;yt++){ot=ct=0,ut=ft=null;for(var bt=0;bt<it;bt++){var Et=nt.get(yt,bt);Et===ut?ot++:(ot>=5&&(at+=_e.N1+(ot-5)),ut=Et,ot=1),Et=nt.get(bt,yt),Et===ft?ct++:(ct>=5&&(at+=_e.N1+(ct-5)),ft=Et,ct=1)}ot>=5&&(at+=_e.N1+(ot-5)),ct>=5&&(at+=_e.N1+(ct-5))}return at},et.getPenaltyN2=function(nt){for(var it=nt.size,at=0,ot=0;ot<it-1;ot++)for(var ct=0;ct<it-1;ct++){var ut=nt.get(ot,ct)+nt.get(ot,ct+1)+nt.get(ot+1,ct)+nt.get(ot+1,ct+1);(ut===4||ut===0)&&at++}return at*_e.N2},et.getPenaltyN3=function(nt){for(var it=nt.size,at=0,ot=0,ct=0,ut=0;ut<it;ut++){ot=ct=0;for(var ft=0;ft<it;ft++)ot=ot<<1&2047|nt.get(ut,ft),ft>=10&&(ot===1488||ot===93)&&at++,ct=ct<<1&2047|nt.get(ft,ut),ft>=10&&(ct===1488||ct===93)&&at++}return at*_e.N3},et.getPenaltyN4=function(nt){for(var it=0,at=nt.data.length,ot=0;ot<at;ot++)it+=nt.data[ot];var ct=Math.abs(Math.ceil(it*100/at/5)-10);return ct*_e.N4};function tt(rt,nt,it){switch(rt){case et.Patterns.PATTERN000:return(nt+it)%2===0;case et.Patterns.PATTERN001:return nt%2===0;case et.Patterns.PATTERN010:return it%3===0;case et.Patterns.PATTERN011:return(nt+it)%3===0;case et.Patterns.PATTERN100:return(Math.floor(nt/2)+Math.floor(it/3))%2===0;case et.Patterns.PATTERN101:return nt*it%2+nt*it%3===0;case et.Patterns.PATTERN110:return(nt*it%2+nt*it%3)%2===0;case et.Patterns.PATTERN111:return(nt*it%3+(nt+it)%2)%2===0;default:throw new Error("bad maskPattern:"+rt)}}et.applyMask=function(nt,it){for(var at=it.size,ot=0;ot<at;ot++)for(var ct=0;ct<at;ct++)it.isReserved(ct,ot)||it.xor(ct,ot,tt(nt,ct,ot))},et.getBestMask=function(nt,it){for(var at=Object.keys(et.Patterns).length,ot=0,ct=1/0,ut=0;ut<at;ut++){it(ut),et.applyMask(ut,nt);var ft=et.getPenaltyN1(nt)+et.getPenaltyN2(nt)+et.getPenaltyN3(nt)+et.getPenaltyN4(nt);et.applyMask(ut,nt),ft<ct&&(ct=ft,ot=ut)}return ot}})(maskPattern);var errorCorrectionCode={},ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function et(_e,tt){switch(tt){case ECLevel$1.L:return EC_BLOCKS_TABLE[(_e-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(_e-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(_e-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(_e-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function et(_e,tt){switch(tt){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(_e-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(_e-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(_e-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(_e-1)*4+3];default:return}};var polynomial={},galoisField={},BufferUtil$3=typedarrayBuffer,EXP_TABLE=BufferUtil$3.alloc(512),LOG_TABLE=BufferUtil$3.alloc(256);(function et(){for(var _e=1,tt=0;tt<255;tt++)EXP_TABLE[tt]=_e,LOG_TABLE[_e]=tt,_e<<=1,_e&256&&(_e^=285);for(tt=255;tt<512;tt++)EXP_TABLE[tt]=EXP_TABLE[tt-255]})();galoisField.log=function et(_e){if(_e<1)throw new Error("log("+_e+")");return LOG_TABLE[_e]};galoisField.exp=function et(_e){return EXP_TABLE[_e]};galoisField.mul=function et(_e,tt){return _e===0||tt===0?0:EXP_TABLE[LOG_TABLE[_e]+LOG_TABLE[tt]]};(function(et){var _e=typedarrayBuffer,tt=galoisField;et.mul=function(nt,it){for(var at=_e.alloc(nt.length+it.length-1),ot=0;ot<nt.length;ot++)for(var ct=0;ct<it.length;ct++)at[ot+ct]^=tt.mul(nt[ot],it[ct]);return at},et.mod=function(nt,it){for(var at=_e.from(nt);at.length-it.length>=0;){for(var ot=at[0],ct=0;ct<it.length;ct++)at[ct]^=tt.mul(it[ct],ot);for(var ut=0;ut<at.length&&at[ut]===0;)ut++;at=at.slice(ut)}return at},et.generateECPolynomial=function(nt){for(var it=_e.from([1]),at=0;at<nt;at++)it=et.mul(it,[1,tt.exp(at)]);return it}})(polynomial);var BufferUtil$2=typedarrayBuffer,Polynomial=polynomial,Buffer$1=buffer$2.Buffer;function ReedSolomonEncoder$1(et){this.genPoly=void 0,this.degree=et,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function et(_e){this.degree=_e,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function et(_e){if(!this.genPoly)throw new Error("Encoder not initialized");var tt=BufferUtil$2.alloc(this.degree),rt=Buffer$1.concat([_e,tt],_e.length+this.degree),nt=Polynomial.mod(rt,this.genPoly),it=this.degree-nt.length;if(it>0){var at=BufferUtil$2.alloc(this.degree);return nt.copy(at,it),at}return nt};var reedSolomonEncoder=ReedSolomonEncoder$1,version={},mode={},versionCheck={};versionCheck.isValid=function et(_e){return!isNaN(_e)&&_e>=1&&_e<=40};var regex={},numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+",kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");var byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");var TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function et(_e){return TEST_KANJI.test(_e)};regex.testNumeric=function et(_e){return TEST_NUMERIC.test(_e)};regex.testAlphanumeric=function et(_e){return TEST_ALPHANUMERIC.test(_e)};(function(et){var _e=versionCheck,tt=regex;et.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},et.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},et.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},et.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},et.MIXED={bit:-1},et.getCharCountIndicator=function(it,at){if(!it.ccBits)throw new Error("Invalid mode: "+it);if(!_e.isValid(at))throw new Error("Invalid version: "+at);return at>=1&&at<10?it.ccBits[0]:at<27?it.ccBits[1]:it.ccBits[2]},et.getBestModeForData=function(it){return tt.testNumeric(it)?et.NUMERIC:tt.testAlphanumeric(it)?et.ALPHANUMERIC:tt.testKanji(it)?et.KANJI:et.BYTE},et.toString=function(it){if(it&&it.id)return it.id;throw new Error("Invalid mode")},et.isValid=function(it){return it&&it.bit&&it.ccBits};function rt(nt){if(typeof nt!="string")throw new Error("Param is not a string");var it=nt.toLowerCase();switch(it){case"numeric":return et.NUMERIC;case"alphanumeric":return et.ALPHANUMERIC;case"kanji":return et.KANJI;case"byte":return et.BYTE;default:throw new Error("Unknown mode: "+nt)}}et.from=function(it,at){if(et.isValid(it))return it;try{return rt(it)}catch{return at}}})(mode);(function(et){var _e=utils$1,tt=errorCorrectionCode,rt=errorCorrectionLevel,nt=mode,it=versionCheck,at=isarray,ot=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,ct=_e.getBCHDigit(ot);function ut(Et,Ct,At){for(var St=1;St<=40;St++)if(Ct<=et.getCapacity(St,At,Et))return St}function ft(Et,Ct){return nt.getCharCountIndicator(Et,Ct)+4}function yt(Et,Ct){var At=0;return Et.forEach(function(St){var Tt=ft(St.mode,Ct);At+=Tt+St.getBitsLength()}),At}function bt(Et,Ct){for(var At=1;At<=40;At++){var St=yt(Et,At);if(St<=et.getCapacity(At,Ct,nt.MIXED))return At}}et.from=function(Ct,At){return it.isValid(Ct)?parseInt(Ct,10):At},et.getCapacity=function(Ct,At,St){if(!it.isValid(Ct))throw new Error("Invalid QR Code version");typeof St>"u"&&(St=nt.BYTE);var Tt=_e.getSymbolTotalCodewords(Ct),$t=tt.getTotalCodewordsCount(Ct,At),kt=(Tt-$t)*8;if(St===nt.MIXED)return kt;var Pt=kt-ft(St,Ct);switch(St){case nt.NUMERIC:return Math.floor(Pt/10*3);case nt.ALPHANUMERIC:return Math.floor(Pt/11*2);case nt.KANJI:return Math.floor(Pt/13);case nt.BYTE:default:return Math.floor(Pt/8)}},et.getBestVersionForData=function(Ct,At){var St,Tt=rt.from(At,rt.M);if(at(Ct)){if(Ct.length>1)return bt(Ct,Tt);if(Ct.length===0)return 1;St=Ct[0]}else St=Ct;return ut(St.mode,St.getLength(),Tt)},et.getEncodedBits=function(Ct){if(!it.isValid(Ct)||Ct<7)throw new Error("Invalid QR Code version");for(var At=Ct<<12;_e.getBCHDigit(At)-ct>=0;)At^=ot<<_e.getBCHDigit(At)-ct;return Ct<<12|At}})(version);var formatInfo={},Utils$3=utils$1,G15=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G15_MASK=1<<14|1<<12|1<<10|1<<4|1<<1,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function et(_e,tt){for(var rt=_e.bit<<3|tt,nt=rt<<10;Utils$3.getBCHDigit(nt)-G15_BCH>=0;)nt^=G15<<Utils$3.getBCHDigit(nt)-G15_BCH;return(rt<<10|nt)^G15_MASK};var segments={},Mode$4=mode;function NumericData(et){this.mode=Mode$4.NUMERIC,this.data=et.toString()}NumericData.getBitsLength=function et(_e){return 10*Math.floor(_e/3)+(_e%3?_e%3*3+1:0)};NumericData.prototype.getLength=function et(){return this.data.length};NumericData.prototype.getBitsLength=function et(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function et(_e){var tt,rt,nt;for(tt=0;tt+3<=this.data.length;tt+=3)rt=this.data.substr(tt,3),nt=parseInt(rt,10),_e.put(nt,10);var it=this.data.length-tt;it>0&&(rt=this.data.substr(tt),nt=parseInt(rt,10),_e.put(nt,it*3+1))};var numericData=NumericData,Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(et){this.mode=Mode$3.ALPHANUMERIC,this.data=et}AlphanumericData.getBitsLength=function et(_e){return 11*Math.floor(_e/2)+6*(_e%2)};AlphanumericData.prototype.getLength=function et(){return this.data.length};AlphanumericData.prototype.getBitsLength=function et(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function et(_e){var tt;for(tt=0;tt+2<=this.data.length;tt+=2){var rt=ALPHA_NUM_CHARS.indexOf(this.data[tt])*45;rt+=ALPHA_NUM_CHARS.indexOf(this.data[tt+1]),_e.put(rt,11)}this.data.length%2&&_e.put(ALPHA_NUM_CHARS.indexOf(this.data[tt]),6)};var alphanumericData=AlphanumericData,BufferUtil$1=typedarrayBuffer,Mode$2=mode;function ByteData(et){this.mode=Mode$2.BYTE,this.data=BufferUtil$1.from(et)}ByteData.getBitsLength=function et(_e){return _e*8};ByteData.prototype.getLength=function et(){return this.data.length};ByteData.prototype.getBitsLength=function et(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(et){for(var _e=0,tt=this.data.length;_e<tt;_e++)et.put(this.data[_e],8)};var byteData=ByteData,Mode$1=mode,Utils$2=utils$1;function KanjiData(et){this.mode=Mode$1.KANJI,this.data=et}KanjiData.getBitsLength=function et(_e){return _e*13};KanjiData.prototype.getLength=function et(){return this.data.length};KanjiData.prototype.getBitsLength=function et(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(et){var _e;for(_e=0;_e<this.data.length;_e++){var tt=Utils$2.toSJIS(this.data[_e]);if(tt>=33088&&tt<=40956)tt-=33088;else if(tt>=57408&&tt<=60351)tt-=49472;else throw new Error("Invalid SJIS character: "+this.data[_e]+`
Make sure your charset is UTF-8`);tt=(tt>>>8&255)*192+(tt&255),et.put(tt,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(et){var _e={single_source_shortest_paths:function(tt,rt,nt){var it={},at={};at[rt]=0;var ot=_e.PriorityQueue.make();ot.push(rt,0);for(var ct,ut,ft,yt,bt,Et,Ct,At,St;!ot.empty();){ct=ot.pop(),ut=ct.value,yt=ct.cost,bt=tt[ut]||{};for(ft in bt)bt.hasOwnProperty(ft)&&(Et=bt[ft],Ct=yt+Et,At=at[ft],St=typeof at[ft]>"u",(St||At>Ct)&&(at[ft]=Ct,ot.push(ft,Ct),it[ft]=ut))}if(typeof nt<"u"&&typeof at[nt]>"u"){var Tt=["Could not find a path from ",rt," to ",nt,"."].join("");throw new Error(Tt)}return it},extract_shortest_path_from_predecessor_list:function(tt,rt){for(var nt=[],it=rt;it;)nt.push(it),tt[it],it=tt[it];return nt.reverse(),nt},find_path:function(tt,rt,nt){var it=_e.single_source_shortest_paths(tt,rt,nt);return _e.extract_shortest_path_from_predecessor_list(it,nt)},PriorityQueue:{make:function(tt){var rt=_e.PriorityQueue,nt={},it;tt=tt||{};for(it in rt)rt.hasOwnProperty(it)&&(nt[it]=rt[it]);return nt.queue=[],nt.sorter=tt.sorter||rt.default_sorter,nt},default_sorter:function(tt,rt){return tt.cost-rt.cost},push:function(tt,rt){var nt={value:tt,cost:rt};this.queue.push(nt),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};et.exports=_e})(dijkstra);(function(et){var _e=mode,tt=numericData,rt=alphanumericData,nt=byteData,it=kanjiData,at=regex,ot=utils$1,ct=dijkstra.exports;function ut(Tt){return unescape(encodeURIComponent(Tt)).length}function ft(Tt,$t,kt){for(var Pt=[],Ot;(Ot=Tt.exec(kt))!==null;)Pt.push({data:Ot[0],index:Ot.index,mode:$t,length:Ot[0].length});return Pt}function yt(Tt){var $t=ft(at.NUMERIC,_e.NUMERIC,Tt),kt=ft(at.ALPHANUMERIC,_e.ALPHANUMERIC,Tt),Pt,Ot;ot.isKanjiModeEnabled()?(Pt=ft(at.BYTE,_e.BYTE,Tt),Ot=ft(at.KANJI,_e.KANJI,Tt)):(Pt=ft(at.BYTE_KANJI,_e.BYTE,Tt),Ot=[]);var Ht=$t.concat(kt,Pt,Ot);return Ht.sort(function(qt,Zt){return qt.index-Zt.index}).map(function(qt){return{data:qt.data,mode:qt.mode,length:qt.length}})}function bt(Tt,$t){switch($t){case _e.NUMERIC:return tt.getBitsLength(Tt);case _e.ALPHANUMERIC:return rt.getBitsLength(Tt);case _e.KANJI:return it.getBitsLength(Tt);case _e.BYTE:return nt.getBitsLength(Tt)}}function Et(Tt){return Tt.reduce(function($t,kt){var Pt=$t.length-1>=0?$t[$t.length-1]:null;return Pt&&Pt.mode===kt.mode?($t[$t.length-1].data+=kt.data,$t):($t.push(kt),$t)},[])}function Ct(Tt){for(var $t=[],kt=0;kt<Tt.length;kt++){var Pt=Tt[kt];switch(Pt.mode){case _e.NUMERIC:$t.push([Pt,{data:Pt.data,mode:_e.ALPHANUMERIC,length:Pt.length},{data:Pt.data,mode:_e.BYTE,length:Pt.length}]);break;case _e.ALPHANUMERIC:$t.push([Pt,{data:Pt.data,mode:_e.BYTE,length:Pt.length}]);break;case _e.KANJI:$t.push([Pt,{data:Pt.data,mode:_e.BYTE,length:ut(Pt.data)}]);break;case _e.BYTE:$t.push([{data:Pt.data,mode:_e.BYTE,length:ut(Pt.data)}])}}return $t}function At(Tt,$t){for(var kt={},Pt={start:{}},Ot=["start"],Ht=0;Ht<Tt.length;Ht++){for(var qt=Tt[Ht],Zt=[],tr=0;tr<qt.length;tr++){var Dt=qt[tr],Rt=""+Ht+tr;Zt.push(Rt),kt[Rt]={node:Dt,lastCount:0},Pt[Rt]={};for(var Nt=0;Nt<Ot.length;Nt++){var ht=Ot[Nt];kt[ht]&&kt[ht].node.mode===Dt.mode?(Pt[ht][Rt]=bt(kt[ht].lastCount+Dt.length,Dt.mode)-bt(kt[ht].lastCount,Dt.mode),kt[ht].lastCount+=Dt.length):(kt[ht]&&(kt[ht].lastCount=Dt.length),Pt[ht][Rt]=bt(Dt.length,Dt.mode)+4+_e.getCharCountIndicator(Dt.mode,$t))}}Ot=Zt}for(Nt=0;Nt<Ot.length;Nt++)Pt[Ot[Nt]].end=0;return{map:Pt,table:kt}}function St(Tt,$t){var kt,Pt=_e.getBestModeForData(Tt);if(kt=_e.from($t,Pt),kt!==_e.BYTE&&kt.bit<Pt.bit)throw new Error('"'+Tt+'" cannot be encoded with mode '+_e.toString(kt)+`.
 Suggested mode is: `+_e.toString(Pt));switch(kt===_e.KANJI&&!ot.isKanjiModeEnabled()&&(kt=_e.BYTE),kt){case _e.NUMERIC:return new tt(Tt);case _e.ALPHANUMERIC:return new rt(Tt);case _e.KANJI:return new it(Tt);case _e.BYTE:return new nt(Tt)}}et.fromArray=function($t){return $t.reduce(function(kt,Pt){return typeof Pt=="string"?kt.push(St(Pt,null)):Pt.data&&kt.push(St(Pt.data,Pt.mode)),kt},[])},et.fromString=function($t,kt){for(var Pt=yt($t,ot.isKanjiModeEnabled()),Ot=Ct(Pt),Ht=At(Ot,kt),qt=ct.find_path(Ht.map,"start","end"),Zt=[],tr=1;tr<qt.length-1;tr++)Zt.push(Ht.table[qt[tr]].node);return et.fromArray(Et(Zt))},et.rawSplit=function($t){return et.fromArray(yt($t,ot.isKanjiModeEnabled()))}})(segments);var BufferUtil=typedarrayBuffer,Utils$1=utils$1,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version,FormatInfo=formatInfo,Mode=mode,Segments=segments,isArray$2=isarray;function setupFinderPattern(et,_e){for(var tt=et.size,rt=FinderPattern.getPositions(_e),nt=0;nt<rt.length;nt++)for(var it=rt[nt][0],at=rt[nt][1],ot=-1;ot<=7;ot++)if(!(it+ot<=-1||tt<=it+ot))for(var ct=-1;ct<=7;ct++)at+ct<=-1||tt<=at+ct||(ot>=0&&ot<=6&&(ct===0||ct===6)||ct>=0&&ct<=6&&(ot===0||ot===6)||ot>=2&&ot<=4&&ct>=2&&ct<=4?et.set(it+ot,at+ct,!0,!0):et.set(it+ot,at+ct,!1,!0))}function setupTimingPattern(et){for(var _e=et.size,tt=8;tt<_e-8;tt++){var rt=tt%2===0;et.set(tt,6,rt,!0),et.set(6,tt,rt,!0)}}function setupAlignmentPattern(et,_e){for(var tt=AlignmentPattern.getPositions(_e),rt=0;rt<tt.length;rt++)for(var nt=tt[rt][0],it=tt[rt][1],at=-2;at<=2;at++)for(var ot=-2;ot<=2;ot++)at===-2||at===2||ot===-2||ot===2||at===0&&ot===0?et.set(nt+at,it+ot,!0,!0):et.set(nt+at,it+ot,!1,!0)}function setupVersionInfo(et,_e){for(var tt=et.size,rt=Version.getEncodedBits(_e),nt,it,at,ot=0;ot<18;ot++)nt=Math.floor(ot/3),it=ot%3+tt-8-3,at=(rt>>ot&1)===1,et.set(nt,it,at,!0),et.set(it,nt,at,!0)}function setupFormatInfo(et,_e,tt){var rt=et.size,nt=FormatInfo.getEncodedBits(_e,tt),it,at;for(it=0;it<15;it++)at=(nt>>it&1)===1,it<6?et.set(it,8,at,!0):it<8?et.set(it+1,8,at,!0):et.set(rt-15+it,8,at,!0),it<8?et.set(8,rt-it-1,at,!0):it<9?et.set(8,15-it-1+1,at,!0):et.set(8,15-it-1,at,!0);et.set(rt-8,8,1,!0)}function setupData(et,_e){for(var tt=et.size,rt=-1,nt=tt-1,it=7,at=0,ot=tt-1;ot>0;ot-=2)for(ot===6&&ot--;;){for(var ct=0;ct<2;ct++)if(!et.isReserved(nt,ot-ct)){var ut=!1;at<_e.length&&(ut=(_e[at]>>>it&1)===1),et.set(nt,ot-ct,ut),it--,it===-1&&(at++,it=7)}if(nt+=rt,nt<0||tt<=nt){nt-=rt,rt=-rt;break}}}function createData(et,_e,tt){var rt=new BitBuffer;tt.forEach(function(ut){rt.put(ut.mode.bit,4),rt.put(ut.getLength(),Mode.getCharCountIndicator(ut.mode,et)),ut.write(rt)});var nt=Utils$1.getSymbolTotalCodewords(et),it=ECCode.getTotalCodewordsCount(et,_e),at=(nt-it)*8;for(rt.getLengthInBits()+4<=at&&rt.put(0,4);rt.getLengthInBits()%8!==0;)rt.putBit(0);for(var ot=(at-rt.getLengthInBits())/8,ct=0;ct<ot;ct++)rt.put(ct%2?17:236,8);return createCodewords(rt,et,_e)}function createCodewords(et,_e,tt){for(var rt=Utils$1.getSymbolTotalCodewords(_e),nt=ECCode.getTotalCodewordsCount(_e,tt),it=rt-nt,at=ECCode.getBlocksCount(_e,tt),ot=rt%at,ct=at-ot,ut=Math.floor(rt/at),ft=Math.floor(it/at),yt=ft+1,bt=ut-ft,Et=new ReedSolomonEncoder(bt),Ct=0,At=new Array(at),St=new Array(at),Tt=0,$t=BufferUtil.from(et.buffer),kt=0;kt<at;kt++){var Pt=kt<ct?ft:yt;At[kt]=$t.slice(Ct,Ct+Pt),St[kt]=Et.encode(At[kt]),Ct+=Pt,Tt=Math.max(Tt,Pt)}var Ot=BufferUtil.alloc(rt),Ht=0,qt,Zt;for(qt=0;qt<Tt;qt++)for(Zt=0;Zt<at;Zt++)qt<At[Zt].length&&(Ot[Ht++]=At[Zt][qt]);for(qt=0;qt<bt;qt++)for(Zt=0;Zt<at;Zt++)Ot[Ht++]=St[Zt][qt];return Ot}function createSymbol(et,_e,tt,rt){var nt;if(isArray$2(et))nt=Segments.fromArray(et);else if(typeof et=="string"){var it=_e;if(!it){var at=Segments.rawSplit(et);it=Version.getBestVersionForData(at,tt)}nt=Segments.fromString(et,it||40)}else throw new Error("Invalid data");var ot=Version.getBestVersionForData(nt,tt);if(!ot)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_e)_e=ot;else if(_e<ot)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ot+`.
`);var ct=createData(_e,tt,nt),ut=Utils$1.getSymbolSize(_e),ft=new BitMatrix(ut);return setupFinderPattern(ft,_e),setupTimingPattern(ft),setupAlignmentPattern(ft,_e),setupFormatInfo(ft,tt,0),_e>=7&&setupVersionInfo(ft,_e),setupData(ft,ct),isNaN(rt)&&(rt=MaskPattern.getBestMask(ft,setupFormatInfo.bind(null,ft,tt))),MaskPattern.applyMask(rt,ft),setupFormatInfo(ft,tt,rt),{modules:ft,version:_e,errorCorrectionLevel:tt,maskPattern:rt,segments:nt}}qrcode.create=function et(_e,tt){if(typeof _e>"u"||_e==="")throw new Error("No input text");var rt=ECLevel.M,nt,it;return typeof tt<"u"&&(rt=ECLevel.from(tt.errorCorrectionLevel,ECLevel.M),nt=Version.from(tt.version),it=MaskPattern.from(tt.maskPattern),tt.toSJISFunc&&Utils$1.setToSJISFunction(tt.toSJISFunc)),createSymbol(_e,nt,rt,it)};var canvas={},utils={};(function(et){function _e(tt){if(typeof tt=="number"&&(tt=tt.toString()),typeof tt!="string")throw new Error("Color should be defined as hex string");var rt=tt.slice().replace("#","").split("");if(rt.length<3||rt.length===5||rt.length>8)throw new Error("Invalid hex color: "+tt);(rt.length===3||rt.length===4)&&(rt=Array.prototype.concat.apply([],rt.map(function(it){return[it,it]}))),rt.length===6&&rt.push("F","F");var nt=parseInt(rt.join(""),16);return{r:nt>>24&255,g:nt>>16&255,b:nt>>8&255,a:nt&255,hex:"#"+rt.slice(0,6).join("")}}et.getOptions=function(rt){rt||(rt={}),rt.color||(rt.color={});var nt=typeof rt.margin>"u"||rt.margin===null||rt.margin<0?4:rt.margin,it=rt.width&&rt.width>=21?rt.width:void 0,at=rt.scale||4;return{width:it,scale:it?4:at,margin:nt,color:{dark:_e(rt.color.dark||"#000000ff"),light:_e(rt.color.light||"#ffffffff")},type:rt.type,rendererOpts:rt.rendererOpts||{}}},et.getScale=function(rt,nt){return nt.width&&nt.width>=rt+nt.margin*2?nt.width/(rt+nt.margin*2):nt.scale},et.getImageWidth=function(rt,nt){var it=et.getScale(rt,nt);return Math.floor((rt+nt.margin*2)*it)},et.qrToImageData=function(rt,nt,it){for(var at=nt.modules.size,ot=nt.modules.data,ct=et.getScale(at,it),ut=Math.floor((at+it.margin*2)*ct),ft=it.margin*ct,yt=[it.color.light,it.color.dark],bt=0;bt<ut;bt++)for(var Et=0;Et<ut;Et++){var Ct=(bt*ut+Et)*4,At=it.color.light;if(bt>=ft&&Et>=ft&&bt<ut-ft&&Et<ut-ft){var St=Math.floor((bt-ft)/ct),Tt=Math.floor((Et-ft)/ct);At=yt[ot[St*at+Tt]?1:0]}rt[Ct++]=At.r,rt[Ct++]=At.g,rt[Ct++]=At.b,rt[Ct]=At.a}}})(utils);(function(et){var _e=utils;function tt(nt,it,at){nt.clearRect(0,0,it.width,it.height),it.style||(it.style={}),it.height=at,it.width=at,it.style.height=at+"px",it.style.width=at+"px"}function rt(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}et.render=function(it,at,ot){var ct=ot,ut=at;typeof ct>"u"&&(!at||!at.getContext)&&(ct=at,at=void 0),at||(ut=rt()),ct=_e.getOptions(ct);var ft=_e.getImageWidth(it.modules.size,ct),yt=ut.getContext("2d"),bt=yt.createImageData(ft,ft);return _e.qrToImageData(bt.data,it,ct),tt(yt,ut,ft),yt.putImageData(bt,0,0),ut},et.renderToDataURL=function(it,at,ot){var ct=ot;typeof ct>"u"&&(!at||!at.getContext)&&(ct=at,at=void 0),ct||(ct={});var ut=et.render(it,at,ct),ft=ct.type||"image/png",yt=ct.rendererOpts||{};return ut.toDataURL(ft,yt.quality)}})(canvas);var svgTag={},Utils=utils;function getColorAttrib(et,_e){var tt=et.a/255,rt=_e+'="'+et.hex+'"';return tt<1?rt+" "+_e+'-opacity="'+tt.toFixed(2).slice(1)+'"':rt}function svgCmd(et,_e,tt){var rt=et+_e;return typeof tt<"u"&&(rt+=" "+tt),rt}function qrToPath(et,_e,tt){for(var rt="",nt=0,it=!1,at=0,ot=0;ot<et.length;ot++){var ct=Math.floor(ot%_e),ut=Math.floor(ot/_e);!ct&&!it&&(it=!0),et[ot]?(at++,ot>0&&ct>0&&et[ot-1]||(rt+=it?svgCmd("M",ct+tt,.5+ut+tt):svgCmd("m",nt,0),nt=0,it=!1),ct+1<_e&&et[ot+1]||(rt+=svgCmd("h",at),at=0)):nt++}return rt}svgTag.render=function et(_e,tt,rt){var nt=Utils.getOptions(tt),it=_e.modules.size,at=_e.modules.data,ot=it+nt.margin*2,ct=nt.color.light.a?"<path "+getColorAttrib(nt.color.light,"fill")+' d="M0 0h'+ot+"v"+ot+'H0z"/>':"",ut="<path "+getColorAttrib(nt.color.dark,"stroke")+' d="'+qrToPath(at,it,nt.margin)+'"/>',ft='viewBox="0 0 '+ot+" "+ot+'"',yt=nt.width?'width="'+nt.width+'" height="'+nt.width+'" ':"",bt='<svg xmlns="http://www.w3.org/2000/svg" '+yt+ft+' shape-rendering="crispEdges">'+ct+ut+`</svg>
`;return typeof rt=="function"&&rt(null,bt),bt};var canPromise=canPromise$1,QRCode$1=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(et,_e,tt,rt,nt){var it=[].slice.call(arguments,1),at=it.length,ot=typeof it[at-1]=="function";if(!ot&&!canPromise())throw new Error("Callback required as last argument");if(ot){if(at<2)throw new Error("Too few arguments provided");at===2?(nt=tt,tt=_e,_e=rt=void 0):at===3&&(_e.getContext&&typeof nt>"u"?(nt=rt,rt=void 0):(nt=rt,rt=tt,tt=_e,_e=void 0))}else{if(at<1)throw new Error("Too few arguments provided");return at===1?(tt=_e,_e=rt=void 0):at===2&&!_e.getContext&&(rt=tt,tt=_e,_e=void 0),new Promise(function(ut,ft){try{var yt=QRCode$1.create(tt,rt);ut(et(yt,_e,rt))}catch(bt){ft(bt)}})}try{var ct=QRCode$1.create(tt,rt);nt(null,et(ct,_e,rt))}catch(ut){nt(ut)}}browser.create=QRCode$1.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(et,_e,tt){return SvgRenderer.render(et,tt)});var toggleSelection=function(){var et=document.getSelection();if(!et.rangeCount)return function(){};for(var _e=document.activeElement,tt=[],rt=0;rt<et.rangeCount;rt++)tt.push(et.getRangeAt(rt));switch(_e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":_e.blur();break;default:_e=null;break}return et.removeAllRanges(),function(){et.type==="Caret"&&et.removeAllRanges(),et.rangeCount||tt.forEach(function(nt){et.addRange(nt)}),_e&&_e.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format(et){var _e=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return et.replace(/#{\s*key\s*}/g,_e)}function copy$2(et,_e){var tt,rt,nt,it,at,ot,ct=!1;_e||(_e={}),tt=_e.debug||!1;try{nt=deselectCurrent(),it=document.createRange(),at=document.getSelection(),ot=document.createElement("span"),ot.textContent=et,ot.ariaHidden="true",ot.style.all="unset",ot.style.position="fixed",ot.style.top=0,ot.style.clip="rect(0, 0, 0, 0)",ot.style.whiteSpace="pre",ot.style.webkitUserSelect="text",ot.style.MozUserSelect="text",ot.style.msUserSelect="text",ot.style.userSelect="text",ot.addEventListener("copy",function(ft){if(ft.stopPropagation(),_e.format)if(ft.preventDefault(),typeof ft.clipboardData>"u"){tt&&console.warn("unable to use e.clipboardData"),tt&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var yt=clipboardToIE11Formatting[_e.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(yt,et)}else ft.clipboardData.clearData(),ft.clipboardData.setData(_e.format,et);_e.onCopy&&(ft.preventDefault(),_e.onCopy(ft.clipboardData))}),document.body.appendChild(ot),it.selectNodeContents(ot),at.addRange(it);var ut=document.execCommand("copy");if(!ut)throw new Error("copy command was unsuccessful");ct=!0}catch(ft){tt&&console.error("unable to copy using execCommand: ",ft),tt&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(_e.format||"text",et),_e.onCopy&&_e.onCopy(window.clipboardData),ct=!0}catch(yt){tt&&console.error("unable to copy using clipboardData: ",yt),tt&&console.error("falling back to prompt"),rt=format("message"in _e?_e.message:defaultMessage),window.prompt(rt,et)}}finally{at&&(typeof at.removeRange=="function"?at.removeRange(it):at.removeAllRanges()),ot&&document.body.removeChild(ot),nt()}return ct}var copyToClipboard=copy$2,n$2,u$2,i$2,t$3,r$3,o$2,f$3,e$3={},c$3=[],s$2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a$2(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function v$2(et){var _e=et.parentNode;_e&&_e.removeChild(et)}function h$3(et,_e,tt){var rt,nt=arguments,it={};for(rt in _e)rt!=="key"&&rt!=="ref"&&(it[rt]=_e[rt]);if(arguments.length>3)for(tt=[tt],rt=3;rt<arguments.length;rt++)tt.push(nt[rt]);if(tt!=null&&(it.children=tt),typeof et=="function"&&et.defaultProps!=null)for(rt in et.defaultProps)it[rt]===void 0&&(it[rt]=et.defaultProps[rt]);return p$3(et,it,_e&&_e.key,_e&&_e.ref,null)}function p$3(et,_e,tt,rt,nt){var it={type:et,props:_e,key:tt,ref:rt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:nt};return nt==null&&(it.__v=it),n$2.vnode&&n$2.vnode(it),it}function y$2(){return{}}function d$2(et){return et.children}function m$2(et,_e){this.props=et,this.context=_e}function w$3(et,_e){if(_e==null)return et.__?w$3(et.__,et.__.__k.indexOf(et)+1):null;for(var tt;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null)return tt.__e;return typeof et.type=="function"?w$3(et):null}function k$2(et){var _e,tt;if((et=et.__)!=null&&et.__c!=null){for(et.__e=et.__c.base=null,_e=0;_e<et.__k.length;_e++)if((tt=et.__k[_e])!=null&&tt.__e!=null){et.__e=et.__c.base=tt.__e;break}return k$2(et)}}function g$3(et){(!et.__d&&(et.__d=!0)&&u$2.push(et)&&!i$2++||r$3!==n$2.debounceRendering)&&((r$3=n$2.debounceRendering)||t$3)(_$2)}function _$2(){for(var et;i$2=u$2.length;)et=u$2.sort(function(_e,tt){return _e.__v.__b-tt.__v.__b}),u$2=[],et.some(function(_e){var tt,rt,nt,it,at,ot,ct;_e.__d&&(ot=(at=(tt=_e).__v).__e,(ct=tt.__P)&&(rt=[],(nt=a$2({},at)).__v=nt,it=A$3(ct,at,nt,tt.__n,ct.ownerSVGElement!==void 0,null,rt,ot==null?w$3(at):ot),T$2(rt,at),it!=ot&&k$2(at)))})}function b$1(et,_e,tt,rt,nt,it,at,ot,ct){var ut,ft,yt,bt,Et,Ct,At,St=tt&&tt.__k||c$3,Tt=St.length;if(ot==e$3&&(ot=it!=null?it[0]:Tt?w$3(tt,0):null),ut=0,_e.__k=x$2(_e.__k,function($t){if($t!=null){if($t.__=_e,$t.__b=_e.__b+1,(yt=St[ut])===null||yt&&$t.key==yt.key&&$t.type===yt.type)St[ut]=void 0;else for(ft=0;ft<Tt;ft++){if((yt=St[ft])&&$t.key==yt.key&&$t.type===yt.type){St[ft]=void 0;break}yt=null}if(bt=A$3(et,$t,yt=yt||e$3,rt,nt,it,at,ot,ct),(ft=$t.ref)&&yt.ref!=ft&&(At||(At=[]),yt.ref&&At.push(yt.ref,null,$t),At.push(ft,$t.__c||bt,$t)),bt!=null){var kt;if(Ct==null&&(Ct=bt),$t.__d!==void 0)kt=$t.__d,$t.__d=void 0;else if(it==yt||bt!=ot||bt.parentNode==null){e:if(ot==null||ot.parentNode!==et)et.appendChild(bt),kt=null;else{for(Et=ot,ft=0;(Et=Et.nextSibling)&&ft<Tt;ft+=2)if(Et==bt)break e;et.insertBefore(bt,ot),kt=ot}_e.type=="option"&&(et.value="")}ot=kt!==void 0?kt:bt.nextSibling,typeof _e.type=="function"&&(_e.__d=ot)}else ot&&yt.__e==ot&&ot.parentNode!=et&&(ot=w$3(yt))}return ut++,$t}),_e.__e=Ct,it!=null&&typeof _e.type!="function")for(ut=it.length;ut--;)it[ut]!=null&&v$2(it[ut]);for(ut=Tt;ut--;)St[ut]!=null&&D$1(St[ut],St[ut]);if(At)for(ut=0;ut<At.length;ut++)j$1(At[ut],At[++ut],At[++ut])}function x$2(et,_e,tt){if(tt==null&&(tt=[]),et==null||typeof et=="boolean")_e&&tt.push(_e(null));else if(Array.isArray(et))for(var rt=0;rt<et.length;rt++)x$2(et[rt],_e,tt);else tt.push(_e?_e(typeof et=="string"||typeof et=="number"?p$3(null,et,null,null,et):et.__e!=null||et.__c!=null?p$3(et.type,et.props,et.key,null,et.__v):et):et);return tt}function P$1(et,_e,tt,rt,nt){var it;for(it in tt)it==="children"||it==="key"||it in _e||N$1(et,it,null,tt[it],rt);for(it in _e)nt&&typeof _e[it]!="function"||it==="children"||it==="key"||it==="value"||it==="checked"||tt[it]===_e[it]||N$1(et,it,_e[it],tt[it],rt)}function C$1(et,_e,tt){_e[0]==="-"?et.setProperty(_e,tt):et[_e]=typeof tt=="number"&&s$2.test(_e)===!1?tt+"px":tt==null?"":tt}function N$1(et,_e,tt,rt,nt){var it,at,ot,ct,ut;if(nt?_e==="className"&&(_e="class"):_e==="class"&&(_e="className"),_e==="style")if(it=et.style,typeof tt=="string")it.cssText=tt;else{if(typeof rt=="string"&&(it.cssText="",rt=null),rt)for(ct in rt)tt&&ct in tt||C$1(it,ct,"");if(tt)for(ut in tt)rt&&tt[ut]===rt[ut]||C$1(it,ut,tt[ut])}else _e[0]==="o"&&_e[1]==="n"?(at=_e!==(_e=_e.replace(/Capture$/,"")),ot=_e.toLowerCase(),_e=(ot in et?ot:_e).slice(2),tt?(rt||et.addEventListener(_e,z$2,at),(et.l||(et.l={}))[_e]=tt):et.removeEventListener(_e,z$2,at)):_e!=="list"&&_e!=="tagName"&&_e!=="form"&&_e!=="type"&&_e!=="size"&&!nt&&_e in et?et[_e]=tt==null?"":tt:typeof tt!="function"&&_e!=="dangerouslySetInnerHTML"&&(_e!==(_e=_e.replace(/^xlink:?/,""))?tt==null||tt===!1?et.removeAttributeNS("http://www.w3.org/1999/xlink",_e.toLowerCase()):et.setAttributeNS("http://www.w3.org/1999/xlink",_e.toLowerCase(),tt):tt==null||tt===!1&&!/^ar/.test(_e)?et.removeAttribute(_e):et.setAttribute(_e,tt))}function z$2(et){this.l[et.type](n$2.event?n$2.event(et):et)}function A$3(et,_e,tt,rt,nt,it,at,ot,ct){var ut,ft,yt,bt,Et,Ct,At,St,Tt,$t,kt=_e.type;if(_e.constructor!==void 0)return null;(ut=n$2.__b)&&ut(_e);try{e:if(typeof kt=="function"){if(St=_e.props,Tt=(ut=kt.contextType)&&rt[ut.__c],$t=ut?Tt?Tt.props.value:ut.__:rt,tt.__c?At=(ft=_e.__c=tt.__c).__=ft.__E:("prototype"in kt&&kt.prototype.render?_e.__c=ft=new kt(St,$t):(_e.__c=ft=new m$2(St,$t),ft.constructor=kt,ft.render=E$2),Tt&&Tt.sub(ft),ft.props=St,ft.state||(ft.state={}),ft.context=$t,ft.__n=rt,yt=ft.__d=!0,ft.__h=[]),ft.__s==null&&(ft.__s=ft.state),kt.getDerivedStateFromProps!=null&&(ft.__s==ft.state&&(ft.__s=a$2({},ft.__s)),a$2(ft.__s,kt.getDerivedStateFromProps(St,ft.__s))),bt=ft.props,Et=ft.state,yt)kt.getDerivedStateFromProps==null&&ft.componentWillMount!=null&&ft.componentWillMount(),ft.componentDidMount!=null&&ft.__h.push(ft.componentDidMount);else{if(kt.getDerivedStateFromProps==null&&St!==bt&&ft.componentWillReceiveProps!=null&&ft.componentWillReceiveProps(St,$t),!ft.__e&&ft.shouldComponentUpdate!=null&&ft.shouldComponentUpdate(St,ft.__s,$t)===!1||_e.__v===tt.__v&&!ft.__){for(ft.props=St,ft.state=ft.__s,_e.__v!==tt.__v&&(ft.__d=!1),ft.__v=_e,_e.__e=tt.__e,_e.__k=tt.__k,ft.__h.length&&at.push(ft),ut=0;ut<_e.__k.length;ut++)_e.__k[ut]&&(_e.__k[ut].__=_e);break e}ft.componentWillUpdate!=null&&ft.componentWillUpdate(St,ft.__s,$t),ft.componentDidUpdate!=null&&ft.__h.push(function(){ft.componentDidUpdate(bt,Et,Ct)})}ft.context=$t,ft.props=St,ft.state=ft.__s,(ut=n$2.__r)&&ut(_e),ft.__d=!1,ft.__v=_e,ft.__P=et,ut=ft.render(ft.props,ft.state,ft.context),_e.__k=ut!=null&&ut.type==d$2&&ut.key==null?ut.props.children:Array.isArray(ut)?ut:[ut],ft.getChildContext!=null&&(rt=a$2(a$2({},rt),ft.getChildContext())),yt||ft.getSnapshotBeforeUpdate==null||(Ct=ft.getSnapshotBeforeUpdate(bt,Et)),b$1(et,_e,tt,rt,nt,it,at,ot,ct),ft.base=_e.__e,ft.__h.length&&at.push(ft),At&&(ft.__E=ft.__=null),ft.__e=!1}else it==null&&_e.__v===tt.__v?(_e.__k=tt.__k,_e.__e=tt.__e):_e.__e=$$1(tt.__e,_e,tt,rt,nt,it,at,ct);(ut=n$2.diffed)&&ut(_e)}catch(Pt){_e.__v=null,n$2.__e(Pt,_e,tt)}return _e.__e}function T$2(et,_e){n$2.__c&&n$2.__c(_e,et),et.some(function(tt){try{et=tt.__h,tt.__h=[],et.some(function(rt){rt.call(tt)})}catch(rt){n$2.__e(rt,tt.__v)}})}function $$1(et,_e,tt,rt,nt,it,at,ot){var ct,ut,ft,yt,bt,Et=tt.props,Ct=_e.props;if(nt=_e.type==="svg"||nt,it!=null){for(ct=0;ct<it.length;ct++)if((ut=it[ct])!=null&&((_e.type===null?ut.nodeType===3:ut.localName===_e.type)||et==ut)){et=ut,it[ct]=null;break}}if(et==null){if(_e.type===null)return document.createTextNode(Ct);et=nt?document.createElementNS("http://www.w3.org/2000/svg",_e.type):document.createElement(_e.type,Ct.is&&{is:Ct.is}),it=null,ot=!1}if(_e.type===null)Et!==Ct&&et.data!=Ct&&(et.data=Ct);else{if(it!=null&&(it=c$3.slice.call(et.childNodes)),ft=(Et=tt.props||e$3).dangerouslySetInnerHTML,yt=Ct.dangerouslySetInnerHTML,!ot){if(Et===e$3)for(Et={},bt=0;bt<et.attributes.length;bt++)Et[et.attributes[bt].name]=et.attributes[bt].value;(yt||ft)&&(yt&&ft&&yt.__html==ft.__html||(et.innerHTML=yt&&yt.__html||""))}P$1(et,Ct,Et,nt,ot),yt?_e.__k=[]:(_e.__k=_e.props.children,b$1(et,_e,tt,rt,_e.type!=="foreignObject"&&nt,it,at,e$3,ot)),ot||("value"in Ct&&(ct=Ct.value)!==void 0&&ct!==et.value&&N$1(et,"value",ct,Et.value,!1),"checked"in Ct&&(ct=Ct.checked)!==void 0&&ct!==et.checked&&N$1(et,"checked",ct,Et.checked,!1))}return et}function j$1(et,_e,tt){try{typeof et=="function"?et(_e):et.current=_e}catch(rt){n$2.__e(rt,tt)}}function D$1(et,_e,tt){var rt,nt,it;if(n$2.unmount&&n$2.unmount(et),(rt=et.ref)&&(rt.current&&rt.current!==et.__e||j$1(rt,null,_e)),tt||typeof et.type=="function"||(tt=(nt=et.__e)!=null),et.__e=et.__d=void 0,(rt=et.__c)!=null){if(rt.componentWillUnmount)try{rt.componentWillUnmount()}catch(at){n$2.__e(at,_e)}rt.base=rt.__P=null}if(rt=et.__k)for(it=0;it<rt.length;it++)rt[it]&&D$1(rt[it],_e,tt);nt!=null&&v$2(nt)}function E$2(et,_e,tt){return this.constructor(et,tt)}function H$1(et,_e,tt){var rt,nt,it;n$2.__&&n$2.__(et,_e),nt=(rt=tt===o$2)?null:tt&&tt.__k||_e.__k,et=h$3(d$2,null,[et]),it=[],A$3(_e,(rt?_e:tt||_e).__k=et,nt||e$3,e$3,_e.ownerSVGElement!==void 0,tt&&!rt?[tt]:nt?null:c$3.slice.call(_e.childNodes),it,tt||e$3,rt),T$2(it,et)}function I$1(et,_e){H$1(et,_e,o$2)}function L$1(et,_e){var tt,rt;for(rt in _e=a$2(a$2({},et.props),_e),arguments.length>2&&(_e.children=c$3.slice.call(arguments,2)),tt={},_e)rt!=="key"&&rt!=="ref"&&(tt[rt]=_e[rt]);return p$3(et.type,tt,_e.key||et.key,_e.ref||et.ref,null)}function M$1(et){var _e={},tt={__c:"__cC"+f$3++,__:et,Consumer:function(rt,nt){return rt.children(nt)},Provider:function(rt){var nt,it=this;return this.getChildContext||(nt=[],this.getChildContext=function(){return _e[tt.__c]=it,_e},this.shouldComponentUpdate=function(at){it.props.value!==at.value&&nt.some(function(ot){ot.context=at.value,g$3(ot)})},this.sub=function(at){nt.push(at);var ot=at.componentWillUnmount;at.componentWillUnmount=function(){nt.splice(nt.indexOf(at),1),ot&&ot.call(at)}}),rt.children}};return tt.Consumer.contextType=tt,tt.Provider.__=tt,tt}n$2={__e:function(et,_e){for(var tt,rt;_e=_e.__;)if((tt=_e.__c)&&!tt.__)try{if(tt.constructor&&tt.constructor.getDerivedStateFromError!=null&&(rt=!0,tt.setState(tt.constructor.getDerivedStateFromError(et))),tt.componentDidCatch!=null&&(rt=!0,tt.componentDidCatch(et)),rt)return g$3(tt.__E=tt)}catch(nt){et=nt}throw et}},m$2.prototype.setState=function(et,_e){var tt;tt=this.__s!==this.state?this.__s:this.__s=a$2({},this.state),typeof et=="function"&&(et=et(tt,this.props)),et&&a$2(tt,et),et!=null&&this.__v&&(_e&&this.__h.push(_e),g$3(this))},m$2.prototype.forceUpdate=function(et){this.__v&&(this.__e=!0,et&&this.__h.push(et),g$3(this))},m$2.prototype.render=d$2,u$2=[],i$2=0,t$3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,o$2=e$3,f$3=0;var t$2,u$1,r$2,i$1=0,o$1=[],c$2=n$2.__r,f$2=n$2.diffed,e$2=n$2.__c,a$1=n$2.unmount;function v$1(et,_e){n$2.__h&&n$2.__h(u$1,et,i$1||_e),i$1=0;var tt=u$1.__H||(u$1.__H={__:[],__h:[]});return et>=tt.__.length&&tt.__.push({}),tt.__[et]}function m$1(et){return i$1=1,p$2(E$1,et)}function p$2(et,_e,tt){var rt=v$1(t$2++,2);return rt.__c||(rt.__c=u$1,rt.__=[tt?tt(_e):E$1(void 0,_e),function(nt){var it=et(rt.__[0],nt);rt.__[0]!==it&&(rt.__[0]=it,rt.__c.setState({}))}]),rt.__}function l$2(et,_e){var tt=v$1(t$2++,3);!n$2.__s&&x$1(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u$1.__H.__h.push(tt))}function y$1(et,_e){var tt=v$1(t$2++,4);!n$2.__s&&x$1(tt.__H,_e)&&(tt.__=et,tt.__H=_e,u$1.__h.push(tt))}function d$1(et){return i$1=5,h$2(function(){return{current:et}},[])}function s$1(et,_e,tt){i$1=6,y$1(function(){typeof et=="function"?et(_e()):et&&(et.current=_e())},tt==null?tt:tt.concat(et))}function h$2(et,_e){var tt=v$1(t$2++,7);return x$1(tt.__H,_e)?(tt.__H=_e,tt.__h=et,tt.__=et()):tt.__}function T$1(et,_e){return i$1=8,h$2(function(){return et},_e)}function w$2(et){var _e=u$1.context[et.__c],tt=v$1(t$2++,9);return tt.__c=et,_e?(tt.__==null&&(tt.__=!0,_e.sub(u$1)),_e.props.value):et.__}function A$2(et,_e){n$2.useDebugValue&&n$2.useDebugValue(_e?_e(et):et)}function F$1(et){var _e=v$1(t$2++,10),tt=m$1();return _e.__=et,u$1.componentDidCatch||(u$1.componentDidCatch=function(rt){_e.__&&_e.__(rt),tt[1](rt)}),[tt[0],function(){tt[1](void 0)}]}function _$1(){o$1.some(function(et){if(et.__P)try{et.__H.__h.forEach(g$2),et.__H.__h.forEach(q$2),et.__H.__h=[]}catch(_e){return et.__H.__h=[],n$2.__e(_e,et.__v),!0}}),o$1=[]}function g$2(et){et.t&&et.t()}function q$2(et){var _e=et.__();typeof _e=="function"&&(et.t=_e)}function x$1(et,_e){return!et||_e.some(function(tt,rt){return tt!==et[rt]})}function E$1(et,_e){return typeof _e=="function"?_e(et):_e}n$2.__r=function(et){c$2&&c$2(et),t$2=0,(u$1=et.__c).__H&&(u$1.__H.__h.forEach(g$2),u$1.__H.__h.forEach(q$2),u$1.__H.__h=[])},n$2.diffed=function(et){f$2&&f$2(et);var _e=et.__c;if(_e){var tt=_e.__H;tt&&tt.__h.length&&(o$1.push(_e)!==1&&r$2===n$2.requestAnimationFrame||((r$2=n$2.requestAnimationFrame)||function(rt){var nt,it=function(){clearTimeout(at),cancelAnimationFrame(nt),setTimeout(rt)},at=setTimeout(it,100);typeof window<"u"&&(nt=requestAnimationFrame(it))})(_$1))}},n$2.__c=function(et,_e){_e.some(function(tt){try{tt.__h.forEach(g$2),tt.__h=tt.__h.filter(function(rt){return!rt.__||q$2(rt)})}catch(rt){_e.some(function(nt){nt.__h&&(nt.__h=[])}),_e=[],n$2.__e(rt,tt.__v)}}),e$2&&e$2(et,_e)},n$2.unmount=function(et){a$1&&a$1(et);var _e=et.__c;if(_e){var tt=_e.__H;if(tt)try{tt.__.forEach(function(rt){return rt.t&&rt.t()})}catch(rt){n$2.__e(rt,_e.__v)}}};function E(et,_e){for(var tt in _e)et[tt]=_e[tt];return et}function w$1(et,_e){for(var tt in et)if(tt!=="__source"&&!(tt in _e))return!0;for(var rt in _e)if(rt!=="__source"&&et[rt]!==_e[rt])return!0;return!1}var C=function(et){var _e,tt;function rt(nt){var it;return(it=et.call(this,nt)||this).isPureReactComponent=!0,it}return tt=et,(_e=rt).prototype=Object.create(tt.prototype),_e.prototype.constructor=_e,_e.__proto__=tt,rt.prototype.shouldComponentUpdate=function(nt,it){return w$1(this.props,nt)||w$1(this.state,it)},rt}(m$2);function _(et,_e){function tt(nt){var it=this.props.ref,at=it==nt.ref;return!at&&it&&(it.call?it(null):it.current=null),_e?!_e(this.props,nt)||!at:w$1(this.props,nt)}function rt(nt){return this.shouldComponentUpdate=tt,h$3(et,E({},nt))}return rt.prototype.isReactComponent=!0,rt.displayName="Memo("+(et.displayName||et.name)+")",rt.t=!0,rt}var A$1=n$2.__b;function S(et){function _e(tt){var rt=E({},tt);return delete rt.ref,et(rt,tt.ref)}return _e.prototype.isReactComponent=_e.t=!0,_e.displayName="ForwardRef("+(et.displayName||et.name)+")",_e}n$2.__b=function(et){et.type&&et.type.t&&et.ref&&(et.props.ref=et.ref,et.ref=null),A$1&&A$1(et)};var k$1=function(et,_e){return et?x$2(et).reduce(function(tt,rt,nt){return tt.concat(_e(rt,nt))},[]):null},R={map:k$1,forEach:k$1,count:function(et){return et?x$2(et).length:0},only:function(et){if((et=x$2(et)).length!==1)throw new Error("Children.only() expects only one child.");return et[0]},toArray:x$2},F=n$2.__e;function N(et){return et&&((et=E({},et)).__c=null,et.__k=et.__k&&et.__k.map(N)),et}function U(){this.__u=0,this.o=null,this.__b=null}function M(et){var _e=et.__.__c;return _e&&_e.u&&_e.u(et)}function L(et){var _e,tt,rt;function nt(it){if(_e||(_e=et()).then(function(at){tt=at.default||at},function(at){rt=at}),rt)throw rt;if(!tt)throw _e;return h$3(tt,it)}return nt.displayName="Lazy",nt.t=!0,nt}function O(){this.i=null,this.l=null}n$2.__e=function(et,_e,tt){if(et.then){for(var rt,nt=_e;nt=nt.__;)if((rt=nt.__c)&&rt.__c)return rt.__c(et,_e.__c)}F(et,_e,tt)},(U.prototype=new m$2).__c=function(et,_e){var tt=this;tt.o==null&&(tt.o=[]),tt.o.push(_e);var rt=M(tt.__v),nt=!1,it=function(){nt||(nt=!0,rt?rt(at):at())};_e.__c=_e.componentWillUnmount,_e.componentWillUnmount=function(){it(),_e.__c&&_e.__c()};var at=function(){var ot;if(!--tt.__u)for(tt.__v.__k[0]=tt.state.u,tt.setState({u:tt.__b=null});ot=tt.o.pop();)ot.forceUpdate()};tt.__u++||tt.setState({u:tt.__b=tt.__v.__k[0]}),et.then(it,it)},U.prototype.render=function(et,_e){return this.__b&&(this.__v.__k[0]=N(this.__b),this.__b=null),[h$3(m$2,null,_e.u?null:et.children),_e.u&&et.fallback]};var P=function(et,_e,tt){if(++tt[1]===tt[0]&&et.l.delete(_e),et.props.revealOrder&&(et.props.revealOrder[0]!=="t"||!et.l.size))for(tt=et.i;tt;){for(;tt.length>3;)tt.pop()();if(tt[1]<tt[0])break;et.i=tt=tt[2]}};(O.prototype=new m$2).u=function(et){var _e=this,tt=M(_e.__v),rt=_e.l.get(et);return rt[0]++,function(nt){var it=function(){_e.props.revealOrder?(rt.push(nt),P(_e,et,rt)):nt()};tt?tt(it):it()}},O.prototype.render=function(et){this.i=null,this.l=new Map;var _e=x$2(et.children);et.revealOrder&&et.revealOrder[0]==="b"&&_e.reverse();for(var tt=_e.length;tt--;)this.l.set(_e[tt],this.i=[1,0,this.i]);return et.children},O.prototype.componentDidUpdate=O.prototype.componentDidMount=function(){var et=this;et.l.forEach(function(_e,tt){P(et,tt,_e)})};var W=function(){function et(){}var _e=et.prototype;return _e.getChildContext=function(){return this.props.context},_e.render=function(tt){return tt.children},et}();function j(et){var _e=this,tt=et.container,rt=h$3(W,{context:_e.context},et.vnode);return _e.s&&_e.s!==tt&&(_e.v.parentNode&&_e.s.removeChild(_e.v),D$1(_e.h),_e.p=!1),et.vnode?_e.p?(tt.__k=_e.__k,H$1(rt,tt),_e.__k=tt.__k):(_e.v=document.createTextNode(""),I$1("",tt),tt.appendChild(_e.v),_e.p=!0,_e.s=tt,H$1(rt,tt,_e.v),_e.__k=_e.v.__k):_e.p&&(_e.v.parentNode&&_e.s.removeChild(_e.v),D$1(_e.h)),_e.h=rt,_e.componentWillUnmount=function(){_e.v.parentNode&&_e.s.removeChild(_e.v),D$1(_e.h)},null}function z$1(et,_e){return h$3(j,{vnode:et,container:_e})}var D=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;m$2.prototype.isReactComponent={};var H=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function T(et,_e,tt){if(_e.__k==null)for(;_e.firstChild;)_e.removeChild(_e.firstChild);return H$1(et,_e),typeof tt=="function"&&tt(),et?et.__c:null}function V(et,_e,tt){return I$1(et,_e),typeof tt=="function"&&tt(),et?et.__c:null}var Z=n$2.event;function I(et,_e){et["UNSAFE_"+_e]&&!et[_e]&&Object.defineProperty(et,_e,{configurable:!1,get:function(){return this["UNSAFE_"+_e]},set:function(tt){this["UNSAFE_"+_e]=tt}})}n$2.event=function(et){Z&&(et=Z(et)),et.persist=function(){};var _e=!1,tt=!1,rt=et.stopPropagation;et.stopPropagation=function(){rt.call(et),_e=!0};var nt=et.preventDefault;return et.preventDefault=function(){nt.call(et),tt=!0},et.isPropagationStopped=function(){return _e},et.isDefaultPrevented=function(){return tt},et.nativeEvent=et};var $={configurable:!0,get:function(){return this.class}},q$1=n$2.vnode;n$2.vnode=function(et){et.$$typeof=H;var _e=et.type,tt=et.props;if(_e){if(tt.class!=tt.className&&($.enumerable="className"in tt,tt.className!=null&&(tt.class=tt.className),Object.defineProperty(tt,"className",$)),typeof _e!="function"){var rt,nt,it;for(it in tt.defaultValue&&tt.value!==void 0&&(tt.value||tt.value===0||(tt.value=tt.defaultValue),delete tt.defaultValue),Array.isArray(tt.value)&&tt.multiple&&_e==="select"&&(x$2(tt.children).forEach(function(at){tt.value.indexOf(at.props.value)!=-1&&(at.props.selected=!0)}),delete tt.value),tt)if(rt=D.test(it))break;if(rt)for(it in nt=et.props={},tt)nt[D.test(it)?it.replace(/[A-Z0-9]/,"-$&").toLowerCase():it]=tt[it]}(function(at){var ot=et.type,ct=et.props;if(ct&&typeof ot=="string"){var ut={};for(var ft in ct)/^on(Ani|Tra|Tou)/.test(ft)&&(ct[ft.toLowerCase()]=ct[ft],delete ct[ft]),ut[ft.toLowerCase()]=ft;if(ut.ondoubleclick&&(ct.ondblclick=ct[ut.ondoubleclick],delete ct[ut.ondoubleclick]),ut.onbeforeinput&&(ct.onbeforeinput=ct[ut.onbeforeinput],delete ct[ut.onbeforeinput]),ut.onchange&&(ot==="textarea"||ot.toLowerCase()==="input"&&!/^fil|che|ra/i.test(ct.type))){var yt=ut.oninput||"oninput";ct[yt]||(ct[yt]=ct[ut.onchange],delete ct[ut.onchange])}}})(),typeof _e=="function"&&!_e.m&&_e.prototype&&(I(_e.prototype,"componentWillMount"),I(_e.prototype,"componentWillReceiveProps"),I(_e.prototype,"componentWillUpdate"),_e.m=!0)}q$1&&q$1(et)};var B="16.8.0";function G(et){return h$3.bind(null,et)}function J(et){return!!et&&et.$$typeof===H}function K(et){return J(et)?L$1.apply(null,arguments):et}function Q(et){return!!et.__k&&(H$1(null,et),!0)}function X(et){return et&&(et.base||et.nodeType===1&&et)||null}var Y=function(et,_e){return et(_e)};const compat_module={useState:m$1,useReducer:p$2,useEffect:l$2,useLayoutEffect:y$1,useRef:d$1,useImperativeHandle:s$1,useMemo:h$2,useCallback:T$1,useContext:w$2,useDebugValue:A$2,version:"16.8.0",Children:R,render:T,hydrate:T,unmountComponentAtNode:Q,createPortal:z$1,createElement:h$3,createContext:M$1,createFactory:G,cloneElement:K,createRef:y$2,Fragment:d$2,isValidElement:J,findDOMNode:X,Component:m$2,PureComponent:C,memo:_,forwardRef:S,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O,lazy:L},compat_module$1=Object.freeze(Object.defineProperty({__proto__:null,default:compat_module,version:B,Children:R,render:T,hydrate:V,unmountComponentAtNode:Q,createPortal:z$1,createFactory:G,cloneElement:K,isValidElement:J,findDOMNode:X,PureComponent:C,memo:_,forwardRef:S,unstable_batchedUpdates:Y,Suspense:U,SuspenseList:O,lazy:L,createElement:h$3,createContext:M$1,createRef:y$2,Fragment:d$2,Component:m$2,useState:m$1,useReducer:p$2,useEffect:l$2,useLayoutEffect:y$1,useRef:d$1,useImperativeHandle:s$1,useMemo:h$2,useCallback:T$1,useContext:w$2,useDebugValue:A$2,useErrorBoundary:F$1},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(compat_module$1);function _interopDefault(et){return et&&typeof et=="object"&&"default"in et?et.default:et}var browserUtils=require$$0$1,QRCode=_interopDefault(browser),copy$1=_interopDefault(copyToClipboard),React=require$$3;function open(et){QRCode.toString(et,{type:"terminal"}).then(console.log)}var WALLETCONNECT_STYLE_SHEET=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function _catch(et,_e){try{var tt=et()}catch(rt){return _e(rt)}return tt&&tt.then?tt.then(void 0,_e):tt}var WALLETCONNECT_LOGO_SVG_URL="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",WALLETCONNECT_HEADER_TEXT="WalletConnect",ANIMATION_DURATION=300,DEFAULT_BUTTON_COLOR="rgb(64, 153, 255)",WALLETCONNECT_WRAPPER_ID="walletconnect-wrapper",WALLETCONNECT_STYLE_ID="walletconnect-style-sheet",WALLETCONNECT_MODAL_ID="walletconnect-qrcode-modal",WALLETCONNECT_CLOSE_BUTTON_ID="walletconnect-qrcode-close",WALLETCONNECT_CTA_TEXT_ID="walletconnect-qrcode-text",WALLETCONNECT_CONNECT_BUTTON_ID="walletconnect-connect-button";function Header(et){return React.createElement("div",{className:"walletconnect-modal__header"},React.createElement("img",{src:WALLETCONNECT_LOGO_SVG_URL,className:"walletconnect-modal__headerLogo"}),React.createElement("p",null,WALLETCONNECT_HEADER_TEXT),React.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:et.onClose},React.createElement("div",{id:WALLETCONNECT_CLOSE_BUTTON_ID,className:"walletconnect-modal__close__icon"},React.createElement("div",{className:"walletconnect-modal__close__line1"}),React.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function ConnectButton(et){return React.createElement("a",{className:"walletconnect-connect__button",href:et.href,id:WALLETCONNECT_CONNECT_BUTTON_ID+"-"+et.name,onClick:et.onClick,rel:"noopener noreferrer",style:{backgroundColor:et.color},target:"_blank"},et.name)}var CARET_SVG_URL="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function WalletButton(et){var _e=et.color,tt=et.href,rt=et.name,nt=et.logo,it=et.onClick;return React.createElement("a",{className:"walletconnect-modal__base__row",href:tt,onClick:it,rel:"noopener noreferrer",target:"_blank"},React.createElement("h3",{className:"walletconnect-modal__base__row__h3"},rt),React.createElement("div",{className:"walletconnect-modal__base__row__right"},React.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+nt+"') "+_e,backgroundSize:"100%"}}),React.createElement("img",{src:CARET_SVG_URL,className:"walletconnect-modal__base__row__right__caret"})))}function WalletIcon(et){var _e=et.color,tt=et.href,rt=et.name,nt=et.logo,it=et.onClick,at=window.innerWidth<768?(rt.length>8?2.5:2.7)+"vw":"inherit";return React.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:tt,onClick:it,rel:"noopener noreferrer",target:"_blank"},React.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+nt+"') "+_e,backgroundSize:"100%"}}),React.createElement("div",{style:{fontSize:at},className:"walletconnect-connect__button__text"},rt))}var GRID_MIN_COUNT=5,LINKS_PER_PAGE=12;function LinkDisplay(et){var _e=browserUtils.isAndroid(),tt=React.useState(""),rt=tt[0],nt=tt[1],it=React.useState(""),at=it[0],ot=it[1],ct=React.useState(1),ut=ct[0],ft=ct[1],yt=at?et.links.filter(function(Pt){return Pt.name.toLowerCase().includes(at.toLowerCase())}):et.links,bt=et.errorMessage,Et=at||yt.length>GRID_MIN_COUNT,Ct=Math.ceil(yt.length/LINKS_PER_PAGE),At=[(ut-1)*LINKS_PER_PAGE+1,ut*LINKS_PER_PAGE],St=yt.length?yt.filter(function(Pt,Ot){return Ot+1>=At[0]&&Ot+1<=At[1]}):[],Tt=!_e&&Ct>1,$t=void 0;function kt(Pt){nt(Pt.target.value),clearTimeout($t),Pt.target.value?$t=setTimeout(function(){ot(Pt.target.value),ft(1)},1e3):(nt(""),ot(""),ft(1))}return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},_e?et.text.connect_mobile_wallet:et.text.choose_preferred_wallet),!_e&&React.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:rt,onChange:kt}),React.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(_e?"__android":Et&&yt.length?"__wrap":"")},_e?React.createElement(ConnectButton,{name:et.text.connect,color:DEFAULT_BUTTON_COLOR,href:et.uri,onClick:React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:"Unknown",href:et.uri})},[])}):St.length?St.map(function(Pt){var Ot=Pt.color,Ht=Pt.name,qt=Pt.shortName,Zt=Pt.logo,tr=browserUtils.formatIOSMobile(et.uri,Pt),Dt=React.useCallback(function(){browserUtils.saveMobileLinkInfo({name:Ht,href:tr})},[St]);return Et?React.createElement(WalletIcon,{color:Ot,href:tr,name:qt||Ht,logo:Zt,onClick:Dt}):React.createElement(WalletButton,{color:Ot,href:tr,name:Ht,logo:Zt,onClick:Dt})}):React.createElement(React.Fragment,null,React.createElement("p",null,bt.length?et.errorMessage:!!et.links.length&&!yt.length?et.text.no_wallets_found:et.text.loading))),Tt&&React.createElement("div",{className:"walletconnect-modal__footer"},Array(Ct).fill(0).map(function(Pt,Ot){var Ht=Ot+1,qt=ut===Ht;return React.createElement("a",{style:{margin:"auto 10px",fontWeight:qt?"bold":"normal"},onClick:function(){return ft(Ht)}},Ht)})))}function Notification(et){var _e=!!et.message.trim();return React.createElement("div",{className:"walletconnect-qrcode__notification"+(_e?" notification__show":"")},et.message)}var formatQRCodeImage=function(et){try{var _e="";return Promise.resolve(QRCode.toString(et,{margin:0,type:"svg"})).then(function(tt){return typeof tt=="string"&&(_e=tt.replace("<svg",'<svg class="walletconnect-qrcode__image"')),_e})}catch(tt){return Promise.reject(tt)}};function QRCodeDisplay(et){var _e=React.useState(""),tt=_e[0],rt=_e[1],nt=React.useState(""),it=nt[0],at=nt[1];React.useEffect(function(){try{return Promise.resolve(formatQRCodeImage(et.uri)).then(function(ct){at(ct)})}catch(ct){Promise.reject(ct)}},[]);var ot=function(){var ct=copy$1(et.uri);ct?(rt(et.text.copied_to_clipboard),setInterval(function(){return rt("")},1200)):(rt("Error"),setInterval(function(){return rt("")},1200))};return React.createElement("div",null,React.createElement("p",{id:WALLETCONNECT_CTA_TEXT_ID,className:"walletconnect-qrcode__text"},et.text.scan_qrcode_with_wallet),React.createElement("div",{dangerouslySetInnerHTML:{__html:it}}),React.createElement("div",{className:"walletconnect-modal__footer"},React.createElement("a",{onClick:ot},et.text.copy_to_clipboard)),React.createElement(Notification,{message:tt}))}function Modal(et){var _e=browserUtils.isAndroid(),tt=browserUtils.isMobile(),rt=tt?et.qrcodeModalOptions&&et.qrcodeModalOptions.mobileLinks?et.qrcodeModalOptions.mobileLinks:void 0:et.qrcodeModalOptions&&et.qrcodeModalOptions.desktopLinks?et.qrcodeModalOptions.desktopLinks:void 0,nt=React.useState(!1),it=nt[0],at=nt[1],ot=React.useState(!1),ct=ot[0],ut=ot[1],ft=React.useState(!tt),yt=ft[0],bt=ft[1],Et={mobile:tt,text:et.text,uri:et.uri,qrcodeModalOptions:et.qrcodeModalOptions},Ct=React.useState(""),At=Ct[0],St=Ct[1],Tt=React.useState(!1),$t=Tt[0],kt=Tt[1],Pt=React.useState([]),Ot=Pt[0],Ht=Pt[1],qt=React.useState(""),Zt=qt[0],tr=qt[1],Dt=function(){ct||it||rt&&!rt.length||Ot.length>0||React.useEffect(function(){var Nt=function(){try{if(_e)return Promise.resolve();at(!0);var ht=_catch(function(){var st=et.qrcodeModalOptions&&et.qrcodeModalOptions.registryUrl?et.qrcodeModalOptions.registryUrl:browserUtils.getWalletRegistryUrl();return Promise.resolve(fetch(st)).then(function(dt){return Promise.resolve(dt.json()).then(function(mt){var _t=mt.listings,xt=tt?"mobile":"desktop",vt=browserUtils.getMobileLinkRegistry(browserUtils.formatMobileRegistry(_t,xt),rt);at(!1),ut(!0),tr(vt.length?"":et.text.no_supported_wallets),Ht(vt);var Mt=vt.length===1;Mt&&(St(browserUtils.formatIOSMobile(et.uri,vt[0])),bt(!0)),kt(Mt)})})},function(st){at(!1),ut(!0),tr(et.text.something_went_wrong),console.error(st)});return Promise.resolve(ht&&ht.then?ht.then(function(){}):void 0)}catch(st){return Promise.reject(st)}};Nt()})};Dt();var Rt=tt?yt:!yt;return React.createElement("div",{id:WALLETCONNECT_MODAL_ID,className:"walletconnect-qrcode__base animated fadeIn"},React.createElement("div",{className:"walletconnect-modal__base"},React.createElement(Header,{onClose:et.onClose}),$t&&yt?React.createElement("div",{className:"walletconnect-modal__single_wallet"},React.createElement("a",{onClick:function(){return browserUtils.saveMobileLinkInfo({name:Ot[0].name,href:At})},href:At,rel:"noopener noreferrer",target:"_blank"},et.text.connect_with+" "+($t?Ot[0].name:"")+" \u203A")):_e||it||!it&&Ot.length?React.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(Rt?" right__selected":"")},React.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),tt?React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return bt(!1),Dt()}},et.text.mobile),React.createElement("a",{onClick:function(){return bt(!0)}},et.text.qrcode)):React.createElement(React.Fragment,null,React.createElement("a",{onClick:function(){return bt(!0)}},et.text.qrcode),React.createElement("a",{onClick:function(){return bt(!1),Dt()}},et.text.desktop))):null,React.createElement("div",null,yt||!_e&&!it&&!Ot.length?React.createElement(QRCodeDisplay,Object.assign({},Et)):React.createElement(LinkDisplay,Object.assign({},Et,{links:Ot,errorMessage:Zt})))))}var de={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},en={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},ko={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},pt$2={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},fa={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},languages={de,en,es,fr,ko,pt:pt$2,zh,fa};function injectStyleSheet(){var et=browserUtils.getDocumentOrThrow(),_e=et.getElementById(WALLETCONNECT_STYLE_ID);_e&&et.head.removeChild(_e);var tt=et.createElement("style");tt.setAttribute("id",WALLETCONNECT_STYLE_ID),tt.innerText=WALLETCONNECT_STYLE_SHEET,et.head.appendChild(tt)}function renderWrapper(){var et=browserUtils.getDocumentOrThrow(),_e=et.createElement("div");return _e.setAttribute("id",WALLETCONNECT_WRAPPER_ID),et.body.appendChild(_e),_e}function triggerCloseAnimation(){var et=browserUtils.getDocumentOrThrow(),_e=et.getElementById(WALLETCONNECT_MODAL_ID);_e&&(_e.className=_e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var tt=et.getElementById(WALLETCONNECT_WRAPPER_ID);tt&&et.body.removeChild(tt)},ANIMATION_DURATION))}function getWrappedCallback(et){return function(){triggerCloseAnimation(),et&&et()}}function getText(){var et=browserUtils.getNavigatorOrThrow().language.split("-")[0]||"en";return languages[et]||languages.en}function open$1(et,_e,tt){injectStyleSheet();var rt=renderWrapper();React.render(React.createElement(Modal,{text:getText(),uri:et,onClose:getWrappedCallback(_e),qrcodeModalOptions:tt}),rt)}function close$1(){triggerCloseAnimation()}var isNode$1=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function open$2(et,_e,tt){console.log(et),isNode$1()?open(et):open$1(et,_e,tt)}function close$2(){isNode$1()||close$1()}var index={open:open$2,close:close$2},cjs=index;class SignerConnection extends IJsonRpcConnection{constructor(_e){super(),this.events=new EventEmitter$2,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=_e,this.chainId=(_e==null?void 0:_e.chainId)||this.chainId,this.wc=this.register(_e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}off(_e,tt){this.events.off(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}async open(_e){if(this.connected){this.onOpen();return}return new Promise((tt,rt)=>{this.on("error",nt=>{rt(nt)}),this.on("open",()=>{tt()}),this.create(_e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(_e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(_e).then(tt=>this.events.emit("payload",tt)).catch(tt=>this.events.emit("payload",formatJsonRpcError(_e.id,tt.message)))}register(_e){if(this.wc)return this.wc;this.opts=_e||this.opts,this.bridge=_e!=null&&_e.connector?_e.connector.bridge:(_e==null?void 0:_e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(_e==null?void 0:_e.qrcode)>"u"||_e.qrcode!==!1,this.chainId=typeof(_e==null?void 0:_e.chainId)<"u"?_e.chainId:this.chainId,this.qrcodeModalOptions=_e==null?void 0:_e.qrcodeModalOptions;const tt={bridge:this.bridge,qrcodeModal:this.qrcode?cjs:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:_e==null?void 0:_e.storageId,signingMethods:_e==null?void 0:_e.signingMethods,clientMeta:_e==null?void 0:_e.clientMeta};if(this.wc=typeof(_e==null?void 0:_e.connector)<"u"?_e.connector:new WalletConnect(tt),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(_e){this.pending=!1,_e&&(this.wc=_e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(_e,tt="Failed or Rejected Request",rt=-32e3){const nt={id:_e.id,jsonrpc:_e.jsonrpc,error:{code:rt,message:tt}};return this.events.emit("payload",nt),nt}create(_e){this.wc=this.register(this.opts),this.chainId=_e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(tt=>this.events.emit("error",tt)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",_e=>{var tt,rt;if(_e){this.events.emit("error",_e);return}this.accounts=((tt=this.wc)===null||tt===void 0?void 0:tt.accounts)||[],this.chainId=((rt=this.wc)===null||rt===void 0?void 0:rt.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",_e=>{if(_e){this.events.emit("error",_e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(_e,tt)=>{const{accounts:rt,chainId:nt}=tt.params[0];(!this.accounts||rt&&this.accounts!==rt)&&(this.accounts=rt,this.events.emit("accountsChanged",rt)),(!this.chainId||nt&&this.chainId!==nt)&&(this.chainId=nt,this.events.emit("chainChanged",nt))})}async sendPayload(_e){this.wc=this.register(this.opts);try{const tt=await this.wc.unsafeSend(_e);return this.sanitizeResponse(tt)}catch(tt){return this.onError(_e,tt.message)}}sanitizeResponse(_e){return typeof _e.error<"u"&&typeof _e.error.code>"u"?formatJsonRpcError(_e.id,_e.error.message):_e}}class WalletConnectProvider{constructor(_e){this.events=new EventEmitter$2,this.rpc={infuraId:_e==null?void 0:_e.infuraId,custom:_e==null?void 0:_e.rpc},this.signer=new JsonRpcProvider(new SignerConnection(_e));const tt=this.signer.connection.chainId||(_e==null?void 0:_e.chainId)||1;this.http=this.setHttpProvider(tt),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var _e;return((_e=this.http)===null||_e===void 0?void 0:_e.connection).url||""}async request(_e){switch(_e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(signingMethods.includes(_e.method))return this.signer.request(_e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${_e.method}) without provided rpc url`);return this.http.request(_e)}sendAsync(_e,tt){this.request(_e).then(rt=>tt(null,rt)).catch(rt=>tt(rt,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(_e,tt){this.events.on(_e,tt)}once(_e,tt){this.events.once(_e,tt)}removeListener(_e,tt){this.events.removeListener(_e,tt)}off(_e,tt){this.events.off(_e,tt)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",_e=>{this.events.emit("accountsChanged",_e)}),this.signer.connection.on("chainChanged",_e=>{this.http=this.setHttpProvider(_e),this.events.emit("chainChanged",_e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(_e){const tt=getRpcUrl(_e,this.rpc);return typeof tt>"u"?void 0:new JsonRpcProvider(new HttpConnection(tt))}}function _classPrivateMethodInitSpec(et,_e){_checkPrivateRedeclaration(et,_e),_e.add(et)}function _classPrivateMethodGet(et,_e,tt){if(!_e.has(et))throw new TypeError("attempted to get private field on non-instance");return tt}const switchChainAllowedRegex=/(rainbow)/i;var _provider=new WeakMap,_switchChain=new WeakSet;class WalletConnectConnector extends Connector$1{constructor(_e){super(_e),_classPrivateMethodInitSpec(this,_switchChain),_defineProperty(this,"id","walletConnect"),_defineProperty(this,"name","WalletConnect"),_defineProperty(this,"ready",!0),_classPrivateFieldInitSpec(this,_provider,{writable:!0,value:void 0}),_defineProperty(this,"onAccountsChanged",tt=>{tt.length===0?this.emit("disconnect"):this.emit("change",{account:utils$6.getAddress(tt[0])})}),_defineProperty(this,"onChainChanged",tt=>{const rt=normalizeChainId(tt),nt=this.isChainUnsupported(rt);this.emit("change",{chain:{id:rt,unsupported:nt}})}),_defineProperty(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){try{var _e,tt,rt;const nt=this.getProvider(!0);nt.on("accountsChanged",this.onAccountsChanged),nt.on("chainChanged",this.onChainChanged),nt.on("disconnect",this.onDisconnect);const it=await nt.enable(),at=utils$6.getAddress(it[0]),ot=await this.getChainId(),ct=this.isChainUnsupported(ot),ut=(_e=(tt=nt.connector)===null||tt===void 0||(rt=tt.peerMeta)===null||rt===void 0?void 0:rt.name)!==null&&_e!==void 0?_e:"";return switchChainAllowedRegex.test(ut)&&(this.switchChain=_classPrivateMethodGet(this,_switchChain,_switchChain2)),{account:at,chain:{id:ot,unsupported:ct},provider:new Web3Provider(nt)}}catch(nt){throw/user closed modal/i.test(nt.message)?new UserRejectedRequestError:nt}}async disconnect(){const _e=this.getProvider();await _e.disconnect(),_e.removeListener("accountsChanged",this.onAccountsChanged),_e.removeListener("chainChanged",this.onChainChanged),_e.removeListener("disconnect",this.onDisconnect),typeof localStorage<"u"&&localStorage.removeItem("walletconnect")}async getAccount(){const tt=this.getProvider().accounts;return utils$6.getAddress(tt[0])}async getChainId(){const _e=this.getProvider();return normalizeChainId(_e.chainId)}getProvider(_e){return(!_classPrivateFieldGet(this,_provider)||_e)&&_classPrivateFieldSet(this,_provider,new WalletConnectProvider(this.options)),_classPrivateFieldGet(this,_provider)}async getSigner(){const _e=this.getProvider(),tt=await this.getAccount();return new Web3Provider(_e).getSigner(tt)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}}async function _switchChain2(et){const _e=this.getProvider(),tt=utils$6.hexValue(et);try{return await _e.request({method:"wallet_switchEthereumChain",params:[{chainId:tt}]}),[...this.chains,...allChains].find(nt=>nt.id===et)}catch(rt){const nt=typeof rt=="string"?rt:rt==null?void 0:rt.message;throw/user rejected request/i.test(nt)?new UserRejectedRequestError:new SwitchChainError}}function useConnect(){const et=useContext();return invariant$2(et,"useConnect() can only be used inside <ThirdwebProvider />. If you are using <ThirdwebSDKProvider /> you will have to use your own connection logic."),useConnect$1()}var buffer={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(et){const _e=base64Js,tt=ieee754,rt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;et.Buffer=ot,et.SlowBuffer=$t,et.INSPECT_MAX_BYTES=50;const nt=2147483647;et.kMaxLength=nt,ot.TYPED_ARRAY_SUPPORT=it(),!ot.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{const zt=new Uint8Array(1),Lt={foo:function(){return 42}};return Object.setPrototypeOf(Lt,Uint8Array.prototype),Object.setPrototypeOf(zt,Lt),zt.foo()===42}catch{return!1}}Object.defineProperty(ot.prototype,"parent",{enumerable:!0,get:function(){if(!!ot.isBuffer(this))return this.buffer}}),Object.defineProperty(ot.prototype,"offset",{enumerable:!0,get:function(){if(!!ot.isBuffer(this))return this.byteOffset}});function at(zt){if(zt>nt)throw new RangeError('The value "'+zt+'" is invalid for option "size"');const Lt=new Uint8Array(zt);return Object.setPrototypeOf(Lt,ot.prototype),Lt}function ot(zt,Lt,Bt){if(typeof zt=="number"){if(typeof Lt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return yt(zt)}return ct(zt,Lt,Bt)}ot.poolSize=8192;function ct(zt,Lt,Bt){if(typeof zt=="string")return bt(zt,Lt);if(ArrayBuffer.isView(zt))return Ct(zt);if(zt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof zt);if(br(zt,ArrayBuffer)||zt&&br(zt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(br(zt,SharedArrayBuffer)||zt&&br(zt.buffer,SharedArrayBuffer)))return At(zt,Lt,Bt);if(typeof zt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Jt=zt.valueOf&&zt.valueOf();if(Jt!=null&&Jt!==zt)return ot.from(Jt,Lt,Bt);const cr=St(zt);if(cr)return cr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof zt[Symbol.toPrimitive]=="function")return ot.from(zt[Symbol.toPrimitive]("string"),Lt,Bt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof zt)}ot.from=function(zt,Lt,Bt){return ct(zt,Lt,Bt)},Object.setPrototypeOf(ot.prototype,Uint8Array.prototype),Object.setPrototypeOf(ot,Uint8Array);function ut(zt){if(typeof zt!="number")throw new TypeError('"size" argument must be of type number');if(zt<0)throw new RangeError('The value "'+zt+'" is invalid for option "size"')}function ft(zt,Lt,Bt){return ut(zt),zt<=0?at(zt):Lt!==void 0?typeof Bt=="string"?at(zt).fill(Lt,Bt):at(zt).fill(Lt):at(zt)}ot.alloc=function(zt,Lt,Bt){return ft(zt,Lt,Bt)};function yt(zt){return ut(zt),at(zt<0?0:Tt(zt)|0)}ot.allocUnsafe=function(zt){return yt(zt)},ot.allocUnsafeSlow=function(zt){return yt(zt)};function bt(zt,Lt){if((typeof Lt!="string"||Lt==="")&&(Lt="utf8"),!ot.isEncoding(Lt))throw new TypeError("Unknown encoding: "+Lt);const Bt=kt(zt,Lt)|0;let Jt=at(Bt);const cr=Jt.write(zt,Lt);return cr!==Bt&&(Jt=Jt.slice(0,cr)),Jt}function Et(zt){const Lt=zt.length<0?0:Tt(zt.length)|0,Bt=at(Lt);for(let Jt=0;Jt<Lt;Jt+=1)Bt[Jt]=zt[Jt]&255;return Bt}function Ct(zt){if(br(zt,Uint8Array)){const Lt=new Uint8Array(zt);return At(Lt.buffer,Lt.byteOffset,Lt.byteLength)}return Et(zt)}function At(zt,Lt,Bt){if(Lt<0||zt.byteLength<Lt)throw new RangeError('"offset" is outside of buffer bounds');if(zt.byteLength<Lt+(Bt||0))throw new RangeError('"length" is outside of buffer bounds');let Jt;return Lt===void 0&&Bt===void 0?Jt=new Uint8Array(zt):Bt===void 0?Jt=new Uint8Array(zt,Lt):Jt=new Uint8Array(zt,Lt,Bt),Object.setPrototypeOf(Jt,ot.prototype),Jt}function St(zt){if(ot.isBuffer(zt)){const Lt=Tt(zt.length)|0,Bt=at(Lt);return Bt.length===0||zt.copy(Bt,0,0,Lt),Bt}if(zt.length!==void 0)return typeof zt.length!="number"||dr(zt.length)?at(0):Et(zt);if(zt.type==="Buffer"&&Array.isArray(zt.data))return Et(zt.data)}function Tt(zt){if(zt>=nt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nt.toString(16)+" bytes");return zt|0}function $t(zt){return+zt!=zt&&(zt=0),ot.alloc(+zt)}ot.isBuffer=function(Lt){return Lt!=null&&Lt._isBuffer===!0&&Lt!==ot.prototype},ot.compare=function(Lt,Bt){if(br(Lt,Uint8Array)&&(Lt=ot.from(Lt,Lt.offset,Lt.byteLength)),br(Bt,Uint8Array)&&(Bt=ot.from(Bt,Bt.offset,Bt.byteLength)),!ot.isBuffer(Lt)||!ot.isBuffer(Bt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Lt===Bt)return 0;let Jt=Lt.length,cr=Bt.length;for(let nr=0,sr=Math.min(Jt,cr);nr<sr;++nr)if(Lt[nr]!==Bt[nr]){Jt=Lt[nr],cr=Bt[nr];break}return Jt<cr?-1:cr<Jt?1:0},ot.isEncoding=function(Lt){switch(String(Lt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ot.concat=function(Lt,Bt){if(!Array.isArray(Lt))throw new TypeError('"list" argument must be an Array of Buffers');if(Lt.length===0)return ot.alloc(0);let Jt;if(Bt===void 0)for(Bt=0,Jt=0;Jt<Lt.length;++Jt)Bt+=Lt[Jt].length;const cr=ot.allocUnsafe(Bt);let nr=0;for(Jt=0;Jt<Lt.length;++Jt){let sr=Lt[Jt];if(br(sr,Uint8Array))nr+sr.length>cr.length?(ot.isBuffer(sr)||(sr=ot.from(sr)),sr.copy(cr,nr)):Uint8Array.prototype.set.call(cr,sr,nr);else if(ot.isBuffer(sr))sr.copy(cr,nr);else throw new TypeError('"list" argument must be an Array of Buffers');nr+=sr.length}return cr};function kt(zt,Lt){if(ot.isBuffer(zt))return zt.length;if(ArrayBuffer.isView(zt)||br(zt,ArrayBuffer))return zt.byteLength;if(typeof zt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof zt);const Bt=zt.length,Jt=arguments.length>2&&arguments[2]===!0;if(!Jt&&Bt===0)return 0;let cr=!1;for(;;)switch(Lt){case"ascii":case"latin1":case"binary":return Bt;case"utf8":case"utf-8":return Ft(zt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bt*2;case"hex":return Bt>>>1;case"base64":return rr(zt).length;default:if(cr)return Jt?-1:Ft(zt).length;Lt=(""+Lt).toLowerCase(),cr=!0}}ot.byteLength=kt;function Pt(zt,Lt,Bt){let Jt=!1;if((Lt===void 0||Lt<0)&&(Lt=0),Lt>this.length||((Bt===void 0||Bt>this.length)&&(Bt=this.length),Bt<=0)||(Bt>>>=0,Lt>>>=0,Bt<=Lt))return"";for(zt||(zt="utf8");;)switch(zt){case"hex":return vt(this,Lt,Bt);case"utf8":case"utf-8":return st(this,Lt,Bt);case"ascii":return _t(this,Lt,Bt);case"latin1":case"binary":return xt(this,Lt,Bt);case"base64":return ht(this,Lt,Bt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mt(this,Lt,Bt);default:if(Jt)throw new TypeError("Unknown encoding: "+zt);zt=(zt+"").toLowerCase(),Jt=!0}}ot.prototype._isBuffer=!0;function Ot(zt,Lt,Bt){const Jt=zt[Lt];zt[Lt]=zt[Bt],zt[Bt]=Jt}ot.prototype.swap16=function(){const Lt=this.length;if(Lt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Bt=0;Bt<Lt;Bt+=2)Ot(this,Bt,Bt+1);return this},ot.prototype.swap32=function(){const Lt=this.length;if(Lt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Bt=0;Bt<Lt;Bt+=4)Ot(this,Bt,Bt+3),Ot(this,Bt+1,Bt+2);return this},ot.prototype.swap64=function(){const Lt=this.length;if(Lt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Bt=0;Bt<Lt;Bt+=8)Ot(this,Bt,Bt+7),Ot(this,Bt+1,Bt+6),Ot(this,Bt+2,Bt+5),Ot(this,Bt+3,Bt+4);return this},ot.prototype.toString=function(){const Lt=this.length;return Lt===0?"":arguments.length===0?st(this,0,Lt):Pt.apply(this,arguments)},ot.prototype.toLocaleString=ot.prototype.toString,ot.prototype.equals=function(Lt){if(!ot.isBuffer(Lt))throw new TypeError("Argument must be a Buffer");return this===Lt?!0:ot.compare(this,Lt)===0},ot.prototype.inspect=function(){let Lt="";const Bt=et.INSPECT_MAX_BYTES;return Lt=this.toString("hex",0,Bt).replace(/(.{2})/g,"$1 ").trim(),this.length>Bt&&(Lt+=" ... "),"<Buffer "+Lt+">"},rt&&(ot.prototype[rt]=ot.prototype.inspect),ot.prototype.compare=function(Lt,Bt,Jt,cr,nr){if(br(Lt,Uint8Array)&&(Lt=ot.from(Lt,Lt.offset,Lt.byteLength)),!ot.isBuffer(Lt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Lt);if(Bt===void 0&&(Bt=0),Jt===void 0&&(Jt=Lt?Lt.length:0),cr===void 0&&(cr=0),nr===void 0&&(nr=this.length),Bt<0||Jt>Lt.length||cr<0||nr>this.length)throw new RangeError("out of range index");if(cr>=nr&&Bt>=Jt)return 0;if(cr>=nr)return-1;if(Bt>=Jt)return 1;if(Bt>>>=0,Jt>>>=0,cr>>>=0,nr>>>=0,this===Lt)return 0;let sr=nr-cr,Fr=Jt-Bt;const vr=Math.min(sr,Fr),gr=this.slice(cr,nr),Dr=Lt.slice(Bt,Jt);for(let yr=0;yr<vr;++yr)if(gr[yr]!==Dr[yr]){sr=gr[yr],Fr=Dr[yr];break}return sr<Fr?-1:Fr<sr?1:0};function Ht(zt,Lt,Bt,Jt,cr){if(zt.length===0)return-1;if(typeof Bt=="string"?(Jt=Bt,Bt=0):Bt>2147483647?Bt=2147483647:Bt<-2147483648&&(Bt=-2147483648),Bt=+Bt,dr(Bt)&&(Bt=cr?0:zt.length-1),Bt<0&&(Bt=zt.length+Bt),Bt>=zt.length){if(cr)return-1;Bt=zt.length-1}else if(Bt<0)if(cr)Bt=0;else return-1;if(typeof Lt=="string"&&(Lt=ot.from(Lt,Jt)),ot.isBuffer(Lt))return Lt.length===0?-1:qt(zt,Lt,Bt,Jt,cr);if(typeof Lt=="number")return Lt=Lt&255,typeof Uint8Array.prototype.indexOf=="function"?cr?Uint8Array.prototype.indexOf.call(zt,Lt,Bt):Uint8Array.prototype.lastIndexOf.call(zt,Lt,Bt):qt(zt,[Lt],Bt,Jt,cr);throw new TypeError("val must be string, number or Buffer")}function qt(zt,Lt,Bt,Jt,cr){let nr=1,sr=zt.length,Fr=Lt.length;if(Jt!==void 0&&(Jt=String(Jt).toLowerCase(),Jt==="ucs2"||Jt==="ucs-2"||Jt==="utf16le"||Jt==="utf-16le")){if(zt.length<2||Lt.length<2)return-1;nr=2,sr/=2,Fr/=2,Bt/=2}function vr(Dr,yr){return nr===1?Dr[yr]:Dr.readUInt16BE(yr*nr)}let gr;if(cr){let Dr=-1;for(gr=Bt;gr<sr;gr++)if(vr(zt,gr)===vr(Lt,Dr===-1?0:gr-Dr)){if(Dr===-1&&(Dr=gr),gr-Dr+1===Fr)return Dr*nr}else Dr!==-1&&(gr-=gr-Dr),Dr=-1}else for(Bt+Fr>sr&&(Bt=sr-Fr),gr=Bt;gr>=0;gr--){let Dr=!0;for(let yr=0;yr<Fr;yr++)if(vr(zt,gr+yr)!==vr(Lt,yr)){Dr=!1;break}if(Dr)return gr}return-1}ot.prototype.includes=function(Lt,Bt,Jt){return this.indexOf(Lt,Bt,Jt)!==-1},ot.prototype.indexOf=function(Lt,Bt,Jt){return Ht(this,Lt,Bt,Jt,!0)},ot.prototype.lastIndexOf=function(Lt,Bt,Jt){return Ht(this,Lt,Bt,Jt,!1)};function Zt(zt,Lt,Bt,Jt){Bt=Number(Bt)||0;const cr=zt.length-Bt;Jt?(Jt=Number(Jt),Jt>cr&&(Jt=cr)):Jt=cr;const nr=Lt.length;Jt>nr/2&&(Jt=nr/2);let sr;for(sr=0;sr<Jt;++sr){const Fr=parseInt(Lt.substr(sr*2,2),16);if(dr(Fr))return sr;zt[Bt+sr]=Fr}return sr}function tr(zt,Lt,Bt,Jt){return ar(Ft(Lt,zt.length-Bt),zt,Bt,Jt)}function Dt(zt,Lt,Bt,Jt){return ar(Ut(Lt),zt,Bt,Jt)}function Rt(zt,Lt,Bt,Jt){return ar(rr(Lt),zt,Bt,Jt)}function Nt(zt,Lt,Bt,Jt){return ar(Yt(Lt,zt.length-Bt),zt,Bt,Jt)}ot.prototype.write=function(Lt,Bt,Jt,cr){if(Bt===void 0)cr="utf8",Jt=this.length,Bt=0;else if(Jt===void 0&&typeof Bt=="string")cr=Bt,Jt=this.length,Bt=0;else if(isFinite(Bt))Bt=Bt>>>0,isFinite(Jt)?(Jt=Jt>>>0,cr===void 0&&(cr="utf8")):(cr=Jt,Jt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const nr=this.length-Bt;if((Jt===void 0||Jt>nr)&&(Jt=nr),Lt.length>0&&(Jt<0||Bt<0)||Bt>this.length)throw new RangeError("Attempt to write outside buffer bounds");cr||(cr="utf8");let sr=!1;for(;;)switch(cr){case"hex":return Zt(this,Lt,Bt,Jt);case"utf8":case"utf-8":return tr(this,Lt,Bt,Jt);case"ascii":case"latin1":case"binary":return Dt(this,Lt,Bt,Jt);case"base64":return Rt(this,Lt,Bt,Jt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Nt(this,Lt,Bt,Jt);default:if(sr)throw new TypeError("Unknown encoding: "+cr);cr=(""+cr).toLowerCase(),sr=!0}},ot.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ht(zt,Lt,Bt){return Lt===0&&Bt===zt.length?_e.fromByteArray(zt):_e.fromByteArray(zt.slice(Lt,Bt))}function st(zt,Lt,Bt){Bt=Math.min(zt.length,Bt);const Jt=[];let cr=Lt;for(;cr<Bt;){const nr=zt[cr];let sr=null,Fr=nr>239?4:nr>223?3:nr>191?2:1;if(cr+Fr<=Bt){let vr,gr,Dr,yr;switch(Fr){case 1:nr<128&&(sr=nr);break;case 2:vr=zt[cr+1],(vr&192)===128&&(yr=(nr&31)<<6|vr&63,yr>127&&(sr=yr));break;case 3:vr=zt[cr+1],gr=zt[cr+2],(vr&192)===128&&(gr&192)===128&&(yr=(nr&15)<<12|(vr&63)<<6|gr&63,yr>2047&&(yr<55296||yr>57343)&&(sr=yr));break;case 4:vr=zt[cr+1],gr=zt[cr+2],Dr=zt[cr+3],(vr&192)===128&&(gr&192)===128&&(Dr&192)===128&&(yr=(nr&15)<<18|(vr&63)<<12|(gr&63)<<6|Dr&63,yr>65535&&yr<1114112&&(sr=yr))}}sr===null?(sr=65533,Fr=1):sr>65535&&(sr-=65536,Jt.push(sr>>>10&1023|55296),sr=56320|sr&1023),Jt.push(sr),cr+=Fr}return mt(Jt)}const dt=4096;function mt(zt){const Lt=zt.length;if(Lt<=dt)return String.fromCharCode.apply(String,zt);let Bt="",Jt=0;for(;Jt<Lt;)Bt+=String.fromCharCode.apply(String,zt.slice(Jt,Jt+=dt));return Bt}function _t(zt,Lt,Bt){let Jt="";Bt=Math.min(zt.length,Bt);for(let cr=Lt;cr<Bt;++cr)Jt+=String.fromCharCode(zt[cr]&127);return Jt}function xt(zt,Lt,Bt){let Jt="";Bt=Math.min(zt.length,Bt);for(let cr=Lt;cr<Bt;++cr)Jt+=String.fromCharCode(zt[cr]);return Jt}function vt(zt,Lt,Bt){const Jt=zt.length;(!Lt||Lt<0)&&(Lt=0),(!Bt||Bt<0||Bt>Jt)&&(Bt=Jt);let cr="";for(let nr=Lt;nr<Bt;++nr)cr+=pr[zt[nr]];return cr}function Mt(zt,Lt,Bt){const Jt=zt.slice(Lt,Bt);let cr="";for(let nr=0;nr<Jt.length-1;nr+=2)cr+=String.fromCharCode(Jt[nr]+Jt[nr+1]*256);return cr}ot.prototype.slice=function(Lt,Bt){const Jt=this.length;Lt=~~Lt,Bt=Bt===void 0?Jt:~~Bt,Lt<0?(Lt+=Jt,Lt<0&&(Lt=0)):Lt>Jt&&(Lt=Jt),Bt<0?(Bt+=Jt,Bt<0&&(Bt=0)):Bt>Jt&&(Bt=Jt),Bt<Lt&&(Bt=Lt);const cr=this.subarray(Lt,Bt);return Object.setPrototypeOf(cr,ot.prototype),cr};function gt(zt,Lt,Bt){if(zt%1!==0||zt<0)throw new RangeError("offset is not uint");if(zt+Lt>Bt)throw new RangeError("Trying to access beyond buffer length")}ot.prototype.readUintLE=ot.prototype.readUIntLE=function(Lt,Bt,Jt){Lt=Lt>>>0,Bt=Bt>>>0,Jt||gt(Lt,Bt,this.length);let cr=this[Lt],nr=1,sr=0;for(;++sr<Bt&&(nr*=256);)cr+=this[Lt+sr]*nr;return cr},ot.prototype.readUintBE=ot.prototype.readUIntBE=function(Lt,Bt,Jt){Lt=Lt>>>0,Bt=Bt>>>0,Jt||gt(Lt,Bt,this.length);let cr=this[Lt+--Bt],nr=1;for(;Bt>0&&(nr*=256);)cr+=this[Lt+--Bt]*nr;return cr},ot.prototype.readUint8=ot.prototype.readUInt8=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,1,this.length),this[Lt]},ot.prototype.readUint16LE=ot.prototype.readUInt16LE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,2,this.length),this[Lt]|this[Lt+1]<<8},ot.prototype.readUint16BE=ot.prototype.readUInt16BE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,2,this.length),this[Lt]<<8|this[Lt+1]},ot.prototype.readUint32LE=ot.prototype.readUInt32LE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,4,this.length),(this[Lt]|this[Lt+1]<<8|this[Lt+2]<<16)+this[Lt+3]*16777216},ot.prototype.readUint32BE=ot.prototype.readUInt32BE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,4,this.length),this[Lt]*16777216+(this[Lt+1]<<16|this[Lt+2]<<8|this[Lt+3])},ot.prototype.readBigUInt64LE=Lr(function(Lt){Lt=Lt>>>0,lr(Lt,"offset");const Bt=this[Lt],Jt=this[Lt+7];(Bt===void 0||Jt===void 0)&&ir(Lt,this.length-8);const cr=Bt+this[++Lt]*2**8+this[++Lt]*2**16+this[++Lt]*2**24,nr=this[++Lt]+this[++Lt]*2**8+this[++Lt]*2**16+Jt*2**24;return BigInt(cr)+(BigInt(nr)<<BigInt(32))}),ot.prototype.readBigUInt64BE=Lr(function(Lt){Lt=Lt>>>0,lr(Lt,"offset");const Bt=this[Lt],Jt=this[Lt+7];(Bt===void 0||Jt===void 0)&&ir(Lt,this.length-8);const cr=Bt*2**24+this[++Lt]*2**16+this[++Lt]*2**8+this[++Lt],nr=this[++Lt]*2**24+this[++Lt]*2**16+this[++Lt]*2**8+Jt;return(BigInt(cr)<<BigInt(32))+BigInt(nr)}),ot.prototype.readIntLE=function(Lt,Bt,Jt){Lt=Lt>>>0,Bt=Bt>>>0,Jt||gt(Lt,Bt,this.length);let cr=this[Lt],nr=1,sr=0;for(;++sr<Bt&&(nr*=256);)cr+=this[Lt+sr]*nr;return nr*=128,cr>=nr&&(cr-=Math.pow(2,8*Bt)),cr},ot.prototype.readIntBE=function(Lt,Bt,Jt){Lt=Lt>>>0,Bt=Bt>>>0,Jt||gt(Lt,Bt,this.length);let cr=Bt,nr=1,sr=this[Lt+--cr];for(;cr>0&&(nr*=256);)sr+=this[Lt+--cr]*nr;return nr*=128,sr>=nr&&(sr-=Math.pow(2,8*Bt)),sr},ot.prototype.readInt8=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,1,this.length),this[Lt]&128?(255-this[Lt]+1)*-1:this[Lt]},ot.prototype.readInt16LE=function(Lt,Bt){Lt=Lt>>>0,Bt||gt(Lt,2,this.length);const Jt=this[Lt]|this[Lt+1]<<8;return Jt&32768?Jt|4294901760:Jt},ot.prototype.readInt16BE=function(Lt,Bt){Lt=Lt>>>0,Bt||gt(Lt,2,this.length);const Jt=this[Lt+1]|this[Lt]<<8;return Jt&32768?Jt|4294901760:Jt},ot.prototype.readInt32LE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,4,this.length),this[Lt]|this[Lt+1]<<8|this[Lt+2]<<16|this[Lt+3]<<24},ot.prototype.readInt32BE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,4,this.length),this[Lt]<<24|this[Lt+1]<<16|this[Lt+2]<<8|this[Lt+3]},ot.prototype.readBigInt64LE=Lr(function(Lt){Lt=Lt>>>0,lr(Lt,"offset");const Bt=this[Lt],Jt=this[Lt+7];(Bt===void 0||Jt===void 0)&&ir(Lt,this.length-8);const cr=this[Lt+4]+this[Lt+5]*2**8+this[Lt+6]*2**16+(Jt<<24);return(BigInt(cr)<<BigInt(32))+BigInt(Bt+this[++Lt]*2**8+this[++Lt]*2**16+this[++Lt]*2**24)}),ot.prototype.readBigInt64BE=Lr(function(Lt){Lt=Lt>>>0,lr(Lt,"offset");const Bt=this[Lt],Jt=this[Lt+7];(Bt===void 0||Jt===void 0)&&ir(Lt,this.length-8);const cr=(Bt<<24)+this[++Lt]*2**16+this[++Lt]*2**8+this[++Lt];return(BigInt(cr)<<BigInt(32))+BigInt(this[++Lt]*2**24+this[++Lt]*2**16+this[++Lt]*2**8+Jt)}),ot.prototype.readFloatLE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,4,this.length),tt.read(this,Lt,!0,23,4)},ot.prototype.readFloatBE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,4,this.length),tt.read(this,Lt,!1,23,4)},ot.prototype.readDoubleLE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,8,this.length),tt.read(this,Lt,!0,52,8)},ot.prototype.readDoubleBE=function(Lt,Bt){return Lt=Lt>>>0,Bt||gt(Lt,8,this.length),tt.read(this,Lt,!1,52,8)};function lt(zt,Lt,Bt,Jt,cr,nr){if(!ot.isBuffer(zt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Lt>cr||Lt<nr)throw new RangeError('"value" argument is out of bounds');if(Bt+Jt>zt.length)throw new RangeError("Index out of range")}ot.prototype.writeUintLE=ot.prototype.writeUIntLE=function(Lt,Bt,Jt,cr){if(Lt=+Lt,Bt=Bt>>>0,Jt=Jt>>>0,!cr){const Fr=Math.pow(2,8*Jt)-1;lt(this,Lt,Bt,Jt,Fr,0)}let nr=1,sr=0;for(this[Bt]=Lt&255;++sr<Jt&&(nr*=256);)this[Bt+sr]=Lt/nr&255;return Bt+Jt},ot.prototype.writeUintBE=ot.prototype.writeUIntBE=function(Lt,Bt,Jt,cr){if(Lt=+Lt,Bt=Bt>>>0,Jt=Jt>>>0,!cr){const Fr=Math.pow(2,8*Jt)-1;lt(this,Lt,Bt,Jt,Fr,0)}let nr=Jt-1,sr=1;for(this[Bt+nr]=Lt&255;--nr>=0&&(sr*=256);)this[Bt+nr]=Lt/sr&255;return Bt+Jt},ot.prototype.writeUint8=ot.prototype.writeUInt8=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,1,255,0),this[Bt]=Lt&255,Bt+1},ot.prototype.writeUint16LE=ot.prototype.writeUInt16LE=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,2,65535,0),this[Bt]=Lt&255,this[Bt+1]=Lt>>>8,Bt+2},ot.prototype.writeUint16BE=ot.prototype.writeUInt16BE=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,2,65535,0),this[Bt]=Lt>>>8,this[Bt+1]=Lt&255,Bt+2},ot.prototype.writeUint32LE=ot.prototype.writeUInt32LE=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,4,4294967295,0),this[Bt+3]=Lt>>>24,this[Bt+2]=Lt>>>16,this[Bt+1]=Lt>>>8,this[Bt]=Lt&255,Bt+4},ot.prototype.writeUint32BE=ot.prototype.writeUInt32BE=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,4,4294967295,0),this[Bt]=Lt>>>24,this[Bt+1]=Lt>>>16,this[Bt+2]=Lt>>>8,this[Bt+3]=Lt&255,Bt+4};function wt(zt,Lt,Bt,Jt,cr){Kt(Lt,Jt,cr,zt,Bt,7);let nr=Number(Lt&BigInt(4294967295));zt[Bt++]=nr,nr=nr>>8,zt[Bt++]=nr,nr=nr>>8,zt[Bt++]=nr,nr=nr>>8,zt[Bt++]=nr;let sr=Number(Lt>>BigInt(32)&BigInt(4294967295));return zt[Bt++]=sr,sr=sr>>8,zt[Bt++]=sr,sr=sr>>8,zt[Bt++]=sr,sr=sr>>8,zt[Bt++]=sr,Bt}function jt(zt,Lt,Bt,Jt,cr){Kt(Lt,Jt,cr,zt,Bt,7);let nr=Number(Lt&BigInt(4294967295));zt[Bt+7]=nr,nr=nr>>8,zt[Bt+6]=nr,nr=nr>>8,zt[Bt+5]=nr,nr=nr>>8,zt[Bt+4]=nr;let sr=Number(Lt>>BigInt(32)&BigInt(4294967295));return zt[Bt+3]=sr,sr=sr>>8,zt[Bt+2]=sr,sr=sr>>8,zt[Bt+1]=sr,sr=sr>>8,zt[Bt]=sr,Bt+8}ot.prototype.writeBigUInt64LE=Lr(function(Lt,Bt=0){return wt(this,Lt,Bt,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeBigUInt64BE=Lr(function(Lt,Bt=0){return jt(this,Lt,Bt,BigInt(0),BigInt("0xffffffffffffffff"))}),ot.prototype.writeIntLE=function(Lt,Bt,Jt,cr){if(Lt=+Lt,Bt=Bt>>>0,!cr){const vr=Math.pow(2,8*Jt-1);lt(this,Lt,Bt,Jt,vr-1,-vr)}let nr=0,sr=1,Fr=0;for(this[Bt]=Lt&255;++nr<Jt&&(sr*=256);)Lt<0&&Fr===0&&this[Bt+nr-1]!==0&&(Fr=1),this[Bt+nr]=(Lt/sr>>0)-Fr&255;return Bt+Jt},ot.prototype.writeIntBE=function(Lt,Bt,Jt,cr){if(Lt=+Lt,Bt=Bt>>>0,!cr){const vr=Math.pow(2,8*Jt-1);lt(this,Lt,Bt,Jt,vr-1,-vr)}let nr=Jt-1,sr=1,Fr=0;for(this[Bt+nr]=Lt&255;--nr>=0&&(sr*=256);)Lt<0&&Fr===0&&this[Bt+nr+1]!==0&&(Fr=1),this[Bt+nr]=(Lt/sr>>0)-Fr&255;return Bt+Jt},ot.prototype.writeInt8=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,1,127,-128),Lt<0&&(Lt=255+Lt+1),this[Bt]=Lt&255,Bt+1},ot.prototype.writeInt16LE=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,2,32767,-32768),this[Bt]=Lt&255,this[Bt+1]=Lt>>>8,Bt+2},ot.prototype.writeInt16BE=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,2,32767,-32768),this[Bt]=Lt>>>8,this[Bt+1]=Lt&255,Bt+2},ot.prototype.writeInt32LE=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,4,2147483647,-2147483648),this[Bt]=Lt&255,this[Bt+1]=Lt>>>8,this[Bt+2]=Lt>>>16,this[Bt+3]=Lt>>>24,Bt+4},ot.prototype.writeInt32BE=function(Lt,Bt,Jt){return Lt=+Lt,Bt=Bt>>>0,Jt||lt(this,Lt,Bt,4,2147483647,-2147483648),Lt<0&&(Lt=4294967295+Lt+1),this[Bt]=Lt>>>24,this[Bt+1]=Lt>>>16,this[Bt+2]=Lt>>>8,this[Bt+3]=Lt&255,Bt+4},ot.prototype.writeBigInt64LE=Lr(function(Lt,Bt=0){return wt(this,Lt,Bt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ot.prototype.writeBigInt64BE=Lr(function(Lt,Bt=0){return jt(this,Lt,Bt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function It(zt,Lt,Bt,Jt,cr,nr){if(Bt+Jt>zt.length)throw new RangeError("Index out of range");if(Bt<0)throw new RangeError("Index out of range")}function Wt(zt,Lt,Bt,Jt,cr){return Lt=+Lt,Bt=Bt>>>0,cr||It(zt,Lt,Bt,4),tt.write(zt,Lt,Bt,Jt,23,4),Bt+4}ot.prototype.writeFloatLE=function(Lt,Bt,Jt){return Wt(this,Lt,Bt,!0,Jt)},ot.prototype.writeFloatBE=function(Lt,Bt,Jt){return Wt(this,Lt,Bt,!1,Jt)};function Qt(zt,Lt,Bt,Jt,cr){return Lt=+Lt,Bt=Bt>>>0,cr||It(zt,Lt,Bt,8),tt.write(zt,Lt,Bt,Jt,52,8),Bt+8}ot.prototype.writeDoubleLE=function(Lt,Bt,Jt){return Qt(this,Lt,Bt,!0,Jt)},ot.prototype.writeDoubleBE=function(Lt,Bt,Jt){return Qt(this,Lt,Bt,!1,Jt)},ot.prototype.copy=function(Lt,Bt,Jt,cr){if(!ot.isBuffer(Lt))throw new TypeError("argument should be a Buffer");if(Jt||(Jt=0),!cr&&cr!==0&&(cr=this.length),Bt>=Lt.length&&(Bt=Lt.length),Bt||(Bt=0),cr>0&&cr<Jt&&(cr=Jt),cr===Jt||Lt.length===0||this.length===0)return 0;if(Bt<0)throw new RangeError("targetStart out of bounds");if(Jt<0||Jt>=this.length)throw new RangeError("Index out of range");if(cr<0)throw new RangeError("sourceEnd out of bounds");cr>this.length&&(cr=this.length),Lt.length-Bt<cr-Jt&&(cr=Lt.length-Bt+Jt);const nr=cr-Jt;return this===Lt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Bt,Jt,cr):Uint8Array.prototype.set.call(Lt,this.subarray(Jt,cr),Bt),nr},ot.prototype.fill=function(Lt,Bt,Jt,cr){if(typeof Lt=="string"){if(typeof Bt=="string"?(cr=Bt,Bt=0,Jt=this.length):typeof Jt=="string"&&(cr=Jt,Jt=this.length),cr!==void 0&&typeof cr!="string")throw new TypeError("encoding must be a string");if(typeof cr=="string"&&!ot.isEncoding(cr))throw new TypeError("Unknown encoding: "+cr);if(Lt.length===1){const sr=Lt.charCodeAt(0);(cr==="utf8"&&sr<128||cr==="latin1")&&(Lt=sr)}}else typeof Lt=="number"?Lt=Lt&255:typeof Lt=="boolean"&&(Lt=Number(Lt));if(Bt<0||this.length<Bt||this.length<Jt)throw new RangeError("Out of range index");if(Jt<=Bt)return this;Bt=Bt>>>0,Jt=Jt===void 0?this.length:Jt>>>0,Lt||(Lt=0);let nr;if(typeof Lt=="number")for(nr=Bt;nr<Jt;++nr)this[nr]=Lt;else{const sr=ot.isBuffer(Lt)?Lt:ot.from(Lt,cr),Fr=sr.length;if(Fr===0)throw new TypeError('The value "'+Lt+'" is invalid for argument "value"');for(nr=0;nr<Jt-Bt;++nr)this[nr+Bt]=sr[nr%Fr]}return this};const Gt={};function er(zt,Lt,Bt){Gt[zt]=class extends Bt{constructor(){super(),Object.defineProperty(this,"message",{value:Lt.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${zt}]`,this.stack,delete this.name}get code(){return zt}set code(cr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:cr,writable:!0})}toString(){return`${this.name} [${zt}]: ${this.message}`}}}er("ERR_BUFFER_OUT_OF_BOUNDS",function(zt){return zt?`${zt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),er("ERR_INVALID_ARG_TYPE",function(zt,Lt){return`The "${zt}" argument must be of type number. Received type ${typeof Lt}`},TypeError),er("ERR_OUT_OF_RANGE",function(zt,Lt,Bt){let Jt=`The value of "${zt}" is out of range.`,cr=Bt;return Number.isInteger(Bt)&&Math.abs(Bt)>2**32?cr=hr(String(Bt)):typeof Bt=="bigint"&&(cr=String(Bt),(Bt>BigInt(2)**BigInt(32)||Bt<-(BigInt(2)**BigInt(32)))&&(cr=hr(cr)),cr+="n"),Jt+=` It must be ${Lt}. Received ${cr}`,Jt},RangeError);function hr(zt){let Lt="",Bt=zt.length;const Jt=zt[0]==="-"?1:0;for(;Bt>=Jt+4;Bt-=3)Lt=`_${zt.slice(Bt-3,Bt)}${Lt}`;return`${zt.slice(0,Bt)}${Lt}`}function Vt(zt,Lt,Bt){lr(Lt,"offset"),(zt[Lt]===void 0||zt[Lt+Bt]===void 0)&&ir(Lt,zt.length-(Bt+1))}function Kt(zt,Lt,Bt,Jt,cr,nr){if(zt>Bt||zt<Lt){const sr=typeof Lt=="bigint"?"n":"";let Fr;throw nr>3?Lt===0||Lt===BigInt(0)?Fr=`>= 0${sr} and < 2${sr} ** ${(nr+1)*8}${sr}`:Fr=`>= -(2${sr} ** ${(nr+1)*8-1}${sr}) and < 2 ** ${(nr+1)*8-1}${sr}`:Fr=`>= ${Lt}${sr} and <= ${Bt}${sr}`,new Gt.ERR_OUT_OF_RANGE("value",Fr,zt)}Vt(Jt,cr,nr)}function lr(zt,Lt){if(typeof zt!="number")throw new Gt.ERR_INVALID_ARG_TYPE(Lt,"number",zt)}function ir(zt,Lt,Bt){throw Math.floor(zt)!==zt?(lr(zt,Bt),new Gt.ERR_OUT_OF_RANGE(Bt||"offset","an integer",zt)):Lt<0?new Gt.ERR_BUFFER_OUT_OF_BOUNDS:new Gt.ERR_OUT_OF_RANGE(Bt||"offset",`>= ${Bt?1:0} and <= ${Lt}`,zt)}const ur=/[^+/0-9A-Za-z-_]/g;function Xt(zt){if(zt=zt.split("=")[0],zt=zt.trim().replace(ur,""),zt.length<2)return"";for(;zt.length%4!==0;)zt=zt+"=";return zt}function Ft(zt,Lt){Lt=Lt||1/0;let Bt;const Jt=zt.length;let cr=null;const nr=[];for(let sr=0;sr<Jt;++sr){if(Bt=zt.charCodeAt(sr),Bt>55295&&Bt<57344){if(!cr){if(Bt>56319){(Lt-=3)>-1&&nr.push(239,191,189);continue}else if(sr+1===Jt){(Lt-=3)>-1&&nr.push(239,191,189);continue}cr=Bt;continue}if(Bt<56320){(Lt-=3)>-1&&nr.push(239,191,189),cr=Bt;continue}Bt=(cr-55296<<10|Bt-56320)+65536}else cr&&(Lt-=3)>-1&&nr.push(239,191,189);if(cr=null,Bt<128){if((Lt-=1)<0)break;nr.push(Bt)}else if(Bt<2048){if((Lt-=2)<0)break;nr.push(Bt>>6|192,Bt&63|128)}else if(Bt<65536){if((Lt-=3)<0)break;nr.push(Bt>>12|224,Bt>>6&63|128,Bt&63|128)}else if(Bt<1114112){if((Lt-=4)<0)break;nr.push(Bt>>18|240,Bt>>12&63|128,Bt>>6&63|128,Bt&63|128)}else throw new Error("Invalid code point")}return nr}function Ut(zt){const Lt=[];for(let Bt=0;Bt<zt.length;++Bt)Lt.push(zt.charCodeAt(Bt)&255);return Lt}function Yt(zt,Lt){let Bt,Jt,cr;const nr=[];for(let sr=0;sr<zt.length&&!((Lt-=2)<0);++sr)Bt=zt.charCodeAt(sr),Jt=Bt>>8,cr=Bt%256,nr.push(cr),nr.push(Jt);return nr}function rr(zt){return _e.toByteArray(Xt(zt))}function ar(zt,Lt,Bt,Jt){let cr;for(cr=0;cr<Jt&&!(cr+Bt>=Lt.length||cr>=zt.length);++cr)Lt[cr+Bt]=zt[cr];return cr}function br(zt,Lt){return zt instanceof Lt||zt!=null&&zt.constructor!=null&&zt.constructor.name!=null&&zt.constructor.name===Lt.name}function dr(zt){return zt!==zt}const pr=function(){const zt="0123456789abcdef",Lt=new Array(256);for(let Bt=0;Bt<16;++Bt){const Jt=Bt*16;for(let cr=0;cr<16;++cr)Lt[Jt+cr]=zt[Bt]+zt[cr]}return Lt}();function Lr(zt){return typeof BigInt>"u"?mr:zt}function mr(){throw new Error("BigInt not supported")}})(buffer);function Mime$1(){this._types=Object.create(null),this._extensions=Object.create(null);for(let et=0;et<arguments.length;et++)this.define(arguments[et]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime$1.prototype.define=function(et,_e){for(let tt in et){let rt=et[tt].map(function(nt){return nt.toLowerCase()});tt=tt.toLowerCase();for(let nt=0;nt<rt.length;nt++){const it=rt[nt];if(it[0]!=="*"){if(!_e&&it in this._types)throw new Error('Attempt to change mapping for "'+it+'" extension from "'+this._types[it]+'" to "'+tt+'". Pass `force=true` to allow this, otherwise remove "'+it+'" from the list of extensions for "'+tt+'".');this._types[it]=tt}}if(_e||!this._extensions[tt]){const nt=rt[0];this._extensions[tt]=nt[0]!=="*"?nt:nt.substr(1)}}};Mime$1.prototype.getType=function(et){et=String(et);let _e=et.replace(/^.*[/\\]/,"").toLowerCase(),tt=_e.replace(/^.*\./,"").toLowerCase(),rt=_e.length<et.length;return(tt.length<_e.length-1||!rt)&&this._types[tt]||null};Mime$1.prototype.getExtension=function(et){return et=/^\s*([^;\s]*)/.test(et)&&RegExp.$1,et&&this._extensions[et.toLowerCase()]||null};var Mime_1=Mime$1,standard={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/globalThis":["u8msg"],"message/globalThis-delivery-status":["u8dsn"],"message/globalThis-disposition-notification":["u8mdn"],"message/globalThis-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};let Mime=Mime_1;var lite=new Mime(standard);function _extends$4(){return _extends$4=Object.assign||function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$4.apply(this,arguments)}var useLatest=function(et){var _e=react.exports.useRef(et);return _e.current=et,_e},observerErr="\u{1F4A1} react-cool-dimensions: the browser doesn't support Resize Observer, please use polyfill: https://github.com/wellyshen/react-cool-dimensions#resizeobserver-polyfill",borderBoxWarn="\u{1F4A1} react-cool-dimensions: the browser doesn't support border-box size, fallback to content-box size. Please see: https://github.com/wellyshen/react-cool-dimensions#border-box-size-measurement",getCurrentBreakpoint=function et(_e,tt){var rt="",nt=-1;return Object.keys(_e).forEach(function(it){var at=_e[it];tt>=at&&at>nt&&(rt=it,nt=at)}),rt},useDimensions=function et(_e){var tt=_e===void 0?{}:_e,rt=tt.useBorderBoxSize,nt=tt.breakpoints,it=tt.updateOnBreakpointChange,at=tt.shouldUpdate,ot=tt.onResize,ct=tt.polyfill,ut=react.exports.useState({currentBreakpoint:"",width:0,height:0}),ft=ut[0],yt=ut[1],bt=react.exports.useRef({}),Et=react.exports.useRef(),Ct=react.exports.useRef(),At=react.exports.useRef(!1),St=react.exports.useRef(),Tt=useLatest(ot),$t=useLatest(at),kt=react.exports.useCallback(function(){Ct.current&&Ct.current.disconnect()},[]),Pt=react.exports.useCallback(function(Ot){Ot&&Ot!==St.current&&(kt(),St.current=Ot),Ct.current&&St.current&&Ct.current.observe(St.current)},[kt]);return react.exports.useEffect(function(){if((!("ResizeObserver"in window)||!("ResizeObserverEntry"in window))&&!ct)return console.error(observerErr),function(){return null};var Ot=null;return Ct.current=new(ct||ResizeObserver)(function(Ht){var qt=Ht[0];Ot=requestAnimationFrame(function(){var Zt=qt.contentBoxSize,tr=qt.borderBoxSize,Dt=qt.contentRect,Rt=Zt;rt&&(tr?Rt=tr:At.current||(console.warn(borderBoxWarn),At.current=!0)),Rt=Array.isArray(Rt)?Rt[0]:Rt;var Nt=Rt?Rt.inlineSize:Dt.width,ht=Rt?Rt.blockSize:Dt.height;if(!(Nt===bt.current.width&&ht===bt.current.height)){bt.current={width:Nt,height:ht};var st={currentBreakpoint:"",width:Nt,height:ht,entry:qt,observe:Pt,unobserve:kt};nt?(st.currentBreakpoint=getCurrentBreakpoint(nt,Nt),st.currentBreakpoint!==Et.current&&(Tt.current&&Tt.current(st),Et.current=st.currentBreakpoint)):Tt.current&&Tt.current(st);var dt={currentBreakpoint:st.currentBreakpoint,width:Nt,height:ht,entry:qt};if(!($t.current&&!$t.current(dt))){if(!$t.current&&nt&&it){yt(function(mt){return mt.currentBreakpoint!==dt.currentBreakpoint?dt:mt});return}yt(dt)}}})}),Pt(),function(){kt(),Ot&&cancelAnimationFrame(Ot)}},[JSON.stringify(nt),rt,Pt,kt,it]),_extends$4({},ft,{observe:Pt,unobserve:kt})},__spreadArray=globalThis&&globalThis.__spreadArray||function(et,_e,tt){if(tt||arguments.length===2)for(var rt=0,nt=_e.length,it;rt<nt;rt++)(it||!(rt in _e))&&(it||(it=Array.prototype.slice.call(_e,0,rt)),it[rt]=_e[rt]);return et.concat(it||Array.prototype.slice.call(_e))},BrowserInfo=function(){function et(_e,tt,rt){this.name=_e,this.version=tt,this.os=rt,this.type="browser"}return et}(),NodeInfo=function(){function et(_e){this.version=_e,this.type="node",this.name="node",this.os=process.platform}return et}(),SearchBotDeviceInfo=function(){function et(_e,tt,rt,nt){this.name=_e,this.version=tt,this.os=rt,this.bot=nt,this.type="bot-device"}return et}(),BotInfo=function(){function et(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return et}(),ReactNativeInfo=function(){function et(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return et}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(et){return et?parseUserAgent(et):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(et){return et!==""&&userAgentRules.reduce(function(_e,tt){var rt=tt[0],nt=tt[1];if(_e)return _e;var it=nt.exec(et);return!!it&&[rt,it]},!1)}function parseUserAgent(et){var _e=matchUserAgent(et);if(!_e)return null;var tt=_e[0],rt=_e[1];if(tt==="searchbot")return new BotInfo;var nt=rt[1]&&rt[1].split(".").join("_").split("_").slice(0,3);nt?nt.length<REQUIRED_VERSION_PARTS&&(nt=__spreadArray(__spreadArray([],nt,!0),createVersionParts(REQUIRED_VERSION_PARTS-nt.length),!0)):nt=[];var it=nt.join("."),at=detectOS$1(et),ot=SEARCHBOT_OS_REGEX.exec(et);return ot&&ot[1]?new SearchBotDeviceInfo(tt,it,at,ot[1]):new BrowserInfo(tt,it,at)}function detectOS$1(et){for(var _e=0,tt=operatingSystemRules.length;_e<tt;_e++){var rt=operatingSystemRules[_e],nt=rt[0],it=rt[1],at=it.exec(et);if(at)return nt}return null}function getNodeVersion(){var et=typeof process<"u"&&process.version;return et?new NodeInfo(process.version.slice(1)):null}function createVersionParts(et){for(var _e=[],tt=0;tt<et;tt++)_e.push("0");return _e}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$3.apply(this,arguments)}function memoize(et){var _e=Object.create(null);return function(tt){return _e[tt]===void 0&&(_e[tt]=et(tt)),_e[tt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(et){return reactPropsRegex.test(et)||et.charCodeAt(0)===111&&et.charCodeAt(1)===110&&et.charCodeAt(2)<91});function sheetForTag(et){if(et.sheet)return et.sheet;for(var _e=0;_e<document.styleSheets.length;_e++)if(document.styleSheets[_e].ownerNode===et)return document.styleSheets[_e]}function createStyleElement(et){var _e=document.createElement("style");return _e.setAttribute("data-emotion",et.key),et.nonce!==void 0&&_e.setAttribute("nonce",et.nonce),_e.appendChild(document.createTextNode("")),_e.setAttribute("data-s",""),_e}var StyleSheet=function(){function et(tt){var rt=this;this._insertTag=function(nt){var it;rt.tags.length===0?rt.insertionPoint?it=rt.insertionPoint.nextSibling:rt.prepend?it=rt.container.firstChild:it=rt.before:it=rt.tags[rt.tags.length-1].nextSibling,rt.container.insertBefore(nt,it),rt.tags.push(nt)},this.isSpeedy=tt.speedy===void 0?!0:tt.speedy,this.tags=[],this.ctr=0,this.nonce=tt.nonce,this.key=tt.key,this.container=tt.container,this.prepend=tt.prepend,this.insertionPoint=tt.insertionPoint,this.before=null}var _e=et.prototype;return _e.hydrate=function(rt){rt.forEach(this._insertTag)},_e.insert=function(rt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var nt=this.tags[this.tags.length-1];if(this.isSpeedy){var it=sheetForTag(nt);try{it.insertRule(rt,it.cssRules.length)}catch{}}else nt.appendChild(document.createTextNode(rt));this.ctr++},_e.flush=function(){this.tags.forEach(function(rt){return rt.parentNode&&rt.parentNode.removeChild(rt)}),this.tags=[],this.ctr=0},et}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(et,_e){return charat(et,0)^45?(((_e<<2^charat(et,0))<<2^charat(et,1))<<2^charat(et,2))<<2^charat(et,3):0}function trim(et){return et.trim()}function match$1(et,_e){return(et=_e.exec(et))?et[0]:et}function replace(et,_e,tt){return et.replace(_e,tt)}function indexof(et,_e){return et.indexOf(_e)}function charat(et,_e){return et.charCodeAt(_e)|0}function substr(et,_e,tt){return et.slice(_e,tt)}function strlen(et){return et.length}function sizeof(et){return et.length}function append(et,_e){return _e.push(et),et}function combine(et,_e){return et.map(_e).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(et,_e,tt,rt,nt,it,at){return{value:et,root:_e,parent:tt,type:rt,props:nt,children:it,line,column,length:at,return:""}}function copy(et,_e){return assign(node("",null,null,"",null,null,0),et,{length:-et.length},_e)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$1(et,_e){return substr(characters,et,_e)}function token(et){switch(et){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(et){return line=column=1,length=strlen(characters=et),position=0,[]}function dealloc(et){return characters="",et}function delimit(et){return trim(slice$1(position-1,delimiter(et===91?et+2:et===40?et+1:et)))}function whitespace(et){for(;(character=peek())&&character<33;)next();return token(et)>2||token(character)>3?"":" "}function escaping(et,_e){for(;--_e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(et,caret()+(_e<6&&peek()==32&&next()==32))}function delimiter(et){for(;next();)switch(character){case et:return position;case 34:case 39:et!==34&&et!==39&&delimiter(character);break;case 40:et===41&&delimiter(et);break;case 92:next();break}return position}function commenter(et,_e){for(;next()&&et+character!==47+10;)if(et+character===42+42&&peek()===47)break;return"/*"+slice$1(_e,position-1)+"*"+from(et===47?et:next())}function identifier(et){for(;!token(peek());)next();return slice$1(et,position)}function compile(et){return dealloc(parse("",null,null,null,[""],et=alloc(et),0,[0],et))}function parse(et,_e,tt,rt,nt,it,at,ot,ct){for(var ut=0,ft=0,yt=at,bt=0,Et=0,Ct=0,At=1,St=1,Tt=1,$t=0,kt="",Pt=nt,Ot=it,Ht=rt,qt=kt;St;)switch(Ct=$t,$t=next()){case 40:if(Ct!=108&&charat(qt,yt-1)==58){indexof(qt+=replace(delimit($t),"&","&\f"),"&\f")!=-1&&(Tt=-1);break}case 34:case 39:case 91:qt+=delimit($t);break;case 9:case 10:case 13:case 32:qt+=whitespace(Ct);break;case 92:qt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),_e,tt),ct);break;default:qt+="/"}break;case 123*At:ot[ut++]=strlen(qt)*Tt;case 125*At:case 59:case 0:switch($t){case 0:case 125:St=0;case 59+ft:Et>0&&strlen(qt)-yt&&append(Et>32?declaration(qt+";",rt,tt,yt-1):declaration(replace(qt," ","")+";",rt,tt,yt-2),ct);break;case 59:qt+=";";default:if(append(Ht=ruleset(qt,_e,tt,ut,ft,nt,ot,kt,Pt=[],Ot=[],yt),it),$t===123)if(ft===0)parse(qt,_e,Ht,Ht,Pt,it,yt,ot,Ot);else switch(bt===99&&charat(qt,3)===110?100:bt){case 100:case 109:case 115:parse(et,Ht,Ht,rt&&append(ruleset(et,Ht,Ht,0,0,nt,ot,kt,nt,Pt=[],yt),Ot),nt,Ot,yt,ot,rt?Pt:Ot);break;default:parse(qt,Ht,Ht,Ht,[""],Ot,0,ot,Ot)}}ut=ft=Et=0,At=Tt=1,kt=qt="",yt=at;break;case 58:yt=1+strlen(qt),Et=Ct;default:if(At<1){if($t==123)--At;else if($t==125&&At++==0&&prev()==125)continue}switch(qt+=from($t),$t*At){case 38:Tt=ft>0?1:(qt+="\f",-1);break;case 44:ot[ut++]=(strlen(qt)-1)*Tt,Tt=1;break;case 64:peek()===45&&(qt+=delimit(next())),bt=peek(),ft=yt=strlen(kt=qt+=identifier(caret())),$t++;break;case 45:Ct===45&&strlen(qt)==2&&(At=0)}}return it}function ruleset(et,_e,tt,rt,nt,it,at,ot,ct,ut,ft){for(var yt=nt-1,bt=nt===0?it:[""],Et=sizeof(bt),Ct=0,At=0,St=0;Ct<rt;++Ct)for(var Tt=0,$t=substr(et,yt+1,yt=abs(At=at[Ct])),kt=et;Tt<Et;++Tt)(kt=trim(At>0?bt[Tt]+" "+$t:replace($t,/&\f/g,bt[Tt])))&&(ct[St++]=kt);return node(et,_e,tt,nt===0?RULESET:ot,ct,ut,ft)}function comment(et,_e,tt){return node(et,_e,tt,COMMENT,from(char()),substr(et,2,-2),0)}function declaration(et,_e,tt,rt){return node(et,_e,tt,DECLARATION,substr(et,0,rt),substr(et,rt+1,-1),rt)}function serialize(et,_e){for(var tt="",rt=sizeof(et),nt=0;nt<rt;nt++)tt+=_e(et[nt],nt,et,_e)||"";return tt}function stringify(et,_e,tt,rt){switch(et.type){case IMPORT:case DECLARATION:return et.return=et.return||et.value;case COMMENT:return"";case KEYFRAMES:return et.return=et.value+"{"+serialize(et.children,rt)+"}";case RULESET:et.value=et.props.join(",")}return strlen(tt=serialize(et.children,rt))?et.return=et.value+"{"+tt+"}":""}function middleware(et){var _e=sizeof(et);return function(tt,rt,nt,it){for(var at="",ot=0;ot<_e;ot++)at+=et[ot](tt,rt,nt,it)||"";return at}}function rulesheet(et){return function(_e){_e.root||(_e=_e.return)&&et(_e)}}var weakMemoize=function et(_e){var tt=new WeakMap;return function(rt){if(tt.has(rt))return tt.get(rt);var nt=_e(rt);return tt.set(rt,nt),nt}},identifierWithPointTracking=function et(_e,tt,rt){for(var nt=0,it=0;nt=it,it=peek(),nt===38&&it===12&&(tt[rt]=1),!token(it);)next();return slice$1(_e,position)},toRules=function et(_e,tt){var rt=-1,nt=44;do switch(token(nt)){case 0:nt===38&&peek()===12&&(tt[rt]=1),_e[rt]+=identifierWithPointTracking(position-1,tt,rt);break;case 2:_e[rt]+=delimit(nt);break;case 4:if(nt===44){_e[++rt]=peek()===58?"&\f":"",tt[rt]=_e[rt].length;break}default:_e[rt]+=from(nt)}while(nt=next());return _e},getRules=function et(_e,tt){return dealloc(toRules(alloc(_e),tt))},fixedElements=new WeakMap,compat=function et(_e){if(!(_e.type!=="rule"||!_e.parent||_e.length<1)){for(var tt=_e.value,rt=_e.parent,nt=_e.column===rt.column&&_e.line===rt.line;rt.type!=="rule";)if(rt=rt.parent,!rt)return;if(!(_e.props.length===1&&tt.charCodeAt(0)!==58&&!fixedElements.get(rt))&&!nt){fixedElements.set(_e,!0);for(var it=[],at=getRules(tt,it),ot=rt.props,ct=0,ut=0;ct<at.length;ct++)for(var ft=0;ft<ot.length;ft++,ut++)_e.props[ut]=it[ct]?at[ct].replace(/&\f/g,ot[ft]):ot[ft]+" "+at[ct]}}},removeLabel=function et(_e){if(_e.type==="decl"){var tt=_e.value;tt.charCodeAt(0)===108&&tt.charCodeAt(2)===98&&(_e.return="",_e.value="")}};function prefix(et,_e){switch(hash(et,_e)){case 5103:return WEBKIT+"print-"+et+et;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+et+et;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+et+MOZ+et+MS+et+et;case 6828:case 4268:return WEBKIT+et+MS+et+et;case 6165:return WEBKIT+et+MS+"flex-"+et+et;case 5187:return WEBKIT+et+replace(et,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+et;case 5443:return WEBKIT+et+MS+"flex-item-"+replace(et,/flex-|-self/,"")+et;case 4675:return WEBKIT+et+MS+"flex-line-pack"+replace(et,/align-content|flex-|-self/,"")+et;case 5548:return WEBKIT+et+MS+replace(et,"shrink","negative")+et;case 5292:return WEBKIT+et+MS+replace(et,"basis","preferred-size")+et;case 6060:return WEBKIT+"box-"+replace(et,"-grow","")+WEBKIT+et+MS+replace(et,"grow","positive")+et;case 4554:return WEBKIT+replace(et,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+et;case 6187:return replace(replace(replace(et,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),et,"")+et;case 5495:case 3959:return replace(et,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(et,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+et+et;case 4095:case 3583:case 4068:case 2532:return replace(et,/(.+)-inline(.+)/,WEBKIT+"$1$2")+et;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(et)-1-_e>6)switch(charat(et,_e+1)){case 109:if(charat(et,_e+4)!==45)break;case 102:return replace(et,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(et,_e+3)==108?"$3":"$2-$3"))+et;case 115:return~indexof(et,"stretch")?prefix(replace(et,"stretch","fill-available"),_e)+et:et}break;case 4949:if(charat(et,_e+1)!==115)break;case 6444:switch(charat(et,strlen(et)-3-(~indexof(et,"!important")&&10))){case 107:return replace(et,":",":"+WEBKIT)+et;case 101:return replace(et,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(et,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+et}break;case 5936:switch(charat(et,_e+11)){case 114:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"tb")+et;case 108:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"tb-rl")+et;case 45:return WEBKIT+et+MS+replace(et,/[svh]\w+-[tblr]{2}/,"lr")+et}return WEBKIT+et+MS+et+et}return et}var prefixer=function et(_e,tt,rt,nt){if(_e.length>-1&&!_e.return)switch(_e.type){case DECLARATION:_e.return=prefix(_e.value,_e.length);break;case KEYFRAMES:return serialize([copy(_e,{value:replace(_e.value,"@","@"+WEBKIT)})],nt);case RULESET:if(_e.length)return combine(_e.props,function(it){switch(match$1(it,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(_e,{props:[replace(it,/:(read-\w+)/,":"+MOZ+"$1")]})],nt);case"::placeholder":return serialize([copy(_e,{props:[replace(it,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(_e,{props:[replace(it,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(_e,{props:[replace(it,/:(plac\w+)/,MS+"input-$1")]})],nt)}return""})}},defaultStylisPlugins=[prefixer],createCache=function et(_e){var tt=_e.key;if(tt==="css"){var rt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(rt,function(At){var St=At.getAttribute("data-emotion");St.indexOf(" ")!==-1&&(document.head.appendChild(At),At.setAttribute("data-s",""))})}var nt=_e.stylisPlugins||defaultStylisPlugins,it={},at,ot=[];at=_e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+tt+' "]'),function(At){for(var St=At.getAttribute("data-emotion").split(" "),Tt=1;Tt<St.length;Tt++)it[St[Tt]]=!0;ot.push(At)});var ct,ut=[compat,removeLabel];{var ft,yt=[stringify,rulesheet(function(At){ft.insert(At)})],bt=middleware(ut.concat(nt,yt)),Et=function(St){return serialize(compile(St),bt)};ct=function(St,Tt,$t,kt){ft=$t,Et(St?St+"{"+Tt.styles+"}":Tt.styles),kt&&(Ct.inserted[Tt.name]=!0)}}var Ct={key:tt,sheet:new StyleSheet({key:tt,container:at,nonce:_e.nonce,speedy:_e.speedy,prepend:_e.prepend,insertionPoint:_e.insertionPoint}),nonce:_e.nonce,inserted:it,registered:{},insert:ct};return Ct.sheet.hydrate(ot),Ct},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c$1=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e$1=b?Symbol.for("react.fragment"):60107,f$1=b?Symbol.for("react.strict_mode"):60108,g$1=b?Symbol.for("react.profiler"):60114,h$1=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l$1=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n$1=b?Symbol.for("react.forward_ref"):60112,p$1=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r$1=b?Symbol.for("react.memo"):60115,t$1=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(et){if(typeof et=="object"&&et!==null){var _e=et.$$typeof;switch(_e){case c$1:switch(et=et.type,et){case l$1:case m:case e$1:case g$1:case f$1:case p$1:return et;default:switch(et=et&&et.$$typeof,et){case k:case n$1:case t$1:case r$1:case h$1:return et;default:return _e}}case d:return _e}}}function A(et){return z(et)===m}reactIs_production_min.AsyncMode=l$1;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e$1;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(et){return A(et)||z(et)===l$1};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(et){return z(et)===k};reactIs_production_min.isContextProvider=function(et){return z(et)===h$1};reactIs_production_min.isElement=function(et){return typeof et=="object"&&et!==null&&et.$$typeof===c$1};reactIs_production_min.isForwardRef=function(et){return z(et)===n$1};reactIs_production_min.isFragment=function(et){return z(et)===e$1};reactIs_production_min.isLazy=function(et){return z(et)===t$1};reactIs_production_min.isMemo=function(et){return z(et)===r$1};reactIs_production_min.isPortal=function(et){return z(et)===d};reactIs_production_min.isProfiler=function(et){return z(et)===g$1};reactIs_production_min.isStrictMode=function(et){return z(et)===f$1};reactIs_production_min.isSuspense=function(et){return z(et)===p$1};reactIs_production_min.isValidElementType=function(et){return typeof et=="string"||typeof et=="function"||et===e$1||et===m||et===g$1||et===f$1||et===p$1||et===q||typeof et=="object"&&et!==null&&(et.$$typeof===t$1||et.$$typeof===r$1||et.$$typeof===h$1||et.$$typeof===k||et.$$typeof===n$1||et.$$typeof===w||et.$$typeof===x||et.$$typeof===y||et.$$typeof===v)};reactIs_production_min.typeOf=z;(function(et){et.exports=reactIs_production_min})(reactIs$1);var reactIs=reactIs$1.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(et,_e,tt){var rt="";return tt.split(" ").forEach(function(nt){et[nt]!==void 0?_e.push(et[nt]+";"):rt+=nt+" "}),rt}var registerStyles=function et(_e,tt,rt){var nt=_e.key+"-"+tt.name;(rt===!1||isBrowser$1===!1)&&_e.registered[nt]===void 0&&(_e.registered[nt]=tt.styles)},insertStyles=function et(_e,tt,rt){registerStyles(_e,tt,rt);var nt=_e.key+"-"+tt.name;if(_e.inserted[tt.name]===void 0){var it=tt;do _e.insert(tt===it?"."+nt:"",it,_e.sheet,!0),it=it.next;while(it!==void 0)}};function murmur2(et){for(var _e=0,tt,rt=0,nt=et.length;nt>=4;++rt,nt-=4)tt=et.charCodeAt(rt)&255|(et.charCodeAt(++rt)&255)<<8|(et.charCodeAt(++rt)&255)<<16|(et.charCodeAt(++rt)&255)<<24,tt=(tt&65535)*1540483477+((tt>>>16)*59797<<16),tt^=tt>>>24,_e=(tt&65535)*1540483477+((tt>>>16)*59797<<16)^(_e&65535)*1540483477+((_e>>>16)*59797<<16);switch(nt){case 3:_e^=(et.charCodeAt(rt+2)&255)<<16;case 2:_e^=(et.charCodeAt(rt+1)&255)<<8;case 1:_e^=et.charCodeAt(rt)&255,_e=(_e&65535)*1540483477+((_e>>>16)*59797<<16)}return _e^=_e>>>13,_e=(_e&65535)*1540483477+((_e>>>16)*59797<<16),((_e^_e>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function et(_e){return _e.charCodeAt(1)===45},isProcessableValue=function et(_e){return _e!=null&&typeof _e!="boolean"},processStyleName=memoize(function(et){return isCustomProperty(et)?et:et.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function et(_e,tt){switch(_e){case"animation":case"animationName":if(typeof tt=="string")return tt.replace(animationRegex,function(rt,nt,it){return cursor={name:nt,styles:it,next:cursor},nt})}return unitlessKeys[_e]!==1&&!isCustomProperty(_e)&&typeof tt=="number"&&tt!==0?tt+"px":tt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(et,_e,tt){if(tt==null)return"";if(tt.__emotion_styles!==void 0)return tt;switch(typeof tt){case"boolean":return"";case"object":{if(tt.anim===1)return cursor={name:tt.name,styles:tt.styles,next:cursor},tt.name;if(tt.styles!==void 0){var rt=tt.next;if(rt!==void 0)for(;rt!==void 0;)cursor={name:rt.name,styles:rt.styles,next:cursor},rt=rt.next;var nt=tt.styles+";";return nt}return createStringFromObject(et,_e,tt)}case"function":{if(et!==void 0){var it=cursor,at=tt(et);return cursor=it,handleInterpolation(et,_e,at)}break}}if(_e==null)return tt;var ot=_e[tt];return ot!==void 0?ot:tt}function createStringFromObject(et,_e,tt){var rt="";if(Array.isArray(tt))for(var nt=0;nt<tt.length;nt++)rt+=handleInterpolation(et,_e,tt[nt])+";";else for(var it in tt){var at=tt[it];if(typeof at!="object")_e!=null&&_e[at]!==void 0?rt+=it+"{"+_e[at]+"}":isProcessableValue(at)&&(rt+=processStyleName(it)+":"+processStyleValue(it,at)+";");else if(Array.isArray(at)&&typeof at[0]=="string"&&(_e==null||_e[at[0]]===void 0))for(var ot=0;ot<at.length;ot++)isProcessableValue(at[ot])&&(rt+=processStyleName(it)+":"+processStyleValue(it,at[ot])+";");else{var ct=handleInterpolation(et,_e,at);switch(it){case"animation":case"animationName":{rt+=processStyleName(it)+":"+ct+";";break}default:rt+=it+"{"+ct+"}"}}}return rt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function et(_e,tt,rt){if(_e.length===1&&typeof _e[0]=="object"&&_e[0]!==null&&_e[0].styles!==void 0)return _e[0];var nt=!0,it="";cursor=void 0;var at=_e[0];at==null||at.raw===void 0?(nt=!1,it+=handleInterpolation(rt,tt,at)):it+=at[0];for(var ot=1;ot<_e.length;ot++)it+=handleInterpolation(rt,tt,_e[ot]),nt&&(it+=at[ot]);labelPattern.lastIndex=0;for(var ct="",ut;(ut=labelPattern.exec(it))!==null;)ct+="-"+ut[1];var ft=murmur2(it)+ct;return{name:ft,styles:it,next:cursor}},syncFallback=function et(_e){return _e()},useInsertionEffect=React$2["useInsertionEffect"]?React$2["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,EmotionCacheContext=react.exports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function et(_e){return react.exports.forwardRef(function(tt,rt){var nt=react.exports.useContext(EmotionCacheContext);return _e(tt,nt,rt)})},ThemeContext=react.exports.createContext({}),getTheme=function et(_e,tt){if(typeof tt=="function"){var rt=tt(_e);return rt}return _extends$3({},_e,tt)},createCacheWithTheme=weakMemoize(function(et){return weakMemoize(function(_e){return getTheme(et,_e)})}),ThemeProvider$1=function et(_e){var tt=react.exports.useContext(ThemeContext);return _e.theme!==tt&&(tt=createCacheWithTheme(tt)(_e.theme)),react.exports.createElement(ThemeContext.Provider,{value:tt},_e.children)};function css(){for(var et=arguments.length,_e=new Array(et),tt=0;tt<et;tt++)_e[tt]=arguments[tt];return serializeStyles(_e)}var keyframes=function et(){var _e=css.apply(void 0,arguments),tt="animation-"+_e.name;return{name:tt,styles:"@keyframes "+tt+"{"+_e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function et(_e){return _e!=="theme"},getDefaultShouldForwardProp=function et(_e){return typeof _e=="string"&&_e.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function et(_e,tt,rt){var nt;if(tt){var it=tt.shouldForwardProp;nt=_e.__emotion_forwardProp&&it?function(at){return _e.__emotion_forwardProp(at)&&it(at)}:it}return typeof nt!="function"&&rt&&(nt=_e.__emotion_forwardProp),nt},Insertion=function et(_e){var tt=_e.cache,rt=_e.serialized,nt=_e.isStringTag;return registerStyles(tt,rt,nt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(tt,rt,nt)}),null},createStyled=function et(_e,tt){var rt=_e.__emotion_real===_e,nt=rt&&_e.__emotion_base||_e,it,at;tt!==void 0&&(it=tt.label,at=tt.target);var ot=composeShouldForwardProps(_e,tt,rt),ct=ot||getDefaultShouldForwardProp(nt),ut=!ct("as");return function(){var ft=arguments,yt=rt&&_e.__emotion_styles!==void 0?_e.__emotion_styles.slice(0):[];if(it!==void 0&&yt.push("label:"+it+";"),ft[0]==null||ft[0].raw===void 0)yt.push.apply(yt,ft);else{yt.push(ft[0][0]);for(var bt=ft.length,Et=1;Et<bt;Et++)yt.push(ft[Et],ft[0][Et])}var Ct=withEmotionCache(function(At,St,Tt){var $t=ut&&At.as||nt,kt="",Pt=[],Ot=At;if(At.theme==null){Ot={};for(var Ht in At)Ot[Ht]=At[Ht];Ot.theme=react.exports.useContext(ThemeContext)}typeof At.className=="string"?kt=getRegisteredStyles(St.registered,Pt,At.className):At.className!=null&&(kt=At.className+" ");var qt=serializeStyles(yt.concat(Pt),St.registered,Ot);kt+=St.key+"-"+qt.name,at!==void 0&&(kt+=" "+at);var Zt=ut&&ot===void 0?getDefaultShouldForwardProp($t):ct,tr={};for(var Dt in At)ut&&Dt==="as"||Zt(Dt)&&(tr[Dt]=At[Dt]);return tr.className=kt,tr.ref=Tt,react.exports.createElement(react.exports.Fragment,null,react.exports.createElement(Insertion,{cache:St,serialized:qt,isStringTag:typeof $t=="string"}),react.exports.createElement($t,tr))});return Ct.displayName=it!==void 0?it:"Styled("+(typeof nt=="string"?nt:nt.displayName||nt.name||"Component")+")",Ct.defaultProps=_e.defaultProps,Ct.__emotion_real=Ct,Ct.__emotion_base=nt,Ct.__emotion_styles=yt,Ct.__emotion_forwardProp=ot,Object.defineProperty(Ct,"toString",{value:function(){return"."+at}}),Ct.withComponent=function(At,St){return et(At,_extends$3({},tt,St,{shouldForwardProp:composeShouldForwardProps(Ct,St,!0)})).apply(void 0,yt)},Ct}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind();tags.forEach(function(et){newStyled[et]=newStyled(et)});var colorString$1={exports:{}},colorName$1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function et(_e){return!_e||typeof _e=="string"?!1:_e instanceof Array||Array.isArray(_e)||_e.length>=0&&(_e.splice instanceof Function||Object.getOwnPropertyDescriptor(_e,_e.length-1)&&_e.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function et(_e){for(var tt=[],rt=0,nt=_e.length;rt<nt;rt++){var it=_e[rt];isArrayish(it)?tt=concat.call(tt,slice.call(it)):tt.push(it)}return tt};swizzle$1.wrap=function(et){return function(){return et(swizzle$1(arguments))}};var colorNames=colorName$1,swizzle=simpleSwizzle.exports,hasOwnProperty=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(et){var _e=et.substring(0,3).toLowerCase(),tt,rt;switch(_e){case"hsl":tt=cs.get.hsl(et),rt="hsl";break;case"hwb":tt=cs.get.hwb(et),rt="hwb";break;default:tt=cs.get.rgb(et),rt="rgb";break}return tt?{model:rt,value:tt}:null};cs.get.rgb=function(et){if(!et)return null;var _e=/^#([a-f0-9]{3,4})$/i,tt=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,rt=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,nt=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,it=/^(\w+)$/,at=[0,0,0,1],ot,ct,ut;if(ot=et.match(tt)){for(ut=ot[2],ot=ot[1],ct=0;ct<3;ct++){var ft=ct*2;at[ct]=parseInt(ot.slice(ft,ft+2),16)}ut&&(at[3]=parseInt(ut,16)/255)}else if(ot=et.match(_e)){for(ot=ot[1],ut=ot[3],ct=0;ct<3;ct++)at[ct]=parseInt(ot[ct]+ot[ct],16);ut&&(at[3]=parseInt(ut+ut,16)/255)}else if(ot=et.match(rt)){for(ct=0;ct<3;ct++)at[ct]=parseInt(ot[ct+1],0);ot[4]&&(ot[5]?at[3]=parseFloat(ot[4])*.01:at[3]=parseFloat(ot[4]))}else if(ot=et.match(nt)){for(ct=0;ct<3;ct++)at[ct]=Math.round(parseFloat(ot[ct+1])*2.55);ot[4]&&(ot[5]?at[3]=parseFloat(ot[4])*.01:at[3]=parseFloat(ot[4]))}else return(ot=et.match(it))?ot[1]==="transparent"?[0,0,0,0]:hasOwnProperty.call(colorNames,ot[1])?(at=colorNames[ot[1]],at[3]=1,at):null:null;for(ct=0;ct<3;ct++)at[ct]=clamp(at[ct],0,255);return at[3]=clamp(at[3],0,1),at};cs.get.hsl=function(et){if(!et)return null;var _e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,tt=et.match(_e);if(tt){var rt=parseFloat(tt[4]),nt=(parseFloat(tt[1])%360+360)%360,it=clamp(parseFloat(tt[2]),0,100),at=clamp(parseFloat(tt[3]),0,100),ot=clamp(isNaN(rt)?1:rt,0,1);return[nt,it,at,ot]}return null};cs.get.hwb=function(et){if(!et)return null;var _e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,tt=et.match(_e);if(tt){var rt=parseFloat(tt[4]),nt=(parseFloat(tt[1])%360+360)%360,it=clamp(parseFloat(tt[2]),0,100),at=clamp(parseFloat(tt[3]),0,100),ot=clamp(isNaN(rt)?1:rt,0,1);return[nt,it,at,ot]}return null};cs.to.hex=function(){var et=swizzle(arguments);return"#"+hexDouble(et[0])+hexDouble(et[1])+hexDouble(et[2])+(et[3]<1?hexDouble(Math.round(et[3]*255)):"")};cs.to.rgb=function(){var et=swizzle(arguments);return et.length<4||et[3]===1?"rgb("+Math.round(et[0])+", "+Math.round(et[1])+", "+Math.round(et[2])+")":"rgba("+Math.round(et[0])+", "+Math.round(et[1])+", "+Math.round(et[2])+", "+et[3]+")"};cs.to.rgb.percent=function(){var et=swizzle(arguments),_e=Math.round(et[0]/255*100),tt=Math.round(et[1]/255*100),rt=Math.round(et[2]/255*100);return et.length<4||et[3]===1?"rgb("+_e+"%, "+tt+"%, "+rt+"%)":"rgba("+_e+"%, "+tt+"%, "+rt+"%, "+et[3]+")"};cs.to.hsl=function(){var et=swizzle(arguments);return et.length<4||et[3]===1?"hsl("+et[0]+", "+et[1]+"%, "+et[2]+"%)":"hsla("+et[0]+", "+et[1]+"%, "+et[2]+"%, "+et[3]+")"};cs.to.hwb=function(){var et=swizzle(arguments),_e="";return et.length>=4&&et[3]!==1&&(_e=", "+et[3]),"hwb("+et[0]+", "+et[1]+"%, "+et[2]+"%"+_e+")"};cs.to.keyword=function(et){return reverseNames[et.slice(0,3)]};function clamp(et,_e,tt){return Math.min(Math.max(_e,et),tt)}function hexDouble(et){var _e=Math.round(et).toString(16).toUpperCase();return _e.length<2?"0"+_e:_e}var colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const cssKeywords=colorName,reverseKeywords={};for(const et of Object.keys(cssKeywords))reverseKeywords[cssKeywords[et]]=et;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const et of Object.keys(convert$2)){if(!("channels"in convert$2[et]))throw new Error("missing channels property: "+et);if(!("labels"in convert$2[et]))throw new Error("missing channel labels property: "+et);if(convert$2[et].labels.length!==convert$2[et].channels)throw new Error("channel and label counts mismatch: "+et);const{channels:_e,labels:tt}=convert$2[et];delete convert$2[et].channels,delete convert$2[et].labels,Object.defineProperty(convert$2[et],"channels",{value:_e}),Object.defineProperty(convert$2[et],"labels",{value:tt})}convert$2.rgb.hsl=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.min(_e,tt,rt),it=Math.max(_e,tt,rt),at=it-nt;let ot,ct;it===nt?ot=0:_e===it?ot=(tt-rt)/at:tt===it?ot=2+(rt-_e)/at:rt===it&&(ot=4+(_e-tt)/at),ot=Math.min(ot*60,360),ot<0&&(ot+=360);const ut=(nt+it)/2;return it===nt?ct=0:ut<=.5?ct=at/(it+nt):ct=at/(2-it-nt),[ot,ct*100,ut*100]};convert$2.rgb.hsv=function(et){let _e,tt,rt,nt,it;const at=et[0]/255,ot=et[1]/255,ct=et[2]/255,ut=Math.max(at,ot,ct),ft=ut-Math.min(at,ot,ct),yt=function(bt){return(ut-bt)/6/ft+1/2};return ft===0?(nt=0,it=0):(it=ft/ut,_e=yt(at),tt=yt(ot),rt=yt(ct),at===ut?nt=rt-tt:ot===ut?nt=1/3+_e-rt:ct===ut&&(nt=2/3+tt-_e),nt<0?nt+=1:nt>1&&(nt-=1)),[nt*360,it*100,ut*100]};convert$2.rgb.hwb=function(et){const _e=et[0],tt=et[1];let rt=et[2];const nt=convert$2.rgb.hsl(et)[0],it=1/255*Math.min(_e,Math.min(tt,rt));return rt=1-1/255*Math.max(_e,Math.max(tt,rt)),[nt,it*100,rt*100]};convert$2.rgb.cmyk=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.min(1-_e,1-tt,1-rt),it=(1-_e-nt)/(1-nt)||0,at=(1-tt-nt)/(1-nt)||0,ot=(1-rt-nt)/(1-nt)||0;return[it*100,at*100,ot*100,nt*100]};function comparativeDistance(et,_e){return(et[0]-_e[0])**2+(et[1]-_e[1])**2+(et[2]-_e[2])**2}convert$2.rgb.keyword=function(et){const _e=reverseKeywords[et];if(_e)return _e;let tt=1/0,rt;for(const nt of Object.keys(cssKeywords)){const it=cssKeywords[nt],at=comparativeDistance(et,it);at<tt&&(tt=at,rt=nt)}return rt};convert$2.keyword.rgb=function(et){return cssKeywords[et]};convert$2.rgb.xyz=function(et){let _e=et[0]/255,tt=et[1]/255,rt=et[2]/255;_e=_e>.04045?((_e+.055)/1.055)**2.4:_e/12.92,tt=tt>.04045?((tt+.055)/1.055)**2.4:tt/12.92,rt=rt>.04045?((rt+.055)/1.055)**2.4:rt/12.92;const nt=_e*.4124+tt*.3576+rt*.1805,it=_e*.2126+tt*.7152+rt*.0722,at=_e*.0193+tt*.1192+rt*.9505;return[nt*100,it*100,at*100]};convert$2.rgb.lab=function(et){const _e=convert$2.rgb.xyz(et);let tt=_e[0],rt=_e[1],nt=_e[2];tt/=95.047,rt/=100,nt/=108.883,tt=tt>.008856?tt**(1/3):7.787*tt+16/116,rt=rt>.008856?rt**(1/3):7.787*rt+16/116,nt=nt>.008856?nt**(1/3):7.787*nt+16/116;const it=116*rt-16,at=500*(tt-rt),ot=200*(rt-nt);return[it,at,ot]};convert$2.hsl.rgb=function(et){const _e=et[0]/360,tt=et[1]/100,rt=et[2]/100;let nt,it,at;if(tt===0)return at=rt*255,[at,at,at];rt<.5?nt=rt*(1+tt):nt=rt+tt-rt*tt;const ot=2*rt-nt,ct=[0,0,0];for(let ut=0;ut<3;ut++)it=_e+1/3*-(ut-1),it<0&&it++,it>1&&it--,6*it<1?at=ot+(nt-ot)*6*it:2*it<1?at=nt:3*it<2?at=ot+(nt-ot)*(2/3-it)*6:at=ot,ct[ut]=at*255;return ct};convert$2.hsl.hsv=function(et){const _e=et[0];let tt=et[1]/100,rt=et[2]/100,nt=tt;const it=Math.max(rt,.01);rt*=2,tt*=rt<=1?rt:2-rt,nt*=it<=1?it:2-it;const at=(rt+tt)/2,ot=rt===0?2*nt/(it+nt):2*tt/(rt+tt);return[_e,ot*100,at*100]};convert$2.hsv.rgb=function(et){const _e=et[0]/60,tt=et[1]/100;let rt=et[2]/100;const nt=Math.floor(_e)%6,it=_e-Math.floor(_e),at=255*rt*(1-tt),ot=255*rt*(1-tt*it),ct=255*rt*(1-tt*(1-it));switch(rt*=255,nt){case 0:return[rt,ct,at];case 1:return[ot,rt,at];case 2:return[at,rt,ct];case 3:return[at,ot,rt];case 4:return[ct,at,rt];case 5:return[rt,at,ot]}};convert$2.hsv.hsl=function(et){const _e=et[0],tt=et[1]/100,rt=et[2]/100,nt=Math.max(rt,.01);let it,at;at=(2-tt)*rt;const ot=(2-tt)*nt;return it=tt*nt,it/=ot<=1?ot:2-ot,it=it||0,at/=2,[_e,it*100,at*100]};convert$2.hwb.rgb=function(et){const _e=et[0]/360;let tt=et[1]/100,rt=et[2]/100;const nt=tt+rt;let it;nt>1&&(tt/=nt,rt/=nt);const at=Math.floor(6*_e),ot=1-rt;it=6*_e-at,(at&1)!==0&&(it=1-it);const ct=tt+it*(ot-tt);let ut,ft,yt;switch(at){default:case 6:case 0:ut=ot,ft=ct,yt=tt;break;case 1:ut=ct,ft=ot,yt=tt;break;case 2:ut=tt,ft=ot,yt=ct;break;case 3:ut=tt,ft=ct,yt=ot;break;case 4:ut=ct,ft=tt,yt=ot;break;case 5:ut=ot,ft=tt,yt=ct;break}return[ut*255,ft*255,yt*255]};convert$2.cmyk.rgb=function(et){const _e=et[0]/100,tt=et[1]/100,rt=et[2]/100,nt=et[3]/100,it=1-Math.min(1,_e*(1-nt)+nt),at=1-Math.min(1,tt*(1-nt)+nt),ot=1-Math.min(1,rt*(1-nt)+nt);return[it*255,at*255,ot*255]};convert$2.xyz.rgb=function(et){const _e=et[0]/100,tt=et[1]/100,rt=et[2]/100;let nt,it,at;return nt=_e*3.2406+tt*-1.5372+rt*-.4986,it=_e*-.9689+tt*1.8758+rt*.0415,at=_e*.0557+tt*-.204+rt*1.057,nt=nt>.0031308?1.055*nt**(1/2.4)-.055:nt*12.92,it=it>.0031308?1.055*it**(1/2.4)-.055:it*12.92,at=at>.0031308?1.055*at**(1/2.4)-.055:at*12.92,nt=Math.min(Math.max(0,nt),1),it=Math.min(Math.max(0,it),1),at=Math.min(Math.max(0,at),1),[nt*255,it*255,at*255]};convert$2.xyz.lab=function(et){let _e=et[0],tt=et[1],rt=et[2];_e/=95.047,tt/=100,rt/=108.883,_e=_e>.008856?_e**(1/3):7.787*_e+16/116,tt=tt>.008856?tt**(1/3):7.787*tt+16/116,rt=rt>.008856?rt**(1/3):7.787*rt+16/116;const nt=116*tt-16,it=500*(_e-tt),at=200*(tt-rt);return[nt,it,at]};convert$2.lab.xyz=function(et){const _e=et[0],tt=et[1],rt=et[2];let nt,it,at;it=(_e+16)/116,nt=tt/500+it,at=it-rt/200;const ot=it**3,ct=nt**3,ut=at**3;return it=ot>.008856?ot:(it-16/116)/7.787,nt=ct>.008856?ct:(nt-16/116)/7.787,at=ut>.008856?ut:(at-16/116)/7.787,nt*=95.047,it*=100,at*=108.883,[nt,it,at]};convert$2.lab.lch=function(et){const _e=et[0],tt=et[1],rt=et[2];let nt;nt=Math.atan2(rt,tt)*360/2/Math.PI,nt<0&&(nt+=360);const at=Math.sqrt(tt*tt+rt*rt);return[_e,at,nt]};convert$2.lch.lab=function(et){const _e=et[0],tt=et[1],nt=et[2]/360*2*Math.PI,it=tt*Math.cos(nt),at=tt*Math.sin(nt);return[_e,it,at]};convert$2.rgb.ansi16=function(et,_e=null){const[tt,rt,nt]=et;let it=_e===null?convert$2.rgb.hsv(et)[2]:_e;if(it=Math.round(it/50),it===0)return 30;let at=30+(Math.round(nt/255)<<2|Math.round(rt/255)<<1|Math.round(tt/255));return it===2&&(at+=60),at};convert$2.hsv.ansi16=function(et){return convert$2.rgb.ansi16(convert$2.hsv.rgb(et),et[2])};convert$2.rgb.ansi256=function(et){const _e=et[0],tt=et[1],rt=et[2];return _e===tt&&tt===rt?_e<8?16:_e>248?231:Math.round((_e-8)/247*24)+232:16+36*Math.round(_e/255*5)+6*Math.round(tt/255*5)+Math.round(rt/255*5)};convert$2.ansi16.rgb=function(et){let _e=et%10;if(_e===0||_e===7)return et>50&&(_e+=3.5),_e=_e/10.5*255,[_e,_e,_e];const tt=(~~(et>50)+1)*.5,rt=(_e&1)*tt*255,nt=(_e>>1&1)*tt*255,it=(_e>>2&1)*tt*255;return[rt,nt,it]};convert$2.ansi256.rgb=function(et){if(et>=232){const it=(et-232)*10+8;return[it,it,it]}et-=16;let _e;const tt=Math.floor(et/36)/5*255,rt=Math.floor((_e=et%36)/6)/5*255,nt=_e%6/5*255;return[tt,rt,nt]};convert$2.rgb.hex=function(et){const tt=(((Math.round(et[0])&255)<<16)+((Math.round(et[1])&255)<<8)+(Math.round(et[2])&255)).toString(16).toUpperCase();return"000000".substring(tt.length)+tt};convert$2.hex.rgb=function(et){const _e=et.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!_e)return[0,0,0];let tt=_e[0];_e[0].length===3&&(tt=tt.split("").map(ot=>ot+ot).join(""));const rt=parseInt(tt,16),nt=rt>>16&255,it=rt>>8&255,at=rt&255;return[nt,it,at]};convert$2.rgb.hcg=function(et){const _e=et[0]/255,tt=et[1]/255,rt=et[2]/255,nt=Math.max(Math.max(_e,tt),rt),it=Math.min(Math.min(_e,tt),rt),at=nt-it;let ot,ct;return at<1?ot=it/(1-at):ot=0,at<=0?ct=0:nt===_e?ct=(tt-rt)/at%6:nt===tt?ct=2+(rt-_e)/at:ct=4+(_e-tt)/at,ct/=6,ct%=1,[ct*360,at*100,ot*100]};convert$2.hsl.hcg=function(et){const _e=et[1]/100,tt=et[2]/100,rt=tt<.5?2*_e*tt:2*_e*(1-tt);let nt=0;return rt<1&&(nt=(tt-.5*rt)/(1-rt)),[et[0],rt*100,nt*100]};convert$2.hsv.hcg=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e*tt;let nt=0;return rt<1&&(nt=(tt-rt)/(1-rt)),[et[0],rt*100,nt*100]};convert$2.hcg.rgb=function(et){const _e=et[0]/360,tt=et[1]/100,rt=et[2]/100;if(tt===0)return[rt*255,rt*255,rt*255];const nt=[0,0,0],it=_e%1*6,at=it%1,ot=1-at;let ct=0;switch(Math.floor(it)){case 0:nt[0]=1,nt[1]=at,nt[2]=0;break;case 1:nt[0]=ot,nt[1]=1,nt[2]=0;break;case 2:nt[0]=0,nt[1]=1,nt[2]=at;break;case 3:nt[0]=0,nt[1]=ot,nt[2]=1;break;case 4:nt[0]=at,nt[1]=0,nt[2]=1;break;default:nt[0]=1,nt[1]=0,nt[2]=ot}return ct=(1-tt)*rt,[(tt*nt[0]+ct)*255,(tt*nt[1]+ct)*255,(tt*nt[2]+ct)*255]};convert$2.hcg.hsv=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e+tt*(1-_e);let nt=0;return rt>0&&(nt=_e/rt),[et[0],nt*100,rt*100]};convert$2.hcg.hsl=function(et){const _e=et[1]/100,rt=et[2]/100*(1-_e)+.5*_e;let nt=0;return rt>0&&rt<.5?nt=_e/(2*rt):rt>=.5&&rt<1&&(nt=_e/(2*(1-rt))),[et[0],nt*100,rt*100]};convert$2.hcg.hwb=function(et){const _e=et[1]/100,tt=et[2]/100,rt=_e+tt*(1-_e);return[et[0],(rt-_e)*100,(1-rt)*100]};convert$2.hwb.hcg=function(et){const _e=et[1]/100,rt=1-et[2]/100,nt=rt-_e;let it=0;return nt<1&&(it=(rt-nt)/(1-nt)),[et[0],nt*100,it*100]};convert$2.apple.rgb=function(et){return[et[0]/65535*255,et[1]/65535*255,et[2]/65535*255]};convert$2.rgb.apple=function(et){return[et[0]/255*65535,et[1]/255*65535,et[2]/255*65535]};convert$2.gray.rgb=function(et){return[et[0]/100*255,et[0]/100*255,et[0]/100*255]};convert$2.gray.hsl=function(et){return[0,0,et[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(et){return[0,100,et[0]]};convert$2.gray.cmyk=function(et){return[0,0,0,et[0]]};convert$2.gray.lab=function(et){return[et[0],0,0]};convert$2.gray.hex=function(et){const _e=Math.round(et[0]/100*255)&255,rt=((_e<<16)+(_e<<8)+_e).toString(16).toUpperCase();return"000000".substring(rt.length)+rt};convert$2.rgb.gray=function(et){return[(et[0]+et[1]+et[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const et={},_e=Object.keys(conversions$1);for(let tt=_e.length,rt=0;rt<tt;rt++)et[_e[rt]]={distance:-1,parent:null};return et}function deriveBFS(et){const _e=buildGraph(),tt=[et];for(_e[et].distance=0;tt.length;){const rt=tt.pop(),nt=Object.keys(conversions$1[rt]);for(let it=nt.length,at=0;at<it;at++){const ot=nt[at],ct=_e[ot];ct.distance===-1&&(ct.distance=_e[rt].distance+1,ct.parent=rt,tt.unshift(ot))}}return _e}function link(et,_e){return function(tt){return _e(et(tt))}}function wrapConversion(et,_e){const tt=[_e[et].parent,et];let rt=conversions$1[_e[et].parent][et],nt=_e[et].parent;for(;_e[nt].parent;)tt.unshift(_e[nt].parent),rt=link(conversions$1[_e[nt].parent][nt],rt),nt=_e[nt].parent;return rt.conversion=tt,rt}var route$1=function(et){const _e=deriveBFS(et),tt={},rt=Object.keys(_e);for(let nt=rt.length,it=0;it<nt;it++){const at=rt[it];_e[at].parent!==null&&(tt[at]=wrapConversion(at,_e))}return tt};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(et){const _e=function(...tt){const rt=tt[0];return rt==null?rt:(rt.length>1&&(tt=rt),et(tt))};return"conversion"in et&&(_e.conversion=et.conversion),_e}function wrapRounded(et){const _e=function(...tt){const rt=tt[0];if(rt==null)return rt;rt.length>1&&(tt=rt);const nt=et(tt);if(typeof nt=="object")for(let it=nt.length,at=0;at<it;at++)nt[at]=Math.round(nt[at]);return nt};return"conversion"in et&&(_e.conversion=et.conversion),_e}models.forEach(et=>{convert$1[et]={},Object.defineProperty(convert$1[et],"channels",{value:conversions[et].channels}),Object.defineProperty(convert$1[et],"labels",{value:conversions[et].labels});const _e=route(et);Object.keys(_e).forEach(rt=>{const nt=_e[rt];convert$1[et][rt]=wrapRounded(nt),convert$1[et][rt].raw=wrapRaw(nt)})});var colorConvert=convert$1;const colorString=colorString$1.exports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const et of Object.keys(convert))hashedModelKeys[[...convert[et].labels].sort().join("")]=et;const limiters={};function Color(et,_e){if(!(this instanceof Color))return new Color(et,_e);if(_e&&_e in skippedModels&&(_e=null),_e&&!(_e in convert))throw new Error("Unknown model: "+_e);let tt,rt;if(et==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(et instanceof Color)this.model=et.model,this.color=[...et.color],this.valpha=et.valpha;else if(typeof et=="string"){const nt=colorString.get(et);if(nt===null)throw new Error("Unable to parse color from string: "+et);this.model=nt.model,rt=convert[this.model].channels,this.color=nt.value.slice(0,rt),this.valpha=typeof nt.value[rt]=="number"?nt.value[rt]:1}else if(et.length>0){this.model=_e||"rgb",rt=convert[this.model].channels;const nt=Array.prototype.slice.call(et,0,rt);this.color=zeroArray(nt,rt),this.valpha=typeof et[rt]=="number"?et[rt]:1}else if(typeof et=="number")this.model="rgb",this.color=[et>>16&255,et>>8&255,et&255],this.valpha=1;else{this.valpha=1;const nt=Object.keys(et);"alpha"in et&&(nt.splice(nt.indexOf("alpha"),1),this.valpha=typeof et.alpha=="number"?et.alpha:0);const it=nt.sort().join("");if(!(it in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(et));this.model=hashedModelKeys[it];const{labels:at}=convert[this.model],ot=[];for(tt=0;tt<at.length;tt++)ot.push(et[at[tt]]);this.color=zeroArray(ot)}if(limiters[this.model])for(rt=convert[this.model].channels,tt=0;tt<rt;tt++){const nt=limiters[this.model][tt];nt&&(this.color[tt]=nt(this.color[tt]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(et){let _e=this.model in colorString.to?this:this.rgb();_e=_e.round(typeof et=="number"?et:1);const tt=_e.valpha===1?_e.color:[..._e.color,this.valpha];return colorString.to[_e.model](tt)},percentString(et){const _e=this.rgb().round(typeof et=="number"?et:1),tt=_e.valpha===1?_e.color:[..._e.color,this.valpha];return colorString.to.rgb.percent(tt)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const et={},{channels:_e}=convert[this.model],{labels:tt}=convert[this.model];for(let rt=0;rt<_e;rt++)et[tt[rt]]=this.color[rt];return this.valpha!==1&&(et.alpha=this.valpha),et},unitArray(){const et=this.rgb().color;return et[0]/=255,et[1]/=255,et[2]/=255,this.valpha!==1&&et.push(this.valpha),et},unitObject(){const et=this.rgb().object();return et.r/=255,et.g/=255,et.b/=255,this.valpha!==1&&(et.alpha=this.valpha),et},round(et){return et=Math.max(et||0,0),new Color([...this.color.map(roundToPlace(et)),this.valpha],this.model)},alpha(et){return et!==void 0?new Color([...this.color,Math.max(0,Math.min(1,et))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,et=>(et%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(et){return et!==void 0?new Color(et):convert[this.model].keyword(this.color)},hex(et){return et!==void 0?new Color(et):colorString.to.hex(this.rgb().round().color)},hexa(et){if(et!==void 0)return new Color(et);const _e=this.rgb().round().color;let tt=Math.round(this.valpha*255).toString(16).toUpperCase();return tt.length===1&&(tt="0"+tt),colorString.to.hex(_e)+tt},rgbNumber(){const et=this.rgb().color;return(et[0]&255)<<16|(et[1]&255)<<8|et[2]&255},luminosity(){const et=this.rgb().color,_e=[];for(const[tt,rt]of et.entries()){const nt=rt/255;_e[tt]=nt<=.04045?nt/12.92:((nt+.055)/1.055)**2.4}return .2126*_e[0]+.7152*_e[1]+.0722*_e[2]},contrast(et){const _e=this.luminosity(),tt=et.luminosity();return _e>tt?(_e+.05)/(tt+.05):(tt+.05)/(_e+.05)},level(et){const _e=this.contrast(et);return _e>=7?"AAA":_e>=4.5?"AA":""},isDark(){const et=this.rgb().color;return(et[0]*2126+et[1]*7152+et[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const et=this.rgb();for(let _e=0;_e<3;_e++)et.color[_e]=255-et.color[_e];return et},lighten(et){const _e=this.hsl();return _e.color[2]+=_e.color[2]*et,_e},darken(et){const _e=this.hsl();return _e.color[2]-=_e.color[2]*et,_e},saturate(et){const _e=this.hsl();return _e.color[1]+=_e.color[1]*et,_e},desaturate(et){const _e=this.hsl();return _e.color[1]-=_e.color[1]*et,_e},whiten(et){const _e=this.hwb();return _e.color[1]+=_e.color[1]*et,_e},blacken(et){const _e=this.hwb();return _e.color[2]+=_e.color[2]*et,_e},grayscale(){const et=this.rgb().color,_e=et[0]*.3+et[1]*.59+et[2]*.11;return Color.rgb(_e,_e,_e)},fade(et){return this.alpha(this.valpha-this.valpha*et)},opaquer(et){return this.alpha(this.valpha+this.valpha*et)},rotate(et){const _e=this.hsl();let tt=_e.color[0];return tt=(tt+et)%360,tt=tt<0?360+tt:tt,_e.color[0]=tt,_e},mix(et,_e){if(!et||!et.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof et);const tt=et.rgb(),rt=this.rgb(),nt=_e===void 0?.5:_e,it=2*nt-1,at=tt.alpha()-rt.alpha(),ot=((it*at===-1?it:(it+at)/(1+it*at))+1)/2,ct=1-ot;return Color.rgb(ot*tt.red()+ct*rt.red(),ot*tt.green()+ct*rt.green(),ot*tt.blue()+ct*rt.blue(),tt.alpha()*nt+rt.alpha()*(1-nt))}};for(const et of Object.keys(convert)){if(skippedModels.includes(et))continue;const{channels:_e}=convert[et];Color.prototype[et]=function(...tt){return this.model===et?new Color(this):tt.length>0?new Color(tt,et):new Color([...assertArray(convert[this.model][et].raw(this.color)),this.valpha],et)},Color[et]=function(...tt){let rt=tt[0];return typeof rt=="number"&&(rt=zeroArray(tt,_e)),new Color(rt,et)}}function roundTo(et,_e){return Number(et.toFixed(_e))}function roundToPlace(et){return function(_e){return roundTo(_e,et)}}function getset(et,_e,tt){et=Array.isArray(et)?et:[et];for(const rt of et)(limiters[rt]||(limiters[rt]=[]))[_e]=tt;return et=et[0],function(rt){let nt;return rt!==void 0?(tt&&(rt=tt(rt)),nt=this[et](),nt.color[_e]=rt,nt):(nt=this[et]().color[_e],tt&&(nt=tt(nt)),nt)}}function maxfn(et){return function(_e){return Math.max(0,Math.min(et,_e))}}function assertArray(et){return Array.isArray(et)?et:[et]}function zeroArray(et,_e){for(let tt=0;tt<_e;tt++)typeof et[tt]!="number"&&(et[tt]=0);return et}var color=Color;const color$1=color;var IconsManifest=[{id:"fa",name:"Font Awesome",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/refactoringui/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"}],DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React$1.createContext&&React$1.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(et){for(var _e,tt=1,rt=arguments.length;tt<rt;tt++){_e=arguments[tt];for(var nt in _e)Object.prototype.hasOwnProperty.call(_e,nt)&&(et[nt]=_e[nt])}return et},__assign.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function(et,_e){var tt={};for(var rt in et)Object.prototype.hasOwnProperty.call(et,rt)&&_e.indexOf(rt)<0&&(tt[rt]=et[rt]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,rt=Object.getOwnPropertySymbols(et);nt<rt.length;nt++)_e.indexOf(rt[nt])<0&&Object.prototype.propertyIsEnumerable.call(et,rt[nt])&&(tt[rt[nt]]=et[rt[nt]]);return tt};function Tree2Element(et){return et&&et.map(function(_e,tt){return React$1.createElement(_e.tag,__assign({key:tt},_e.attr),Tree2Element(_e.child))})}function GenIcon$7(et){return function(_e){return React$1.createElement(IconBase,__assign({attr:__assign({},et.attr)},_e),Tree2Element(et.child))}}function IconBase(et){var _e=function(tt){var rt=et.attr,nt=et.size,it=et.title,at=__rest(et,["attr","size","title"]),ot=nt||tt.size||"1em",ct;return tt.className&&(ct=tt.className),et.className&&(ct=(ct?ct+" ":"")+et.className),React$1.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},tt.attr,rt,at,{className:ct,style:__assign(__assign({color:et.color||tt.color},tt.style),et.style),height:ot,width:ot,xmlns:"http://www.w3.org/2000/svg"}),it&&React$1.createElement("title",null,it),et.children)};return IconContext!==void 0?React$1.createElement(IconContext.Consumer,null,function(tt){return _e(tt)}):_e(DefaultContext)}const esm=Object.freeze(Object.defineProperty({__proto__:null,IconsManifest,GenIcon:GenIcon$7,IconBase,DefaultContext,IconContext},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(esm);var GenIcon$6=require$$0.GenIcon,FiCheck_1=function et(_e){return GenIcon$6({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(_e)},GenIcon$5=require$$0.GenIcon,FiChevronDown_1=function et(_e){return GenIcon$5({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(_e)},GenIcon$4=require$$0.GenIcon,FiCopy_1=function et(_e){return GenIcon$4({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}}]})(_e)},GenIcon$3=require$$0.GenIcon,FiLock_1=function et(_e){return GenIcon$3({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(_e)},GenIcon$2=require$$0.GenIcon,FiShuffle_1=function et(_e){return GenIcon$2({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 3 21 3 21 8"}},{tag:"line",attr:{x1:"4",y1:"20",x2:"21",y2:"3"}},{tag:"polyline",attr:{points:"21 16 21 21 16 21"}},{tag:"line",attr:{x1:"15",y1:"15",x2:"21",y2:"21"}},{tag:"line",attr:{x1:"4",y1:"4",x2:"9",y2:"9"}}]})(_e)},GenIcon$1=require$$0.GenIcon,FiWifi_1=function et(_e){return GenIcon$1({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"}},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"}},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"}}]})(_e)},GenIcon=require$$0.GenIcon,FiXCircle_1=function et(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(_e)},createAnatomy=(et,_e=[])=>({parts:(...tt)=>{if(isEmpty(_e))return createAnatomy(et,tt);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...tt)=>createAnatomy(et,[..._e,...tt]),build:()=>[...new Set(_e)].reduce((tt,rt)=>Object.assign(tt,{[rt]:{selector:[`&[data-scope="${toKebabCase(et)}"][data-part="${toKebabCase(rt)}"]`,`& [data-scope="${toKebabCase(et)}"][data-part="${toKebabCase(rt)}"]`].join(", "),attrs:{"data-scope":toKebabCase(et),"data-part":toKebabCase(rt)}}}),{})}),toKebabCase=et=>et.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),isEmpty=et=>et.length===0,anatomy=createAnatomy("menu").parts("trigger","triggerItem","positioner","arrow","arrowTip","content","separator","item","optionItem","itemGroupLabel","itemGroup"),parts=anatomy.build(),first=et=>et[0],last=et=>et[et.length-1],add=(et,..._e)=>et.concat(_e),remove=(et,_e)=>removeAt(et,et.indexOf(_e)),removeAt=(et,_e)=>(_e>-1&&et.splice(_e,1),et);function isDocument$2(et){return et.nodeType===Node.DOCUMENT_NODE}function isWindow$2(et){return(et==null?void 0:et.toString())==="[object Window]"}function getDocument$2(et){var _e;return isWindow$2(et)?et.document:isDocument$2(et)?et:(_e=et==null?void 0:et.ownerDocument)!=null?_e:document}function getWindow$2(et){var _e;return(_e=et==null?void 0:et.ownerDocument.defaultView)!=null?_e:window}function defineDomHelpers(et){const _e={getRootNode:tt=>{var rt,nt;return(nt=(rt=tt.getRootNode)==null?void 0:rt.call(tt))!=null?nt:document},getDoc:tt=>getDocument$2(_e.getRootNode(tt)),getWin:tt=>{var rt;return(rt=_e.getDoc(tt).defaultView)!=null?rt:window},getActiveElement:tt=>_e.getDoc(tt).activeElement,getById:(tt,rt)=>_e.getRootNode(tt).getElementById(rt)};return{..._e,...et}}function contains$2(et,_e){return et?et===_e||isHTMLElement$4(et)&&isHTMLElement$4(_e)&&et.contains(_e):!1}function isHTMLElement$4(et){return typeof et=="object"&&(et==null?void 0:et.nodeType)===Node.ELEMENT_NODE&&typeof(et==null?void 0:et.nodeName)=="string"}function isElementEditable(et){if(et==null||!isHTMLElement$4(et))return!1;try{const _e=getWindow$2(et);return et instanceof _e.HTMLInputElement&&et.selectionStart!=null||/(textarea|select)/.test(et.localName)||et.isContentEditable}catch{return!1}}function queryAll(et,_e){var tt;return Array.from((tt=et==null?void 0:et.querySelectorAll(_e))!=null?tt:[])}function itemById(et,_e){return et.find(tt=>tt.id===_e)}function indexOfId(et,_e){const tt=itemById(et,_e);return tt?et.indexOf(tt):-1}function nextById(et,_e,tt=!0){let rt=indexOfId(et,_e);return rt=tt?(rt+1)%et.length:Math.min(rt+1,et.length-1),et[rt]}function prevById(et,_e,tt=!0){let rt=indexOfId(et,_e);return rt===-1?tt?et[et.length-1]:null:(rt=tt?(rt-1+et.length)%et.length:Math.max(0,rt-1),et[rt])}var getValueText=et=>{var _e,tt;return(tt=(_e=et.dataset.valuetext)!=null?_e:et.textContent)!=null?tt:""},match=(et,_e)=>et.toLowerCase().startsWith(_e.toLowerCase()),wrap=(et,_e)=>et.map((tt,rt)=>et[(Math.max(_e,0)+rt)%et.length]);function findByText(et,_e,tt){const rt=tt?indexOfId(et,tt):-1;let nt=tt?wrap(et,rt):et;return _e.length===1&&(nt=nt.filter(at=>at.id!==tt)),nt.find(at=>match(getValueText(at),_e))}function findByTypeaheadImpl(et,_e){const{state:tt,activeId:rt,key:nt,timeout:it=350}=_e,at=tt.keysSoFar+nt,ct=at.length>1&&Array.from(at).every(Et=>Et===at[0])?at[0]:at;let ut=et.slice();const ft=findByText(ut,ct,rt);function yt(){clearTimeout(tt.timer),tt.timer=-1}function bt(Et){tt.keysSoFar=Et,yt(),Et!==""&&(tt.timer=+setTimeout(()=>{bt(""),yt()},it))}return bt(at),ft}var findByTypeahead=Object.assign(findByTypeaheadImpl,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:isValidTypeaheadEvent});function isValidTypeaheadEvent(et){return et.key.length===1&&!et.ctrlKey&&!et.metaKey}var dom=defineDomHelpers({getTriggerId:et=>{var _e,tt;return(tt=(_e=et.ids)==null?void 0:_e.trigger)!=null?tt:`menu:${et.id}:trigger`},getContextTriggerId:et=>{var _e,tt;return(tt=(_e=et.ids)==null?void 0:_e.contextTrigger)!=null?tt:`menu:${et.id}:ctx-trigger`},getContentId:et=>{var _e,tt;return(tt=(_e=et.ids)==null?void 0:_e.content)!=null?tt:`menu:${et.id}:content`},getArrowId:et=>`menu:${et.id}:arrow`,getPositionerId:et=>`menu:${et.id}:popper`,getGroupId:(et,_e)=>{var tt,rt,nt;return(nt=(rt=(tt=et.ids)==null?void 0:tt.group)==null?void 0:rt.call(tt,_e))!=null?nt:`menu:${et.id}:group:${_e}`},getGroupLabelId:(et,_e)=>{var tt,rt,nt;return(nt=(rt=(tt=et.ids)==null?void 0:tt.label)==null?void 0:rt.call(tt,_e))!=null?nt:`menu:${et.id}:label:${_e}`},getContentEl:et=>dom.getById(et,dom.getContentId(et)),getPositionerEl:et=>dom.getById(et,dom.getPositionerId(et)),getTriggerEl:et=>dom.getById(et,dom.getTriggerId(et)),getFocusedItem:et=>et.highlightedId?dom.getById(et,et.highlightedId):null,getArrowEl:et=>dom.getById(et,dom.getArrowId(et)),getElements:et=>{const tt=`[role^="menuitem"][data-ownedby=${CSS.escape(dom.getContentId(et))}]:not([data-disabled])`;return queryAll(dom.getContentEl(et),tt)},getFirstEl:et=>first(dom.getElements(et)),getLastEl:et=>last(dom.getElements(et)),getNextEl:(et,_e)=>nextById(dom.getElements(et),et.highlightedId,_e!=null?_e:et.loop),getPrevEl:(et,_e)=>prevById(dom.getElements(et),et.highlightedId,_e!=null?_e:et.loop),getElemByKey:(et,_e)=>findByTypeahead(dom.getElements(et),{state:et.typeahead,key:_e,activeId:et.highlightedId}),isTargetDisabled:et=>isHTMLElement$4(et)&&et.dataset.disabled==="",isTriggerItem:et=>{var _e;return!!((_e=et==null?void 0:et.getAttribute("role"))!=null&&_e.startsWith("menuitem"))&&!!(et!=null&&et.hasAttribute("aria-controls"))}}),isArray$1=et=>Array.isArray(et),isObject$2=et=>!(et==null||typeof et!="object"||isArray$1(et)),hasProp$3=(et,_e)=>Object.prototype.hasOwnProperty.call(et,_e),isDom$1=()=>typeof window<"u";function getPlatform$1(){var et;const _e=navigator.userAgentData;return(et=_e==null?void 0:_e.platform)!=null?et:navigator.platform}var pt$1=et=>isDom$1()&&et.test(getPlatform$1()),isTouchDevice$1=()=>isDom$1()&&!!navigator.maxTouchPoints,isMac$1=()=>pt$1(/^Mac/)&&!isTouchDevice$1;function getNativeEvent(et){var _e;return(_e=et.nativeEvent)!=null?_e:et}function isSelfEvent(et){return contains$2(et.currentTarget,et.target)}var supportsPointerEvent=()=>isDom$1()&&window.onpointerdown===null,supportsTouchEvent=()=>isDom$1()&&window.ontouchstart===null,supportsMouseEvent=()=>isDom$1()&&window.onmousedown===null,isTouchEvent=et=>isObject$2(et)&&hasProp$3(et,"touches"),isLeftClick=et=>et.button===0,isContextMenuEvent$1=et=>et.button===2||isCtrlKey$1(et)&&et.button===0,isModifiedEvent$1=et=>et.ctrlKey||et.altKey||et.metaKey,isCtrlKey$1=et=>isMac$1()?et.metaKey&&!et.ctrlKey:et.ctrlKey&&!et.metaKey,fallback$1={pageX:0,pageY:0,clientX:0,clientY:0};function getEventPoint(et,_e="page"){var tt,rt;const nt=isTouchEvent(et)?(rt=(tt=et.touches[0])!=null?tt:et.changedTouches[0])!=null?rt:fallback$1:et;return{x:nt[`${_e}X`],y:nt[`${_e}Y`]}}var runIfFn$4=(et,..._e)=>{const tt=typeof et=="function"?et(..._e):et;return tt!=null?tt:void 0},cast=et=>et,noop=()=>{},callAll$2=(...et)=>(..._e)=>{et.forEach(function(tt){tt==null||tt(..._e)})},uuid=(()=>{let et=0;return()=>(et++,et.toString(36))})();const e=Symbol(),t=Symbol(),r="a",n="w";let o=(et,_e)=>new Proxy(et,_e);const s=Object.getPrototypeOf,c=new WeakMap,l=et=>et&&(c.has(et)?c.get(et):s(et)===Object.prototype||s(et)===Array.prototype),f=et=>typeof et=="object"&&et!==null,i=new WeakMap,a=et=>et[t]||et,u=(et,_e,tt)=>{if(!l(et))return et;const rt=a(et),nt=(at=>Object.isFrozen(at)||Object.values(Object.getOwnPropertyDescriptors(at)).some(ot=>!ot.writable))(rt);let it=tt&&tt.get(rt);return it&&it[1].f===nt||(it=((at,ot)=>{const ct={f:ot};let ut=!1;const ft=(bt,Et)=>{if(!ut){let Ct=ct[r].get(at);if(Ct||(Ct={},ct[r].set(at,Ct)),bt===n)Ct[n]=!0;else{let At=Ct[bt];At||(At=new Set,Ct[bt]=At),At.add(Et)}}},yt={get:(bt,Et)=>Et===t?at:(ft("k",Et),u(Reflect.get(bt,Et),ct[r],ct.c)),has:(bt,Et)=>Et===e?(ut=!0,ct[r].delete(at),!0):(ft("h",Et),Reflect.has(bt,Et)),getOwnPropertyDescriptor:(bt,Et)=>(ft("o",Et),Reflect.getOwnPropertyDescriptor(bt,Et)),ownKeys:bt=>(ft(n),Reflect.ownKeys(bt))};return ot&&(yt.set=yt.deleteProperty=()=>!1),[yt,ct]})(rt,nt),it[1].p=o(nt?(at=>{let ot=i.get(at);if(!ot){if(Array.isArray(at))ot=Array.from(at);else{const ct=Object.getOwnPropertyDescriptors(at);Object.values(ct).forEach(ut=>{ut.configurable=!0}),ot=Object.create(s(at),ct)}i.set(at,ot)}return ot})(rt):rt,it[0]),tt&&tt.set(rt,it)),it[1][r]=_e,it[1].c=tt,it[1].p},p=(et,_e,tt,rt)=>{if(Object.is(et,_e))return!1;if(!f(et)||!f(_e))return!0;const nt=tt.get(a(et));if(!nt)return!0;if(rt){const at=rt.get(et);if(at&&at.n===_e)return at.g;rt.set(et,{n:_e,g:!1})}let it=null;try{for(const at of nt.h||[])if(it=Reflect.has(et,at)!==Reflect.has(_e,at),it)return it;if(nt[n]===!0){if(it=((at,ot)=>{const ct=Reflect.ownKeys(at),ut=Reflect.ownKeys(ot);return ct.length!==ut.length||ct.some((ft,yt)=>ft!==ut[yt])})(et,_e),it)return it}else for(const at of nt.o||[])if(it=!!Reflect.getOwnPropertyDescriptor(et,at)!=!!Reflect.getOwnPropertyDescriptor(_e,at),it)return it;for(const at of nt.k||[])if(it=p(et[at],_e[at],tt,rt),it)return it;return it===null&&(it=!0),it}finally{rt&&rt.set(et,{n:_e,g:it})}},g=et=>l(et)&&et[t]||null,h=(et,_e=!0)=>{c.set(et,_e)};var __DEV__=!1,VERSION=Symbol(),LISTENERS=Symbol(),SNAPSHOT=Symbol(),HANDLER=Symbol(),PROMISE_RESULT=Symbol(),PROMISE_ERROR=Symbol(),refSet=new WeakSet;function ref(et){return refSet.add(et),et}var isObject$1=et=>typeof et=="object"&&et!==null,canProxy=et=>isObject$1(et)&&!refSet.has(et)&&(Array.isArray(et)||!(Symbol.iterator in et))&&!(et instanceof WeakMap)&&!(et instanceof WeakSet)&&!(et instanceof Error)&&!(et instanceof Number)&&!(et instanceof Date)&&!(et instanceof String)&&!(et instanceof RegExp)&&!(et instanceof ArrayBuffer),proxyCache=new WeakMap,globalVersion=1,snapshotCache=new WeakMap;function proxy(et={}){if(!isObject$1(et))throw new Error("object required");const _e=proxyCache.get(et);if(_e)return _e;let tt=globalVersion;const rt=new Set,nt=(bt,Et=++globalVersion)=>{tt!==Et&&(tt=Et,rt.forEach(Ct=>Ct(bt,Et)))},it=new Map,at=bt=>{let Et=it.get(bt);return Et||(Et=(Ct,At)=>{const St=[...Ct];St[1]=[bt,...St[1]],nt(St,At)},it.set(bt,Et)),Et},ot=bt=>{const Et=it.get(bt);return it.delete(bt),Et},ct=(bt,Et)=>{const Ct=snapshotCache.get(Et);if((Ct==null?void 0:Ct[0])===tt)return Ct[1];const At=Array.isArray(bt)?[]:Object.create(Object.getPrototypeOf(bt));return h(At,!0),snapshotCache.set(Et,[tt,At]),Reflect.ownKeys(bt).forEach(St=>{const Tt=Reflect.get(bt,St,Et);if(refSet.has(Tt))h(Tt,!1),At[St]=Tt;else if(Tt instanceof Promise)if(PROMISE_RESULT in Tt)At[St]=Tt[PROMISE_RESULT];else{const $t=Tt[PROMISE_ERROR]||Tt;Object.defineProperty(At,St,{get(){if(PROMISE_RESULT in Tt)return Tt[PROMISE_RESULT];throw $t}})}else Tt!=null&&Tt[LISTENERS]?At[St]=Tt[SNAPSHOT]:At[St]=Tt}),Object.freeze(At),At},ut=Array.isArray(et)?[]:Object.create(Object.getPrototypeOf(et)),ft={get(bt,Et,Ct){return Et===VERSION?tt:Et===LISTENERS?rt:Et===SNAPSHOT?ct(bt,Ct):Et===HANDLER?ft:Reflect.get(bt,Et,Ct)},deleteProperty(bt,Et){const Ct=Reflect.get(bt,Et),At=Ct==null?void 0:Ct[LISTENERS];At&&At.delete(ot(Et));const St=Reflect.deleteProperty(bt,Et);return St&&nt(["delete",[Et],Ct]),St},is:Object.is,canProxy,set(bt,Et,Ct,At){var St;const Tt=Reflect.has(bt,Et),$t=Reflect.get(bt,Et,At);if(Tt&&this.is($t,Ct))return!0;const kt=$t==null?void 0:$t[LISTENERS];kt&&kt.delete(ot(Et)),isObject$1(Ct)&&(Ct=g(Ct)||Ct);let Pt;return(St=Object.getOwnPropertyDescriptor(bt,Et))!=null&&St.set?Pt=Ct:Ct instanceof Promise?Pt=Ct.then(Ot=>(Pt[PROMISE_RESULT]=Ot,nt(["resolve",[Et],Ot]),Ot)).catch(Ot=>{Pt[PROMISE_ERROR]=Ot,nt(["reject",[Et],Ot])}):Ct!=null&&Ct[LISTENERS]?(Pt=Ct,Pt[LISTENERS].add(at(Et))):this.canProxy(Ct)?(Pt=proxy(Ct),Pt[LISTENERS].add(at(Et))):Pt=Ct,Reflect.set(bt,Et,Pt,At),nt(["set",[Et],Ct,$t]),!0}},yt=new Proxy(ut,ft);return proxyCache.set(et,yt),Reflect.ownKeys(et).forEach(bt=>{const Et=Object.getOwnPropertyDescriptor(et,bt);Et.get||Et.set?Object.defineProperty(ut,bt,Et):yt[bt]=et[bt]}),yt}function subscribe(et,_e,tt){__DEV__&&!(et!=null&&et[LISTENERS])&&console.warn("Please use proxy object");let rt;const nt=[],it=at=>{if(nt.push(at),tt){_e(nt.splice(0));return}rt||(rt=Promise.resolve().then(()=>{rt=void 0,_e(nt.splice(0))}))};return et[LISTENERS].add(it),()=>{et[LISTENERS].delete(it)}}function snapshot(et){return __DEV__&&!(et!=null&&et[SNAPSHOT])&&console.warn("Please use proxy object"),et[SNAPSHOT]}function proxyWithComputed(et,_e){Object.keys(_e).forEach(rt=>{if(Object.getOwnPropertyDescriptor(et,rt))throw new Error("object property already defined");const nt=_e[rt],{get:it,set:at}=typeof nt=="function"?{get:nt}:nt,ot={};ot.get=()=>it(snapshot(tt)),at&&(ot.set=ct=>at(tt,ct)),Object.defineProperty(et,rt,ot)});const tt=proxy(et);return tt}function createProxy(et){var _e,tt;const rt=(_e=et.computed)!=null?_e:cast({}),nt=(tt=et.context)!=null?tt:cast({}),it=proxy({value:"",previousValue:"",event:cast({}),previousEvent:cast({}),context:proxyWithComputed(nt,rt),done:!1,tags:[],hasTag(at){return this.tags.includes(at)},matches(...at){return at.includes(this.value)},can(at){return cast(this).nextEvents.includes(at)},get nextEvents(){var at,ot,ct,ut;const ft=(ct=(ot=(at=et.states)==null?void 0:at[this.value])==null?void 0:ot.on)!=null?ct:{},yt=(ut=et==null?void 0:et.on)!=null?ut:{};return Object.keys({...ft,...yt})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return cast(it)}var isDev=()=>!1,isArray=et=>Array.isArray(et),isObject=et=>!(et==null||typeof et!="object"||isArray(et)),isNumber=et=>typeof et=="number"&&!Number.isNaN(et),isString=et=>typeof et=="string",isFunction=et=>typeof et=="function";function compact$1(et){return et===void 0?et:Object.fromEntries(Object.entries(et).filter(([,_e])=>_e!==void 0).map(([_e,tt])=>[_e,isObject(tt)?compact$1(tt):tt]))}function deepMerge(et,..._e){for(const tt of _e){const rt=compact$1(tt);for(const nt in rt)isObject(tt[nt])?(et[nt]||(et[nt]={}),deepMerge(et[nt],tt[nt])):et[nt]=tt[nt]}return et}function warn$1(...et){const _e=et.length===1?et[0]:et[1],tt=et.length===2?et[0]:!0}function invariant$1(...et){const _e=et.length===1?et[0]:et[1],tt=et.length===2?et[0]:!0}function determineDelayFn(et,_e){return(tt,rt)=>{if(isNumber(et))return et;if(isFunction(et))return et(tt,rt);if(isString(et)){const nt=Number.parseFloat(et);if(!Number.isNaN(nt))return nt;if(_e){const it=_e==null?void 0:_e[et];return invariant$1(it==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${et}\`. It doesn't exist in \`options.delays\``),isFunction(it)?it(tt,rt):it}}}}function set(et,_e,tt){typeof tt.value=="object"&&(tt.value=klona$1(tt.value)),!tt.enumerable||tt.get||tt.set||!tt.configurable||!tt.writable||_e==="__proto__"?Object.defineProperty(et,_e,tt):et[_e]=tt.value}function klona$1(et){if(typeof et!="object")return et;var _e=0,tt,rt,nt,it=Object.prototype.toString.call(et);if(it==="[object Object]"?nt=Object.create(et.__proto__||null):it==="[object Array]"?nt=Array(et.length):it==="[object Set]"?(nt=new Set,et.forEach(function(at){nt.add(klona$1(at))})):it==="[object Map]"?(nt=new Map,et.forEach(function(at,ot){nt.set(klona$1(ot),klona$1(at))})):it==="[object Date]"?nt=new Date(+et):it==="[object RegExp]"?nt=new RegExp(et.source,et.flags):it==="[object DataView]"?nt=new et.constructor(klona$1(et.buffer)):it==="[object ArrayBuffer]"?nt=et.slice(0):it.slice(-6)==="Array]"&&(nt=new et.constructor(et)),nt){for(rt=Object.getOwnPropertySymbols(et);_e<rt.length;_e++)set(nt,rt[_e],Object.getOwnPropertyDescriptor(et,rt[_e]));for(_e=0,rt=Object.getOwnPropertyNames(et);_e<rt.length;_e++)Object.hasOwnProperty.call(nt,tt=rt[_e])&&nt[tt]===et[tt]||set(nt,tt,Object.getOwnPropertyDescriptor(et,tt))}return nt||et}function klona(et){var _e,tt,rt;if(Array.isArray(et)){for(tt=Array(_e=et.length);_e--;)tt[_e]=(rt=et[_e])&&typeof rt=="object"?klona(rt):rt;return tt}if(Object.prototype.toString.call(et)==="[object Object]"){tt={};for(_e in et)_e==="__proto__"?Object.defineProperty(tt,_e,{value:klona(et[_e]),configurable:!0,enumerable:!0,writable:!0}):tt[_e]=(rt=et[_e])&&typeof rt=="object"?klona(rt):rt;return tt}return et}function cloneJson(et){return klona(et)}function cloneFull(et){return klona$1(et)}function toEvent(et){return isString(et)?{type:et}:et}function toArray(et){return et?isArray(et)?et.slice():[et]:[]}function isGuardHelper(et){return isObject(et)&&et.predicate!=null}var defaultCompareFn=(et,_e)=>Object.is(et,_e);function subscribeKey(et,_e,tt,rt,nt){let it=Reflect.get(snapshot(et),_e);const at=nt||defaultCompareFn;return subscribe(et,function(){const ct=snapshot(et);at(it,ct[_e],_e)||(tt(ct[_e]),it=Reflect.get(ct,_e))},rt)}var Truthy=()=>!0;function exec(et,_e,tt,rt){return nt=>{var it;return isString(nt)?!!((it=et[nt])!=null&&it.call(et,_e,tt,rt)):isFunction(nt)?nt(_e,tt,rt):nt.predicate(et)(_e,tt,rt)}}function or(...et){return{predicate:_e=>(tt,rt,nt)=>et.map(exec(_e,tt,rt,nt)).some(Boolean)}}function and$1(...et){return{predicate:_e=>(tt,rt,nt)=>et.map(exec(_e,tt,rt,nt)).every(Boolean)}}function not$1(et){return{predicate:_e=>(tt,rt,nt)=>!exec(_e,tt,rt,nt)(et)}}function stateIn(...et){return(_e,tt,rt)=>rt.state.matches(...et)}var guards={or,and:and$1,not:not$1,stateIn};function determineGuardFn(et,_e){return et=et!=null?et:Truthy,(tt,rt,nt)=>{if(isString(et)){const it=_e[et];return isFunction(it)?it(tt,rt,nt):it}return isGuardHelper(et)?et.predicate(_e)(tt,rt,nt):et==null?void 0:et(tt,rt,nt)}}function determineActionsFn(et,_e){return(tt,rt,nt)=>isGuardHelper(et)?et.predicate(_e)(tt,rt,nt):et}function toTarget(et){return isString(et)?{target:et}:et}function determineTransitionFn(et,_e){return(tt,rt,nt)=>toArray(et).map(toTarget).find(it=>{var at;const ct=determineGuardFn(it.guard,_e)(tt,rt,nt);return(at=ct!=null?ct:it.target)!=null?at:it.actions})}var __defProp=Object.defineProperty,__defNormalProp=(et,_e,tt)=>_e in et?__defProp(et,_e,{enumerable:!0,configurable:!0,writable:!0,value:tt}):et[_e]=tt,__publicField=(et,_e,tt)=>(__defNormalProp(et,typeof _e!="symbol"?_e+"":_e,tt),tt);function clear(et){for(;et.length>0;)et.pop();return et}var Machine=class{constructor(et,_e){__publicField(this,"status","Not Started"),__publicField(this,"state"),__publicField(this,"initialState"),__publicField(this,"id"),__publicField(this,"type","machine"),__publicField(this,"activityEvents",new Map),__publicField(this,"delayedEvents",new Map),__publicField(this,"stateListeners",new Set),__publicField(this,"contextListeners",new Set),__publicField(this,"eventListeners",new Set),__publicField(this,"doneListeners",new Set),__publicField(this,"contextWatchers",new Set),__publicField(this,"removeStateListener",noop),__publicField(this,"removeEventListener",noop),__publicField(this,"removeContextListener",noop),__publicField(this,"parent"),__publicField(this,"children",new Map),__publicField(this,"guardMap"),__publicField(this,"actionMap"),__publicField(this,"delayMap"),__publicField(this,"activityMap"),__publicField(this,"sync"),__publicField(this,"options"),__publicField(this,"config"),__publicField(this,"start",At=>{if(this.status==="Running")return this;this.status="Running",this.removeStateListener=subscribe(this.state,()=>{this.stateListeners.forEach(Ot=>{Ot(this.stateSnapshot)})},this.sync),this.removeEventListener=subscribeKey(this.state,"event",Ot=>{this.executeActions(this.config.onEvent,Ot),this.eventListeners.forEach(Ht=>{Ht(Ot)})},this.sync),this.removeContextListener=subscribe(this.state.context,()=>{this.log("Context:",this.contextSnapshot),this.contextListeners.forEach(Ot=>{Ot(this.contextSnapshot)})},this.sync||this.options.debug),this.setupContextWatchers(),this.executeActivities(toEvent("machine.start"),toArray(this.config.activities),"machine.start"),this.executeActions(this.config.entry,toEvent("machine.start"));const St=toEvent("machine.init"),Tt=isObject(At)?At.value:At,$t=isObject(At)?At.context:void 0;$t&&this.setContext($t);const kt={target:Tt!=null?Tt:this.config.initial},Pt=this.getNextStateInfo(kt,St);return this.initialState=Pt,this.performStateChangeEffects(this.state.value,Pt,St),this}),__publicField(this,"setupContextWatchers",()=>{var At,St;for(const[Tt,$t]of Object.entries((At=this.config.watch)!=null?At:{})){let kt;if(Tt==="*")kt=subscribe(this.state.context,()=>{this.executeActions($t,this.state.event)});else{const Pt=(St=this.options.compareFns)==null?void 0:St[Tt];kt=subscribeKey(this.state.context,Tt,()=>{this.executeActions($t,this.state.event)},this.sync,Pt)}this.contextWatchers.add(kt)}}),__publicField(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,toEvent("machine.stop")),this.executeActions(this.config.exit,toEvent("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.stopEventListeners(),this.stopContextListeners(),this.status="Stopped",this}),__publicField(this,"stopEventListeners",()=>{this.eventListeners.clear(),this.removeEventListener()}),__publicField(this,"stopContextListeners",()=>{this.contextListeners.clear(),this.removeContextListener()}),__publicField(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),__publicField(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(At=>At()),this.contextWatchers.clear()}),__publicField(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(At=>{At.forEach(St=>St())}),this.delayedEvents.clear()}),__publicField(this,"stopActivities",At=>{var St,Tt;At?((St=this.activityEvents.get(At))==null||St.forEach($t=>$t()),(Tt=this.activityEvents.get(At))==null||Tt.clear(),this.activityEvents.delete(At)):(this.activityEvents.forEach($t=>{$t.forEach(kt=>kt()),$t.clear()}),this.activityEvents.clear())}),__publicField(this,"sendChild",(At,St)=>{const Tt=toEvent(At),$t=runIfFn$4(St,this.contextSnapshot),kt=this.children.get($t);kt||invariant$1(`[@zag-js/core] Cannot send '${Tt.type}' event to unknown child`),kt.send(Tt)}),__publicField(this,"stopChild",At=>{this.children.has(At)||invariant$1(`[@zag-js/core > stop-child] Cannot stop unknown child ${At}`),this.children.get(At).stop(),this.children.delete(At)}),__publicField(this,"removeChild",At=>{this.children.delete(At)}),__publicField(this,"stopChildren",()=>{this.children.forEach(At=>At.stop()),this.children.clear()}),__publicField(this,"setParent",At=>{this.parent=At}),__publicField(this,"spawn",(At,St)=>{const Tt=runIfFn$4(At);return St&&(Tt.id=St),Tt.type="machine.actor",Tt.setParent(this),this.children.set(Tt.id,cast(Tt)),Tt.onDone(()=>{this.removeChild(Tt.id)}).start(),cast(ref(Tt))}),__publicField(this,"addActivityCleanup",(At,St)=>{var Tt;!At||(this.activityEvents.has(At)?(Tt=this.activityEvents.get(At))==null||Tt.add(St):this.activityEvents.set(At,new Set([St])))}),__publicField(this,"setState",At=>{this.state.previousValue=this.state.value,this.state.value=At;const St=this.getStateNode(At);At==null?clear(this.state.tags):this.state.tags=toArray(St==null?void 0:St.tags)}),__publicField(this,"setContext",At=>{!At||deepMerge(this.state.context,At)}),__publicField(this,"withContext",At=>{const St={...this.config.context,...compact$1(At)};return new Machine({...this.config,context:St},this.options)}),__publicField(this,"setOptions",At=>{const St=compact$1(At);this.actionMap={...this.actionMap,...St.actions},this.delayMap={...this.delayMap,...St.delays},this.activityMap={...this.activityMap,...St.activities},this.guardMap={...this.guardMap,...St.guards}}),__publicField(this,"getStateNode",At=>{var St;if(!!At)return(St=this.config.states)==null?void 0:St[At]}),__publicField(this,"getNextStateInfo",(At,St)=>{var Tt;const $t=this.determineTransition(At,St),kt=!($t!=null&&$t.target),Pt=(Tt=$t==null?void 0:$t.target)!=null?Tt:this.state.value,Ot=this.state.value!==Pt,Ht=this.getStateNode(Pt),Zt={reenter:!kt&&!Ot&&!($t!=null&&$t.internal),transition:$t,stateNode:Ht,target:Pt,changed:Ot};return this.log("NextState:",`[${St.type}]`,this.state.value,"---->",Zt.target),Zt}),__publicField(this,"getActionFromDelayedTransition",At=>{const St=toEvent("machine.after"),$t=determineDelayFn(At.delay,this.delayMap)(this.contextSnapshot,St);let kt;return{entry:()=>{kt=globalThis.setTimeout(()=>{const Pt=this.getNextStateInfo(At,St);this.performStateChangeEffects(this.state.value,Pt,St)},$t)},exit:()=>{globalThis.clearTimeout(kt)}}}),__publicField(this,"getDelayedEventActions",At=>{const St=this.getStateNode(At),Tt=toEvent("machine.after");if(!St||!St.after)return;const $t=[],kt=[];if(isArray(St.after)){const Pt=this.determineTransition(St.after,Tt);if(!Pt)return;const Ot=this.getActionFromDelayedTransition(Pt);$t.push(Ot.entry),kt.push(Ot.exit)}else if(isObject(St.after))for(const Pt in St.after){const Ot=St.after[Pt];let Ht={};if(isArray(Ot)){const Zt=this.determineTransition(Ot,Tt);Zt&&(Ht=Zt)}else isString(Ot)?Ht={target:Ot,delay:Pt}:Ht={...Ot,delay:Pt};const qt=this.getActionFromDelayedTransition(Ht);$t.push(qt.entry),kt.push(qt.exit)}return{entries:$t,exits:kt}}),__publicField(this,"executeActions",(At,St)=>{var Tt;const $t=determineActionsFn(At,this.guardMap)(this.contextSnapshot,St,this.guardMeta);for(const kt of toArray($t)){const Pt=isString(kt)?(Tt=this.actionMap)==null?void 0:Tt[kt]:kt;warn$1(isString(kt)&&!Pt,`[@zag-js/core > execute-actions] No implementation found for action: \`${kt}\``),Pt==null||Pt(this.state.context,St,this.meta)}}),__publicField(this,"executeActivities",(At,St,Tt)=>{var $t;for(const kt of St){const Pt=isString(kt)?($t=this.activityMap)==null?void 0:$t[kt]:kt;if(!Pt){warn$1(`[@zag-js/core > execute-activity] No implementation found for activity: \`${kt}\``);continue}const Ot=Pt(this.state.context,At,this.meta);Ot&&this.addActivityCleanup(Tt!=null?Tt:this.state.value,Ot)}}),__publicField(this,"createEveryActivities",(At,St)=>{if(!At)return;const Tt=toEvent("machine.every");if(isArray(At)){const $t=toArray(At).find(Ht=>{const qt=Ht.delay,tr=determineDelayFn(qt,this.delayMap)(this.contextSnapshot,Tt),Rt=determineGuardFn(Ht.guard,this.guardMap)(this.contextSnapshot,Tt,this.guardMeta);return Rt!=null?Rt:tr!=null});if(!$t)return;const Pt=determineDelayFn($t.delay,this.delayMap)(this.contextSnapshot,Tt);St(()=>{const Ht=globalThis.setInterval(()=>{this.executeActions($t.actions,Tt)},Pt);return()=>{globalThis.clearInterval(Ht)}})}else for(const $t in At){const kt=At==null?void 0:At[$t],Ot=determineDelayFn($t,this.delayMap)(this.contextSnapshot,Tt);St(()=>{const qt=globalThis.setInterval(()=>{this.executeActions(kt,Tt)},Ot);return()=>{globalThis.clearInterval(qt)}})}}),__publicField(this,"setEvent",At=>{this.state.previousEvent=this.state.event,this.state.event=ref(toEvent(At))}),__publicField(this,"performExitEffects",(At,St)=>{const Tt=this.state.value;if(Tt==="")return;const $t=At?this.getStateNode(At):void 0;this.stopActivities(Tt);const kt=determineActionsFn($t==null?void 0:$t.exit,this.guardMap)(this.contextSnapshot,St,this.guardMeta),Pt=toArray(kt),Ot=this.delayedEvents.get(Tt);Ot&&Pt.push(...Ot),this.executeActions(Pt,St),this.eventListeners.clear()}),__publicField(this,"performEntryEffects",(At,St)=>{const Tt=this.getStateNode(At),$t=toArray(Tt==null?void 0:Tt.activities);this.createEveryActivities(Tt==null?void 0:Tt.every,Ht=>{$t.unshift(Ht)}),$t.length>0&&this.executeActivities(St,$t);const kt=determineActionsFn(Tt==null?void 0:Tt.entry,this.guardMap)(this.contextSnapshot,St,this.guardMeta),Pt=toArray(kt),Ot=this.getDelayedEventActions(At);(Tt==null?void 0:Tt.after)&&Ot&&(this.delayedEvents.set(At,Ot==null?void 0:Ot.exits),Pt.push(...Ot.entries)),this.executeActions(Pt,St),(Tt==null?void 0:Tt.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(Ht=>{Ht(this.stateSnapshot)}),this.stop())}),__publicField(this,"performTransitionEffects",(At,St)=>{const Tt=this.determineTransition(At,St);this.executeActions(Tt==null?void 0:Tt.actions,St)}),__publicField(this,"performStateChangeEffects",(At,St,Tt)=>{this.setEvent(Tt);const $t=St.changed||St.reenter;$t&&this.performExitEffects(At,Tt),this.performTransitionEffects(St.transition,Tt),this.setState(St.target),$t&&this.performEntryEffects(St.target,Tt)}),__publicField(this,"determineTransition",(At,St)=>{const Tt=determineTransitionFn(At,this.guardMap);return Tt==null?void 0:Tt(this.contextSnapshot,St,this.guardMeta)}),__publicField(this,"sendParent",At=>{var St;this.parent||invariant$1("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const Tt=toEvent(At);(St=this.parent)==null||St.send(Tt)}),__publicField(this,"log",(...At)=>{isDev()&&this.options.debug&&console.log(...At)}),__publicField(this,"send",At=>{const St=toEvent(At);this.transition(this.state.value,St)}),__publicField(this,"transition",(At,St)=>{var Tt,$t,kt;const Pt=isString(At)?this.getStateNode(At):At==null?void 0:At.stateNode,Ot=toEvent(St);if(!Pt&&!this.config.on){const Zt=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${At}, \`event\`: ${Ot.type}`;warn$1(Zt);return}const Ht=(kt=(Tt=Pt==null?void 0:Pt.on)==null?void 0:Tt[Ot.type])!=null?kt:($t=this.config.on)==null?void 0:$t[Ot.type],qt=this.getNextStateInfo(Ht,Ot);return this.performStateChangeEffects(this.state.value,qt,Ot),qt.stateNode}),__publicField(this,"subscribe",At=>(this.stateListeners.add(At),this.status==="Running"&&At(this.stateSnapshot),()=>{this.stateListeners.delete(At)})),__publicField(this,"onDone",At=>(this.doneListeners.add(At),this)),__publicField(this,"onTransition",At=>(this.stateListeners.add(At),this.status==="Running"&&At(this.stateSnapshot),this)),__publicField(this,"onChange",At=>(this.contextListeners.add(At),this)),__publicField(this,"onEvent",At=>(this.eventListeners.add(At),this));var tt,rt,nt,it,at,ot,ct,ut,ft,yt,bt,Et;this.config=cloneFull(et),this.options=cloneFull(_e!=null?_e:{}),this.id=(tt=this.config.id)!=null?tt:`machine-${uuid()}`,this.guardMap=(nt=(rt=this.options)==null?void 0:rt.guards)!=null?nt:{},this.actionMap=(at=(it=this.options)==null?void 0:it.actions)!=null?at:{},this.delayMap=(ct=(ot=this.options)==null?void 0:ot.delays)!=null?ct:{},this.activityMap=(ft=(ut=this.options)==null?void 0:ut.activities)!=null?ft:{},this.sync=(bt=(yt=this.options)==null?void 0:yt.sync)!=null?bt:!1,this.state=createProxy(this.config);const Ct=toEvent("machine.created");this.executeActions((Et=this.config)==null?void 0:Et.created,Ct)}get stateSnapshot(){return cast(snapshot(this.state))}getState(){return cloneJson(this.stateSnapshot)}get contextSnapshot(){return this.stateSnapshot.context}get self(){const et=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),get state(){return et.stateSnapshot}}}get meta(){return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,getState:()=>this.stateSnapshot,getAction:et=>this.actionMap[et],getGuard:et=>this.guardMap[et]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}},createMachine=(et,_e)=>new Machine(et,_e),clsx=(...et)=>et.map(_e=>_e==null?void 0:_e.trim()).filter(Boolean).join(" ");function mergeProps(...et){var _e,tt;let rt={};for(let nt of et){for(let it in rt){if(/^on[A-Z]/.test(it)&&typeof rt[it]=="function"&&typeof nt[it]=="function"){rt[it]=callAll$2(rt[it],nt[it]);continue}if(it==="className"||it==="class"){rt[it]=clsx(rt[it],nt[it]);continue}if(it==="style"){rt[it]=Object.assign({},(_e=rt[it])!=null?_e:{},(tt=nt[it])!=null?tt:{});continue}rt[it]=nt[it]!==void 0?nt[it]:rt[it]}for(let it in nt)rt[it]===void 0&&(rt[it]=nt[it])}return rt}function getAlignment(et){return et.split("-")[1]}function getLengthFromAxis(et){return et==="y"?"height":"width"}function getSide(et){return et.split("-")[0]}function getMainAxisFromPlacement(et){return["top","bottom"].includes(getSide(et))?"x":"y"}function computeCoordsFromPlacement(et,_e,tt){let{reference:rt,floating:nt}=et;const it=rt.x+rt.width/2-nt.width/2,at=rt.y+rt.height/2-nt.height/2,ot=getMainAxisFromPlacement(_e),ct=getLengthFromAxis(ot),ut=rt[ct]/2-nt[ct]/2,ft=getSide(_e),yt=ot==="x";let bt;switch(ft){case"top":bt={x:it,y:rt.y-nt.height};break;case"bottom":bt={x:it,y:rt.y+rt.height};break;case"right":bt={x:rt.x+rt.width,y:at};break;case"left":bt={x:rt.x-nt.width,y:at};break;default:bt={x:rt.x,y:rt.y}}switch(getAlignment(_e)){case"start":bt[ot]-=ut*(tt&&yt?-1:1);break;case"end":bt[ot]+=ut*(tt&&yt?-1:1);break}return bt}const computePosition$1=async(et,_e,tt)=>{const{placement:rt="bottom",strategy:nt="absolute",middleware:it=[],platform:at}=tt,ot=it.filter(Boolean),ct=await(at.isRTL==null?void 0:at.isRTL(_e));let ut=await at.getElementRects({reference:et,floating:_e,strategy:nt}),{x:ft,y:yt}=computeCoordsFromPlacement(ut,rt,ct),bt=rt,Et={},Ct=0;for(let At=0;At<ot.length;At++){const{name:St,fn:Tt}=ot[At],{x:$t,y:kt,data:Pt,reset:Ot}=await Tt({x:ft,y:yt,initialPlacement:rt,placement:bt,strategy:nt,middlewareData:Et,rects:ut,platform:at,elements:{reference:et,floating:_e}});if(ft=$t!=null?$t:ft,yt=kt!=null?kt:yt,Et={...Et,[St]:{...Et[St],...Pt}},Ot&&Ct<=50){Ct++,typeof Ot=="object"&&(Ot.placement&&(bt=Ot.placement),Ot.rects&&(ut=Ot.rects===!0?await at.getElementRects({reference:et,floating:_e,strategy:nt}):Ot.rects),{x:ft,y:yt}=computeCoordsFromPlacement(ut,bt,ct)),At=-1;continue}}return{x:ft,y:yt,placement:bt,strategy:nt,middlewareData:Et}};function expandPaddingObject(et){return{top:0,right:0,bottom:0,left:0,...et}}function getSideObjectFromPadding(et){return typeof et!="number"?expandPaddingObject(et):{top:et,right:et,bottom:et,left:et}}function rectToClientRect(et){return{...et,top:et.y,left:et.x,right:et.x+et.width,bottom:et.y+et.height}}async function detectOverflow(et,_e){var tt;_e===void 0&&(_e={});const{x:rt,y:nt,platform:it,rects:at,elements:ot,strategy:ct}=et,{boundary:ut="clippingAncestors",rootBoundary:ft="viewport",elementContext:yt="floating",altBoundary:bt=!1,padding:Et=0}=_e,Ct=getSideObjectFromPadding(Et),St=ot[bt?yt==="floating"?"reference":"floating":yt],Tt=rectToClientRect(await it.getClippingRect({element:(tt=await(it.isElement==null?void 0:it.isElement(St)))==null||tt?St:St.contextElement||await(it.getDocumentElement==null?void 0:it.getDocumentElement(ot.floating)),boundary:ut,rootBoundary:ft,strategy:ct})),$t=yt==="floating"?{...at.floating,x:rt,y:nt}:at.reference,kt=await(it.getOffsetParent==null?void 0:it.getOffsetParent(ot.floating)),Pt=await(it.isElement==null?void 0:it.isElement(kt))?await(it.getScale==null?void 0:it.getScale(kt))||{x:1,y:1}:{x:1,y:1},Ot=rectToClientRect(it.convertOffsetParentRelativeRectToViewportRelativeRect?await it.convertOffsetParentRelativeRectToViewportRelativeRect({rect:$t,offsetParent:kt,strategy:ct}):$t);return{top:(Tt.top-Ot.top+Ct.top)/Pt.y,bottom:(Ot.bottom-Tt.bottom+Ct.bottom)/Pt.y,left:(Tt.left-Ot.left+Ct.left)/Pt.x,right:(Ot.right-Tt.right+Ct.right)/Pt.x}}const min$1=Math.min,max$1=Math.max;function within(et,_e,tt){return max$1(et,min$1(_e,tt))}const arrow=et=>({name:"arrow",options:et,async fn(_e){const{element:tt,padding:rt=0}=et||{},{x:nt,y:it,placement:at,rects:ot,platform:ct}=_e;if(tt==null)return{};const ut=getSideObjectFromPadding(rt),ft={x:nt,y:it},yt=getMainAxisFromPlacement(at),bt=getLengthFromAxis(yt),Et=await ct.getDimensions(tt),Ct=yt==="y"?"top":"left",At=yt==="y"?"bottom":"right",St=ot.reference[bt]+ot.reference[yt]-ft[yt]-ot.floating[bt],Tt=ft[yt]-ot.reference[yt],$t=await(ct.getOffsetParent==null?void 0:ct.getOffsetParent(tt));let kt=$t?yt==="y"?$t.clientHeight||0:$t.clientWidth||0:0;kt===0&&(kt=ot.floating[bt]);const Pt=St/2-Tt/2,Ot=ut[Ct],Ht=kt-Et[bt]-ut[At],qt=kt/2-Et[bt]/2+Pt,Zt=within(Ot,qt,Ht),Dt=getAlignment(at)!=null&&qt!=Zt&&ot.reference[bt]/2-(qt<Ot?ut[Ct]:ut[At])-Et[bt]/2<0?qt<Ot?Ot-qt:Ht-qt:0;return{[yt]:ft[yt]-Dt,data:{[yt]:Zt,centerOffset:qt-Zt}}}}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(et){return et.replace(/left|right|bottom|top/g,_e=>oppositeSideMap[_e])}function getAlignmentSides(et,_e,tt){tt===void 0&&(tt=!1);const rt=getAlignment(et),nt=getMainAxisFromPlacement(et),it=getLengthFromAxis(nt);let at=nt==="x"?rt===(tt?"end":"start")?"right":"left":rt==="start"?"bottom":"top";return _e.reference[it]>_e.floating[it]&&(at=getOppositePlacement(at)),{main:at,cross:getOppositePlacement(at)}}const oppositeAlignmentMap={start:"end",end:"start"};function getOppositeAlignmentPlacement(et){return et.replace(/start|end/g,_e=>oppositeAlignmentMap[_e])}function getExpandedPlacements(et){const _e=getOppositePlacement(et);return[getOppositeAlignmentPlacement(et),_e,getOppositeAlignmentPlacement(_e)]}function getSideList(et,_e,tt){const rt=["left","right"],nt=["right","left"],it=["top","bottom"],at=["bottom","top"];switch(et){case"top":case"bottom":return tt?_e?nt:rt:_e?rt:nt;case"left":case"right":return _e?it:at;default:return[]}}function getOppositeAxisPlacements(et,_e,tt,rt){const nt=getAlignment(et);let it=getSideList(getSide(et),tt==="start",rt);return nt&&(it=it.map(at=>at+"-"+nt),_e&&(it=it.concat(it.map(getOppositeAlignmentPlacement)))),it}const flip=function(et){return et===void 0&&(et={}),{name:"flip",options:et,async fn(_e){var tt;const{placement:rt,middlewareData:nt,rects:it,initialPlacement:at,platform:ot,elements:ct}=_e,{mainAxis:ut=!0,crossAxis:ft=!0,fallbackPlacements:yt,fallbackStrategy:bt="bestFit",fallbackAxisSideDirection:Et="none",flipAlignment:Ct=!0,...At}=et,St=getSide(rt),Tt=getSide(at)===at,$t=await(ot.isRTL==null?void 0:ot.isRTL(ct.floating)),kt=yt||(Tt||!Ct?[getOppositePlacement(at)]:getExpandedPlacements(at));!yt&&Et!=="none"&&kt.push(...getOppositeAxisPlacements(at,Ct,Et,$t));const Pt=[at,...kt],Ot=await detectOverflow(_e,At),Ht=[];let qt=((tt=nt.flip)==null?void 0:tt.overflows)||[];if(ut&&Ht.push(Ot[St]),ft){const{main:Dt,cross:Rt}=getAlignmentSides(rt,it,$t);Ht.push(Ot[Dt],Ot[Rt])}if(qt=[...qt,{placement:rt,overflows:Ht}],!Ht.every(Dt=>Dt<=0)){var Zt;const Dt=(((Zt=nt.flip)==null?void 0:Zt.index)||0)+1,Rt=Pt[Dt];if(Rt)return{data:{index:Dt,overflows:qt},reset:{placement:Rt}};let Nt="bottom";switch(bt){case"bestFit":{var tr;const ht=(tr=qt.map(st=>[st,st.overflows.filter(dt=>dt>0).reduce((dt,mt)=>dt+mt,0)]).sort((st,dt)=>st[1]-dt[1])[0])==null?void 0:tr[0].placement;ht&&(Nt=ht);break}case"initialPlacement":Nt=at;break}if(rt!==Nt)return{reset:{placement:Nt}}}return{}}}};async function convertValueToCoords(et,_e){const{placement:tt,platform:rt,elements:nt}=et,it=await(rt.isRTL==null?void 0:rt.isRTL(nt.floating)),at=getSide(tt),ot=getAlignment(tt),ct=getMainAxisFromPlacement(tt)==="x",ut=["left","top"].includes(at)?-1:1,ft=it&&ct?-1:1,yt=typeof _e=="function"?_e(et):_e;let{mainAxis:bt,crossAxis:Et,alignmentAxis:Ct}=typeof yt=="number"?{mainAxis:yt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...yt};return ot&&typeof Ct=="number"&&(Et=ot==="end"?Ct*-1:Ct),ct?{x:Et*ft,y:bt*ut}:{x:bt*ut,y:Et*ft}}const offset=function(et){return et===void 0&&(et=0),{name:"offset",options:et,async fn(_e){const{x:tt,y:rt}=_e,nt=await convertValueToCoords(_e,et);return{x:tt+nt.x,y:rt+nt.y,data:nt}}}};function getCrossAxis(et){return et==="x"?"y":"x"}const shift=function(et){return et===void 0&&(et={}),{name:"shift",options:et,async fn(_e){const{x:tt,y:rt,placement:nt}=_e,{mainAxis:it=!0,crossAxis:at=!1,limiter:ot={fn:St=>{let{x:Tt,y:$t}=St;return{x:Tt,y:$t}}},...ct}=et,ut={x:tt,y:rt},ft=await detectOverflow(_e,ct),yt=getMainAxisFromPlacement(getSide(nt)),bt=getCrossAxis(yt);let Et=ut[yt],Ct=ut[bt];if(it){const St=yt==="y"?"top":"left",Tt=yt==="y"?"bottom":"right",$t=Et+ft[St],kt=Et-ft[Tt];Et=within($t,Et,kt)}if(at){const St=bt==="y"?"top":"left",Tt=bt==="y"?"bottom":"right",$t=Ct+ft[St],kt=Ct-ft[Tt];Ct=within($t,Ct,kt)}const At=ot.fn({..._e,[yt]:Et,[bt]:Ct});return{...At,data:{x:At.x-tt,y:At.y-rt}}}}},size=function(et){return et===void 0&&(et={}),{name:"size",options:et,async fn(_e){const{placement:tt,rects:rt,platform:nt,elements:it}=_e,{apply:at=()=>{},...ot}=et,ct=await detectOverflow(_e,ot),ut=getSide(tt),ft=getAlignment(tt);let yt,bt;ut==="top"||ut==="bottom"?(yt=ut,bt=ft===(await(nt.isRTL==null?void 0:nt.isRTL(it.floating))?"start":"end")?"left":"right"):(bt=ut,yt=ft==="end"?"top":"bottom");const Et=max$1(ct.left,0),Ct=max$1(ct.right,0),At=max$1(ct.top,0),St=max$1(ct.bottom,0),Tt={availableHeight:rt.floating.height-(["left","right"].includes(tt)?2*(At!==0||St!==0?At+St:max$1(ct.top,ct.bottom)):ct[yt]),availableWidth:rt.floating.width-(["top","bottom"].includes(tt)?2*(Et!==0||Ct!==0?Et+Ct:max$1(ct.left,ct.right)):ct[bt])};await at({..._e,...Tt});const $t=await nt.getDimensions(it.floating);return rt.floating.width!==$t.width||rt.floating.height!==$t.height?{reset:{rects:!0}}:{}}}};function getWindow$1(et){var _e;return((_e=et.ownerDocument)==null?void 0:_e.defaultView)||window}function getComputedStyle$1(et){return getWindow$1(et).getComputedStyle(et)}function getNodeName(et){return isNode(et)?(et.nodeName||"").toLowerCase():""}let uaString;function getUAString(){if(uaString)return uaString;const et=navigator.userAgentData;return et&&Array.isArray(et.brands)?(uaString=et.brands.map(_e=>_e.brand+"/"+_e.version).join(" "),uaString):navigator.userAgent}function isHTMLElement$3(et){return et instanceof getWindow$1(et).HTMLElement}function isElement(et){return et instanceof getWindow$1(et).Element}function isNode(et){return et instanceof getWindow$1(et).Node}function isShadowRoot(et){if(typeof ShadowRoot>"u")return!1;const _e=getWindow$1(et).ShadowRoot;return et instanceof _e||et instanceof ShadowRoot}function isOverflowElement(et){const{overflow:_e,overflowX:tt,overflowY:rt,display:nt}=getComputedStyle$1(et);return/auto|scroll|overlay|hidden|clip/.test(_e+rt+tt)&&!["inline","contents"].includes(nt)}function isTableElement(et){return["table","td","th"].includes(getNodeName(et))}function isContainingBlock(et){const _e=/firefox/i.test(getUAString()),tt=getComputedStyle$1(et),rt=tt.backdropFilter||tt.WebkitBackdropFilter;return tt.transform!=="none"||tt.perspective!=="none"||(rt?rt!=="none":!1)||_e&&tt.willChange==="filter"||_e&&(tt.filter?tt.filter!=="none":!1)||["transform","perspective"].some(nt=>tt.willChange.includes(nt))||["paint","layout","strict","content"].some(nt=>{const it=tt.contain;return it!=null?it.includes(nt):!1})}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function isLastTraversableNode(et){return["html","body","#document"].includes(getNodeName(et))}const min=Math.min,max=Math.max,round=Math.round;function getCssDimensions(et){const _e=getComputedStyle$1(et);let tt=parseFloat(_e.width),rt=parseFloat(_e.height);const nt=et.offsetWidth,it=et.offsetHeight,at=round(tt)!==nt||round(rt)!==it;return at&&(tt=nt,rt=it),{width:tt,height:rt,fallback:at}}function unwrapElement(et){return isElement(et)?et:et.contextElement}const FALLBACK_SCALE={x:1,y:1};function getScale(et){const _e=unwrapElement(et);if(!isHTMLElement$3(_e))return FALLBACK_SCALE;const tt=_e.getBoundingClientRect(),{width:rt,height:nt,fallback:it}=getCssDimensions(_e);let at=(it?round(tt.width):tt.width)/rt,ot=(it?round(tt.height):tt.height)/nt;return(!at||!Number.isFinite(at))&&(at=1),(!ot||!Number.isFinite(ot))&&(ot=1),{x:at,y:ot}}function getBoundingClientRect(et,_e,tt,rt){var nt,it;_e===void 0&&(_e=!1),tt===void 0&&(tt=!1);const at=et.getBoundingClientRect(),ot=unwrapElement(et);let ct=FALLBACK_SCALE;_e&&(rt?isElement(rt)&&(ct=getScale(rt)):ct=getScale(et));const ut=ot?getWindow$1(ot):window,ft=!isLayoutViewport()&&tt;let yt=(at.left+(ft&&((nt=ut.visualViewport)==null?void 0:nt.offsetLeft)||0))/ct.x,bt=(at.top+(ft&&((it=ut.visualViewport)==null?void 0:it.offsetTop)||0))/ct.y,Et=at.width/ct.x,Ct=at.height/ct.y;if(ot){const At=getWindow$1(ot),St=rt&&isElement(rt)?getWindow$1(rt):rt;let Tt=At.frameElement;for(;Tt&&rt&&St!==At;){const $t=getScale(Tt),kt=Tt.getBoundingClientRect(),Pt=getComputedStyle(Tt);kt.x+=(Tt.clientLeft+parseFloat(Pt.paddingLeft))*$t.x,kt.y+=(Tt.clientTop+parseFloat(Pt.paddingTop))*$t.y,yt*=$t.x,bt*=$t.y,Et*=$t.x,Ct*=$t.y,yt+=kt.x,bt+=kt.y,Tt=getWindow$1(Tt).frameElement}}return{width:Et,height:Ct,top:bt,right:yt+Et,bottom:bt+Ct,left:yt,x:yt,y:bt}}function getDocumentElement(et){return((isNode(et)?et.ownerDocument:et.document)||window.document).documentElement}function getNodeScroll(et){return isElement(et)?{scrollLeft:et.scrollLeft,scrollTop:et.scrollTop}:{scrollLeft:et.pageXOffset,scrollTop:et.pageYOffset}}function getWindowScrollBarX(et){return getBoundingClientRect(getDocumentElement(et)).left+getNodeScroll(et).scrollLeft}function getRectRelativeToOffsetParent(et,_e,tt){const rt=isHTMLElement$3(_e),nt=getDocumentElement(_e),it=getBoundingClientRect(et,!0,tt==="fixed",_e);let at={scrollLeft:0,scrollTop:0};const ot={x:0,y:0};if(rt||!rt&&tt!=="fixed")if((getNodeName(_e)!=="body"||isOverflowElement(nt))&&(at=getNodeScroll(_e)),isHTMLElement$3(_e)){const ct=getBoundingClientRect(_e,!0);ot.x=ct.x+_e.clientLeft,ot.y=ct.y+_e.clientTop}else nt&&(ot.x=getWindowScrollBarX(nt));return{x:it.left+at.scrollLeft-ot.x,y:it.top+at.scrollTop-ot.y,width:it.width,height:it.height}}function getParentNode(et){if(getNodeName(et)==="html")return et;const _e=et.assignedSlot||et.parentNode||(isShadowRoot(et)?et.host:null)||getDocumentElement(et);return isShadowRoot(_e)?_e.host:_e}function getTrueOffsetParent(et){return!isHTMLElement$3(et)||getComputedStyle$1(et).position==="fixed"?null:et.offsetParent}function getContainingBlock(et){let _e=getParentNode(et);for(;isHTMLElement$3(_e)&&!isLastTraversableNode(_e);){if(isContainingBlock(_e))return _e;_e=getParentNode(_e)}return null}function getOffsetParent(et){const _e=getWindow$1(et);let tt=getTrueOffsetParent(et);for(;tt&&isTableElement(tt)&&getComputedStyle$1(tt).position==="static";)tt=getTrueOffsetParent(tt);return tt&&(getNodeName(tt)==="html"||getNodeName(tt)==="body"&&getComputedStyle$1(tt).position==="static"&&!isContainingBlock(tt))?_e:tt||getContainingBlock(et)||_e}function getDimensions(et){return getCssDimensions(et)}function convertOffsetParentRelativeRectToViewportRelativeRect(et){let{rect:_e,offsetParent:tt,strategy:rt}=et;const nt=isHTMLElement$3(tt),it=getDocumentElement(tt);if(tt===it)return _e;let at={scrollLeft:0,scrollTop:0},ot={x:1,y:1};const ct={x:0,y:0};if((nt||!nt&&rt!=="fixed")&&((getNodeName(tt)!=="body"||isOverflowElement(it))&&(at=getNodeScroll(tt)),isHTMLElement$3(tt))){const ut=getBoundingClientRect(tt);ot=getScale(tt),ct.x=ut.x+tt.clientLeft,ct.y=ut.y+tt.clientTop}return{width:_e.width*ot.x,height:_e.height*ot.y,x:_e.x*ot.x-at.scrollLeft*ot.x+ct.x,y:_e.y*ot.y-at.scrollTop*ot.y+ct.y}}function getViewportRect(et,_e){const tt=getWindow$1(et),rt=getDocumentElement(et),nt=tt.visualViewport;let it=rt.clientWidth,at=rt.clientHeight,ot=0,ct=0;if(nt){it=nt.width,at=nt.height;const ut=isLayoutViewport();(ut||!ut&&_e==="fixed")&&(ot=nt.offsetLeft,ct=nt.offsetTop)}return{width:it,height:at,x:ot,y:ct}}function getDocumentRect(et){var _e;const tt=getDocumentElement(et),rt=getNodeScroll(et),nt=(_e=et.ownerDocument)==null?void 0:_e.body,it=max(tt.scrollWidth,tt.clientWidth,nt?nt.scrollWidth:0,nt?nt.clientWidth:0),at=max(tt.scrollHeight,tt.clientHeight,nt?nt.scrollHeight:0,nt?nt.clientHeight:0);let ot=-rt.scrollLeft+getWindowScrollBarX(et);const ct=-rt.scrollTop;return getComputedStyle$1(nt||tt).direction==="rtl"&&(ot+=max(tt.clientWidth,nt?nt.clientWidth:0)-it),{width:it,height:at,x:ot,y:ct}}function getNearestOverflowAncestor(et){const _e=getParentNode(et);return isLastTraversableNode(_e)?et.ownerDocument.body:isHTMLElement$3(_e)&&isOverflowElement(_e)?_e:getNearestOverflowAncestor(_e)}function getOverflowAncestors(et,_e){var tt;_e===void 0&&(_e=[]);const rt=getNearestOverflowAncestor(et),nt=rt===((tt=et.ownerDocument)==null?void 0:tt.body),it=getWindow$1(rt);return nt?_e.concat(it,it.visualViewport||[],isOverflowElement(rt)?rt:[]):_e.concat(rt,getOverflowAncestors(rt))}function getInnerBoundingClientRect(et,_e){const tt=getBoundingClientRect(et,!0,_e==="fixed"),rt=tt.top+et.clientTop,nt=tt.left+et.clientLeft,it=isHTMLElement$3(et)?getScale(et):{x:1,y:1},at=et.clientWidth*it.x,ot=et.clientHeight*it.y,ct=nt*it.x,ut=rt*it.y;return{top:ut,left:ct,right:ct+at,bottom:ut+ot,x:ct,y:ut,width:at,height:ot}}function getClientRectFromClippingAncestor(et,_e,tt){return _e==="viewport"?rectToClientRect(getViewportRect(et,tt)):isElement(_e)?getInnerBoundingClientRect(_e,tt):rectToClientRect(getDocumentRect(getDocumentElement(et)))}function getClippingElementAncestors(et,_e){const tt=_e.get(et);if(tt)return tt;let rt=getOverflowAncestors(et).filter(ot=>isElement(ot)&&getNodeName(ot)!=="body"),nt=null;const it=getComputedStyle$1(et).position==="fixed";let at=it?getParentNode(et):et;for(;isElement(at)&&!isLastTraversableNode(at);){const ot=getComputedStyle$1(at),ct=isContainingBlock(at);(it?!ct&&!nt:!ct&&ot.position==="static"&&!!nt&&["absolute","fixed"].includes(nt.position))?rt=rt.filter(ft=>ft!==at):nt=ot,at=getParentNode(at)}return _e.set(et,rt),rt}function getClippingRect(et){let{element:_e,boundary:tt,rootBoundary:rt,strategy:nt}=et;const at=[...tt==="clippingAncestors"?getClippingElementAncestors(_e,this._c):[].concat(tt),rt],ot=at[0],ct=at.reduce((ut,ft)=>{const yt=getClientRectFromClippingAncestor(_e,ft,nt);return ut.top=max(yt.top,ut.top),ut.right=min(yt.right,ut.right),ut.bottom=min(yt.bottom,ut.bottom),ut.left=max(yt.left,ut.left),ut},getClientRectFromClippingAncestor(_e,ot,nt));return{width:ct.right-ct.left,height:ct.bottom-ct.top,x:ct.left,y:ct.top}}const platform={getClippingRect,convertOffsetParentRelativeRectToViewportRelativeRect,isElement,getDimensions,getOffsetParent,getDocumentElement,getScale,async getElementRects(et){let{reference:_e,floating:tt,strategy:rt}=et;const nt=this.getOffsetParent||getOffsetParent,it=this.getDimensions;return{reference:getRectRelativeToOffsetParent(_e,await nt(tt),rt),floating:{x:0,y:0,...await it(tt)}}},getClientRects:et=>Array.from(et.getClientRects()),isRTL:et=>getComputedStyle$1(et).direction==="rtl"},computePosition=(et,_e,tt)=>{const rt=new Map,nt={platform,...tt},it={...nt.platform,_c:rt};return computePosition$1(et,_e,{...nt,platform:it})};var runIfFn$3=(et,..._e)=>{const tt=typeof et=="function"?et(..._e):et;return tt!=null?tt:void 0},callAll$1=(...et)=>(..._e)=>{et.forEach(function(tt){tt==null||tt(..._e)})},isBoolean=et=>et===!0||et===!1,hasProp$2=(et,_e)=>Object.prototype.hasOwnProperty.call(et,_e);function isHTMLElement$2(et){return typeof et=="object"&&(et==null?void 0:et.nodeType)===Node.ELEMENT_NODE&&typeof(et==null?void 0:et.nodeName)=="string"}var isRef$3=et=>hasProp$2(et,"current");function addDomEvent$3(et,_e,tt,rt){const nt=isRef$3(et)?et.current:runIfFn$3(et);return nt==null||nt.addEventListener(_e,tt,rt),()=>{nt==null||nt.removeEventListener(_e,tt,rt)}}function getObservedElements(){return globalThis.__rectObserverMap__=globalThis.__rectObserverMap__||new Map,globalThis.__rectObserverMap__}function observeElementRect(et,_e){const tt=getObservedElements(),rt=tt.get(et);return rt?(rt.callbacks.push(_e),_e(et.getBoundingClientRect())):(tt.set(et,{rect:{},callbacks:[_e]}),tt.size===1&&(rafId=requestAnimationFrame(runLoop))),function(){const it=tt.get(et);if(!it)return;const at=it.callbacks.indexOf(_e);at>-1&&it.callbacks.splice(at,1),it.callbacks.length===0&&(tt.delete(et),tt.size===0&&cancelAnimationFrame(rafId))}}var rafId;function runLoop(){const et=getObservedElements(),_e=[];et.forEach((tt,rt)=>{const nt=rt.getBoundingClientRect();isEqual(tt.rect,nt)||(tt.rect=nt,_e.push(tt))}),_e.forEach(tt=>{tt.callbacks.forEach(rt=>rt(tt.rect))}),rafId=requestAnimationFrame(runLoop)}function isEqual(et,_e){return et.width===_e.width&&et.height===_e.height&&et.top===_e.top&&et.right===_e.right&&et.bottom===_e.bottom&&et.left===_e.left}function resolveOptions(et){var _e,tt,rt;const nt=isBoolean(et);return{ancestorResize:nt?et:(_e=et.ancestorResize)!=null?_e:!0,ancestorScroll:nt?et:(tt=et.ancestorScroll)!=null?tt:!0,referenceResize:nt?et:(rt=et.referenceResize)!=null?rt:!0}}function autoUpdate(et,_e,tt,rt=!1){const{ancestorScroll:nt,ancestorResize:it,referenceResize:at}=resolveOptions(rt),ot=nt||it,ct=[];ot&&isHTMLElement$2(et)&&ct.push(...getOverflowAncestors(et));function ut(){let yt=[observeElementRect(_e,tt)];return at&&isHTMLElement$2(et)&&yt.push(observeElementRect(et,tt)),yt.push(callAll$1(...ct.map(bt=>addDomEvent$3(bt,"resize",tt)))),()=>yt.forEach(bt=>bt())}function ft(){return callAll$1(...ct.map(yt=>addDomEvent$3(yt,"scroll",tt,{passive:!0})))}return callAll$1(ut(),ft())}var toVar=et=>({variable:et,reference:`var(${et})`}),cssVars={arrowSize:toVar("--arrow-size"),arrowSizeHalf:toVar("--arrow-size-half"),arrowBg:toVar("--arrow-background"),transformOrigin:toVar("--transform-origin"),arrowOffset:toVar("--arrow-offset")},getTransformOrigin=et=>({top:"bottom center","top-start":et?`${et.x}px bottom`:"left bottom","top-end":et?`${et.x}px bottom`:"right bottom",bottom:"top center","bottom-start":et?`${et.x}px top`:"top left","bottom-end":et?`${et.x}px top`:"top right",left:"right center","left-start":et?`right ${et.y}px`:"right top","left-end":et?`right ${et.y}px`:"right bottom",right:"left center","right-start":et?`left ${et.y}px`:"left top","right-end":et?`left ${et.y}px`:"left bottom"}),transformOrigin={name:"transformOrigin",fn({placement:et,elements:_e,middlewareData:tt}){const{arrow:rt}=tt,nt=getTransformOrigin(rt)[et],{floating:it}=_e;return it.style.setProperty(cssVars.transformOrigin.variable,nt),{data:{transformOrigin:nt}}}},shiftArrow=et=>({name:"shiftArrow",fn({placement:_e,middlewareData:tt}){const{element:rt}=et;if(tt.arrow){const{x:nt,y:it}=tt.arrow,at=_e.split("-")[0];Object.assign(rt.style,{left:nt!=null?`${nt}px`:"",top:it!=null?`${it}px`:"",[at]:`calc(100% + ${cssVars.arrowOffset.reference})`})}return{}}}),defaultOptions={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,sameWidth:!1,overflowPadding:8};function getPlacement(et,_e,tt={}){if(!_e||!et)return;const rt=Object.assign({},defaultOptions,tt),nt=_e.querySelector("[data-part=arrow]"),it=[],at=typeof rt.boundary=="function"?rt.boundary():rt.boundary;if(rt.flip&&it.push(flip({boundary:at,padding:rt.overflowPadding})),rt.gutter||rt.offset){const ct=nt?nt.offsetHeight/2:0,ut=rt.gutter?{mainAxis:rt.gutter}:rt.offset;(ut==null?void 0:ut.mainAxis)!=null&&(ut.mainAxis+=ct),it.push(offset(ut))}it.push(shift({boundary:at,crossAxis:rt.overlap,padding:rt.overflowPadding})),nt&&it.push(arrow({element:nt,padding:8}),shiftArrow({element:nt})),it.push(transformOrigin),it.push(size({padding:rt.overflowPadding,apply({rects:ct,availableHeight:ut,availableWidth:ft}){const yt=Math.round(ct.reference.width);_e.style.setProperty("--reference-width",`${yt}px`),_e.style.setProperty("--available-width",`${ft}px`),_e.style.setProperty("--available-height",`${ut}px`),rt.sameWidth&&Object.assign(_e.style,{width:`${yt}px`,minWidth:"unset"}),rt.fitViewport&&Object.assign(_e.style,{maxWidth:`${ft}px`,maxHeight:`${ut}px`})}}));function ot(ct={}){if(!et||!_e)return;const{placement:ut,strategy:ft}=rt;computePosition(et,_e,{placement:ut,middleware:it,strategy:ft,...ct}).then(yt=>{var bt;const Et=Math.round(yt.x),Ct=Math.round(yt.y);Object.assign(_e.style,{position:yt.strategy,top:"0",left:"0",transform:`translate3d(${Et}px, ${Ct}px, 0)`}),(bt=rt.onComplete)==null||bt.call(rt,{...yt,compute:ot})})}return ot(),callAll$1(rt.listeners?autoUpdate(et,_e,ot,rt.listeners):void 0,rt.onCleanup)}function getBasePlacement(et){return et.split("-")[0]}var UNMEASURED_FLOATING_STYLE={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)",pointerEvents:"none"},ARROW_FLOATING_STYLE={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function getPlacementStyles(et){const{measured:_e,strategy:tt="absolute",placement:rt="bottom"}=et;return{arrow:{position:"absolute",width:cssVars.arrowSize.reference,height:cssVars.arrowSize.reference,[cssVars.arrowSizeHalf.variable]:`calc(${cssVars.arrowSize.reference} / 2)`,[cssVars.arrowOffset.variable]:`calc(${cssVars.arrowSizeHalf.reference} * -1)`,opacity:_e?void 0:0},arrowTip:{transform:ARROW_FLOATING_STYLE[rt.split("-")[0]],background:cssVars.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:tt,minWidth:"max-content",...!_e&&UNMEASURED_FLOATING_STYLE}}}var dataAttr=et=>et?"":void 0,rtlKeyMap={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"},sameKeyMap={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"};function getEventKey(et,_e={}){var tt;const{dir:rt="ltr",orientation:nt="horizontal"}=_e;let{key:it}=et;return it=(tt=sameKeyMap[it])!=null?tt:it,rt==="rtl"&&nt==="horizontal"&&it in rtlKeyMap&&(it=rtlKeyMap[it]),it}function connect(et,_e,tt){var rt;const nt=et.context.isSubmenu,it=et.context.value,at=et.context.isTypingAhead,ot=et.hasTag("visible"),ct=getPlacementStyles({measured:!!et.context.anchorPoint||!!et.context.currentPlacement,placement:et.context.currentPlacement}),ut={isOpen:ot,open(){_e("OPEN")},close(){_e("CLOSE")},highlightedId:et.context.highlightedId,setHighlightedId(ft){_e({type:"SET_HIGHLIGHTED_ID",id:ft})},setParent(ft){_e({type:"SET_PARENT",value:ft,id:ft.state.context.id})},setChild(ft){_e({type:"SET_CHILD",value:ft,id:ft.state.context.id})},value:it,setValue(ft,yt){_e({type:"SET_VALUE",name:ft,value:yt})},isOptionChecked(ft){return ft.type==="radio"?(it==null?void 0:it[ft.name])===ft.value:it==null?void 0:it[ft.name].includes(ft.value)},contextTriggerProps:tt.element({...parts.trigger.attrs,id:dom.getContextTriggerId(et.context),onPointerDown(ft){if(ft.pointerType==="mouse")return;const yt=getNativeEvent(ft);_e({type:"CONTEXT_MENU_START",point:getEventPoint(yt)})},onPointerCancel(ft){ft.pointerType!=="mouse"&&_e("CONTEXT_MENU_CANCEL")},onPointerMove(ft){ft.pointerType!=="mouse"&&_e("CONTEXT_MENU_CANCEL")},onPointerUp(ft){ft.pointerType!=="mouse"&&_e("CONTEXT_MENU_CANCEL")},onContextMenu(ft){const yt=getNativeEvent(ft);_e({type:"CONTEXT_MENU",point:getEventPoint(yt)}),ft.preventDefault()},style:{WebkitTouchCallout:"none",userSelect:"none"}}),getTriggerItemProps(ft){return mergeProps(ut.getItemProps({id:ft.triggerProps.id}),ft.triggerProps)},triggerProps:tt.button({...nt?parts.triggerItem.attrs:parts.trigger.attrs,"data-placement":et.context.currentPlacement,type:"button",dir:et.context.dir,id:dom.getTriggerId(et.context),"data-uid":et.context.id,"aria-haspopup":"menu","aria-controls":dom.getContentId(et.context),"aria-expanded":ot||void 0,"data-expanded":dataAttr(ot),onPointerMove(ft){ft.pointerType!=="mouse"||dom.isTargetDisabled(ft.currentTarget)||!nt||_e({type:"TRIGGER_POINTERMOVE",target:ft.currentTarget})},onPointerLeave(ft){if(ft.pointerType!=="mouse")return;const yt=getNativeEvent(ft);dom.isTargetDisabled(ft.currentTarget)||!nt||_e({type:"TRIGGER_POINTERLEAVE",target:ft.currentTarget,point:getEventPoint(yt)})},onClick(ft){dom.isTriggerItem(ft.currentTarget)&&_e({type:"TRIGGER_CLICK",target:ft.currentTarget})},onPointerDown(ft){const yt=dom.isTargetDisabled(ft.currentTarget),bt=getNativeEvent(ft);!isLeftClick(bt)||yt||isContextMenuEvent$1(ft)||(ft.preventDefault(),dom.isTriggerItem(ft.currentTarget)||_e({type:"TRIGGER_CLICK",target:ft.currentTarget}))},onBlur(){_e("TRIGGER_BLUR")},onFocus(){_e("TRIGGER_FOCUS")},onKeyDown(ft){const yt={ArrowDown(){_e("ARROW_DOWN")},ArrowUp(){_e("ARROW_UP")},Enter(){_e({type:"ARROW_DOWN"})},Space(){_e({type:"ARROW_DOWN"})}},bt=getEventKey(ft,et.context),Et=yt[bt];Et&&(ft.preventDefault(),Et(ft))}}),positionerProps:tt.element({...parts.positioner.attrs,id:dom.getPositionerId(et.context),style:ct.floating}),arrowProps:tt.element({id:dom.getArrowId(et.context),...parts.arrow.attrs,style:ct.arrow}),arrowTipProps:tt.element({...parts.arrowTip.attrs,style:ct.arrowTip}),contentProps:tt.element({...parts.content.attrs,id:dom.getContentId(et.context),"aria-label":et.context["aria-label"],hidden:!ot,role:"menu",tabIndex:0,dir:et.context.dir,"aria-activedescendant":(rt=et.context.highlightedId)!=null?rt:void 0,"aria-labelledby":dom.getTriggerId(et.context),"data-placement":et.context.currentPlacement,onPointerEnter(ft){ft.pointerType==="mouse"&&_e("MENU_POINTERENTER")},onKeyDown(ft){if(!isSelfEvent(ft))return;const yt=dom.getFocusedItem(et.context),bt=!!(yt!=null&&yt.matches("a[href]")),Et={ArrowDown(){_e("ARROW_DOWN")},ArrowUp(){_e("ARROW_UP")},ArrowLeft(){_e("ARROW_LEFT")},ArrowRight(){_e("ARROW_RIGHT")},Enter(){bt&&(yt==null||yt.click()),_e("ENTER")},Space(St){var Tt;at?_e({type:"TYPEAHEAD",key:St.key}):(Tt=Et.Enter)==null||Tt.call(Et,St)},Home(){_e("HOME")},End(){_e("END")},Tab(St){_e({type:"TAB",shiftKey:St.shiftKey,loop:!1})}},Ct=getEventKey(ft,{dir:et.context.dir}),At=Et[Ct];if(At){const St=bt&&Ct==="Enter";At(ft),St||ft.preventDefault()}else{if(!(ft.key.length===1&&!isModifiedEvent$1(ft)&&!isElementEditable(yt)))return;_e({type:"TYPEAHEAD",key:ft.key}),ft.preventDefault()}}}),separatorProps:tt.element({...parts.separator.attrs,role:"separator","aria-orientation":"horizontal"}),getItemProps(ft){const{id:yt,disabled:bt,valueText:Et}=ft;return tt.element({...parts.item.attrs,id:yt,role:"menuitem","aria-disabled":bt,"data-disabled":dataAttr(bt),"data-ownedby":dom.getContentId(et.context),"data-focus":dataAttr(et.context.highlightedId===yt),"data-valuetext":Et,onClick(Ct){bt||_e({type:"ITEM_CLICK",target:Ct.currentTarget,id:yt})},onPointerDown(Ct){bt||_e({type:"ITEM_POINTERDOWN",target:Ct.currentTarget,id:yt})},onPointerUp(Ct){const At=getNativeEvent(Ct);!isLeftClick(At)||bt||et.context.pointerdownNode===Ct.currentTarget||Ct.currentTarget.click()},onPointerLeave(Ct){bt||Ct.pointerType!=="mouse"||_e({type:"ITEM_POINTERLEAVE",target:Ct.currentTarget})},onPointerMove(Ct){bt||Ct.pointerType!=="mouse"||_e({type:"ITEM_POINTERMOVE",id:yt,target:Ct.currentTarget})},onDragStart(Ct){Ct.currentTarget.matches("a[href]")&&Ct.preventDefault()},onAuxClick(Ct){bt||(Ct.preventDefault(),Ct.currentTarget.click())}})},getOptionItemProps(ft){var yt,bt;const{name:Et,type:Ct,disabled:At,onCheckedChange:St}=ft;(yt=ft.id)!=null||(ft.id=ft.value),(bt=ft.valueText)!=null||(ft.valueText=ft.value);const Tt=ut.isOptionChecked(ft);return Object.assign(ut.getItemProps(ft),tt.element({"data-type":Ct,"data-name":Et,...parts.optionItem.attrs,"data-value":ft.value,role:`menuitem${Ct}`,"aria-checked":!!Tt,"data-checked":dataAttr(Tt),onClick($t){At||(_e({type:"ITEM_CLICK",target:$t.currentTarget,option:ft}),St==null||St(!Tt))}}))},getItemGroupLabelProps(ft){return tt.element({id:dom.getGroupLabelId(et.context,ft.htmlFor),...parts.itemGroupLabel.attrs})},getItemGroupProps(ft){return tt.element({id:dom.getGroupId(et.context,ft.id),...parts.itemGroup.attrs,"aria-labelledby":ft.id,role:"group"})}};return ut}var runIfFn$2=(et,..._e)=>{const tt=typeof et=="function"?et(..._e):et;return tt!=null?tt:void 0},hasProp$1=(et,_e)=>Object.prototype.hasOwnProperty.call(et,_e),isRef$2=et=>hasProp$1(et,"current");function addDomEvent$2(et,_e,tt,rt){const nt=isRef$2(et)?et.current:runIfFn$2(et);return nt==null||nt.addEventListener(_e,tt,rt),()=>{nt==null||nt.removeEventListener(_e,tt,rt)}}function trackEscapeKeydown(et){return addDomEvent$2(document,"keydown",tt=>{tt.key==="Escape"&&(et==null||et(tt))})}function isDocument$1(et){return et.nodeType===Node.DOCUMENT_NODE}function isWindow$1(et){return(et==null?void 0:et.toString())==="[object Window]"}function getDocument$1(et){var _e;return isWindow$1(et)?et.document:isDocument$1(et)?et:(_e=et==null?void 0:et.ownerDocument)!=null?_e:document}function getEventTarget$1(et){var _e,tt;return(tt=(_e=et.composedPath)==null?void 0:_e.call(et)[0])!=null?tt:et.target}function contains$1(et,_e){return et?et===_e||isHTMLElement$1(et)&&isHTMLElement$1(_e)&&et.contains(_e):!1}function isHTMLElement$1(et){return typeof et=="object"&&(et==null?void 0:et.nodeType)===Node.ELEMENT_NODE&&typeof(et==null?void 0:et.nodeName)=="string"}var layerStack={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(et=>et.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(et){var _e;const tt=this.indexOf(et),rt=this.topMostPointerBlockingLayer()?this.indexOf((_e=this.topMostPointerBlockingLayer())==null?void 0:_e.node):-1;return tt<rt},isTopMost(et){const _e=this.layers[this.count()-1];return(_e==null?void 0:_e.node)===et},getNestedLayers(et){return Array.from(this.layers).slice(this.indexOf(et)+1)},isInNestedLayer(et,_e){return this.getNestedLayers(et).some(tt=>contains$1(tt.node,_e))},isInBranch(et){return Array.from(this.branches).some(_e=>contains$1(_e,et))},add(et){this.layers.push(et)},addBranch(et){this.branches.push(et)},remove(et){const _e=this.indexOf(et);_e<0||(_e<this.count()-1&&this.getNestedLayers(et).forEach(rt=>rt.dismiss()),this.layers.splice(_e,1))},removeBranch(et){const _e=this.branches.indexOf(et);_e>=0&&this.branches.splice(_e,1)},indexOf(et){return this.layers.findIndex(_e=>_e.node===et)},dismiss(et){var _e;(_e=this.layers[this.indexOf(et)])==null||_e.dismiss()},clear(){this.remove(this.layers[0].node)}},originalBodyPointerEvents;function assignPointerEventToLayers(){layerStack.layers.forEach(({node:et})=>{et.style.pointerEvents=layerStack.isBelowPointerBlockingLayer(et)?"none":"auto"})}function clearPointerEvent(et){et.style.pointerEvents=""}var DATA_ATTR="data-inert";function disablePointerEventsOutside(et){const _e=getDocument$1(et);return layerStack.hasPointerBlockingLayer()&&!_e.body.hasAttribute(DATA_ATTR)&&(originalBodyPointerEvents=document.body.style.pointerEvents,_e.body.style.pointerEvents="none",_e.body.setAttribute(DATA_ATTR,"")),()=>{layerStack.hasPointerBlockingLayer()||(_e.body.style.pointerEvents=originalBodyPointerEvents,_e.body.removeAttribute(DATA_ATTR),_e.body.style.length===0&&_e.body.removeAttribute("style"))}}var runIfFn$1=(et,..._e)=>{const tt=typeof et=="function"?et(..._e):et;return tt!=null?tt:void 0},callAll=(...et)=>(..._e)=>{et.forEach(function(tt){tt==null||tt(..._e)})},hasProp=(et,_e)=>Object.prototype.hasOwnProperty.call(et,_e),isDom=()=>typeof window<"u";function getPlatform(){var et;const _e=navigator.userAgentData;return(et=_e==null?void 0:_e.platform)!=null?et:navigator.platform}var pt=et=>isDom()&&et.test(getPlatform()),isTouchDevice=()=>isDom()&&!!navigator.maxTouchPoints,isMac=()=>pt(/^Mac/)&&!isTouchDevice;function isDocument(et){return et.nodeType===Node.DOCUMENT_NODE}function isWindow(et){return(et==null?void 0:et.toString())==="[object Window]"}function getDocument(et){var _e;return isWindow(et)?et.document:isDocument(et)?et:(_e=et==null?void 0:et.ownerDocument)!=null?_e:document}function getWindow(et){var _e;return(_e=et==null?void 0:et.ownerDocument.defaultView)!=null?_e:window}function getEventTarget(et){var _e,tt;return(tt=(_e=et.composedPath)==null?void 0:_e.call(et)[0])!=null?tt:et.target}function contains(et,_e){return et?et===_e||isHTMLElement(et)&&isHTMLElement(_e)&&et.contains(_e):!1}function isHTMLElement(et){return typeof et=="object"&&(et==null?void 0:et.nodeType)===Node.ELEMENT_NODE&&typeof(et==null?void 0:et.nodeName)=="string"}function isVisible(et){return isHTMLElement(et)?et.offsetWidth>0||et.offsetHeight>0||et.getClientRects().length>0:!1}var isContextMenuEvent=et=>et.button===2||isCtrlKey(et)&&et.button===0,isCtrlKey=et=>isMac()?et.metaKey&&!et.ctrlKey:et.ctrlKey&&!et.metaKey;function fireCustomEvent(et,_e,tt){if(!et)return;const rt=getWindow(et),nt=new rt.CustomEvent(_e,tt);return et.dispatchEvent(nt)}var focusableSelector="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type";function isFocusable(et){return et?et.matches(focusableSelector)&&isVisible(et):!1}var isRef$1=et=>hasProp(et,"current");function addDomEvent$1(et,_e,tt,rt){const nt=isRef$1(et)?et.current:runIfFn$1(et);return nt==null||nt.addEventListener(_e,tt,rt),()=>{nt==null||nt.removeEventListener(_e,tt,rt)}}var POINTER_OUTSIDE_EVENT="pointerdown.outside",FOCUS_OUTSIDE_EVENT="focus.outside";function trackInteractOutside(et,_e){const{exclude:tt,onFocusOutside:rt,onPointerDownOutside:nt,onInteractOutside:it}=_e;if(!et)return;const at=getDocument(et),ot=getWindow(et);function ct(Ct){const At=getEventTarget(Ct);return!(At instanceof ot.HTMLElement)||!contains(at.documentElement,At)||contains(et,At)?!1:!(tt!=null&&tt(At))}let ut;function ft(Ct){function At(){if(!(!et||!ct(Ct))){if(nt||it){const St=callAll(nt,it);et.addEventListener(POINTER_OUTSIDE_EVENT,St,{once:!0})}fireCustomEvent(et,POINTER_OUTSIDE_EVENT,{bubbles:!1,cancelable:!0,detail:{originalEvent:Ct,contextmenu:isContextMenuEvent(Ct),focusable:isFocusable(getEventTarget(Ct))}})}}Ct.pointerType==="touch"?(at.removeEventListener("click",At),ut=At,at.addEventListener("click",At,{once:!0})):At()}const yt=new Set,bt=setTimeout(()=>{yt.add(addDomEvent$1(at,"pointerdown",ft,!0))},0);function Et(Ct){if(!(!et||!ct(Ct))){if(rt||it){const At=callAll(rt,it);et.addEventListener(FOCUS_OUTSIDE_EVENT,At,{once:!0})}fireCustomEvent(et,FOCUS_OUTSIDE_EVENT,{bubbles:!1,cancelable:!0,detail:{originalEvent:Ct,contextmenu:!1,focusable:isFocusable(getEventTarget(Ct))}})}}return yt.add(addDomEvent$1(at,"focusin",Et,!0)),()=>{clearTimeout(bt),ut&&at.removeEventListener("click",ut),yt.forEach(Ct=>Ct())}}function warn(...et){const _e=et.length===1?et[0]:et[1],tt=et.length===2?et[0]:!0}function trackDismissableElement(et,_e){if(!et){warn("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:tt,pointerBlocking:rt,exclude:nt,debug:it}=_e,at={dismiss:tt,node:et,pointerBlocking:rt};layerStack.add(at),assignPointerEventToLayers();function ot(bt){var Et,Ct;const At=getEventTarget$1(bt.detail.originalEvent);layerStack.isBelowPointerBlockingLayer(et)||layerStack.isInBranch(At)||((Et=_e.onPointerDownOutside)==null||Et.call(_e,bt),(Ct=_e.onInteractOutside)==null||Ct.call(_e,bt),!bt.defaultPrevented&&(it&&console.log("onPointerDownOutside:",bt.detail.originalEvent),tt==null||tt()))}function ct(bt){var Et,Ct;const At=getEventTarget$1(bt.detail.originalEvent);layerStack.isInBranch(At)||((Et=_e.onFocusOutside)==null||Et.call(_e,bt),(Ct=_e.onInteractOutside)==null||Ct.call(_e,bt),!bt.defaultPrevented&&(it&&console.log("onFocusOutside:",bt.detail.originalEvent),tt==null||tt()))}function ut(bt){var Et;!layerStack.isTopMost(et)||((Et=_e.onEscapeKeyDown)==null||Et.call(_e,bt),!bt.defaultPrevented&&tt&&(bt.preventDefault(),tt()))}function ft(bt){if(!et)return!1;const Et=typeof nt=="function"?nt():nt;return(Array.isArray(Et)?Et:[Et]).some(At=>contains$1(At,bt))||layerStack.isInNestedLayer(et,bt)}const yt=[rt?disablePointerEventsOutside(et):void 0,trackEscapeKeydown(ut),trackInteractOutside(et,{exclude:ft,onFocusOutside:ct,onPointerDownOutside:ot})];return()=>{layerStack.remove(et),assignPointerEventToLayers(),clearPointerEvent(et),yt.forEach(bt=>bt==null?void 0:bt())}}var runIfFn=(et,..._e)=>{const tt=typeof et=="function"?et(..._e):et;return tt!=null?tt:void 0};function compact(et){return et===void 0?et:Object.fromEntries(Object.entries(et).filter(([,_e])=>_e!==void 0).map(([_e,tt])=>[_e,isObject$2(tt)?compact(tt):tt]))}var isRef=et=>hasProp$3(et,"current"),fallback={pageX:0,pageY:0,clientX:0,clientY:0};function extractInfo(et,_e="page"){const tt=isTouchEvent(et)?et.touches[0]||et.changedTouches[0]||fallback:et;return{point:{x:tt[`${_e}X`],y:tt[`${_e}Y`]}}}function addDomEvent(et,_e,tt,rt){const nt=isRef(et)?et.current:runIfFn(et);return nt==null||nt.addEventListener(_e,tt,rt),()=>{nt==null||nt.removeEventListener(_e,tt,rt)}}function addPointerEvent(et,_e,tt,rt){var nt;const it=(nt=getEventName(_e))!=null?nt:_e;return addDomEvent(et,it,wrapHandler(tt,_e==="pointerdown"),rt)}function wrapHandler(et,_e=!1){const tt=rt=>{et(rt,extractInfo(rt))};return _e?filterPrimaryPointer(tt):tt}function filterPrimaryPointer(et){return _e=>{var tt;const rt=(tt=_e.view)!=null?tt:window,nt=_e instanceof rt.MouseEvent;(!nt||nt&&_e.button===0)&&et(_e)}}var mouseEventNames={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},touchEventNames={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getEventName(et){return supportsPointerEvent()?et:supportsTouchEvent()?touchEventNames[et]:supportsMouseEvent()?mouseEventNames[et]:et}function raf(et){const _e=globalThis.requestAnimationFrame(et);return function(){globalThis.cancelAnimationFrame(_e)}}var point=(et,_e)=>({x:et,y:_e});function createRect(et){const{x:_e,y:tt,width:rt,height:nt}=et,it=_e+rt/2,at=tt+nt/2;return{x:_e,y:tt,width:rt,height:nt,minX:_e,minY:tt,maxX:_e+rt,maxY:tt+nt,midX:it,midY:at,center:point(it,at)}}function getRectCorners(et){const _e=point(et.minX,et.minY),tt=point(et.maxX,et.minY),rt=point(et.maxX,et.maxY),nt=point(et.minX,et.maxY);return{top:_e,right:tt,bottom:rt,left:nt}}function getElementPolygon(et,_e){const tt=createRect(et),{top:rt,right:nt,left:it,bottom:at}=getRectCorners(tt),[ot]=_e.split("-");return{top:[it,rt,nt,at],right:[rt,nt,at,it],bottom:[rt,it,at,nt],left:[nt,rt,it,at]}[ot]}function isPointInPolygon(et,_e){const{x:tt,y:rt}=_e;let nt=!1;for(let it=0,at=et.length-1;it<et.length;at=it++){const ot=et[it].x,ct=et[it].y,ut=et[at].x,ft=et[at].y;ct>rt!=ft>rt&&tt<(ut-ot)*(rt-ct)/(ft-ct)+ot&&(nt=!nt)}return nt}var{not,and}=guards;function machine(et){const _e=compact(et);return createMachine({id:"menu",initial:"unknown",context:{highlightedId:null,hoverId:null,parent:null,children:{},intentPolygon:null,loop:!1,suspendPointer:!1,anchorPoint:null,closeOnSelect:!0,isPlacementComplete:!1,focusTriggerOnClose:!0,..._e,pointerdownNode:null,typeahead:findByTypeahead.defaultOptions,positioning:{placement:"bottom-start",gutter:8,..._e.positioning}},computed:{isSubmenu:tt=>tt.parent!==null,isRtl:tt=>tt.dir==="rtl",isTypingAhead:tt=>tt.typeahead.keysSoFar!==""},watch:{isSubmenu:"setSubmenuPlacement",anchorPoint:"applyAnchorPoint"},on:{SET_PARENT:{actions:"setParentMenu"},SET_CHILD:{actions:"setChildMenu"},OPEN:{target:"open",actions:"invokeOnOpen"},OPEN_AUTOFOCUS:{internal:!0,target:"open",actions:["focusFirstItem","invokeOnOpen"]},CLOSE:{target:"closed",actions:"invokeOnClose"},RESTORE_FOCUS:{actions:"restoreFocus"},SET_VALUE:{actions:["setOptionValue","invokeOnValueChange"]},SET_HIGHLIGHTED_ID:{actions:"setFocusedItem"}},states:{unknown:{on:{SETUP:"idle"}},idle:{on:{CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:{target:"open",actions:["setAnchorPoint","invokeOnOpen"]},TRIGGER_CLICK:{target:"open",actions:"invokeOnOpen"},TRIGGER_FOCUS:{guard:not("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{after:{LONG_PRESS_DELAY:{target:"open",actions:"invokeOnOpen"}},on:{CONTEXT_MENU_CANCEL:{target:"closed",actions:"invokeOnClose"}}},opening:{after:{SUBMENU_OPEN_DELAY:{target:"open",actions:"invokeOnOpen"}},on:{BLUR:{target:"closed",actions:"invokeOnClose"},TRIGGER_POINTERLEAVE:{target:"closed",actions:"invokeOnClose"}}},closing:{tags:["visible"],activities:["trackPointerMove","trackInteractOutside"],after:{SUBMENU_CLOSE_DELAY:{target:"closed",actions:["focusParentMenu","restoreParentFocus","invokeOnClose"]}},on:{MENU_POINTERENTER:{target:"open",actions:"clearIntentPolygon"},POINTER_MOVED_AWAY_FROM_SUBMENU:{target:"closed",actions:["focusParentMenu","restoreParentFocus"]}}},closed:{entry:["clearFocusedItem","focusTrigger","clearAnchorPoint","resumePointer"],on:{CONTEXT_MENU_START:{target:"opening:contextmenu",actions:"setAnchorPoint"},CONTEXT_MENU:{target:"open",actions:["setAnchorPoint","invokeOnOpen"]},TRIGGER_CLICK:{target:"open",actions:"invokeOnOpen"},TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:"idle",ARROW_DOWN:{target:"open",actions:["focusFirstItem","invokeOnOpen"]},ARROW_UP:{target:"open",actions:["focusLastItem","invokeOnOpen"]}}},open:{tags:["visible"],activities:["trackInteractOutside","computePlacement"],entry:["focusMenu","resumePointer"],exit:["clearPointerdownNode"],on:{TRIGGER_CLICK:{guard:not("isTriggerItem"),target:"closed",actions:"invokeOnClose"},TAB:[{guard:"isForwardTabNavigation",actions:["focusNextItem"]},{actions:["focusPrevItem"]}],ARROW_UP:{actions:["focusPrevItem","focusMenu"]},ARROW_DOWN:{actions:["focusNextItem","focusMenu"]},ARROW_LEFT:{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]},HOME:{actions:["focusFirstItem","focusMenu"]},END:{actions:["focusLastItem","focusMenu"]},REQUEST_CLOSE:{target:"closed",actions:"invokeOnClose"},ARROW_RIGHT:{guard:"isTriggerItemFocused",actions:"openSubmenu"},ENTER:[{guard:"isTriggerItemFocused",actions:"openSubmenu"},{guard:"closeOnSelect",target:"closed",actions:"clickFocusedItem"},{actions:"clickFocusedItem"}],ITEM_POINTERMOVE:[{guard:and(not("suspendPointer"),not("isTargetFocused")),actions:["focusItem","focusMenu"]},{guard:not("isTargetFocused"),actions:"setHoveredItem"}],ITEM_POINTERLEAVE:{guard:and(not("suspendPointer"),not("isTriggerItem")),actions:"clearFocusedItem"},ITEM_CLICK:[{guard:and(not("isTriggerItemFocused"),not("isFocusedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","changeOptionValue","invokeOnValueChange","closeRootMenu","invokeOnClose"]},{guard:and(not("isTriggerItemFocused"),not("isFocusedItemEditable")),actions:["invokeOnSelect","changeOptionValue","invokeOnValueChange"]},{actions:["focusItem"]}],TRIGGER_POINTERLEAVE:{target:"closing",actions:"setIntentPolygon"},ITEM_POINTERDOWN:{actions:["setPointerdownNode","focusItem"]},TYPEAHEAD:{actions:"focusMatchedItem"},FOCUS_MENU:{actions:"focusMenu"}}}}},{delays:{LONG_PRESS_DELAY:700,SUBMENU_OPEN_DELAY:100,SUBMENU_CLOSE_DELAY:100},guards:{closeOnSelect:(tt,rt)=>{var nt,it;return!!((it=(nt=rt.option)==null?void 0:nt.closeOnSelect)!=null?it:tt.closeOnSelect)},isMenuFocused:tt=>{const rt=dom.getContentEl(tt),nt=dom.getActiveElement(tt);return contains$2(rt,nt)},isTargetFocused:(tt,rt)=>tt.highlightedId===rt.target.id,isTriggerItem:(tt,rt)=>dom.isTriggerItem(rt.target),isTriggerItemFocused:(tt,rt)=>{var nt;const it=(nt=rt.target)!=null?nt:dom.getFocusedItem(tt);return!!(it!=null&&it.hasAttribute("aria-controls"))},isForwardTabNavigation:(tt,rt)=>!rt.shiftKey,isSubmenu:tt=>tt.isSubmenu,suspendPointer:tt=>tt.suspendPointer,isFocusedItemEditable:tt=>isElementEditable(dom.getFocusedItem(tt)),isWithinPolygon:(tt,rt)=>tt.intentPolygon?isPointInPolygon(tt.intentPolygon,rt.point):!1},activities:{computePlacement(tt){if(!tt.anchorPoint)return tt.currentPlacement=tt.positioning.placement,getPlacement(dom.getTriggerEl(tt),dom.getPositionerEl(tt),{...tt.positioning,onComplete(rt){tt.currentPlacement=rt.placement,tt.isPlacementComplete=!0}})},trackInteractOutside(tt,rt,{send:nt}){return trackDismissableElement(dom.getContentEl(tt),{exclude:[dom.getTriggerEl(tt)],onEscapeKeyDown(it){tt.isSubmenu&&it.preventDefault(),closeRootMenu(tt)},onPointerDownOutside(it){tt.focusTriggerOnClose=!it.detail.focusable},onDismiss(){nt({type:"REQUEST_CLOSE",src:"interact-outside"})}})},trackPointerMove(tt,rt,{guards:nt,send:it}){const{isWithinPolygon:at}=nt;tt.parent.state.context.suspendPointer=!0;const ot=dom.getDoc(tt);return addPointerEvent(ot,"pointermove",ct=>{at(tt,{point:getEventPoint(ct)})||(it("POINTER_MOVED_AWAY_FROM_SUBMENU"),tt.parent.state.context.suspendPointer=!1)})}},actions:{setAnchorPoint(tt,rt){tt.anchorPoint=rt.point},clearAnchorPoint(tt){tt.anchorPoint=null},applyAnchorPoint(tt){const rt=tt.anchorPoint;if(!rt)return;const nt=dom.getPositionerEl(tt);!nt||raf(()=>{Object.assign(nt.style,{position:"absolute",top:"0",left:"0",transform:`translate3d(${rt.x}px, ${rt.y}px, 0)`}),tt.isPlacementComplete=!0})},setSubmenuPlacement(tt){!tt.isSubmenu||(tt.positioning.placement=tt.isRtl?"left-start":"right-start",tt.positioning.gutter=0)},invokeOnValueChange(tt,rt){var nt,it,at;if(!tt.value)return;const ot=(it=rt.name)!=null?it:(nt=rt.option)==null?void 0:nt.name;if(!ot)return;const ct=tt.value[ot],ut=isArray$1(ct)?Array.from(ct):ct;(at=tt.onValueChange)==null||at.call(tt,{name:ot,value:ut})},setOptionValue(tt,rt){!tt.value||(tt.value[rt.name]=rt.value)},changeOptionValue(tt,rt){if(!rt.option||!tt.value)return;const{value:nt,type:it,name:at}=rt.option,ot=tt.value[at];it==="checkbox"&&isArray$1(ot)?tt.value[at]=ot.includes(nt)?remove(ot,nt):add(ot,nt):tt.value[at]=nt},clickFocusedItem(tt){var rt;(rt=dom.getFocusedItem(tt))==null||rt.click()},setIntentPolygon(tt,rt){const nt=dom.getContentEl(tt),it=tt.currentPlacement;if(!nt||!it)return;const at=nt.getBoundingClientRect(),ot=getElementPolygon(at,it);if(!ot)return;const ut=getBasePlacement(it)==="right"?-5:5;tt.intentPolygon=[{...rt.point,x:rt.point.x+ut},...ot]},clearIntentPolygon(tt){tt.intentPolygon=null},resumePointer(tt){!tt.parent||(tt.parent.state.context.suspendPointer=!1)},setFocusedItem(tt,rt){tt.highlightedId=rt.id},clearFocusedItem(tt){tt.highlightedId=null},focusMenu(tt){raf(()=>{const rt=dom.getActiveElement(tt),nt=dom.getContentEl(tt);contains$2(nt,rt)||nt==null||nt.focus()})},focusFirstItem(tt){const rt=dom.getFirstEl(tt);!rt||(tt.highlightedId=rt.id)},focusLastItem(tt){const rt=dom.getLastEl(tt);!rt||(tt.highlightedId=rt.id)},focusNextItem(tt,rt){var nt;const it=dom.getNextEl(tt,rt.loop);tt.highlightedId=(nt=it==null?void 0:it.id)!=null?nt:null},focusPrevItem(tt,rt){var nt;const it=dom.getPrevEl(tt,rt.loop);tt.highlightedId=(nt=it==null?void 0:it.id)!=null?nt:null},invokeOnSelect(tt){var rt;!tt.highlightedId||((rt=tt.onSelect)==null||rt.call(tt,{value:tt.highlightedId}),tt.closeOnSelect||(tt.pointerdownNode=null))},focusItem(tt,rt){tt.highlightedId=rt.id},focusTrigger(tt){tt.isSubmenu||tt.anchorPoint||!tt.focusTriggerOnClose||raf(()=>{var rt;return(rt=dom.getTriggerEl(tt))==null?void 0:rt.focus()})},focusMatchedItem(tt,rt){const nt=dom.getElemByKey(tt,rt.key);nt&&(tt.highlightedId=nt.id)},setParentMenu(tt,rt){tt.parent=ref(rt.value)},setChildMenu(tt,rt){tt.children[rt.id]=ref(rt.value)},closeRootMenu(tt){closeRootMenu(tt)},openSubmenu(tt){const rt=dom.getFocusedItem(tt),nt=rt==null?void 0:rt.getAttribute("data-uid"),it=nt?tt.children[nt]:null;it==null||it.send("OPEN_AUTOFOCUS")},focusParentMenu(tt){var rt;(rt=tt.parent)==null||rt.send("FOCUS_MENU")},setHoveredItem(tt,rt){tt.hoverId=rt.id},restoreFocus(tt){!tt.hoverId||(tt.highlightedId=tt.hoverId,tt.hoverId=null)},restoreParentFocus(tt){var rt;(rt=tt.parent)==null||rt.send("RESTORE_FOCUS")},setPointerdownNode(tt,rt){tt.pointerdownNode=ref(rt.target)},clearPointerdownNode(tt){tt.pointerdownNode=null},invokeOnOpen(tt){var rt;(rt=tt.onOpen)==null||rt.call(tt)},invokeOnClose(tt){var rt;(rt=tt.onClose)==null||rt.call(tt)}}})}function closeRootMenu(et){let _e=et.parent;for(;_e&&_e.state.context.isSubmenu;)_e=_e.state.context.parent;_e==null||_e.send("CLOSE")}function createNormalizer(et){return new Proxy({},{get(){return et}})}var normalizeProps=createNormalizer(et=>et);function useSnapshot(et,_e){const tt=_e==null?void 0:_e.sync,rt=react.exports.useRef(),nt=react.exports.useRef();let it=!0;const at=react.exports.useSyncExternalStore(react.exports.useCallback(ut=>{const ft=subscribe(et,ut,tt);return ut(),ft},[et,tt]),()=>{const ut=snapshot(et);try{if(!it&&rt.current&&nt.current&&!p(rt.current,ut,nt.current,new WeakMap))return rt.current}catch{}return ut},()=>snapshot(et));it=!1;const ot=new WeakMap;react.exports.useEffect(()=>{rt.current=at,nt.current=ot});const ct=react.exports.useMemo(()=>new WeakMap,[]);return u(at,ot,ct)}var useSafeLayoutEffect=typeof document<"u"?react.exports.useLayoutEffect:react.exports.useEffect;function useConstant(et){const _e=react.exports.useRef();return _e.current||(_e.current={v:et()}),_e.current.v}function useService(et,_e){const{actions:tt,state:rt,context:nt}=_e!=null?_e:{},it=useConstant(()=>{const at=typeof et=="function"?et():et;return nt?at.withContext(nt):at});return useSafeLayoutEffect(()=>(it.start(rt),it.state.can("SETUP")&&it.send("SETUP"),()=>{it.stop()}),[]),it.setOptions({actions:tt}),it.setContext(nt),it}function useMachine(et,_e){const tt=useService(et,_e);return[useSnapshot(tt.state),tt.send,tt]}const chain={mainnet:{id:ChainId$1.Mainnet,name:"Ethereum Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.Mainnet],rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},goerli:{id:ChainId$1.Goerli,name:"Goerli",nativeCurrency:NATIVE_TOKENS[ChainId$1.Goerli],rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},polygonMainnet:{id:ChainId$1.Polygon,name:"Polygon Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.Polygon],rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:ChainId$1.Mumbai,name:"Mumbai",nativeCurrency:NATIVE_TOKENS[ChainId$1.Mumbai],rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}],testnet:!0},avalanche:{id:ChainId$1.Avalanche,name:"Avalanche",nativeCurrency:NATIVE_TOKENS[ChainId$1.Avalanche],rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://rpc.ankr.com/avalanche"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io/"}],testnet:!1},avalancheFujiTestnet:{id:ChainId$1.AvalancheFujiTestnet,name:"Avalanche Fuji Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.AvalancheFujiTestnet],rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io/"}],testnet:!0},fantom:{id:ChainId$1.Fantom,name:"Fantom Opera",nativeCurrency:NATIVE_TOKENS[ChainId$1.Fantom],rpcUrls:["https://rpc.ftm.tools"],blockExplorers:[{name:"FTMscan",url:"https://ftmscan.com/"}],testnet:!1},fantomTestnet:{id:ChainId$1.FantomTestnet,name:"Fantom Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.FantomTestnet],rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorers:[{name:"FTMscan",url:"https://testnet.ftmscan.com/"}],testnet:!0},optimism:{id:ChainId$1.Optimism,name:"Optimism",nativeCurrency:NATIVE_TOKENS[ChainId$1.Optimism],rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io/"}],testnet:!1},optimismGoerli:{id:ChainId$1.OptimismGoerli,name:"Optimism Goerli Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.OptimismGoerli],rpcUrls:["https://goerli.optimism.io/"],blockExplorers:[{name:"Etherscan",url:"https://goerli-optimism.etherscan.io/"}],testnet:!0},arbitrum:{id:ChainId$1.Arbitrum,name:"Arbitrum One",nativeCurrency:NATIVE_TOKENS[ChainId$1.Arbitrum],rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io/"}],testnet:!1},arbitrumGoerli:{id:ChainId$1.ArbitrumGoerli,name:"Arbitrum Goerli",nativeCurrency:NATIVE_TOKENS[ChainId$1.ArbitrumGoerli],rpcUrls:["https://goerli-rollup.arbitrum.io/rpc/"],blockExplorers:[{name:"Arbitrum Goerli Rollup Explorer",url:"https://goerli-rollup-explorer.arbitrum.io"}],testnet:!0},binanceSmartChainMainnet:{id:ChainId$1.BinanceSmartChainMainnet,name:"Binance Smart Chain Mainnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.BinanceSmartChainMainnet],rpcUrls:["https://bsc-dataseed1.binance.org"],blockExplorers:[{name:"BscScan",url:"https://bscscan.com/"}],testnet:!1},binanceSmartChainTestnet:{id:ChainId$1.BinanceSmartChainTestnet,name:"Binance Smart Chain Testnet",nativeCurrency:NATIVE_TOKENS[ChainId$1.BinanceSmartChainTestnet],rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545"],blockExplorers:[{name:"BscScan",url:"https://testnet.bscscan.com/"}],testnet:!0}},defaultSupportedChains=Object.values(chain);function getChainFromChainId(et){return defaultSupportedChains.find(_e=>_e.id===et)}const defaultdAppMeta={name:"thirdweb powered dApp"},defaultWalletConnectors=["metamask","walletConnect","walletLink"],ThirdwebProvider=et=>{let{sdkOptions:_e,chainRpc:tt=DEFAULT_RPC_URLS,supportedChains:rt=defaultSupportedChains.map(Tt=>Tt.id),walletConnectors:nt=defaultWalletConnectors,dAppMeta:it=defaultdAppMeta,desiredChainId:at,authConfig:ot,storageInterface:ct,queryClient:ut,autoConnect:ft=!0,children:yt}=et;const bt=react.exports.useMemo(()=>rt.map(Tt=>typeof Tt=="number"?defaultSupportedChains.find($t=>$t.id===Tt):Tt).filter(Tt=>Tt!==void 0),[rt]),Et=react.exports.useMemo(()=>bt.reduce((Tt,$t)=>(Tt[$t.id]=$t.id in tt?getProviderForNetwork(tt[$t.id]||$t.rpcUrls[0]):$t.rpcUrls[0],Tt),{}),[tt,bt]),Ct=react.exports.useMemo(()=>{const Tt={name:it.name,url:it.url||"",icons:[it.logoUrl||""],description:it.description||""},$t={appName:it.name,appLogoUrl:it.logoUrl,darkMode:it.isDarkMode};return{autoConnect:ft,connectorStorageKey:"tw:provider:connectors",connectors:kt=>{let{chainId:Pt}=kt;return nt.map(Ot=>{if(Ot instanceof Connector$1)return Ot;if(typeof Ot=="string"&&(Ot==="injected"||Ot==="metamask")||typeof Ot=="object"&&(Ot.name==="injected"||Ot.name==="metamask"))return new InjectedConnector({options:typeof Ot=="string"?{shimDisconnect:!0,shimChainChangedDisconnect:!0}:Ot.options,chains:bt});if(typeof Ot=="string"&&Ot==="walletConnect"||typeof Ot=="object"&&Ot.name==="walletConnect")return new WalletConnectConnector({options:typeof Ot=="string"?{chainId:Pt,rpc:Et,clientMeta:Tt,qrcode:!0}:{chainId:Pt,rpc:Et,clientMeta:Tt,qrcode:!0,...Ot.options},chains:bt});if(typeof Ot=="string"&&(Ot==="coinbase"||Ot==="walletLink")||typeof Ot=="object"&&(Ot.name==="coinbase"||Ot.name==="walletLink")){const Ht=Et[Pt||at||1];return new CoinbaseWalletConnector({chains:bt,options:typeof Ot=="string"?{...$t,jsonRpcUrl:Ht}:{...$t,jsonRpcUrl:Ht,...Ot.options}})}return null}).filter(Ot=>Ot!==null)}}},[it.name,it.url,it.logoUrl,it.description,it.isDarkMode,ft,nt,bt,Et,at]),At=react.exports.useMemo(()=>{var $t,kt;if((($t=_e==null?void 0:_e.readonlySettings)==null?void 0:$t.rpcUrl)&&((kt=_e==null?void 0:_e.readonlySettings)==null?void 0:kt.chainId))return _e.readonlySettings;if(!at)return;let Tt=Et[at];try{Tt=getProviderForNetwork(Tt)}catch{console.error(`failed to configure rpc url for chain: "${at}". Did you forget to pass "desiredChainId" to the <ThirdwebProvider /> component?`);return}return{chainId:at,rpcUrl:Tt}},[Et,at,_e==null?void 0:_e.readonlySettings]),St=react.exports.useMemo(()=>({..._e,readonlySettings:At}),[_e,At]);return jsx(ThirdwebConfigProvider,{value:{rpcUrlMap:Et,supportedChains:bt},children:jsx(Provider,{...Ct,children:jsx(ThirdwebSDKProviderWagmiWrapper,{queryClient:ut,desiredChainId:at,sdkOptions:St,storageInterface:ct,authConfig:ot,children:yt})})})},ThirdwebSDKProviderWagmiWrapper=et=>{let{children:_e,...tt}=et;const rt=useProvider(),[nt]=useSigner();return jsx(ThirdwebSDKProvider,{signer:nt.data,provider:rt,...tt,children:_e})};function useNetwork(){const et=useContext();return invariant$2(et,"useNetwork() can only be used inside <ThirdwebProvider />. If you are using <ThirdwebSDKProvider /> you will have to use your own network logic."),useNetwork$1()}function useDisconnect(et){const _e=useContext();invariant$2(_e,"useDisconnect() can only be used inside <ThirdwebProvider />. If you are using <ThirdwebSDKProvider /> you will have to use your own connection logic.");const tt={reconnectPrevious:!0,...et},[,rt]=useConnect(),[nt,it]=useAccount();return async()=>{var ot,ct;const at=((ct=(ot=nt==null?void 0:nt.data)==null?void 0:ot.connector)==null?void 0:ct.previousConnector)||void 0;if(tt.reconnectPrevious&&at)try{return await rt(at)}catch(ut){return console.error("failed to re-connect to previous connector",ut),it()}return it()}}function detectEnv(et){return detect(et)}function isAndroid(){const et=detectOS();return et?et.toLowerCase().includes("android"):!1}function isIOS(){const et=detectOS();return et?et.toLowerCase().includes("ios")||et.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function detectOS(){const et=detectEnv();return et!=null&&et.os?et.os:void 0}function isMobile(){return detectOS()?isAndroid()||isIOS():!1}function useMetamask(){var ct;const et=useContext();invariant$2(et,"useMetamask() can only be used inside <ThirdwebProvider />. If you are using <ThirdwebSDKProvider /> you will have to use your own wallet-connection logic.");const[_e,tt]=useConnect(),rt=typeof window<"u"&&((ct=window.ethereum)==null?void 0:ct.isMetaMask),nt=isMobile()&&!rt,it=_e.data.connectors.find(ut=>ut.id==="injected"),at=_e.data.connectors.find(ut=>ut.id==="walletConnect"),ot=(nt?at:it)||it;return invariant$2(ot,"No connector found, please make sure you provide the InjectedConnector to your <ThirdwebProvider />"),async()=>{if(!rt){const ut=`https://metamask.app.link/dapp/${window.location.toString()}`;return window.open(ut,"_blank"),Promise.resolve({error:new Error("metamask not injected")})}return await tt(ot)}}globalThis.Buffer=buffer.Buffer;globalThis.Buffer=buffer.Buffer;const DEFAULT_IPFS_GATEWAY="https://gateway.ipfscdn.io/ipfs/",DEFAULT_IPFS_RESOLVER_OPTIONS={gatewayUrl:DEFAULT_IPFS_GATEWAY};function resolveIpfsUri(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_IPFS_RESOLVER_OPTIONS;if(!!et)return et.startsWith("ipfs://")?et.replace("ipfs://",_e.gatewayUrl):et}async function resolveMimeType(et){if(!et)return;const _e=lite.getType(et);if(_e)return _e;const tt=await fetch(et,{method:"HEAD"});if(tt.ok&&tt.headers.has("content-type"))return tt.headers.get("content-type")||void 0}let video;function supportsVideoType(et){return typeof window>"u"||!et||!et.startsWith("video/")?"":(video||(video=document.createElement("video")),video.canPlayType(et))}function shouldRenderVideoTag(et){return!!supportsVideoType(et)}let audio;function supportsAudioType(et){return typeof window>"u"||!et||!et.startsWith("audio/")?"":(audio||(audio=document.createElement("audio")),audio.canPlayType(et))}function shouldRenderAudioTag(et){return!!supportsAudioType(et)}function mergeRefs(et){return _e=>{et.forEach(tt=>{typeof tt=="function"?tt(_e):tt!=null&&(tt.current=_e)})}}const CarbonDocumentUnknown=et=>jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:[jsx("circle",{cx:"9",cy:"28.5",r:"1.5",fill:"currentColor"}),jsx("path",{fill:"currentColor",d:"M10 25H8v-4h2a2 2 0 0 0 0-4H8a2.002 2.002 0 0 0-2 2v.5H4V19a4.005 4.005 0 0 1 4-4h2a4 4 0 0 1 0 8Z"}),jsx("path",{fill:"currentColor",d:"m27.7 9.3l-7-7A.908.908 0 0 0 20 2H10a2.006 2.006 0 0 0-2 2v8h2V4h8v6a2.006 2.006 0 0 0 2 2h6v16H14v2h12a2.006 2.006 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM20 10V4.4l5.6 5.6Z"})]}),CarbonDocumentAudio=et=>jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:[jsx("path",{fill:"currentColor",d:"M29 31a.999.999 0 0 1-.625-.22L23.65 27H20a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h3.65l4.726-3.78A1 1 0 0 1 30 17v13a1 1 0 0 1-1 1Zm-8-6h3a1 1 0 0 1 .625.22L28 27.92v-8.84l-3.376 2.7A1 1 0 0 1 24 22h-3Z"}),jsx("path",{fill:"currentColor",d:"M16 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v3h2v-5a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h8Zm2-23.6l5.6 5.6H18Z"})]}),CarbonPauseFilled=et=>jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:jsx("path",{fill:"currentColor",d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm10 0h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"})}),CarbonPlayFilledAlt=et=>jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 32 32",...et,children:jsx("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"})}),ModelViewer=react.exports.lazy(()=>__vitePreload(()=>import("./ModelViewer-b692ef14.esm.6818d345.js"),[])),PlayButton=et=>{let{onClick:_e,isPlaying:tt}=et;const[rt,nt]=react.exports.useState(!1),it=()=>nt(!0),at=()=>nt(!1),ot=()=>nt(!1),ct=()=>nt(!0);return jsx("button",{style:{position:"absolute",bottom:0,right:0,transform:"translate(-25%, -25%)",maxWidth:"32px",width:"8%",minWidth:"24px",aspectRatio:"1",zIndex:3,backgroundColor:"#fff",color:"rgb(138, 147, 155)",display:"grid",placeItems:"center",borderRadius:"50%",border:"1px solid rgb(229, 232, 235)",cursor:"pointer",...rt?{color:"rgb(53, 56, 64)",boxShadow:"rgb(4 17 29 / 25%) 0px 0px 8px 0px"}:{}},onClick:_e,onMouseEnter:it,onMouseLeave:at,onMouseDown:ot,onMouseUp:ct,children:tt?jsx(CarbonPauseFilled,{style:{width:"66%",height:"66%"}}):jsx(CarbonPlayFilledAlt,{style:{width:"66%",height:"66%"}})})},VideoPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,requireInteraction:it,style:at,width:ot,height:ct,controls:ut,...ft}=et;const yt=react.exports.useRef(null),[bt,Et]=react.exports.useState(!it),[Ct,At]=react.exports.useState(!0);return react.exports.useEffect(()=>{if(yt.current)if(bt)try{yt.current.play()}catch(St){console.error("error playing video",St)}else try{yt.current.pause(),yt.current.currentTime=0}catch(St){console.error("error pausing video",St)}},[bt]),jsxs("div",{style:{position:"relative",...at},...ft,children:[jsx("video",{ref:mergeRefs([yt,_e]),src:tt!=null?tt:void 0,poster:nt!=null?nt:void 0,loop:!0,playsInline:!0,controlsList:"nodownload",muted:Ct,preload:nt?"metadata":"auto",onCanPlay:()=>{var St;bt&&((St=yt.current)==null||St.play())},width:ot,height:ct,controls:ut,style:{height:"100%",width:"100%",objectFit:"contain",zIndex:1,transition:"opacity .5s",opacity:nt?bt?1:0:1}}),nt&&jsx("img",{src:nt,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:bt?0:1,top:0,left:0,right:0,bottom:0},alt:rt}),jsx(PlayButton,{onClick:()=>{Et(St=>!St),At(!1)},isPlaying:bt})]})});VideoPlayer.displayName="VideoPlayer";const AudioPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,style:it,height:at,width:ot,...ct}=et;const ut=react.exports.useRef(null),[ft,yt]=react.exports.useState(!1),[bt,Et]=react.exports.useState(!0);return react.exports.useEffect(()=>{ut.current&&(ft?ut.current.play():(ut.current.pause(),ut.current.currentTime=0))},[ft]),jsxs("div",{style:{position:"relative",...it},...ct,children:[nt?jsx("img",{height:at,width:ot,src:nt,style:{height:"100%",width:"100%",pointerEvents:"none",objectFit:"contain"},alt:rt}):jsx("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",pointerEvents:"none",backgroundColor:"#fff",color:"rgb(138, 147, 155)"},children:jsx(CarbonDocumentAudio,{style:{height:"64px",width:"64px"}})}),jsx(PlayButton,{onClick:()=>{yt(Ct=>!Ct),Et(!1)},isPlaying:ft}),jsx("audio",{ref:mergeRefs([ut,_e]),src:tt!=null?tt:void 0,loop:!0,playsInline:!0,muted:bt,preload:"none",controlsList:"nodownload",style:{position:"absolute",opacity:0,pointerEvents:"none",zIndex:-1,visibility:"hidden"}})]})});AudioPlayer.displayName="AudioPlayer";const IframePlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,poster:nt,requireInteraction:it,style:at,...ot}=et;const{observe:ct,width:ut}=useDimensions(),[ft,yt]=react.exports.useState(!it);return ut<300?jsx("div",{ref:ct,children:jsx(LinkPlayer,{style:at,src:tt,alt:rt,...ot})}):jsxs("div",{style:{position:"relative",...at},...ot,ref:ct,children:[jsx("iframe",{src:ft&&tt!=null?tt:void 0,ref:_e,style:{objectFit:"contain",zIndex:1,height:"100%",width:"100%",transition:"opacity .5s",opacity:nt?ft?1:0:1},sandbox:"allow-scripts",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}),nt&&jsx("img",{src:nt,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:ft?0:1,top:0,left:0,right:0,bottom:0},alt:rt}),jsx(PlayButton,{onClick:()=>{yt(bt=>!bt)},isPlaying:ft})]})});IframePlayer.displayName="IframePlayer";const LinkPlayer=React$1.forwardRef((et,_e)=>{let{src:tt,alt:rt,style:nt,...it}=et;return jsx("div",{style:{position:"relative",...nt},...it,children:jsx("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",backgroundColor:"#fff",color:"rgb(138, 147, 155)"},children:jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",flexWrap:"nowrap"},children:[jsx(CarbonDocumentUnknown,{style:{maxWidth:"128px",minWidth:"48px",width:"50%",aspectRatio:"1"}}),jsx("a",{rel:"noopener noreferrer",style:{textDecoration:"underline",color:"rgb(138, 147, 155)"},href:tt!=null?tt:void 0,target:"_blank",ref:_e,children:rt||"File"})]})})})});LinkPlayer.displayName="LinkPlayer";const MediaRenderer=React$1.forwardRef((et,_e)=>{let{src:tt,poster:rt,alt:nt,requireInteraction:it=!1,width:at="300px",height:ot="300px",style:ct,...ut}=et;const ft={objectFit:"contain",width:at,height:ot,...ct},yt=useResolvedMediaType(tt!=null?tt:void 0),bt=useResolvedMediaType(rt!=null?rt:void 0);if(yt.mimeType){if(yt.mimeType==="text/html")return jsx(IframePlayer,{style:ft,src:yt.url,poster:bt.url,requireInteraction:it,...ut});if(yt.mimeType.startsWith("model"))return jsx(react.exports.Suspense,{fallback:rt?jsx("img",{style:ft,src:rt,alt:nt,ref:_e,...ut}):null,children:jsx(ModelViewer,{style:ft,src:yt.url||"",poster:rt,alt:nt,...ut})});if(shouldRenderVideoTag(yt.mimeType))return jsx(VideoPlayer,{style:ft,src:yt.url,poster:bt.url,requireInteraction:it,...ut});if(shouldRenderAudioTag(yt.mimeType))return jsx(AudioPlayer,{style:ft,src:yt.url,poster:bt.url,requireInteraction:it,...ut});if(yt.mimeType.startsWith("image/"))return jsx("img",{style:ft,src:yt.url,alt:nt,ref:_e,...ut})}else return jsx("img",{style:ft,...ut,ref:_e,alt:nt});return jsx(LinkPlayer,{style:ft,src:yt.url,alt:nt,ref:_e,...ut})});MediaRenderer.displayName="MediaRenderer";function useResolvedMediaType(et){const _e=react.exports.useMemo(()=>resolveIpfsUri(et),[et]),tt=useQuery(["mime-type",_e],()=>resolveMimeType(_e),{enabled:!!_e});return{url:_e,mimeType:tt.data}}const ThirdwebNftMedia=React$1.forwardRef((et,_e)=>{var ot;let{metadata:tt,width:rt="300px",height:nt="300px",style:it,...at}=et;return jsx(MediaRenderer,{src:tt.animation_url||tt.image,poster:tt.image,alt:((ot=tt.name)==null?void 0:ot.toString())||"",ref:_e,width:rt,height:nt,style:{...it},...at})});ThirdwebNftMedia.displayName="ThirdwebNftMedia";function canUseDOM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function useForceUpdate(){const[,et]=react.exports.useState(Object.create(null));return react.exports.useCallback(()=>{et(Object.create(null))},[])}const useIsomorphicLayoutEffect$1=canUseDOM()?react.exports.useLayoutEffect:react.exports.useEffect,PortalImpl=et=>{let{children:_e,type:tt="reach-portal",containerRef:rt}=et;const nt=react.exports.useRef(null),it=react.exports.useRef(null),at=useForceUpdate();return useIsomorphicLayoutEffect$1(()=>{if(!nt.current)return;const ot=nt.current.ownerDocument,ct=(rt==null?void 0:rt.current)||ot.body;return it.current=ot==null?void 0:ot.createElement(tt),ct.appendChild(it.current),at(),()=>{it.current&&ct&&ct.removeChild(it.current)}},[tt,at,rt]),it.current?reactDom.exports.createPortal(_e,it.current):jsx("span",{ref:nt})},Portal=et=>{let{unstable_skipInitialRender:_e,...tt}=et;const[rt,nt]=react.exports.useState(!1);return react.exports.useEffect(()=>{_e&&nt(!0)},[_e]),_e&&!rt?null:jsx(PortalImpl,{...tt})};Portal.displayName="Portal";function shortenString(et,_e){return`${et.substring(0,_e?4:6)}...${et.substring(et.length-(_e?3:4))}`}function shortenAddress(et,_e){try{const tt=getAddress(et);return shortenString(tt,_e)}catch{return et}}function shortenIfAddress(et,_e){return typeof et=="string"&&et.length>0?shortenAddress(et,_e):et||""}function useClipboard(et){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const[tt,rt]=react.exports.useState(!1),{timeout:nt=1500,...it}=typeof _e=="number"?{timeout:_e}:_e,at=react.exports.useCallback(()=>{const ot=copyToClipboard(et,it);rt(ot)},[et,it]);return react.exports.useEffect(()=>{let ot=null;return tt&&(ot=window.setTimeout(()=>{rt(!1)},nt)),()=>{ot&&window.clearTimeout(ot)}},[nt,tt]),{value:et,onCopy:at,hasCopied:tt}}const Box=newStyled.div``,spin=keyframes({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner=newStyled.div`
  display: inline-block;
  border-top: 2px solid currentcolor;
  border-right: 2px solid currentcolor;
  border-bottom-style: solid;
  border-left-style: solid;
  border-radius: 99999px;
  border-bottom-width: 2px;
  border-left-width: 2px;
  border-bottom-color: transparent;
  border-left-color: transparent;
  animation: 0.45s linear 0s infinite normal none running ${spin};
  width: 0.75em;
  height: 0.75em;
  flex-shrink: 0;
`,BaseButton=newStyled.button`
  position: relative;
  border-radius: 0.5em;
  padding: 0.75em 1.25em;
  padding-right: ${et=>et.hasRightElement?"0.75em":"1.25em"};
  padding-left: ${et=>et.hasLeftElement?"0.75em":"1.25em"};
  font-size: 1em;
  font-weight: 600;
  letter-spacing: 0.5px;
  display: flex;
  gap: 0.5em;
  align-items: center;
  justify-content: space-evenly;
  color: ${et=>computeTextColorBasedOnBackground(et.theme.colors.accent)};
  border: 2px solid
    ${et=>computeHoverColor(et.theme.colors.accent)};
  &:hover {
    cursor: pointer;
  }
  &:disabled {
    cursor: not-allowed;
  }
  &:focus {
    position: relative;
    border-radius: 0.5em;
    outline: 0;
  }
  &:focus:after {
    content: "";
    position: absolute;
    top: -5px;
    right: -5px;
    bottom: -5px;
    left: -5px;
    border: 2px solid ${et=>et.theme.colors.accent};
    border-radius: 11px;
  }
`;function computeHoverColor(et){const _e=color$1(et);return _e.hex()==="#000000"?"#262627":_e.luminosity()<.2?_e.lighten(.1).hex():_e.darken(.1).hex()}function computeDisabledColor(et){const _e=color$1(et);return _e.hex()==="#000000"?"#262627":_e.luminosity()<.2?_e.lighten(.5).hex():_e.darken(.5).hex()}function computeTextColorBasedOnBackground(et){return color$1(et).isDark()?"#fff":"#000"}const SolidButton=newStyled(BaseButton)`
  background: ${et=>et.theme.colors.accent};
  &:hover {
    background: ${et=>computeHoverColor(et.theme.colors.accent)};
    border-color: ${et=>computeHoverColor(et.theme.colors.accent)};
  }
  &:disabled {
    background: ${et=>computeDisabledColor(et.theme.colors.accent)};
    border-color: ${et=>computeDisabledColor(et.theme.colors.accent)};
    color: ${et=>computeTextColorBasedOnBackground(computeDisabledColor(et.theme.colors.accent))};
  }
`,OutlineButton=newStyled(BaseButton)`
  background: transparent;
  &:hover {
    background: ${et=>color$1(et.theme.colors.background).alpha(.5).hexa()};
  }
`,Button=et=>{let{children:_e,variant:tt,rightElement:rt,leftElement:nt,isLoading:it,isDisabled:at,disabled:ot,...ct}=et;return jsxs(tt==="outline"?OutlineButton:SolidButton,{...ct,disabled:at||ot||it,hasRightElement:!!rt,hasLeftElement:!!nt,children:[it?jsx(Spinner,{style:{position:"absolute",left:"calc(50% - 0.75em / 2)"}}):null,jsxs("span",{style:{opacity:it?0:1,display:"inherit",gap:"inherit",alignItems:"inherit",justifyContent:"inherit",width:"100%"},children:[nt,_e,rt]})]})},chainLogos={ethereum:{svgProps:{viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",fill:"none"},paths:jsxs(Fragment$1,{children:[jsx("path",{fill:"#25292E",fillRule:"evenodd",d:"M14 28a14 14 0 1 0 0-28 14 14 0 0 0 0 28Z",clipRule:"evenodd"}),jsx("path",{fill:"url(#a)",fillOpacity:".3",fillRule:"evenodd",d:"M14 28a14 14 0 1 0 0-28 14 14 0 0 0 0 28Z",clipRule:"evenodd"}),jsx("path",{fill:"url(#b)",d:"M8.19 14.77 14 18.21l5.8-3.44-5.8 8.19-5.81-8.19Z"}),jsx("path",{fill:"#fff",d:"m14 16.93-5.81-3.44L14 4.34l5.81 9.15L14 16.93Z"}),jsxs("defs",{children:[jsxs("linearGradient",{id:"a",x1:"0",x2:"14",y1:"0",y2:"28",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:"#fff"}),jsx("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),jsxs("linearGradient",{id:"b",x1:"14",x2:"14",y1:"14.77",y2:"22.96",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:"#fff"}),jsx("stop",{offset:"1",stopColor:"#fff",stopOpacity:".9"})]})]})]})},arbitrum:{svgProps:{viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",fill:"none"},paths:jsxs(Fragment$1,{children:[jsx("rect",{width:"26.6",height:"26.6",x:".7",y:".7",fill:"#2D374B",stroke:"#96BEDC",strokeWidth:"1.4",rx:"13.3"}),jsx("mask",{id:"a",width:"28",height:"28",x:"0",y:"0",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"},children:jsx("rect",{width:"28",height:"28",fill:"#C4C4C4",rx:"14"})}),jsxs("g",{mask:"url(#a)",children:[jsx("path",{fill:"#28A0F0",d:"m14.0861 18.6041 6.5014 10.2239 4.0057-2.3213-7.86-12.3943-2.6471 4.4917Zm13.0744 3.4692-.003-1.8599-7.3064-11.407-2.3087 3.9173 7.091 11.4303 2.172-1.2586a.9628.9628 0 0 0 .3555-.7009l-.0004-.1212Z"}),jsx("rect",{width:"25.9",height:"25.9",x:"1.05",y:"1.05",fill:"url(#b)",fillOpacity:".3",stroke:"#96BEDC",strokeWidth:"2.1",rx:"12.95"}),jsx("path",{fill:"#fff",d:"m.3634 28.2207-3.07-1.7674-.234-.8333L7.7461 9.0194c.7298-1.1913 2.3197-1.575 3.7957-1.5541l1.7323.0457L.3634 28.2207ZM19.1655 7.511l-4.5653.0166L2.24 27.9533l3.6103 2.0788.9818-1.6652L19.1655 7.511Z"})]}),jsx("defs",{children:jsxs("linearGradient",{id:"b",x1:"0",x2:"14",y1:"0",y2:"28",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:"#fff"}),jsx("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]})})]})},avalanche:{svgProps:{viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",fill:"none"},paths:jsxs(Fragment$1,{children:[jsx("path",{fill:"#fff",d:"M23 5H5v18h18V5Z"}),jsx("path",{fill:"#E84142",fillRule:"evenodd",d:"M14 28c-7.513.008-14-6.487-14-14C0 6.196 6.043-.008 14 0c7.95.008 14 6.196 14 14 0 7.505-6.495 13.992-14 14Zm-3.971-7.436H7.315c-.57 0-.851 0-1.023-.11a.69.69 0 0 1-.313-.54c-.01-.202.13-.45.412-.944l6.7-11.809c.285-.501.43-.752.612-.845.195-.1.429-.1.625 0 .182.093.326.344.611.845l1.377 2.404.007.013c.308.538.464.81.533 1.097a2.04 2.04 0 0 1 0 .954c-.07.289-.224.564-.536 1.11l-3.52 6.22-.009.017c-.31.542-.467.817-.684 1.024a2.048 2.048 0 0 1-.835.485c-.285.079-.604.079-1.243.079Zm6.852 0h3.888c.574 0 .862 0 1.034-.113a.687.687 0 0 0 .313-.543c.01-.196-.128-.434-.398-.9a8.198 8.198 0 0 1-.028-.048l-1.948-3.332-.022-.037c-.274-.463-.412-.697-.59-.787a.684.684 0 0 0-.621 0c-.179.093-.323.337-.608.828l-1.94 3.331-.007.012c-.284.49-.426.735-.416.936.014.22.127.423.313.543.168.11.456.11 1.03.11Z",clipRule:"evenodd"})]})},optimism:{svgProps:{viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",fill:"none"},paths:jsxs(Fragment$1,{children:[jsx("rect",{width:"28",height:"28",fill:"#FF3131",rx:"14"}),jsx("rect",{width:"28",height:"28",fill:"url(#a)",fillOpacity:".3",rx:"14"}),jsx("path",{fill:"#fff",d:"M9.22 18.35c2.7 0 4.86-2.2 4.86-5.38 0-2.19-1.47-3.8-3.98-3.8-2.72 0-4.85 2.2-4.85 5.38 0 2.2 1.5 3.8 3.97 3.8Zm.83-7.35c1.06 0 1.74.81 1.74 2.1 0 1.9-1.11 3.42-2.51 3.42-1.06 0-1.74-.82-1.74-2.1 0-1.89 1.11-3.42 2.5-3.42Zm6.38-1.68-1.88 8.88h2.26l.55-2.6h1.47c2.43 0 4.01-1.38 4.01-3.6 0-1.61-1.17-2.68-3.1-2.68h-3.3Zm1.9 1.74h.94c.83 0 1.3.38 1.3 1.14 0 1-.68 1.7-1.74 1.7h-1.11l.6-2.84Z"}),jsx("defs",{children:jsxs("linearGradient",{id:"a",x1:"0",x2:"14",y1:"0",y2:"28",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:"#fff"}),jsx("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]})})]})},polygon:{svgProps:{viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",fill:"none"},paths:jsxs(Fragment$1,{children:[jsx("rect",{width:"28",height:"28",fill:"#8247E5",rx:"14"}),jsx("rect",{width:"28",height:"28",fill:"url(#a)",fillOpacity:".3",rx:"14"}),jsx("path",{fill:"#fff",d:"M18.28 10.92a1.06 1.06 0 0 0-1.06 0l-2.41 1.42-1.65.93-2.41 1.43c-.31.19-.72.19-1.06 0l-1.92-1.12a1.07 1.07 0 0 1-.53-.9v-2.2a1 1 0 0 1 .53-.9l1.9-1.08c.3-.18.7-.18 1.04 0l1.9 1.09c.3.18.52.52.52.9v1.42l1.64-.96V9.52a1 1 0 0 0-.52-.9l-3.5-2.04a1.06 1.06 0 0 0-1.06 0L6.13 8.63a1 1 0 0 0-.53.9v4.12a1 1 0 0 0 .53.9l3.56 2.04c.31.19.71.19 1.06 0l2.41-1.4 1.65-.95 2.41-1.4c.31-.19.72-.19 1.06 0l1.89 1.09c.3.18.53.52.53.9v2.2a1 1 0 0 1-.53.9l-1.9 1.11c-.3.19-.7.19-1.05 0l-1.89-1.08a1.07 1.07 0 0 1-.52-.9v-1.43l-1.65.96v1.43a1 1 0 0 0 .53.9l3.56 2.04c.31.19.72.19 1.06 0l3.56-2.04c.31-.19.53-.53.53-.9v-4.13a1 1 0 0 0-.53-.9l-3.6-2.07Z"}),jsx("defs",{children:jsxs("linearGradient",{id:"a",x1:"0",x2:"14",y1:"0",y2:"28",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:"#fff"}),jsx("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]})})]})},fantom:{svgProps:{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},paths:jsxs(Fragment$1,{children:[jsxs("defs",{children:[jsx("style",{children:".cls-1{fill:#fff;fill-rule:evenodd}"}),jsx("mask",{id:"mask",width:93.1,height:20,x:10,y:6,maskUnits:"userSpaceOnUse",children:jsx("path",{id:"a",d:"M10 6h93.1v20H10Z",className:"cls-1"})})]}),jsx("g",{id:"Layer_2","data-name":"Layer 2",children:jsxs("g",{id:"Layer_1-2","data-name":"Layer 1",children:[jsx("circle",{cx:16,cy:16,r:16,fill:"#13b5ec"}),jsx("path",{d:"m17.2 12.9 3.6-2.1V15Zm3.6 9L16 24.7l-4.8-2.8V17l4.8 2.8 4.8-2.8Zm-9.6-11.1 3.6 2.1-3.6 2.1Zm5.4 3.1 3.6 2.1-3.6 2.1Zm-1.2 4.2L11.8 16l3.6-2.1Zm4.8-8.3L16 12.2l-4.2-2.4L16 7.3ZM10 9.4v13.1l6 3.4 6-3.4V9.4L16 6Z",className:"cls-1"})]})})]})},binance:{svgProps:{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},paths:jsxs(Fragment$1,{children:[jsx("polygon",{fill:"#F3BA2F",points:"38.171,53.203 62.759,28.616 87.36,53.216 101.667,38.909 62.759,0 23.864,38.896 "}),jsx("rect",{x:"3.644",y:"53.188",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 48.7933 8.8106)",fill:"#F3BA2F",width:"20.233",height:"20.234"}),jsx("polygon",{fill:"#F3BA2F",points:"38.171,73.408 62.759,97.995 87.359,73.396 101.674,87.695 101.667,87.703 62.759,126.61123.863,87.716 23.843,87.696 "}),jsx("rect",{x:"101.64",y:"53.189",transform:"matrix(-0.7071 0.7071 -0.7071 -0.7071 235.5457 29.0503)",fill:"#F3BA2F",width:"20.234",height:"20.233"}),jsx("polygon",{fill:"#F3BA2F",points:"77.271,63.298 77.277,63.298 62.759,48.78 52.03,59.509 52.029,59.509 50.797,60.742 48.254,63.28548.254,63.285 48.234,63.305 48.254,63.326 62.759,77.831 77.277,63.313 77.284,63.305 "})]})}},CoinbaseWalletIcon={svgProps:{viewBox:"0 0 28 28",width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},paths:jsxs(Fragment$1,{children:[jsx("rect",{width:"28",height:"28",fill:"#2C5FF6"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 23.8C19.4124 23.8 23.8 19.4124 23.8 14C23.8 8.58761 19.4124 4.2 14 4.2C8.58761 4.2 4.2 8.58761 4.2 14C4.2 19.4124 8.58761 23.8 14 23.8ZM11.55 10.8C11.1358 10.8 10.8 11.1358 10.8 11.55V16.45C10.8 16.8642 11.1358 17.2 11.55 17.2H16.45C16.8642 17.2 17.2 16.8642 17.2 16.45V11.55C17.2 11.1358 16.8642 10.8 16.45 10.8H11.55Z",fill:"white"})]})},MetamaskIcon={svgProps:{viewBox:"0 0 28 28",width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},paths:jsxs(Fragment$1,{children:[jsx("rect",{width:"28",height:"28",fill:"white"}),jsx("path",{d:"M24.0891 3.1199L15.3446 9.61456L16.9617 5.7828L24.0891 3.1199Z",fill:"#E2761B",stroke:"#E2761B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M3.90207 3.1199L12.5763 9.67608L11.0383 5.7828L3.90207 3.1199Z",fill:"#E4761B",stroke:"#E4761B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M20.9429 18.1745L18.6139 21.7426L23.597 23.1136L25.0295 18.2536L20.9429 18.1745Z",fill:"#E4761B",stroke:"#E4761B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M2.97929 18.2536L4.40301 23.1136L9.38607 21.7426L7.05713 18.1745L2.97929 18.2536Z",fill:"#E4761B",stroke:"#E4761B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M9.10483 12.1456L7.71626 14.2461L12.6642 14.4658L12.4884 9.14877L9.10483 12.1456Z",fill:"#E4761B",stroke:"#E4761B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M18.8864 12.1456L15.4589 9.08725L15.3446 14.4658L20.2837 14.2461L18.8864 12.1456Z",fill:"#E4761B",stroke:"#E4761B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M9.38606 21.7426L12.3566 20.2925L9.79033 18.2888L9.38606 21.7426Z",fill:"#E4761B",stroke:"#E4761B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M15.6347 20.2925L18.6139 21.7426L18.2009 18.2888L15.6347 20.2925Z",fill:"#E4761B",stroke:"#E4761B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M18.6139 21.7426L15.6347 20.2925L15.8719 22.2348L15.8456 23.0521L18.6139 21.7426Z",fill:"#D7C1B3",stroke:"#D7C1B3",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M9.38606 21.7426L12.1544 23.0521L12.1368 22.2348L12.3566 20.2925L9.38606 21.7426Z",fill:"#D7C1B3",stroke:"#D7C1B3",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M12.1984 17.0056L9.72002 16.2762L11.4689 15.4765L12.1984 17.0056Z",fill:"#233447",stroke:"#233447",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M15.7928 17.0056L16.5223 15.4765L18.28 16.2762L15.7928 17.0056Z",fill:"#233447",stroke:"#233447",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M9.38606 21.7426L9.80791 18.1745L7.05712 18.2536L9.38606 21.7426Z",fill:"#CD6116",stroke:"#CD6116",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M18.1921 18.1745L18.6139 21.7426L20.9429 18.2536L18.1921 18.1745Z",fill:"#CD6116",stroke:"#CD6116",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M20.2837 14.2461L15.3446 14.4658L15.8016 17.0057L16.5311 15.4765L18.2888 16.2762L20.2837 14.2461Z",fill:"#CD6116",stroke:"#CD6116",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M9.72002 16.2762L11.4777 15.4765L12.1984 17.0057L12.6642 14.4658L7.71626 14.2461L9.72002 16.2762Z",fill:"#CD6116",stroke:"#CD6116",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M7.71626 14.2461L9.79033 18.2888L9.72002 16.2762L7.71626 14.2461Z",fill:"#E4751F",stroke:"#E4751F",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M18.2888 16.2762L18.2009 18.2888L20.2837 14.2461L18.2888 16.2762Z",fill:"#E4751F",stroke:"#E4751F",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M12.6642 14.4658L12.1984 17.0057L12.7784 20.0025L12.9102 16.0565L12.6642 14.4658Z",fill:"#E4751F",stroke:"#E4751F",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M15.3446 14.4658L15.1073 16.0477L15.2128 20.0025L15.8016 17.0057L15.3446 14.4658Z",fill:"#E4751F",stroke:"#E4751F",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M15.8016 17.0056L15.2128 20.0025L15.6347 20.2925L18.2009 18.2888L18.2888 16.2762L15.8016 17.0056Z",fill:"#F6851B",stroke:"#F6851B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M9.72002 16.2762L9.79033 18.2888L12.3566 20.2925L12.7784 20.0025L12.1984 17.0056L9.72002 16.2762Z",fill:"#F6851B",stroke:"#F6851B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M15.8456 23.0521L15.8719 22.2348L15.6522 22.0414H12.339L12.1368 22.2348L12.1544 23.0521L9.38606 21.7426L10.3528 22.5336L12.3126 23.8958H15.6786L17.6472 22.5336L18.6139 21.7426L15.8456 23.0521Z",fill:"#C0AD9E",stroke:"#C0AD9E",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M15.6347 20.2925L15.2128 20.0025H12.7784L12.3566 20.2925L12.1368 22.2348L12.339 22.0414H15.6522L15.8719 22.2348L15.6347 20.2925Z",fill:"#161616",stroke:"#161616",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M24.4583 10.0364L25.2053 6.45072L24.0891 3.1199L15.6347 9.39485L18.8864 12.1456L23.4827 13.4903L24.5022 12.3038L24.0628 11.9874L24.7658 11.3459L24.221 10.924L24.924 10.3879L24.4583 10.0364Z",fill:"#763D16",stroke:"#763D16",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M2.79472 6.45072L3.54174 10.0364L3.06717 10.3879L3.77024 10.924L3.23415 11.3459L3.93722 11.9874L3.4978 12.3038L4.50847 13.4903L9.10483 12.1456L12.3566 9.39485L3.90207 3.1199L2.79472 6.45072Z",fill:"#763D16",stroke:"#763D16",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M23.4827 13.4903L18.8864 12.1456L20.2837 14.2461L18.2009 18.2888L20.9429 18.2536H25.0295L23.4827 13.4903Z",fill:"#F6851B",stroke:"#F6851B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M9.10484 12.1456L4.50848 13.4903L2.97929 18.2536H7.05713L9.79033 18.2888L7.71626 14.2461L9.10484 12.1456Z",fill:"#F6851B",stroke:"#F6851B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"}),jsx("path",{d:"M15.3446 14.4658L15.6347 9.39485L16.9705 5.7828H11.0383L12.3566 9.39485L12.6642 14.4658L12.7696 16.0653L12.7784 20.0025H15.2128L15.2304 16.0653L15.3446 14.4658Z",fill:"#F6851B",stroke:"#F6851B",strokeWidth:"0.0878845",strokeLinecap:"round",strokeLinejoin:"round"})]})},WalletConnectIcon={svgProps:{viewBox:"0 0 28 28",width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},paths:jsxs(Fragment$1,{children:[jsx("rect",{width:"28",height:"28",fill:"#3B99FC"}),jsx("path",{d:"M8.38969 10.3739C11.4882 7.27538 16.5118 7.27538 19.6103 10.3739L19.9832 10.7468C20.1382 10.9017 20.1382 11.1529 19.9832 11.3078L18.7076 12.5835C18.6301 12.6609 18.5045 12.6609 18.4271 12.5835L17.9139 12.0703C15.7523 9.9087 12.2477 9.9087 10.0861 12.0703L9.53655 12.6198C9.45909 12.6973 9.3335 12.6973 9.25604 12.6198L7.98039 11.3442C7.82547 11.1893 7.82547 10.9381 7.98039 10.7832L8.38969 10.3739ZM22.2485 13.012L23.3838 14.1474C23.5387 14.3023 23.5387 14.5535 23.3838 14.7084L18.2645 19.8277C18.1096 19.9827 17.8584 19.9827 17.7035 19.8277C17.7035 19.8277 17.7035 19.8277 17.7035 19.8277L14.0702 16.1944C14.0314 16.1557 13.9686 16.1557 13.9299 16.1944C13.9299 16.1944 13.9299 16.1944 13.9299 16.1944L10.2966 19.8277C10.1417 19.9827 9.89053 19.9827 9.73561 19.8278C9.7356 19.8278 9.7356 19.8277 9.7356 19.8277L4.61619 14.7083C4.46127 14.5534 4.46127 14.3022 4.61619 14.1473L5.75152 13.012C5.90645 12.857 6.15763 12.857 6.31255 13.012L9.94595 16.6454C9.98468 16.6841 10.0475 16.6841 10.0862 16.6454C10.0862 16.6454 10.0862 16.6454 10.0862 16.6454L13.7194 13.012C13.8743 12.857 14.1255 12.857 14.2805 13.012C14.2805 13.012 14.2805 13.012 14.2805 13.012L17.9139 16.6454C17.9526 16.6841 18.0154 16.6841 18.0541 16.6454L21.6874 13.012C21.8424 12.8571 22.0936 12.8571 22.2485 13.012Z",fill:"white"})]})},StyledSvg=newStyled.svg`
  border-radius: 0.25em;
  flex-shrink: 0;
  ${et=>et.boxSize?`width: ${et.boxSize};
    height: ${et.boxSize};`:""}
`,iconMap={metamask:MetamaskIcon,walletConnect:WalletConnectIcon,coinbaseWallet:CoinbaseWalletIcon,...chainLogos},Icon=et=>{let{name:_e,...tt}=et;const rt=iconMap[_e];return jsx(StyledSvg,{...rt.svgProps,...tt,children:rt.paths})},MenuItemBase=newStyled.li`
  display: flex;
  padding: 0.75em 1em;
  align-items: center;
  gap: 0.5em;
  font-size: 1em;

  ${et=>et.isSelectable?`&:hover,
  &[data-focus] {
    cursor: pointer;
    background: ${color$1(et.theme.colors.text).alpha(.15).hexa()};
  }`:""}

  > svg {
    flex-shrink: 0;
  }
`,MenuItem=et=>{let{children:_e,leftElement:tt,rightElement:rt,isSelectable:nt=!0,onClick:it,...at}=et;return jsxs(MenuItemBase,{...at,onClick:nt?it:void 0,isSelectable:nt,children:[tt,_e,rt]})},Menu=newStyled.ul`
  padding: 0;
  margin: 0;
  background: ${et=>et.theme.colors.background};
  color: ${et=>et.theme.colors.text};
  list-style: none;
  border-radius: 0.5em;
  overflow: hidden;
  position: relative;
  pointer-events: auto;
  &:focus {
    outline: 0;
  }
  &:after {
    content: "";
    position: absolute;
    border: 1px solid ${et=>et.theme.colors.accent};
    border-radius: 0.5em;
    pointer-events: none;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`,lightModeTheme={colors:{accent:"#fff",background:"#fff",text:"#000"}},darkModeTheme={colors:{accent:"#000",background:"#000",text:"#fff"}},fontFamily=`SFRounded, ui-rounded, "SF Pro Rounded", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"`,ThemeProvider=et=>{let{colorMode:_e,accentColor:tt,children:rt}=et;const nt=react.exports.useMemo(()=>{const it=_e==="light"?lightModeTheme:darkModeTheme;return{...it,colors:{...it.colors,accent:tt||it.colors.accent}}},[tt,_e]);return jsx(ThemeProvider$1,{theme:nt,children:jsx("span",{style:{fontFamily},children:rt})})},Select=newStyled.select`
  margin: -0.25em 0;
  background: ${et=>color$1(et.theme.colors.background).alpha(.85).hexa()};
  color: ${et=>et.theme.colors.text};
  border: 1px solid
    ${et=>color$1(et.theme.colors.text).alpha(.25).hexa()};
  border-radius: 0.25em;
  padding: 0.25em;
  width: 100%;
  flex-shrink: 1;
  font-size: 1em;
  &:hover {
    cursor: pointer;
  }
  &:focus {
    outline: 2px solid ${et=>et.theme.colors.accent};
  }
  &:disabled {
    cursor: not-allowed;
  }
`,SupportedNetworkSelect=et=>{let{disabledChainIds:_e,...tt}=et;const{mainnets:rt,testnets:nt}=react.exports.useMemo(()=>{const it=SUPPORTED_CHAIN_IDS.map(at=>getChainFromChainId(at));return{mainnets:it.filter(at=>!at.testnet),testnets:it.filter(at=>at.testnet)}},[]);return jsxs(Select,{...tt,children:[jsx("option",{disabled:!0,value:-1,children:"Select Network"}),jsx("optgroup",{label:"Mainnets",children:rt.map(it=>{var at;return jsxs("option",{value:it.id,disabled:_e==null?void 0:_e.includes(it.id),children:[it.name," (",(at=it.nativeCurrency)==null?void 0:at.symbol,")"]},it.id)})}),jsx("optgroup",{label:"Testnets",children:nt.map(it=>{var at;return jsxs("option",{value:it.id,disabled:_e==null?void 0:_e.includes(it.id),children:[it.name," (",(at=it.nativeCurrency)==null?void 0:at.symbol,")"]},it.id)})})]})},SUPPORTED_CONNECTORS=["injected","walletConnect","coinbasewallet"];function getIconForConnector(et){if(et.name.toLowerCase().includes("coinbase"))return jsx(Icon,{boxSize:"1.5em",name:"coinbaseWallet"});if(et.name.toLocaleLowerCase().includes("metamask"))return jsx(Icon,{boxSize:"1.5em",name:"metamask"});switch(et.id){case"injected":return jsx(Icon,{boxSize:"1.5em",name:"metamask"});case"walletConnect":return jsx(Icon,{boxSize:"1.5em",name:"walletConnect"});case"coinbasewallet":return jsx(Icon,{boxSize:"1.5em",name:"coinbaseWallet"});default:throw new Error("unsupported connector")}}let connecting=!1,switchingNetwork=!1,authing=!1,switchingWallet=!1;const chainIdToCurrencyMap={[ChainId$1.Mainnet]:"ethereum",[ChainId$1.Goerli]:"ethereum",[ChainId$1.Arbitrum]:"arbitrum",[ChainId$1.ArbitrumGoerli]:"arbitrum",[ChainId$1.Avalanche]:"avalanche",[ChainId$1.AvalancheFujiTestnet]:"avalanche",[ChainId$1.Fantom]:"fantom",[ChainId$1.FantomTestnet]:"fantom",[ChainId$1.Optimism]:"optimism",[ChainId$1.OptimismGoerli]:"optimism",[ChainId$1.Polygon]:"polygon",[ChainId$1.Mumbai]:"polygon",[ChainId$1.BinanceSmartChainMainnet]:"binance",[ChainId$1.BinanceSmartChainTestnet]:"binance"},ConnectWallet=et=>{var Nt,ht;let{auth:_e,className:tt,btnTitle:rt,...nt}=et;const it=react.exports.useId(),at=useAddress(),[ot,ct]=useMachine(machine({id:it,closeOnSelect:!0,positioning:{sameWidth:!0}})),ut=connect(ot,ct,normalizeProps),[{data:{connectors:ft,connector:yt}},bt]=useConnect(),Et=useDisconnect({reconnectPrevious:!1}),Ct=ft.filter(st=>SUPPORTED_CONNECTORS.includes(st.id)),[At,St]=useNetwork(),Tt=useChainId(),$t=useMetamask(),kt=useBalance(),{onCopy:Pt,hasCopied:Ot}=useClipboard(at||""),Ht=useThirdwebAuthContext(),{user:qt,isLoading:Zt}=useUser(),{login:tr}=useLogin(),{logout:Dt}=useLogout(),Rt=_e!=null&&_e.loginOptional?!1:!!(Ht!=null&&Ht.authUrl)&&!!at&&!(qt!=null&&qt.address);return jsx(ThemeProvider,{...nt,children:jsxs("div",{style:{position:"relative",width:"100%"},children:[jsx(Button,{className:tt,style:{height:"50px",minWidth:"200px",width:"100%"},onClick:async st=>{if(Rt){st.preventDefault(),st.stopPropagation(),authing=!0;try{await tr(_e==null?void 0:_e.loginOptions)}catch(dt){console.error("failed to log in",dt)}authing=!1}},...Rt?{}:ut.triggerProps,leftElement:Rt?Zt?jsx(Spinner,{}):jsx(FiLock_1,{}):at&&Tt&&Tt in chainIdToCurrencyMap?jsx(Icon,{boxSize:"1.5em",name:chainIdToCurrencyMap[Tt]}):void 0,rightElement:Rt?void 0:jsxs(Fragment$1,{children:[yt&&getIconForConnector(yt),jsx(FiChevronDown_1,{style:{transition:"transform 150ms ease",transform:`rotate(${ut.isOpen?"-180deg":"0deg"})`}})]}),children:at?Rt?jsx("span",{style:{whiteSpace:"nowrap"},children:"Sign in"}):jsxs("span",{style:{display:"flex",flexDirection:"column",fontWeight:400,alignItems:"flex-start",fontSize:"0.8em"},children:[jsx("span",{style:{whiteSpace:"nowrap",fontWeight:500},children:kt.isLoading?"Loading...":jsxs(Fragment$1,{children:[(Nt=kt.data)==null?void 0:Nt.displayValue.slice(0,5)," ",(ht=kt.data)==null?void 0:ht.symbol]})}),jsx("span",{style:{fontSize:"0.9em"},children:shortenIfAddress(at)})]}):jsx("span",{style:{whiteSpace:"nowrap"},children:rt||"Connect Wallet"})}),jsx(Portal,{children:jsx(Box,{...ut.positionerProps,style:{zIndex:9999,fontFamily},children:jsx(Menu,{...ut.contentProps,children:ut.isOpen?at?jsxs(Fragment$1,{children:[(Ht==null?void 0:Ht.authUrl)&&!(qt!=null&&qt.address)&&!Rt?jsx(MenuItem,{...ut.getItemProps({id:"auth",closeOnSelect:!1}),leftElement:Zt?jsx(Spinner,{}):jsx(FiLock_1,{}),onClick:async()=>{if(!(Zt||authing||(qt==null?void 0:qt.address))){authing=!0;try{await tr(_e==null?void 0:_e.loginOptions)}catch(st){console.error("failed to log in",st)}authing=!1}},children:"Sign in"}):null,jsx(MenuItem,{...ut.getItemProps({id:"copy",closeOnSelect:!1}),leftElement:Ot?jsx(FiCheck_1,{width:"1em",height:"1em",color:"#57ab5a"}):jsx(FiCopy_1,{width:"1em",height:"1em"}),onClick:()=>{Pt()},children:"Copy address"}),jsx(MenuItem,{...ut.getItemProps({id:"switch-network",closeOnSelect:!1,disabled:!St}),isSelectable:!1,leftElement:At.loading?jsx(Spinner,{}):At.error?jsx(FiWifi_1,{color:"#e5534b",width:"1em",height:"1em"}):jsx(FiWifi_1,{width:"1em",height:"1em"}),children:jsx(SupportedNetworkSelect,{value:Tt,disabled:!St,onChange:async st=>{if(!switchingNetwork&&St){switchingNetwork=!0;const dt=parseInt(st.target.value);try{await St(dt)}catch(mt){console.error("failed to switch network",mt)}finally{switchingNetwork=!1}}}})}),yt&&yt.name==="MetaMask"&&yt.id==="injected"?jsx(MenuItem,{...ut.getItemProps({id:"switch-wallet"}),leftElement:jsx(FiShuffle_1,{width:"1em",height:"1em"}),onClick:async()=>{if(!switchingWallet){switchingWallet=!0;try{await yt.getProvider().request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),ut.close()}catch(st){console.error("failed to switch wallets",st)}switchingWallet=!1}},children:"Switch Account"}):null,jsx(MenuItem,{...ut.getItemProps({id:"disconnect"}),leftElement:jsx(FiXCircle_1,{width:"1em",height:"1em"}),onClick:()=>{Et(),Ht!=null&&Ht.authUrl&&Dt(),ut.close()},children:"Disconnect"})]}):jsxs(Fragment$1,{children:[jsx(MenuItem,{...ut.getItemProps({id:"metamask"}),onClick:async()=>{if(!connecting)try{connecting=!0,await $t(),ut.close()}finally{connecting=!1}},leftElement:jsx(Icon,{boxSize:"1.5em",name:"metamask"}),children:"MetaMask"}),Ct.filter(st=>st.name!=="MetaMask").sort((st,dt)=>st.name.localeCompare(dt.name)).map(st=>st.ready?jsx(MenuItem,{...ut.getItemProps({id:st.id}),onClick:async()=>{if(!connecting)try{connecting=!0,await bt(st),ut.close()}finally{connecting=!1}},leftElement:getIconForConnector(st),children:st.name},st.id):null)]}):null})})})]})})},API_URL="http://localhost:3000/api/v1",path=window.location.pathname;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$2.apply(this,arguments)}var Action;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function _e(rt,nt){let{pathname:it,search:at,hash:ot}=rt.location;return createLocation("",{pathname:it,search:at,hash:ot},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function tt(rt,nt){return typeof nt=="string"?nt:createPath(nt)}return getUrlBasedHistory(_e,tt,null,et)}function invariant(et,_e){if(et===!1||et===null||typeof et>"u")throw new Error(_e)}function warning(et,_e){if(!et){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,_e){return{usr:et.state,key:et.key,idx:_e}}function createLocation(et,_e,tt,rt){return tt===void 0&&(tt=null),_extends$2({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:tt,key:_e&&_e.key||rt||createKey()})}function createPath(et){let{pathname:_e="/",search:tt="",hash:rt=""}=et;return tt&&tt!=="?"&&(_e+=tt.charAt(0)==="?"?tt:"?"+tt),rt&&rt!=="#"&&(_e+=rt.charAt(0)==="#"?rt:"#"+rt),_e}function parsePath(et){let _e={};if(et){let tt=et.indexOf("#");tt>=0&&(_e.hash=et.substr(tt),et=et.substr(0,tt));let rt=et.indexOf("?");rt>=0&&(_e.search=et.substr(rt),et=et.substr(0,rt)),et&&(_e.pathname=et)}return _e}function getUrlBasedHistory(et,_e,tt,rt){rt===void 0&&(rt={});let{window:nt=document.defaultView,v5Compat:it=!1}=rt,at=nt.history,ot=Action.Pop,ct=null,ut=ft();ut==null&&(ut=0,at.replaceState(_extends$2({},at.state,{idx:ut}),""));function ft(){return(at.state||{idx:null}).idx}function yt(){ot=Action.Pop;let St=ft(),Tt=St==null?null:St-ut;ut=St,ct&&ct({action:ot,location:At.location,delta:Tt})}function bt(St,Tt){ot=Action.Push;let $t=createLocation(At.location,St,Tt);tt&&tt($t,St),ut=ft()+1;let kt=getHistoryState($t,ut),Pt=At.createHref($t);try{at.pushState(kt,"",Pt)}catch{nt.location.assign(Pt)}it&&ct&&ct({action:ot,location:At.location,delta:1})}function Et(St,Tt){ot=Action.Replace;let $t=createLocation(At.location,St,Tt);tt&&tt($t,St),ut=ft();let kt=getHistoryState($t,ut),Pt=At.createHref($t);at.replaceState(kt,"",Pt),it&&ct&&ct({action:ot,location:At.location,delta:0})}function Ct(St){let Tt=nt.location.origin!=="null"?nt.location.origin:nt.location.href,$t=typeof St=="string"?St:createPath(St);return invariant(Tt,"No window.location.(origin|href) available to create URL for href: "+$t),new URL($t,Tt)}let At={get action(){return ot},get location(){return et(nt,at)},listen(St){if(ct)throw new Error("A history only accepts one active listener");return nt.addEventListener(PopStateEventType,yt),ct=St,()=>{nt.removeEventListener(PopStateEventType,yt),ct=null}},createHref(St){return _e(nt,St)},createURL:Ct,encodeLocation(St){let Tt=Ct(St);return{pathname:Tt.pathname,search:Tt.search,hash:Tt.hash}},push:bt,replace:Et,go(St){return at.go(St)}};return At}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));function matchRoutes(et,_e,tt){tt===void 0&&(tt="/");let rt=typeof _e=="string"?parsePath(_e):_e,nt=stripBasename(rt.pathname||"/",tt);if(nt==null)return null;let it=flattenRoutes(et);rankRouteBranches(it);let at=null;for(let ot=0;at==null&&ot<it.length;++ot)at=matchRouteBranch(it[ot],safelyDecodeURI(nt));return at}function flattenRoutes(et,_e,tt,rt){_e===void 0&&(_e=[]),tt===void 0&&(tt=[]),rt===void 0&&(rt="");let nt=(it,at,ot)=>{let ct={relativePath:ot===void 0?it.path||"":ot,caseSensitive:it.caseSensitive===!0,childrenIndex:at,route:it};ct.relativePath.startsWith("/")&&(invariant(ct.relativePath.startsWith(rt),'Absolute route path "'+ct.relativePath+'" nested under path '+('"'+rt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ct.relativePath=ct.relativePath.slice(rt.length));let ut=joinPaths([rt,ct.relativePath]),ft=tt.concat(ct);it.children&&it.children.length>0&&(invariant(it.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ut+'".')),flattenRoutes(it.children,_e,ft,ut)),!(it.path==null&&!it.index)&&_e.push({path:ut,score:computeScore(ut,it.index),routesMeta:ft})};return et.forEach((it,at)=>{var ot;if(it.path===""||!((ot=it.path)!=null&&ot.includes("?")))nt(it,at);else for(let ct of explodeOptionalSegments(it.path))nt(it,at,ct)}),_e}function explodeOptionalSegments(et){let _e=et.split("/");if(_e.length===0)return[];let[tt,...rt]=_e,nt=tt.endsWith("?"),it=tt.replace(/\?$/,"");if(rt.length===0)return nt?[it,""]:[it];let at=explodeOptionalSegments(rt.join("/")),ot=[];return ot.push(...at.map(ct=>ct===""?it:[it,ct].join("/"))),nt&&ot.push(...at),ot.map(ct=>et.startsWith("/")&&ct===""?"/":ct)}function rankRouteBranches(et){et.sort((_e,tt)=>_e.score!==tt.score?tt.score-_e.score:compareIndexes(_e.routesMeta.map(rt=>rt.childrenIndex),tt.routesMeta.map(rt=>rt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,_e){let tt=et.split("/"),rt=tt.length;return tt.some(isSplat)&&(rt+=splatPenalty),_e&&(rt+=indexRouteValue),tt.filter(nt=>!isSplat(nt)).reduce((nt,it)=>nt+(paramRe.test(it)?dynamicSegmentValue:it===""?emptySegmentValue:staticSegmentValue),rt)}function compareIndexes(et,_e){return et.length===_e.length&&et.slice(0,-1).every((rt,nt)=>rt===_e[nt])?et[et.length-1]-_e[_e.length-1]:0}function matchRouteBranch(et,_e){let{routesMeta:tt}=et,rt={},nt="/",it=[];for(let at=0;at<tt.length;++at){let ot=tt[at],ct=at===tt.length-1,ut=nt==="/"?_e:_e.slice(nt.length)||"/",ft=matchPath({path:ot.relativePath,caseSensitive:ot.caseSensitive,end:ct},ut);if(!ft)return null;Object.assign(rt,ft.params);let yt=ot.route;it.push({params:rt,pathname:joinPaths([nt,ft.pathname]),pathnameBase:normalizePathname(joinPaths([nt,ft.pathnameBase])),route:yt}),ft.pathnameBase!=="/"&&(nt=joinPaths([nt,ft.pathnameBase]))}return it}function matchPath(et,_e){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[tt,rt]=compilePath(et.path,et.caseSensitive,et.end),nt=_e.match(tt);if(!nt)return null;let it=nt[0],at=it.replace(/(.)\/+$/,"$1"),ot=nt.slice(1);return{params:rt.reduce((ut,ft,yt)=>{if(ft==="*"){let bt=ot[yt]||"";at=it.slice(0,it.length-bt.length).replace(/(.)\/+$/,"$1")}return ut[ft]=safelyDecodeURIComponent(ot[yt]||"",ft),ut},{}),pathname:it,pathnameBase:at,pattern:et}}function compilePath(et,_e,tt){_e===void 0&&(_e=!1),tt===void 0&&(tt=!0),warning(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let rt=[],nt="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(at,ot)=>(rt.push(ot),"/([^\\/]+)"));return et.endsWith("*")?(rt.push("*"),nt+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tt?nt+="\\/*$":et!==""&&et!=="/"&&(nt+="(?:(?=\\/|$))"),[new RegExp(nt,_e?void 0:"i"),rt]}function safelyDecodeURI(et){try{return decodeURI(et)}catch(_e){return warning(!1,'The URL path "'+et+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_e+").")),et}}function safelyDecodeURIComponent(et,_e){try{return decodeURIComponent(et)}catch(tt){return warning(!1,'The value for the URL param "'+_e+'" will not be decoded because'+(' the string "'+et+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+tt+").")),et}}function stripBasename(et,_e){if(_e==="/")return et;if(!et.toLowerCase().startsWith(_e.toLowerCase()))return null;let tt=_e.endsWith("/")?_e.length-1:_e.length,rt=et.charAt(tt);return rt&&rt!=="/"?null:et.slice(tt)||"/"}function resolvePath(et,_e){_e===void 0&&(_e="/");let{pathname:tt,search:rt="",hash:nt=""}=typeof et=="string"?parsePath(et):et;return{pathname:tt?tt.startsWith("/")?tt:resolvePathname(tt,_e):_e,search:normalizeSearch(rt),hash:normalizeHash(nt)}}function resolvePathname(et,_e){let tt=_e.replace(/\/+$/,"").split("/");return et.split("/").forEach(nt=>{nt===".."?tt.length>1&&tt.pop():nt!=="."&&tt.push(nt)}),tt.length>1?tt.join("/"):"/"}function getInvalidPathError(et,_e,tt,rt){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(rt)+"].  Please separate it out to the ")+("`to."+tt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter((_e,tt)=>tt===0||_e.route.path&&_e.route.path.length>0)}function resolveTo(et,_e,tt,rt){rt===void 0&&(rt=!1);let nt;typeof et=="string"?nt=parsePath(et):(nt=_extends$2({},et),invariant(!nt.pathname||!nt.pathname.includes("?"),getInvalidPathError("?","pathname","search",nt)),invariant(!nt.pathname||!nt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",nt)),invariant(!nt.search||!nt.search.includes("#"),getInvalidPathError("#","search","hash",nt)));let it=et===""||nt.pathname==="",at=it?"/":nt.pathname,ot;if(rt||at==null)ot=tt;else{let yt=_e.length-1;if(at.startsWith("..")){let bt=at.split("/");for(;bt[0]==="..";)bt.shift(),yt-=1;nt.pathname=bt.join("/")}ot=yt>=0?_e[yt]:"/"}let ct=resolvePath(nt,ot),ut=at&&at!=="/"&&at.endsWith("/"),ft=(it||at===".")&&tt.endsWith("/");return!ct.pathname.endsWith("/")&&(ut||ft)&&(ct.pathname+="/"),ct}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends$1.apply(this,arguments)}const DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=react.exports.createContext(null);function useHref(et,_e){let{relative:tt}=_e===void 0?{}:_e;useInRouterContext()||invariant(!1);let{basename:rt,navigator:nt}=react.exports.useContext(NavigationContext),{hash:it,pathname:at,search:ot}=useResolvedPath(et,{relative:tt}),ct=at;return rt!=="/"&&(ct=at==="/"?rt:joinPaths([rt,at])),nt.createHref({pathname:ct,search:ot,hash:it})}function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),react.exports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(et){react.exports.useContext(NavigationContext).static||react.exports.useLayoutEffect(et)}function useNavigate(){let{isDataRoute:et}=react.exports.useContext(RouteContext);return et?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let et=react.exports.useContext(DataRouterContext),{basename:_e,navigator:tt}=react.exports.useContext(NavigationContext),{matches:rt}=react.exports.useContext(RouteContext),{pathname:nt}=useLocation(),it=JSON.stringify(getPathContributingMatches(rt).map(ct=>ct.pathnameBase)),at=react.exports.useRef(!1);return useIsomorphicLayoutEffect(()=>{at.current=!0}),react.exports.useCallback(function(ct,ut){if(ut===void 0&&(ut={}),!at.current)return;if(typeof ct=="number"){tt.go(ct);return}let ft=resolveTo(ct,JSON.parse(it),nt,ut.relative==="path");et==null&&_e!=="/"&&(ft.pathname=ft.pathname==="/"?_e:joinPaths([_e,ft.pathname])),(ut.replace?tt.replace:tt.push)(ft,ut.state,ut)},[_e,tt,it,nt,et])}function useResolvedPath(et,_e){let{relative:tt}=_e===void 0?{}:_e,{matches:rt}=react.exports.useContext(RouteContext),{pathname:nt}=useLocation(),it=JSON.stringify(getPathContributingMatches(rt).map(at=>at.pathnameBase));return react.exports.useMemo(()=>resolveTo(et,JSON.parse(it),nt,tt==="path"),[et,it,nt,tt])}function useRoutes(et,_e){return useRoutesImpl(et,_e)}function useRoutesImpl(et,_e,tt){useInRouterContext()||invariant(!1);let{navigator:rt}=react.exports.useContext(NavigationContext),{matches:nt}=react.exports.useContext(RouteContext),it=nt[nt.length-1],at=it?it.params:{};it&&it.pathname;let ot=it?it.pathnameBase:"/";it&&it.route;let ct=useLocation(),ut;if(_e){var ft;let At=typeof _e=="string"?parsePath(_e):_e;ot==="/"||((ft=At.pathname)==null?void 0:ft.startsWith(ot))||invariant(!1),ut=At}else ut=ct;let yt=ut.pathname||"/",bt=ot==="/"?yt:yt.slice(ot.length)||"/",Et=matchRoutes(et,{pathname:bt}),Ct=_renderMatches(Et&&Et.map(At=>Object.assign({},At,{params:Object.assign({},at,At.params),pathname:joinPaths([ot,rt.encodeLocation?rt.encodeLocation(At.pathname).pathname:At.pathname]),pathnameBase:At.pathnameBase==="/"?ot:joinPaths([ot,rt.encodeLocation?rt.encodeLocation(At.pathnameBase).pathname:At.pathnameBase])})),nt,tt);return _e&&Ct?react.exports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},ut),navigationType:Action.Pop}},Ct):Ct}function DefaultErrorComponent(){let et=useRouteError(),_e=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),tt=et instanceof Error?et.stack:null,nt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},it=null;return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("h2",null,"Unexpected Application Error!"),react.exports.createElement("h3",{style:{fontStyle:"italic"}},_e),tt?react.exports.createElement("pre",{style:nt},tt):null,it)}const defaultErrorElement=react.exports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends react.exports.Component{constructor(_e){super(_e),this.state={location:_e.location,revalidation:_e.revalidation,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,tt){return tt.location!==_e.location||tt.revalidation!=="idle"&&_e.revalidation==="idle"?{error:_e.error,location:_e.location,revalidation:_e.revalidation}:{error:_e.error||tt.error,location:tt.location,revalidation:_e.revalidation||tt.revalidation}}componentDidCatch(_e,tt){console.error("React Router caught the following error during render",_e,tt)}render(){return this.state.error?react.exports.createElement(RouteContext.Provider,{value:this.props.routeContext},react.exports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(et){let{routeContext:_e,match:tt,children:rt}=et,nt=react.exports.useContext(DataRouterContext);return nt&&nt.static&&nt.staticContext&&(tt.route.errorElement||tt.route.ErrorBoundary)&&(nt.staticContext._deepestRenderedBoundaryId=tt.route.id),react.exports.createElement(RouteContext.Provider,{value:_e},rt)}function _renderMatches(et,_e,tt){var rt;if(_e===void 0&&(_e=[]),tt===void 0&&(tt=null),et==null){var nt;if((nt=tt)!=null&&nt.errors)et=tt.matches;else return null}let it=et,at=(rt=tt)==null?void 0:rt.errors;if(at!=null){let ot=it.findIndex(ct=>ct.route.id&&(at==null?void 0:at[ct.route.id]));ot>=0||invariant(!1),it=it.slice(0,Math.min(it.length,ot+1))}return it.reduceRight((ot,ct,ut)=>{let ft=ct.route.id?at==null?void 0:at[ct.route.id]:null,yt=null;tt&&(yt=ct.route.errorElement||defaultErrorElement);let bt=_e.concat(it.slice(0,ut+1)),Et=()=>{let Ct;return ft?Ct=yt:ct.route.Component?Ct=react.exports.createElement(ct.route.Component,null):ct.route.element?Ct=ct.route.element:Ct=ot,react.exports.createElement(RenderedRoute,{match:ct,routeContext:{outlet:ot,matches:bt,isDataRoute:tt!=null},children:Ct})};return tt&&(ct.route.ErrorBoundary||ct.route.errorElement||ut===0)?react.exports.createElement(RenderErrorBoundary,{location:tt.location,revalidation:tt.revalidation,component:yt,error:ft,children:Et(),routeContext:{outlet:null,matches:bt,isDataRoute:!0}}):Et()},null)}var DataRouterHook$1;(function(et){et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(et){et.UseBlocker="useBlocker",et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et.UseRouteId="useRouteId"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterContext(et){let _e=react.exports.useContext(DataRouterContext);return _e||invariant(!1),_e}function useDataRouterState(et){let _e=react.exports.useContext(DataRouterStateContext);return _e||invariant(!1),_e}function useRouteContext(et){let _e=react.exports.useContext(RouteContext);return _e||invariant(!1),_e}function useCurrentRouteId(et){let _e=useRouteContext(),tt=_e.matches[_e.matches.length-1];return tt.route.id||invariant(!1),tt.route.id}function useRouteError(){var et;let _e=react.exports.useContext(RouteErrorContext),tt=useDataRouterState(DataRouterStateHook$1.UseRouteError),rt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _e||((et=tt.errors)==null?void 0:et[rt])}function useNavigateStable(){let{router:et}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),_e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),tt=react.exports.useRef(!1);return useIsomorphicLayoutEffect(()=>{tt.current=!0}),react.exports.useCallback(function(nt,it){it===void 0&&(it={}),tt.current&&(typeof nt=="number"?et.navigate(nt):et.navigate(nt,_extends$1({fromRouteId:_e},it)))},[et,_e])}function Route(et){invariant(!1)}function Router(et){let{basename:_e="/",children:tt=null,location:rt,navigationType:nt=Action.Pop,navigator:it,static:at=!1}=et;useInRouterContext()&&invariant(!1);let ot=_e.replace(/^\/*/,"/"),ct=react.exports.useMemo(()=>({basename:ot,navigator:it,static:at}),[ot,it,at]);typeof rt=="string"&&(rt=parsePath(rt));let{pathname:ut="/",search:ft="",hash:yt="",state:bt=null,key:Et="default"}=rt,Ct=react.exports.useMemo(()=>{let At=stripBasename(ut,ot);return At==null?null:{location:{pathname:At,search:ft,hash:yt,state:bt,key:Et},navigationType:nt}},[ot,ut,ft,yt,bt,Et,nt]);return Ct==null?null:react.exports.createElement(NavigationContext.Provider,{value:ct},react.exports.createElement(LocationContext.Provider,{children:tt,value:Ct}))}function Routes(et){let{children:_e,location:tt}=et;return useRoutes(createRoutesFromChildren(_e),tt)}var AwaitRenderStatus;(function(et){et[et.pending=0]="pending",et[et.success=1]="success",et[et.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(et,_e){_e===void 0&&(_e=[]);let tt=[];return react.exports.Children.forEach(et,(rt,nt)=>{if(!react.exports.isValidElement(rt))return;let it=[..._e,nt];if(rt.type===react.exports.Fragment){tt.push.apply(tt,createRoutesFromChildren(rt.props.children,it));return}rt.type!==Route&&invariant(!1),!rt.props.index||!rt.props.children||invariant(!1);let at={id:rt.props.id||it.join("-"),caseSensitive:rt.props.caseSensitive,element:rt.props.element,Component:rt.props.Component,index:rt.props.index,path:rt.props.path,loader:rt.props.loader,action:rt.props.action,errorElement:rt.props.errorElement,ErrorBoundary:rt.props.ErrorBoundary,hasErrorBoundary:rt.props.ErrorBoundary!=null||rt.props.errorElement!=null,shouldRevalidate:rt.props.shouldRevalidate,handle:rt.props.handle,lazy:rt.props.lazy};rt.props.children&&(at.children=createRoutesFromChildren(rt.props.children,it)),tt.push(at)}),tt}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var _e=1;_e<arguments.length;_e++){var tt=arguments[_e];for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])}return et},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(et,_e){if(et==null)return{};var tt={},rt=Object.keys(et),nt,it;for(it=0;it<rt.length;it++)nt=rt[it],!(_e.indexOf(nt)>=0)&&(tt[nt]=et[nt]);return tt}function isModifiedEvent(et){return!!(et.metaKey||et.altKey||et.ctrlKey||et.shiftKey)}function shouldProcessLinkClick(et,_e){return et.button===0&&(!_e||_e==="_self")&&!isModifiedEvent(et)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter(et){let{basename:_e,children:tt,window:rt}=et,nt=react.exports.useRef();nt.current==null&&(nt.current=createBrowserHistory({window:rt,v5Compat:!0}));let it=nt.current,[at,ot]=react.exports.useState({action:it.action,location:it.location});return react.exports.useLayoutEffect(()=>it.listen(ot),[it]),react.exports.createElement(Router,{basename:_e,children:tt,location:at.location,navigationType:at.action,navigator:it})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=react.exports.forwardRef(function et(_e,tt){let{onClick:rt,relative:nt,reloadDocument:it,replace:at,state:ot,target:ct,to:ut,preventScrollReset:ft}=_e,yt=_objectWithoutPropertiesLoose(_e,_excluded),{basename:bt}=react.exports.useContext(NavigationContext),Et,Ct=!1;if(typeof ut=="string"&&ABSOLUTE_URL_REGEX.test(ut)&&(Et=ut,isBrowser))try{let $t=new URL(window.location.href),kt=ut.startsWith("//")?new URL($t.protocol+ut):new URL(ut),Pt=stripBasename(kt.pathname,bt);kt.origin===$t.origin&&Pt!=null?ut=Pt+kt.search+kt.hash:Ct=!0}catch{}let At=useHref(ut,{relative:nt}),St=useLinkClickHandler(ut,{replace:at,state:ot,target:ct,preventScrollReset:ft,relative:nt});function Tt($t){rt&&rt($t),$t.defaultPrevented||St($t)}return react.exports.createElement("a",_extends({},yt,{href:Et||At,onClick:Ct||it?rt:Tt,ref:tt,target:ct}))});var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmitImpl="useSubmitImpl",et.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(et,_e){let{target:tt,replace:rt,state:nt,preventScrollReset:it,relative:at}=_e===void 0?{}:_e,ot=useNavigate(),ct=useLocation(),ut=useResolvedPath(et,{relative:at});return react.exports.useCallback(ft=>{if(shouldProcessLinkClick(ft,tt)){ft.preventDefault();let yt=rt!==void 0?rt:createPath(ct)===createPath(ut);ot(et,{replace:yt,state:nt,preventScrollReset:it,relative:at})}},[ct,ot,ut,rt,nt,tt,et,it,at])}function Navbar(){return jsxs("ul",{className:"navbar",children:[jsx("li",{children:jsx(Link,{to:"/Dashboard",children:"Dashboard"})}),jsx("li",{children:jsx(Link,{to:"/Vote",children:"Vote"})}),jsx("li",{children:jsx(Link,{to:"/Community",children:"Community"})}),jsx("li",{children:jsx(Link,{to:"/Members",children:"Members"})}),jsx("li",{children:jsx(Link,{to:"",children:"useDisconnect"})}),jsx("li",{children:jsx(Link,{onClick:API_URL,children:API_URL})})]})}function Headers$1(){return jsxs("div",{className:"top_bar",children:[jsx("img",{src:"assets/imgs/logo.png",alt:"",className:"header-logo"}),jsx(Navbar,{})]})}function Vote(){return jsx("h1",{children:"Vote Page"})}function Dashboard(){return jsx("div",{children:"Dashboard"})}function Home(){return jsx("h1",{children:"Home Page"})}function Members(){return jsx("h1",{children:"Members"})}function Community(){return jsx("h1",{children:"Community Page"})}const App=()=>{console.log(path),useDisconnect();const et=useAddress(),_e="0x364f65C9309BCCC0998B7B8aEb9410FD26ead3f1",{contract:tt}=useContract(_e,"edition-drop"),{contract:rt}=useContract("0x1E1aECDC3C932c4B3490203326A3e2e178C94315","token"),{contract:nt}=useContract("0x2FDaBe3f3Eaa7c6442faD20ccDF632280a46ef56","vote"),{data:it}=useNFTBalance(tt,et,"0"),at=react.exports.useMemo(()=>it&&it.gt(0),[it]),[ot,ct]=react.exports.useState([]),[ut,ft]=react.exports.useState([]),yt=kt=>kt.substring(0,6)+"..."+kt.substring(kt.length-4),[bt,Et]=react.exports.useState([]),[Ct,At]=react.exports.useState(!1),[St,Tt]=react.exports.useState(!1);react.exports.useEffect(()=>{if(!at)return;(async()=>{try{const Pt=await nt.getAll();Et(Pt),console.log("\u{1F308} Proposals:",Pt)}catch(Pt){console.log("failed to get proposals",Pt)}})()},[at,nt]),react.exports.useEffect(()=>{if(!at||!bt.length)return;(async()=>{try{const Pt=await nt.hasVoted(bt[0].proposalId,et);Tt(Pt),console.log(Pt?"\u{1F975} User has already voted":"\u{1F642} User has not voted yet")}catch(Pt){console.error("Failed to check if wallet has voted",Pt)}})()},[at,bt,et,nt]),react.exports.useEffect(()=>{if(!at)return;(async()=>{try{const Pt=await(tt==null?void 0:tt.history.getAllClaimerAddresses(0));ft(Pt),console.log("\u{1F680} Members addresses",Pt)}catch(Pt){console.error("failed to get member list",Pt)}})()},[at,tt==null?void 0:tt.history]),react.exports.useEffect(()=>{if(!at)return;(async()=>{try{const Pt=await(rt==null?void 0:rt.history.getAllHolderBalances());ct(Pt),console.log("\u{1F45C} Amounts",Pt)}catch(Pt){console.error("failed to get member balances",Pt)}})()},[at,rt==null?void 0:rt.history]);const $t=react.exports.useMemo(()=>ut.map(kt=>{const Pt=ot==null?void 0:ot.find(({holder:Ot})=>Ot===kt);return{address:kt,tokenAmount:(Pt==null?void 0:Pt.balance.displayValue)||"0"}}),[ut,ot]);return at?jsxs("div",{className:"wrapper",children:[jsx(Headers$1,{}),jsxs("div",{className:"member-page",children:[jsx("h1",{children:"DAO Member Page"}),jsx("p",{children:"Congratulations on being a member"}),jsxs("div",{children:[jsxs("div",{children:[jsx("h2",{children:"Member List"}),jsxs("table",{className:"card",children:[jsx("thead",{children:jsxs("tr",{children:[jsx("th",{children:"Address"}),jsx("th",{children:"Token Amount"})]})}),jsx("tbody",{children:$t.map(kt=>jsxs("tr",{children:[jsx("td",{children:yt(kt.address)}),jsx("td",{children:kt.tokenAmount})]},kt.address))})]})]}),jsxs("div",{children:[jsx("h2",{children:"Active Proposals"}),jsxs("form",{onSubmit:async kt=>{kt.preventDefault(),kt.stopPropagation(),At(!0);const Pt=bt.map(Ot=>{const Ht={proposalId:Ot.proposalId,vote:2};return Ot.votes.forEach(qt=>{if(document.getElementById(Ot.proposalId+"-"+qt.type).checked){Ht.vote=qt.type;return}}),Ht});try{await rt.getDelegationOf(et)===AddressZero&&await rt.delegateTo(et);try{await Promise.all(Pt.map(async({proposalId:Ht,vote:qt})=>{if((await nt.get(Ht)).state===1)return nt.vote(Ht,qt)}));try{await Promise.all(Pt.map(async({proposalId:Ht})=>{if((await nt.get(Ht)).state===4)return nt.execute(Ht)})),Tt(!0),console.log("successfully voted")}catch(Ht){console.error("failed to execute votes",Ht)}}catch(Ht){console.error("failed to vote",Ht)}}catch{console.error("failed to delegate tokens")}finally{At(!1)}},children:[bt.map(kt=>jsxs("div",{className:"card",children:[jsx("div",{className:"cardHead"}),jsx("h5",{children:kt.description}),jsx("div",{children:kt.votes.map(({type:Pt,label:Ot})=>jsxs("div",{children:[jsx("input",{type:"radio",id:kt.proposalId+"-"+Pt,name:kt.proposalId,value:Pt,defaultChecked:Pt===2}),jsx("label",{htmlFor:kt.proposalId+"-"+Pt,children:Ot})]},Pt))})]},kt.proposalId)),jsx("button",{disabled:Ct||St,type:"submit",children:Ct?"Voting...":St?"You Already Voted":"Submit Votes"}),!St&&jsx("small",{children:"This will trigger multiple transactions that you will need to sign."})]})]})]})]})]}):jsxs("div",{className:"wrapper",children:[jsx(Headers$1,{}),jsxs("div",{className:"landing",children:[jsx("h1",{children:"Village DAO | Vote"}),jsxs("div",{className:"btn-hero",children:[Vote,jsx(ConnectWallet,{}),jsx("hr",{}),jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Home,{})}),jsx(Route,{path:"/Dashboard",element:jsx(Dashboard,{})}),jsx(Route,{path:"/vote",element:jsx(Vote,{})}),jsx(Route,{path:"/Members",element:jsx(Members,{})}),jsx(Route,{path:"/Community",element:jsx(Community,{})})]})]})]})]})},activeChainId=ChainId$1.Mumbai,container=document.getElementById("root"),root=createRoot(container);root.render(jsx(React$1.StrictMode,{children:jsx(ThirdwebProvider,{desiredChainId:activeChainId,children:jsx(BrowserRouter,{children:jsx(App,{})})})}));export{isTokenApprovedForTransfer as $,AddressZero as A,BigNumber as B,ContractWrapper as C,DropErc1155ContractSchema as D,Erc1155 as E,RawDateSchema$1 as F,GasCostEstimator as G,EndDateSchema as H,assertEnabled as I,detectContractFeature as J,FEATURE_DIRECT_LISTINGS as K,ListingNotFoundError as L,MarketplaceContractSchema as M,NATIVE_TOKENS as N,getAllInBatches as O,PaperCheckout as P,handleTokenApproval as Q,React$1 as R,StandardErc1155 as S,TokenErc1155ContractSchema as T,normalizePriceValue as U,cleanCurrencyAddress as V,setErc20Allowance as W,Status as X,fetchCurrencyValue as Y,fetchTokenMetadataForContract as Z,_defineProperty$3 as _,ContractMetadata as a,Contract as a0,ERC165Abi as a1,InterfaceId_IERC721 as a2,InterfaceId_IERC1155 as a3,Erc721Abi as a4,Erc1155Abi as a5,FEATURE_ENGLISH_AUCTIONS as a6,fetchCurrencyMetadata as a7,formatUnits as a8,AuctionHasNotEndedError as a9,VoteType as aA,id as aB,ContractFactory$1 as aC,Interface as aD,FEATURE_OFFERS as aa,ERC20Abi as ab,StandardErc721 as ac,MultiwrapContractSchema as ad,uploadOrExtractURI as ae,hasERC20Allowance as af,TokenErc721ContractSchema as ag,Erc721 as ah,Erc721WithQuantitySignatureMintable as ai,DropErc721ContractSchema as aj,DropClaimConditions as ak,DelayedReveal as al,FEATURE_NFT_REVEALABLE as am,NFTInputOrUriSchema as an,PackContractSchema as ao,IPackVRFAbi as ap,FEATURE_PACK_VRF as aq,LINK_TOKEN_ADDRESS as ar,Erc20 as as,SplitsContractSchema as at,StandardErc20 as au,DropErc20ContractSchema as av,TokenErc20ContractSchema as aw,TokenERC20History as ax,Erc20SignatureMintable as ay,VoteContractSchema as az,ContractRoles as b,ContractRoyalty as c,ContractPrimarySale as d,DropErc1155ClaimConditions as e,ContractEvents as f,DropErc1155History as g,ContractEncoder as h,ContractPlatformFee as i,jsx as j,ContractInterceptor as k,ContractOwner as l,getRoleHash as m,Erc1155SignatureMintable as n,MarketplaceDirect as o,MarketplaceAuction as p,ListingType as q,mapOffer as r,invariant$2 as s,isNativeToken as t,DEFAULT_QUERY_ALL_COUNT as u,mod as v,AddressSchema as w,BigNumberishSchema as x,NATIVE_TOKEN_ADDRESS as y,AmountSchema as z};
